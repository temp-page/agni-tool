const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DWHCJFdV.js","./index-BRclw22r.js","../css/index-DSO4Peqd.css"])))=>i.map(i=>d[i]);
var g$=Object.defineProperty;var zv=se=>{throw TypeError(se)};var m$=(se,Y,ne)=>Y in se?g$(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne;var li=(se,Y,ne)=>m$(se,typeof Y!="symbol"?Y+"":Y,ne),ly=(se,Y,ne)=>Y.has(se)||zv("Cannot "+ne);var In=(se,Y,ne)=>(ly(se,Y,"read from private field"),ne?ne.call(se):Y.get(se)),fi=(se,Y,ne)=>Y.has(se)?zv("Cannot add the same private member more than once"):Y instanceof WeakSet?Y.add(se):Y.set(se,ne),Yn=(se,Y,ne,fe)=>(ly(se,Y,"write to private field"),fe?fe.call(se,ne):Y.set(se,ne),ne),_i=(se,Y,ne)=>(ly(se,Y,"access private method"),ne);var fu=(se,Y,ne,fe)=>({set _(ye){Yn(se,Y,ye,ne)},get _(){return In(se,Y,fe)}});import{g as getDefaultExportFromCjs,_ as __vitePreload,r as requireDist$5,c as commonjsGlobal,p as process$1,a as requireInherits_browser,b as requireMinimalisticAssert,B as Buffer,d as requireHash$2,e as getAugmentedNamespace,f as global,h as destr,i as requireBrowserPonyfill,j as Buffer$1,l as libExports,k as defineComponent,u as useStore,m as reactive,s as showToast,n as resolveComponent,o as openBlock,q as createElementBlock,t as unref,v as createVNode,w as withCtx,x as createTextVNode,y as createBaseVNode,z as toDisplayString,L as Loading,N as Notify,F as Fragment$2,A as ref$2,C as onMounted,D as withDirectives,E as createBlock,G as AgniPoolContract,H as resolveDirective,I as AgniFactoryContract}from"./index-BRclw22r.js";const EVENT_CONNECT="EVENT_CONNECT",EVENT_DISCONNECT="EVENT_DISCONNECT",EVENT_SEND_TX="EVENT_SEND_TX",t$7=Symbol(),s$7=Object.getPrototypeOf,c$c=new WeakMap,l$8=se=>se&&(c$c.has(se)?c$c.get(se):s$7(se)===Object.prototype||s$7(se)===Array.prototype),y$9=se=>l$8(se)&&se[t$7]||null,h$b=(se,Y=!0)=>{c$c.set(se,Y)},isObject$1=se=>typeof se=="object"&&se!==null,proxyStateMap=new WeakMap,refSet=new WeakSet,buildProxyFunction=(se=Object.is,Y=(xe,Se)=>new Proxy(xe,Se),ne=xe=>isObject$1(xe)&&!refSet.has(xe)&&(Array.isArray(xe)||!(Symbol.iterator in xe))&&!(xe instanceof WeakMap)&&!(xe instanceof WeakSet)&&!(xe instanceof Error)&&!(xe instanceof Number)&&!(xe instanceof Date)&&!(xe instanceof String)&&!(xe instanceof RegExp)&&!(xe instanceof ArrayBuffer),fe=xe=>{switch(xe.status){case"fulfilled":return xe.value;case"rejected":throw xe.reason;default:throw xe}},ye=new WeakMap,me=(xe,Se,Ie=fe)=>{const fr=ye.get(xe);if((fr==null?void 0:fr[0])===Se)return fr[1];const br=Array.isArray(xe)?[]:Object.create(Object.getPrototypeOf(xe));return h$b(br,!0),ye.set(xe,[Se,br]),Reflect.ownKeys(xe).forEach(kr=>{if(Object.getOwnPropertyDescriptor(br,kr))return;const Wr=Reflect.get(xe,kr),Gr={value:Wr,enumerable:!0,configurable:!0};if(refSet.has(Wr))h$b(Wr,!1);else if(Wr instanceof Promise)delete Gr.value,Gr.get=()=>Ie(Wr);else if(proxyStateMap.has(Wr)){const[jr,Qr]=proxyStateMap.get(Wr);Gr.value=me(jr,Qr(),Ie)}Object.defineProperty(br,kr,Gr)}),Object.preventExtensions(br)},be=new WeakMap,we=[1,1],Ee=xe=>{if(!isObject$1(xe))throw new Error("object required");const Se=be.get(xe);if(Se)return Se;let Ie=we[0];const fr=new Set,br=(ti,ai=++we[0])=>{Ie!==ai&&(Ie=ai,fr.forEach(On=>On(ti,ai)))};let kr=we[1];const Wr=(ti=++we[1])=>(kr!==ti&&!fr.size&&(kr=ti,jr.forEach(([ai])=>{const On=ai[1](ti);On>Ie&&(Ie=On)})),Ie),Gr=ti=>(ai,On)=>{const Sn=[...ai];Sn[1]=[ti,...Sn[1]],br(Sn,On)},jr=new Map,Qr=(ti,ai)=>{if(fr.size){const On=ai[3](Gr(ti));jr.set(ti,[ai,On])}else jr.set(ti,[ai])},wn=ti=>{var ai;const On=jr.get(ti);On&&(jr.delete(ti),(ai=On[1])==null||ai.call(On))},En=ti=>(fr.add(ti),fr.size===1&&jr.forEach(([On,Sn],Zr)=>{const Oe=On[3](Gr(Zr));jr.set(Zr,[On,Oe])}),()=>{fr.delete(ti),fr.size===0&&jr.forEach(([On,Sn],Zr)=>{Sn&&(Sn(),jr.set(Zr,[On]))})}),Rn=Array.isArray(xe)?[]:Object.create(Object.getPrototypeOf(xe)),$n=Y(Rn,{deleteProperty(ti,ai){const On=Reflect.get(ti,ai);wn(ai);const Sn=Reflect.deleteProperty(ti,ai);return Sn&&br(["delete",[ai],On]),Sn},set(ti,ai,On,Sn){const Zr=Reflect.has(ti,ai),Oe=Reflect.get(ti,ai,Sn);if(Zr&&(se(Oe,On)||be.has(On)&&se(Oe,be.get(On))))return!0;wn(ai),isObject$1(On)&&(On=y$9(On)||On);let wr=On;if(On instanceof Promise)On.then(qr=>{On.status="fulfilled",On.value=qr,br(["resolve",[ai],qr])}).catch(qr=>{On.status="rejected",On.reason=qr,br(["reject",[ai],qr])});else{!proxyStateMap.has(On)&&ne(On)&&(wr=Ee(On));const qr=!refSet.has(wr)&&proxyStateMap.get(wr);qr&&Qr(ai,qr)}return Reflect.set(ti,ai,wr,Sn),br(["set",[ai],On,Oe]),!0}});be.set(xe,$n);const Tn=[Rn,Wr,me,En];return proxyStateMap.set($n,Tn),Reflect.ownKeys(xe).forEach(ti=>{const ai=Object.getOwnPropertyDescriptor(xe,ti);"value"in ai&&($n[ti]=xe[ti],delete ai.value,delete ai.writable),Object.defineProperty(Rn,ti,ai)}),$n})=>[Ee,proxyStateMap,refSet,se,Y,ne,fe,ye,me,be,we],[defaultProxyFunction]=buildProxyFunction();function proxy(se={}){return defaultProxyFunction(se)}function subscribe(se,Y,ne){const fe=proxyStateMap.get(se);let ye;const me=[],be=fe[3];let we=!1;const xe=be(Se=>{me.push(Se),ye||(ye=Promise.resolve().then(()=>{ye=void 0,we&&Y(me.splice(0))}))});return we=!0,()=>{we=!1,xe()}}function snapshot(se,Y){const ne=proxyStateMap.get(se),[fe,ye,me]=ne;return me(fe,ye(),Y)}function ref$1(se){return refSet.add(se),se}function subscribeKey(se,Y,ne,fe){let ye=se[Y];return subscribe(se,()=>{const me=se[Y];Object.is(ye,me)||ne(ye=me)})}const SECURE_SITE="https://secure.walletconnect.com",ONRAMP_PROVIDERS=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:""}],ConstantsUtil$1={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SECURE_SITE,SECURE_SITE_DASHBOARD:`${SECURE_SITE}/dashboard`,SECURE_SITE_FAVICON:`${SECURE_SITE}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet"},WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e"},CoreHelperUtil={isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){const se=window.navigator.userAgent.toLowerCase();return CoreHelperUtil.isMobile()&&se.includes("android")},isIos(){const se=window.navigator.userAgent.toLowerCase();return CoreHelperUtil.isMobile()&&(se.includes("iphone")||se.includes("ipad"))},isClient(){return typeof window<"u"},isPairingExpired(se){return se?se-Date.now()<=ConstantsUtil$1.TEN_SEC_MS:!0},isAllowedRetry(se){return Date.now()-se>=ConstantsUtil$1.ONE_SEC_MS},copyToClopboard(se){navigator.clipboard.writeText(se)},getPairingExpiry(){return Date.now()+ConstantsUtil$1.FOUR_MINUTES_MS},getPlainAddress(se){return se.split(":")[2]},async wait(se){return new Promise(Y=>{setTimeout(Y,se)})},debounce(se,Y=500){let ne;return(...fe)=>{function ye(){se(...fe)}ne&&clearTimeout(ne),ne=setTimeout(ye,Y)}},isHttpUrl(se){return se.startsWith("http://")||se.startsWith("https://")},formatNativeUrl(se,Y){if(CoreHelperUtil.isHttpUrl(se))return this.formatUniversalUrl(se,Y);let ne=se;ne.includes("://")||(ne=se.replaceAll("/","").replaceAll(":",""),ne=`${ne}://`),ne.endsWith("/")||(ne=`${ne}/`);const fe=encodeURIComponent(Y);return{redirect:`${ne}wc?uri=${fe}`,href:ne}},formatUniversalUrl(se,Y){if(!CoreHelperUtil.isHttpUrl(se))return this.formatNativeUrl(se,Y);let ne=se;ne.endsWith("/")||(ne=`${ne}/`);const fe=encodeURIComponent(Y);return{redirect:`${ne}wc?uri=${fe}`,href:ne}},openHref(se,Y,ne){window.open(se,Y,ne||"noreferrer noopener")},async preloadImage(se){const Y=new Promise((ne,fe)=>{const ye=new Image;ye.onload=ne,ye.onerror=fe,ye.crossOrigin="anonymous",ye.src=se});return Promise.race([Y,CoreHelperUtil.wait(2e3)])},formatBalance(se,Y){var fe;let ne;if(se==="0")ne="0.000";else if(typeof se=="string"){const ye=Number(se);ye&&(ne=(fe=ye.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:fe[0])}return ne?`${ne} ${Y??""}`:`0.000 ${Y??""}`},formatBalance2(se,Y){var fe;let ne;if(se==="0")ne="0";else if(typeof se=="string"){const ye=Number(se);ye&&(ne=(fe=ye.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:fe[0])}return{value:ne??"0",rest:ne==="0"?"000":"",symbol:Y}},isRestrictedRegion(){try{const{timeZone:se}=new Intl.DateTimeFormat().resolvedOptions(),Y=se.toUpperCase();return ConstantsUtil$1.RESTRICTED_TIMEZONES.includes(Y)}catch{return!1}},getApiUrl(){return CoreHelperUtil.isRestrictedRegion()?"https://api.web3modal.org":"https://api.web3modal.com"},getBlockchainApiUrl(){return CoreHelperUtil.isRestrictedRegion()?"https://rpc.walletconnect.org":"https://rpc.walletconnect.com"},getAnalyticsUrl(){return CoreHelperUtil.isRestrictedRegion()?"https://pulse.walletconnect.org":"https://pulse.walletconnect.com"},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,se=>{const Y=Math.random()*16|0;return(se==="x"?Y:Y&3|8).toString(16)})},parseError(se){var Y,ne;return typeof se=="string"?se:typeof((ne=(Y=se==null?void 0:se.issues)==null?void 0:Y[0])==null?void 0:ne.message)=="string"?se.issues[0].message:se instanceof Error?se.message:"Unknown error"},sortRequestedNetworks(se,Y=[]){const ne={};return Y&&se&&(se.forEach((fe,ye)=>{ne[fe]=ye}),Y.sort((fe,ye)=>{const me=ne[fe.id],be=ne[ye.id];return me!==void 0&&be!==void 0?me-be:me!==void 0?-1:be!==void 0?1:0})),Y}},state$h=proxy({isConnected:!1}),AccountController={state:state$h,subscribe(se){return subscribe(state$h,()=>se(state$h))},subscribeKey(se,Y){return subscribeKey(state$h,se,Y)},setIsConnected(se){state$h.isConnected=se},setCaipAddress(se){state$h.caipAddress=se,state$h.address=se?CoreHelperUtil.getPlainAddress(se):void 0},setBalance(se,Y){state$h.balance=se,state$h.balanceSymbol=Y},setProfileName(se){state$h.profileName=se},setProfileImage(se){state$h.profileImage=se},setAddressExplorerUrl(se){state$h.addressExplorerUrl=se},resetAccount(){state$h.isConnected=!1,state$h.caipAddress=void 0,state$h.address=void 0,state$h.balance=void 0,state$h.balanceSymbol=void 0,state$h.profileName=void 0,state$h.profileImage=void 0,state$h.addressExplorerUrl=void 0}};class FetchUtil{constructor({baseUrl:Y}){this.baseUrl=Y}async get({headers:Y,signal:ne,...fe}){const ye=this.createUrl(fe);return(await fetch(ye,{method:"GET",headers:Y,signal:ne,cache:"no-cache"})).json()}async getBlob({headers:Y,signal:ne,...fe}){const ye=this.createUrl(fe);return(await fetch(ye,{method:"GET",headers:Y,signal:ne})).blob()}async post({body:Y,headers:ne,signal:fe,...ye}){const me=this.createUrl(ye);return(await fetch(me,{method:"POST",headers:ne,body:Y?JSON.stringify(Y):void 0,signal:fe})).json()}async put({body:Y,headers:ne,signal:fe,...ye}){const me=this.createUrl(ye);return(await fetch(me,{method:"PUT",headers:ne,body:Y?JSON.stringify(Y):void 0,signal:fe})).json()}async delete({body:Y,headers:ne,signal:fe,...ye}){const me=this.createUrl(ye);return(await fetch(me,{method:"DELETE",headers:ne,body:Y?JSON.stringify(Y):void 0,signal:fe})).json()}createUrl({path:Y,params:ne}){const fe=new URL(Y,this.baseUrl);return ne&&Object.entries(ne).forEach(([ye,me])=>{me&&fe.searchParams.append(ye,me)}),fe}}const WC_DEEPLINK="WALLETCONNECT_DEEPLINK_CHOICE",W3M_RECENT="@w3m/recent",W3M_CONNECTED_WALLET_IMAGE_URL="@w3m/connected_wallet_image_url",W3M_CONNECTED_CONNECTOR="@w3m/connected_connector",StorageUtil={setWalletConnectDeepLink({href:se,name:Y}){try{localStorage.setItem(WC_DEEPLINK,JSON.stringify({href:se,name:Y}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const se=localStorage.getItem(WC_DEEPLINK);if(se)return JSON.parse(se)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{localStorage.removeItem(WC_DEEPLINK)}catch{console.info("Unable to delete WalletConnect deep link")}},setWeb3ModalRecent(se){try{const Y=StorageUtil.getRecentWallets();Y.find(fe=>fe.id===se.id)||(Y.unshift(se),Y.length>2&&Y.pop(),localStorage.setItem(W3M_RECENT,JSON.stringify(Y)))}catch{console.info("Unable to set Web3Modal recent")}},getRecentWallets(){try{const se=localStorage.getItem(W3M_RECENT);return se?JSON.parse(se):[]}catch{console.info("Unable to get Web3Modal recent")}return[]},setConnectedWalletImageUrl(se){try{localStorage.setItem(W3M_CONNECTED_WALLET_IMAGE_URL,se)}catch{console.info("Unable to set Connected Wallet Image Url")}},getConnectedWalletImageUrl(){try{return localStorage.getItem(W3M_CONNECTED_WALLET_IMAGE_URL)}catch{console.info("Unable to set Connected Wallet Image Url")}},setConnectedConnector(se){try{localStorage.setItem(W3M_CONNECTED_CONNECTOR,se)}catch{console.info("Unable to set Connected Connector")}},getConnectedConnector(){try{return localStorage.getItem(W3M_CONNECTED_CONNECTOR)}catch{console.info("Unable to get Connected Connector")}}},state$g=proxy({walletImages:{},networkImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),AssetController={state:state$g,subscribeNetworkImages(se){return subscribe(state$g.networkImages,()=>se(state$g.networkImages))},subscribeKey(se,Y){return subscribeKey(state$g,se,Y)},subscribe(se){return subscribe(state$g,()=>se(state$g))},setWalletImage(se,Y){state$g.walletImages[se]=Y},setNetworkImage(se,Y){state$g.networkImages[se]=Y},setConnectorImage(se,Y){state$g.connectorImages[se]=Y},setTokenImage(se,Y){state$g.tokenImages[se]=Y},setCurrencyImage(se,Y){state$g.currencyImages[se]=Y}},state$f=proxy({projectId:"",sdkType:"w3m",sdkVersion:"html-wagmi-undefined"}),OptionsController={state:state$f,subscribeKey(se,Y){return subscribeKey(state$f,se,Y)},setProjectId(se){state$f.projectId=se},setAllWallets(se){state$f.allWallets=se},setIncludeWalletIds(se){state$f.includeWalletIds=se},setExcludeWalletIds(se){state$f.excludeWalletIds=se},setFeaturedWalletIds(se){state$f.featuredWalletIds=se},setTokens(se){state$f.tokens=se},setTermsConditionsUrl(se){state$f.termsConditionsUrl=se},setPrivacyPolicyUrl(se){state$f.privacyPolicyUrl=se},setCustomWallets(se){state$f.customWallets=se},setEnableAnalytics(se){state$f.enableAnalytics=se},setSdkVersion(se){state$f.sdkVersion=se},setMetadata(se){state$f.metadata=se},setOnrampEnabled(se){state$f.enableOnramp=se}},state$e=proxy({themeMode:"dark",themeVariables:{}}),ThemeController={state:state$e,subscribe(se){return subscribe(state$e,()=>se(state$e))},setThemeMode(se){state$e.themeMode=se;try{const Y=ConnectorController.getEmailConnector();Y&&Y.provider.syncTheme({themeMode:ThemeController.getSnapshot().themeMode})}catch{console.info("Unable to sync theme to email connector")}},setThemeVariables(se){state$e.themeVariables={...state$e.themeVariables,...se};try{const Y=ConnectorController.getEmailConnector();Y&&Y.provider.syncTheme({themeVariables:ThemeController.getSnapshot().themeVariables})}catch{console.info("Unable to sync theme to email connector")}},getSnapshot(){return snapshot(state$e)}},state$d=proxy({connectors:[]}),ConnectorController={state:state$d,subscribeKey(se,Y){return subscribeKey(state$d,se,Y)},setConnectors(se){state$d.connectors=se.map(Y=>ref$1(Y))},addConnector(se){var Y,ne;if(state$d.connectors.push(ref$1(se)),se.id==="w3mEmail"){const fe=se,ye=snapshot(OptionsController.state);(ne=(Y=fe==null?void 0:fe.provider)==null?void 0:Y.syncDappData)==null||ne.call(Y,{metadata:ye.metadata,sdkVersion:ye.sdkVersion,projectId:ye.projectId}),fe.provider.syncTheme({themeMode:ThemeController.getSnapshot().themeMode,themeVariables:ThemeController.getSnapshot().themeVariables})}},getEmailConnector(){return state$d.connectors.find(se=>se.type==="EMAIL")},getAnnouncedConnectorRdns(){return state$d.connectors.filter(se=>se.type==="ANNOUNCED").map(se=>{var Y;return(Y=se.info)==null?void 0:Y.rdns})},getConnectors(){return state$d.connectors}},state$c=proxy({open:!1,selectedNetworkId:void 0}),PublicStateController={state:state$c,subscribe(se){return subscribe(state$c,()=>se(state$c))},set(se){Object.assign(state$c,{...state$c,...se})}},baseUrl$2=CoreHelperUtil.getAnalyticsUrl(),api$4=new FetchUtil({baseUrl:baseUrl$2}),excluded=["MODAL_CREATED"],state$b=proxy({timestamp:Date.now(),data:{type:"track",event:"MODAL_CREATED"}}),EventsController={state:state$b,subscribe(se){return subscribe(state$b,()=>se(state$b))},_getApiHeaders(){const{projectId:se,sdkType:Y,sdkVersion:ne}=OptionsController.state;return{"x-project-id":se,"x-sdk-type":Y,"x-sdk-version":ne}},async _sendAnalyticsEvent(se){try{if(excluded.includes(se.data.event)||typeof window>"u")return;await api$4.post({path:"/e",headers:EventsController._getApiHeaders(),body:{eventId:CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:se.timestamp,props:se.data}})}catch{}},sendEvent(se){state$b.timestamp=Date.now(),state$b.data=se,OptionsController.state.enableAnalytics&&EventsController._sendAnalyticsEvent(state$b)}},state$a=proxy({supportsAllNetworks:!0,isDefaultCaipNetwork:!1}),NetworkController={state:state$a,subscribeKey(se,Y){return subscribeKey(state$a,se,Y)},_getClient(){if(!state$a._client)throw new Error("NetworkController client not set");return state$a._client},setClient(se){state$a._client=ref$1(se)},setCaipNetwork(se){state$a.caipNetwork=se,PublicStateController.set({selectedNetworkId:se==null?void 0:se.id}),this.checkIfSupportedNetwork()},setDefaultCaipNetwork(se){state$a.caipNetwork=se,PublicStateController.set({selectedNetworkId:se==null?void 0:se.id}),state$a.isDefaultCaipNetwork=!0},setRequestedCaipNetworks(se){state$a.requestedCaipNetworks=se},getRequestedCaipNetworks(){const{approvedCaipNetworkIds:se,requestedCaipNetworks:Y}=state$a,ne=se,fe=Y;return CoreHelperUtil.sortRequestedNetworks(ne,fe)},async getApprovedCaipNetworksData(){const se=await this._getClient().getApprovedCaipNetworksData();state$a.supportsAllNetworks=se.supportsAllNetworks,state$a.approvedCaipNetworkIds=se.approvedCaipNetworkIds},async switchActiveNetwork(se){await this._getClient().switchCaipNetwork(se),state$a.caipNetwork=se,se&&EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:se.id}})},checkIfSupportedNetwork(){var se;state$a.isUnsupportedChain=!((se=state$a.requestedCaipNetworks)!=null&&se.some(Y=>{var ne;return Y.id===((ne=state$a.caipNetwork)==null?void 0:ne.id)})),state$a.isUnsupportedChain&&this.showUnsupportedChainUI()},resetNetwork(){state$a.isDefaultCaipNetwork||(state$a.caipNetwork=void 0),state$a.approvedCaipNetworkIds=void 0,state$a.supportsAllNetworks=!0},showUnsupportedChainUI(){setTimeout(()=>{ModalController.open({view:"UnsupportedChain"})},300)}},baseUrl$1=CoreHelperUtil.getApiUrl(),api$3=new FetchUtil({baseUrl:baseUrl$1}),entries="40",recommendedEntries="4",state$9=proxy({page:1,count:0,featured:[],recommended:[],wallets:[],search:[],isAnalyticsEnabled:!1}),ApiController={state:state$9,subscribeKey(se,Y){return subscribeKey(state$9,se,Y)},_getApiHeaders(){const{projectId:se,sdkType:Y,sdkVersion:ne}=OptionsController.state;return{"x-project-id":se,"x-sdk-type":Y,"x-sdk-version":ne}},async _fetchWalletImage(se){const Y=`${api$3.baseUrl}/getWalletImage/${se}`,ne=await api$3.getBlob({path:Y,headers:ApiController._getApiHeaders()});AssetController.setWalletImage(se,URL.createObjectURL(ne))},async _fetchNetworkImage(se){const Y=`${api$3.baseUrl}/public/getAssetImage/${se}`,ne=await api$3.getBlob({path:Y,headers:ApiController._getApiHeaders()});AssetController.setNetworkImage(se,URL.createObjectURL(ne))},async _fetchConnectorImage(se){const Y=`${api$3.baseUrl}/public/getAssetImage/${se}`,ne=await api$3.getBlob({path:Y,headers:ApiController._getApiHeaders()});AssetController.setConnectorImage(se,URL.createObjectURL(ne))},async _fetchCurrencyImage(se){const Y=`${api$3.baseUrl}/public/getCurrencyImage/${se}`,ne=await api$3.getBlob({path:Y,headers:ApiController._getApiHeaders()});AssetController.setCurrencyImage(se,URL.createObjectURL(ne))},async _fetchTokenImage(se){const Y=`${api$3.baseUrl}/public/getTokenImage/${se}`,ne=await api$3.getBlob({path:Y,headers:ApiController._getApiHeaders()});AssetController.setTokenImage(se,URL.createObjectURL(ne))},async fetchNetworkImages(){const{requestedCaipNetworks:se}=NetworkController.state,Y=se==null?void 0:se.map(({imageId:ne})=>ne).filter(Boolean);Y&&await Promise.allSettled(Y.map(ne=>ApiController._fetchNetworkImage(ne)))},async fetchConnectorImages(){const{connectors:se}=ConnectorController.state,Y=se.map(({imageId:ne})=>ne).filter(Boolean);await Promise.allSettled(Y.map(ne=>ApiController._fetchConnectorImage(ne)))},async fetchCurrencyImages(se=[]){await Promise.allSettled(se.map(Y=>ApiController._fetchCurrencyImage(Y)))},async fetchTokenImages(se=[]){await Promise.allSettled(se.map(Y=>ApiController._fetchTokenImage(Y)))},async fetchFeaturedWallets(){const{featuredWalletIds:se}=OptionsController.state;if(se!=null&&se.length){const{data:Y}=await api$3.get({path:"/getWallets",headers:ApiController._getApiHeaders(),params:{page:"1",entries:se!=null&&se.length?String(se.length):recommendedEntries,include:se==null?void 0:se.join(",")}});Y.sort((fe,ye)=>se.indexOf(fe.id)-se.indexOf(ye.id));const ne=Y.map(fe=>fe.image_id).filter(Boolean);await Promise.allSettled(ne.map(fe=>ApiController._fetchWalletImage(fe))),state$9.featured=Y}},async fetchRecommendedWallets(){const{includeWalletIds:se,excludeWalletIds:Y,featuredWalletIds:ne}=OptionsController.state,fe=[...Y??[],...ne??[]].filter(Boolean),{data:ye,count:me}=await api$3.get({path:"/getWallets",headers:ApiController._getApiHeaders(),params:{page:"1",entries:recommendedEntries,include:se==null?void 0:se.join(","),exclude:fe==null?void 0:fe.join(",")}}),be=StorageUtil.getRecentWallets(),we=ye.map(xe=>xe.image_id).filter(Boolean),Ee=be.map(xe=>xe.image_id).filter(Boolean);await Promise.allSettled([...we,...Ee].map(xe=>ApiController._fetchWalletImage(xe))),state$9.recommended=ye,state$9.count=me??0},async fetchWallets({page:se}){const{includeWalletIds:Y,excludeWalletIds:ne,featuredWalletIds:fe}=OptionsController.state,ye=[...state$9.recommended.map(({id:Ee})=>Ee),...ne??[],...fe??[]].filter(Boolean),{data:me,count:be}=await api$3.get({path:"/getWallets",headers:ApiController._getApiHeaders(),params:{page:String(se),entries,include:Y==null?void 0:Y.join(","),exclude:ye.join(",")}}),we=me.map(Ee=>Ee.image_id).filter(Boolean);await Promise.allSettled([...we.map(Ee=>ApiController._fetchWalletImage(Ee)),CoreHelperUtil.wait(300)]),state$9.wallets=[...state$9.wallets,...me],state$9.count=be>state$9.count?be:state$9.count,state$9.page=se},async searchWallet({search:se}){const{includeWalletIds:Y,excludeWalletIds:ne}=OptionsController.state;state$9.search=[];const{data:fe}=await api$3.get({path:"/getWallets",headers:ApiController._getApiHeaders(),params:{page:"1",entries:"100",search:se,include:Y==null?void 0:Y.join(","),exclude:ne==null?void 0:ne.join(",")}}),ye=fe.map(me=>me.image_id).filter(Boolean);await Promise.allSettled([...ye.map(me=>ApiController._fetchWalletImage(me)),CoreHelperUtil.wait(300)]),state$9.search=fe},prefetch(){const se=[ApiController.fetchFeaturedWallets(),ApiController.fetchRecommendedWallets(),ApiController.fetchNetworkImages(),ApiController.fetchConnectorImages()];OptionsController.state.enableAnalytics===void 0&&se.push(ApiController.fetchAnalyticsConfig()),state$9.prefetchPromise=Promise.race([Promise.allSettled(se),CoreHelperUtil.wait(3e3)])},async fetchAnalyticsConfig(){const{isAnalyticsEnabled:se}=await api$3.get({path:"/getAnalyticsConfig",headers:ApiController._getApiHeaders()});OptionsController.setEnableAnalytics(se)}},state$8=proxy({view:"Connect",history:["Connect"]}),RouterController={state:state$8,subscribeKey(se,Y){return subscribeKey(state$8,se,Y)},push(se,Y){se!==state$8.view&&(state$8.view=se,state$8.history.push(se),state$8.data=Y)},reset(se){state$8.view=se,state$8.history=[se]},replace(se,Y){state$8.history.length>1&&state$8.history.at(-1)!==se&&(state$8.view=se,state$8.history[state$8.history.length-1]=se,state$8.data=Y)},goBack(){if(state$8.history.length>1){state$8.history.pop();const[se]=state$8.history.slice(-1);se&&(state$8.view=se)}},goBackToIndex(se){if(state$8.history.length>1){state$8.history=state$8.history.slice(0,se+1);const[Y]=state$8.history.slice(-1);Y&&(state$8.view=Y)}}},state$7=proxy({loading:!1,open:!1}),ModalController={state:state$7,subscribe(se){return subscribe(state$7,()=>se(state$7))},subscribeKey(se,Y){return subscribeKey(state$7,se,Y)},async open(se){await ApiController.state.prefetchPromise;const Y=AccountController.state.isConnected;se!=null&&se.view?RouterController.reset(se.view):Y?RouterController.reset("Account"):RouterController.reset("Connect"),state$7.open=!0,PublicStateController.set({open:!0}),EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:Y}})},close(){const se=AccountController.state.isConnected;state$7.open=!1,PublicStateController.set({open:!1}),EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:se}})},setLoading(se){state$7.loading=se}},DEFAULT_OPTIONS={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},baseUrl=CoreHelperUtil.getBlockchainApiUrl(),api$2=new FetchUtil({baseUrl}),BlockchainApiController={fetchIdentity({caipChainId:se,address:Y}){return api$2.get({path:`/v1/identity/${Y}`,params:{chainId:se,projectId:OptionsController.state.projectId}})},fetchTransactions({account:se,projectId:Y,cursor:ne,onramp:fe,signal:ye}){const me=ne?{cursor:ne}:{};return api$2.get({path:`/v1/account/${se}/history?projectId=${Y}${fe?`&onramp=${fe}`:""}`,params:me,signal:ye})},async generateOnRampURL({destinationWallets:se,partnerUserId:Y,defaultNetwork:ne,purchaseAmount:fe,paymentAmount:ye}){return(await api$2.post({path:`/v1/generators/onrampurl?projectId=${OptionsController.state.projectId}`,body:{destinationWallets:se,defaultNetwork:ne,partnerUserId:Y,defaultExperience:"buy",presetCryptoAmount:fe,presetFiatAmount:ye}})).url},async getOnrampOptions(){try{return await api$2.get({path:`/v1/onramp/options?projectId=${OptionsController.state.projectId}`})}catch{return DEFAULT_OPTIONS}},async getOnrampQuote({purchaseCurrency:se,paymentCurrency:Y,amount:ne,network:fe}){try{return await api$2.post({path:`/v1/onramp/quote?projectId=${OptionsController.state.projectId}`,body:{purchaseCurrency:se,paymentCurrency:Y,amount:ne,network:fe}})}catch{return{coinbaseFee:{amount:ne,currency:Y.id},networkFee:{amount:ne,currency:Y.id},paymentSubtotal:{amount:ne,currency:Y.id},paymentTotal:{amount:ne,currency:Y.id},purchaseAmount:{amount:ne,currency:Y.id},quoteId:"mocked-quote-id"}}}},USDC_CURRENCY_DEFAULT={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},USD_CURRENCY_DEFAULT={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},state$6=proxy({providers:ONRAMP_PROVIDERS,selectedProvider:null,error:null,purchaseCurrency:USDC_CURRENCY_DEFAULT,paymentCurrency:USD_CURRENCY_DEFAULT,purchaseCurrencies:[USDC_CURRENCY_DEFAULT],paymentCurrencies:[],quotesLoading:!1}),OnRampController={state:state$6,subscribe(se){return subscribe(state$6,()=>se(state$6))},subscribeKey(se,Y){return subscribeKey(state$6,se,Y)},setSelectedProvider(se){state$6.selectedProvider=se},setPurchaseCurrency(se){state$6.purchaseCurrency=se},setPaymentCurrency(se){state$6.paymentCurrency=se},setPurchaseAmount(se){this.state.purchaseAmount=se},setPaymentAmount(se){this.state.paymentAmount=se},async getAvailableCurrencies(){const se=await BlockchainApiController.getOnrampOptions();state$6.purchaseCurrencies=se.purchaseCurrencies,state$6.paymentCurrencies=se.paymentCurrencies,state$6.paymentCurrency=se.paymentCurrencies[0]||USD_CURRENCY_DEFAULT,state$6.purchaseCurrency=se.purchaseCurrencies[0]||USDC_CURRENCY_DEFAULT,await ApiController.fetchCurrencyImages(se.paymentCurrencies.map(Y=>Y.id)),await ApiController.fetchTokenImages(se.purchaseCurrencies.map(Y=>Y.symbol))},async getQuote(){var Y,ne;state$6.quotesLoading=!0;const se=await BlockchainApiController.getOnrampQuote({purchaseCurrency:state$6.purchaseCurrency,paymentCurrency:state$6.paymentCurrency,amount:((Y=state$6.paymentAmount)==null?void 0:Y.toString())||"0",network:(ne=state$6.purchaseCurrency)==null?void 0:ne.name});return state$6.quotesLoading=!1,state$6.purchaseAmount=Number(se.purchaseAmount.amount),se}},state$5=proxy({message:"",variant:"success",open:!1}),SnackController={state:state$5,subscribeKey(se,Y){return subscribeKey(state$5,se,Y)},showSuccess(se){state$5.message=se,state$5.variant="success",state$5.open=!0},showError(se){const Y=CoreHelperUtil.parseError(se);state$5.message=Y,state$5.variant="error",state$5.open=!0},hide(){state$5.open=!1}},state$4=proxy({transactions:[],coinbaseTransactions:{},transactionsByYear:{},loading:!1,empty:!1,next:void 0}),TransactionsController={state:state$4,subscribe(se){return subscribe(state$4,()=>se(state$4))},async fetchTransactions(se,Y){const{projectId:ne}=OptionsController.state;if(!ne||!se)throw new Error("Transactions can't be fetched without a projectId and an accountAddress");state$4.loading=!0;try{const fe=await BlockchainApiController.fetchTransactions({account:se,projectId:ne,cursor:state$4.next,onramp:Y}),ye=this.filterSpamTransactions(fe.data),me=[...state$4.transactions,...ye];state$4.loading=!1,Y==="coinbase"?state$4.coinbaseTransactions=this.groupTransactionsByYearAndMonth(state$4.coinbaseTransactions,fe.data):(state$4.transactions=me,state$4.transactionsByYear=this.groupTransactionsByYearAndMonth(state$4.transactionsByYear,ye)),state$4.empty=me.length===0,state$4.next=fe.next?fe.next:void 0}catch{EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:se,projectId:ne,cursor:state$4.next}}),SnackController.showError("Failed to fetch transactions"),state$4.loading=!1,state$4.empty=!0}},groupTransactionsByYearAndMonth(se={},Y=[]){const ne=se;return Y.forEach(fe=>{const ye=new Date(fe.metadata.minedAt).getFullYear(),me=new Date(fe.metadata.minedAt).getMonth(),be=ne[ye]??{},Ee=(be[me]??[]).filter(xe=>xe.id!==fe.id);ne[ye]={...be,[me]:[...Ee,fe].sort((xe,Se)=>new Date(Se.metadata.minedAt).getTime()-new Date(xe.metadata.minedAt).getTime())}}),ne},filterSpamTransactions(se){return se.filter(Y=>!Y.transfers.every(fe=>{var ye;return((ye=fe.nft_info)==null?void 0:ye.flags.is_spam)===!0}))},resetTransactions(){state$4.transactions=[],state$4.transactionsByYear={},state$4.loading=!1,state$4.empty=!1,state$4.next=void 0}},state$3=proxy({wcError:!1,buffering:!1}),ConnectionController={state:state$3,subscribeKey(se,Y){return subscribeKey(state$3,se,Y)},_getClient(){if(!state$3._client)throw new Error("ConnectionController client not set");return state$3._client},setClient(se){state$3._client=ref$1(se)},connectWalletConnect(){state$3.wcPromise=this._getClient().connectWalletConnect(se=>{state$3.wcUri=se,state$3.wcPairingExpiry=CoreHelperUtil.getPairingExpiry()}),StorageUtil.setConnectedConnector("WALLET_CONNECT")},async connectExternal(se){var Y,ne;await((ne=(Y=this._getClient()).connectExternal)==null?void 0:ne.call(Y,se)),StorageUtil.setConnectedConnector(se.type)},async signMessage(se){return this._getClient().signMessage(se)},checkInstalled(se){var Y,ne;return(ne=(Y=this._getClient()).checkInstalled)==null?void 0:ne.call(Y,se)},resetWcConnection(){state$3.wcUri=void 0,state$3.wcPairingExpiry=void 0,state$3.wcPromise=void 0,state$3.wcLinking=void 0,state$3.recentWallet=void 0,TransactionsController.resetTransactions(),StorageUtil.deleteWalletConnectDeepLink()},setWcLinking(se){state$3.wcLinking=se},setWcError(se){state$3.wcError=se,state$3.buffering=!1},setRecentWallet(se){state$3.recentWallet=se},setBuffering(se){state$3.buffering=se},async disconnect(){await this._getClient().disconnect(),this.resetWcConnection()}},state$2=proxy({status:"uninitialized",isSiweEnabled:!1}),SIWEController={state:state$2,subscribeKey(se,Y){return subscribeKey(state$2,se,Y)},subscribe(se){return subscribe(state$2,()=>se(state$2))},_getClient(){if(!state$2._client)throw new Error("SIWEController client not set");return state$2._client},async getNonce(){const Y=await this._getClient().getNonce();return this.setNonce(Y),Y},async getSession(){const Y=await this._getClient().getSession();return Y&&(this.setSession(Y),this.setStatus("success")),Y},createMessage(se){const ne=this._getClient().createMessage(se);return this.setMessage(ne),ne},async verifyMessage(se){return await this._getClient().verifyMessage(se)},async signIn(){return await this._getClient().signIn()},async signOut(){var Y;const se=this._getClient();await se.signOut(),this.setStatus("ready"),(Y=se.onSignOut)==null||Y.call(se)},onSignIn(se){var ne;const Y=this._getClient();(ne=Y.onSignIn)==null||ne.call(Y,se)},onSignOut(){var Y;const se=this._getClient();(Y=se.onSignOut)==null||Y.call(se)},setSIWEClient(se){state$2._client=ref$1(se),state$2.status="ready",state$2.isSiweEnabled=se.options.enabled},setNonce(se){state$2.nonce=se},setStatus(se){state$2.status=se},setMessage(se){state$2.message=se},setSession(se){state$2.session=se}},AssetUtil={getWalletImage(se){if(se!=null&&se.image_url)return se==null?void 0:se.image_url;if(se!=null&&se.image_id)return AssetController.state.walletImages[se.image_id]},getNetworkImage(se){if(se!=null&&se.imageUrl)return se==null?void 0:se.imageUrl;if(se!=null&&se.imageId)return AssetController.state.networkImages[se.imageId]},getConnectorImage(se){if(se!=null&&se.imageUrl)return se.imageUrl;if(se!=null&&se.imageId)return AssetController.state.connectorImages[se.imageId]}},RouterUtil={goBackOrCloseModal(){RouterController.state.history.length>1?RouterController.goBack():ModalController.close()},navigateAfterNetworkSwitch(){const{history:se}=RouterController.state,Y=se.findIndex(ne=>ne==="Networks");Y>=1?RouterController.goBackToIndex(Y-1):ModalController.close()}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$6=globalThis,e$b=t$6.ShadowRoot&&(t$6.ShadyCSS===void 0||t$6.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$6=Symbol(),o$c=new WeakMap;let n$e=class{constructor(Y,ne,fe){if(this._$cssResult$=!0,fe!==s$6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Y,this.t=ne}get styleSheet(){let Y=this.o;const ne=this.t;if(e$b&&Y===void 0){const fe=ne!==void 0&&ne.length===1;fe&&(Y=o$c.get(ne)),Y===void 0&&((this.o=Y=new CSSStyleSheet).replaceSync(this.cssText),fe&&o$c.set(ne,Y))}return Y}toString(){return this.cssText}};const r$d=se=>new n$e(typeof se=="string"?se:se+"",void 0,s$6),S$8=(se,Y)=>{if(e$b)se.adoptedStyleSheets=Y.map(ne=>ne instanceof CSSStyleSheet?ne:ne.styleSheet);else for(const ne of Y){const fe=document.createElement("style"),ye=t$6.litNonce;ye!==void 0&&fe.setAttribute("nonce",ye),fe.textContent=ne.cssText,se.appendChild(fe)}},c$b=e$b?se=>se:se=>se instanceof CSSStyleSheet?(Y=>{let ne="";for(const fe of Y.cssRules)ne+=fe.cssText;return r$d(ne)})(se):se;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$9,defineProperty:e$a,getOwnPropertyDescriptor:r$c,getOwnPropertyNames:h$a,getOwnPropertySymbols:o$b,getPrototypeOf:n$d}=Object,a$7=globalThis,c$a=a$7.trustedTypes,l$7=c$a?c$a.emptyScript:"",p$a=a$7.reactiveElementPolyfillSupport,d$7=(se,Y)=>se,u$7={toAttribute(se,Y){switch(Y){case Boolean:se=se?l$7:null;break;case Object:case Array:se=se==null?se:JSON.stringify(se)}return se},fromAttribute(se,Y){let ne=se;switch(Y){case Boolean:ne=se!==null;break;case Number:ne=se===null?null:Number(se);break;case Object:case Array:try{ne=JSON.parse(se)}catch{ne=null}}return ne}},f$b=(se,Y)=>!i$9(se,Y),y$8={attribute:!0,type:String,converter:u$7,reflect:!1,hasChanged:f$b};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$7.litPropertyMetadata??(a$7.litPropertyMetadata=new WeakMap);let b$9=class extends HTMLElement{static addInitializer(Y){this._$Ei(),(this.l??(this.l=[])).push(Y)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(Y,ne=y$8){if(ne.state&&(ne.attribute=!1),this._$Ei(),this.elementProperties.set(Y,ne),!ne.noAccessor){const fe=Symbol(),ye=this.getPropertyDescriptor(Y,fe,ne);ye!==void 0&&e$a(this.prototype,Y,ye)}}static getPropertyDescriptor(Y,ne,fe){const{get:ye,set:me}=r$c(this.prototype,Y)??{get(){return this[ne]},set(be){this[ne]=be}};return{get(){return ye==null?void 0:ye.call(this)},set(be){const we=ye==null?void 0:ye.call(this);me.call(this,be),this.requestUpdate(Y,we,fe)},configurable:!0,enumerable:!0}}static getPropertyOptions(Y){return this.elementProperties.get(Y)??y$8}static _$Ei(){if(this.hasOwnProperty(d$7("elementProperties")))return;const Y=n$d(this);Y.finalize(),Y.l!==void 0&&(this.l=[...Y.l]),this.elementProperties=new Map(Y.elementProperties)}static finalize(){if(this.hasOwnProperty(d$7("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$7("properties"))){const ne=this.properties,fe=[...h$a(ne),...o$b(ne)];for(const ye of fe)this.createProperty(ye,ne[ye])}const Y=this[Symbol.metadata];if(Y!==null){const ne=litPropertyMetadata.get(Y);if(ne!==void 0)for(const[fe,ye]of ne)this.elementProperties.set(fe,ye)}this._$Eh=new Map;for(const[ne,fe]of this.elementProperties){const ye=this._$Eu(ne,fe);ye!==void 0&&this._$Eh.set(ye,ne)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(Y){const ne=[];if(Array.isArray(Y)){const fe=new Set(Y.flat(1/0).reverse());for(const ye of fe)ne.unshift(c$b(ye))}else Y!==void 0&&ne.push(c$b(Y));return ne}static _$Eu(Y,ne){const fe=ne.attribute;return fe===!1?void 0:typeof fe=="string"?fe:typeof Y=="string"?Y.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var Y;this._$ES=new Promise(ne=>this.enableUpdating=ne),this._$AL=new Map,this._$E_(),this.requestUpdate(),(Y=this.constructor.l)==null||Y.forEach(ne=>ne(this))}addController(Y){var ne;(this._$EO??(this._$EO=new Set)).add(Y),this.renderRoot!==void 0&&this.isConnected&&((ne=Y.hostConnected)==null||ne.call(Y))}removeController(Y){var ne;(ne=this._$EO)==null||ne.delete(Y)}_$E_(){const Y=new Map,ne=this.constructor.elementProperties;for(const fe of ne.keys())this.hasOwnProperty(fe)&&(Y.set(fe,this[fe]),delete this[fe]);Y.size>0&&(this._$Ep=Y)}createRenderRoot(){const Y=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$8(Y,this.constructor.elementStyles),Y}connectedCallback(){var Y;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Y=this._$EO)==null||Y.forEach(ne=>{var fe;return(fe=ne.hostConnected)==null?void 0:fe.call(ne)})}enableUpdating(Y){}disconnectedCallback(){var Y;(Y=this._$EO)==null||Y.forEach(ne=>{var fe;return(fe=ne.hostDisconnected)==null?void 0:fe.call(ne)})}attributeChangedCallback(Y,ne,fe){this._$AK(Y,fe)}_$EC(Y,ne){var me;const fe=this.constructor.elementProperties.get(Y),ye=this.constructor._$Eu(Y,fe);if(ye!==void 0&&fe.reflect===!0){const be=(((me=fe.converter)==null?void 0:me.toAttribute)!==void 0?fe.converter:u$7).toAttribute(ne,fe.type);this._$Em=Y,be==null?this.removeAttribute(ye):this.setAttribute(ye,be),this._$Em=null}}_$AK(Y,ne){var me;const fe=this.constructor,ye=fe._$Eh.get(Y);if(ye!==void 0&&this._$Em!==ye){const be=fe.getPropertyOptions(ye),we=typeof be.converter=="function"?{fromAttribute:be.converter}:((me=be.converter)==null?void 0:me.fromAttribute)!==void 0?be.converter:u$7;this._$Em=ye,this[ye]=we.fromAttribute(ne,be.type),this._$Em=null}}requestUpdate(Y,ne,fe){if(Y!==void 0){if(fe??(fe=this.constructor.getPropertyOptions(Y)),!(fe.hasChanged??f$b)(this[Y],ne))return;this.P(Y,ne,fe)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(Y,ne,fe){this._$AL.has(Y)||this._$AL.set(Y,ne),fe.reflect===!0&&this._$Em!==Y&&(this._$Ej??(this._$Ej=new Set)).add(Y)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(ne){Promise.reject(ne)}const Y=this.scheduleUpdate();return Y!=null&&await Y,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var fe;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[me,be]of this._$Ep)this[me]=be;this._$Ep=void 0}const ye=this.constructor.elementProperties;if(ye.size>0)for(const[me,be]of ye)be.wrapped!==!0||this._$AL.has(me)||this[me]===void 0||this.P(me,this[me],be)}let Y=!1;const ne=this._$AL;try{Y=this.shouldUpdate(ne),Y?(this.willUpdate(ne),(fe=this._$EO)==null||fe.forEach(ye=>{var me;return(me=ye.hostUpdate)==null?void 0:me.call(ye)}),this.update(ne)):this._$EU()}catch(ye){throw Y=!1,this._$EU(),ye}Y&&this._$AE(ne)}willUpdate(Y){}_$AE(Y){var ne;(ne=this._$EO)==null||ne.forEach(fe=>{var ye;return(ye=fe.hostUpdated)==null?void 0:ye.call(fe)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Y)),this.updated(Y)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(Y){return!0}update(Y){this._$Ej&&(this._$Ej=this._$Ej.forEach(ne=>this._$EC(ne,this[ne]))),this._$EU()}updated(Y){}firstUpdated(Y){}};b$9.elementStyles=[],b$9.shadowRootOptions={mode:"open"},b$9[d$7("elementProperties")]=new Map,b$9[d$7("finalized")]=new Map,p$a==null||p$a({ReactiveElement:b$9}),(a$7.reactiveElementVersions??(a$7.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$5=globalThis,i$8=t$5.trustedTypes,s$5=i$8?i$8.createPolicy("lit-html",{createHTML:se=>se}):void 0,e$9="$lit$",h$9=`lit$${Math.random().toFixed(9).slice(2)}$`,o$a="?"+h$9,n$c=`<${o$a}>`,r$b=document,l$6=()=>r$b.createComment(""),c$9=se=>se===null||typeof se!="object"&&typeof se!="function",a$6=Array.isArray,u$6=se=>a$6(se)||typeof(se==null?void 0:se[Symbol.iterator])=="function",d$6=`[ 	
\f\r]`,f$a=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$8=/-->/g,_$7=/>/g,m$5=RegExp(`>|${d$6}(?:([^\\s"'>=/]+)(${d$6}*=${d$6}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p$9=/'/g,g$a=/"/g,$$5=/^(?:script|style|textarea|title)$/i,T$5=Symbol.for("lit-noChange"),E$7=Symbol.for("lit-nothing"),A$4=new WeakMap,C$4=r$b.createTreeWalker(r$b,129);function P$6(se,Y){if(!a$6(se)||!se.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$5!==void 0?s$5.createHTML(Y):Y}const V$4=(se,Y)=>{const ne=se.length-1,fe=[];let ye,me=Y===2?"<svg>":Y===3?"<math>":"",be=f$a;for(let we=0;we<ne;we++){const Ee=se[we];let xe,Se,Ie=-1,fr=0;for(;fr<Ee.length&&(be.lastIndex=fr,Se=be.exec(Ee),Se!==null);)fr=be.lastIndex,be===f$a?Se[1]==="!--"?be=v$8:Se[1]!==void 0?be=_$7:Se[2]!==void 0?($$5.test(Se[2])&&(ye=RegExp("</"+Se[2],"g")),be=m$5):Se[3]!==void 0&&(be=m$5):be===m$5?Se[0]===">"?(be=ye??f$a,Ie=-1):Se[1]===void 0?Ie=-2:(Ie=be.lastIndex-Se[2].length,xe=Se[1],be=Se[3]===void 0?m$5:Se[3]==='"'?g$a:p$9):be===g$a||be===p$9?be=m$5:be===v$8||be===_$7?be=f$a:(be=m$5,ye=void 0);const br=be===m$5&&se[we+1].startsWith("/>")?" ":"";me+=be===f$a?Ee+n$c:Ie>=0?(fe.push(xe),Ee.slice(0,Ie)+e$9+Ee.slice(Ie)+h$9+br):Ee+h$9+(Ie===-2?we:br)}return[P$6(se,me+(se[ne]||"<?>")+(Y===2?"</svg>":Y===3?"</math>":"")),fe]};let N$5=class mw{constructor({strings:Y,_$litType$:ne},fe){let ye;this.parts=[];let me=0,be=0;const we=Y.length-1,Ee=this.parts,[xe,Se]=V$4(Y,ne);if(this.el=mw.createElement(xe,fe),C$4.currentNode=this.el.content,ne===2||ne===3){const Ie=this.el.content.firstChild;Ie.replaceWith(...Ie.childNodes)}for(;(ye=C$4.nextNode())!==null&&Ee.length<we;){if(ye.nodeType===1){if(ye.hasAttributes())for(const Ie of ye.getAttributeNames())if(Ie.endsWith(e$9)){const fr=Se[be++],br=ye.getAttribute(Ie).split(h$9),kr=/([.?@])?(.*)/.exec(fr);Ee.push({type:1,index:me,name:kr[2],strings:br,ctor:kr[1]==="."?H$4:kr[1]==="?"?I$3:kr[1]==="@"?L$6:k$6}),ye.removeAttribute(Ie)}else Ie.startsWith(h$9)&&(Ee.push({type:6,index:me}),ye.removeAttribute(Ie));if($$5.test(ye.tagName)){const Ie=ye.textContent.split(h$9),fr=Ie.length-1;if(fr>0){ye.textContent=i$8?i$8.emptyScript:"";for(let br=0;br<fr;br++)ye.append(Ie[br],l$6()),C$4.nextNode(),Ee.push({type:2,index:++me});ye.append(Ie[fr],l$6())}}}else if(ye.nodeType===8)if(ye.data===o$a)Ee.push({type:2,index:me});else{let Ie=-1;for(;(Ie=ye.data.indexOf(h$9,Ie+1))!==-1;)Ee.push({type:7,index:me}),Ie+=h$9.length-1}me++}}static createElement(Y,ne){const fe=r$b.createElement("template");return fe.innerHTML=Y,fe}};function S$7(se,Y,ne=se,fe){var be,we;if(Y===T$5)return Y;let ye=fe!==void 0?(be=ne._$Co)==null?void 0:be[fe]:ne._$Cl;const me=c$9(Y)?void 0:Y._$litDirective$;return(ye==null?void 0:ye.constructor)!==me&&((we=ye==null?void 0:ye._$AO)==null||we.call(ye,!1),me===void 0?ye=void 0:(ye=new me(se),ye._$AT(se,ne,fe)),fe!==void 0?(ne._$Co??(ne._$Co=[]))[fe]=ye:ne._$Cl=ye),ye!==void 0&&(Y=S$7(se,ye._$AS(se,Y.values),ye,fe)),Y}let M$4=class{constructor(Y,ne){this._$AV=[],this._$AN=void 0,this._$AD=Y,this._$AM=ne}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(Y){const{el:{content:ne},parts:fe}=this._$AD,ye=((Y==null?void 0:Y.creationScope)??r$b).importNode(ne,!0);C$4.currentNode=ye;let me=C$4.nextNode(),be=0,we=0,Ee=fe[0];for(;Ee!==void 0;){if(be===Ee.index){let xe;Ee.type===2?xe=new R$4(me,me.nextSibling,this,Y):Ee.type===1?xe=new Ee.ctor(me,Ee.name,Ee.strings,this,Y):Ee.type===6&&(xe=new z$7(me,this,Y)),this._$AV.push(xe),Ee=fe[++we]}be!==(Ee==null?void 0:Ee.index)&&(me=C$4.nextNode(),be++)}return C$4.currentNode=r$b,ye}p(Y){let ne=0;for(const fe of this._$AV)fe!==void 0&&(fe.strings!==void 0?(fe._$AI(Y,fe,ne),ne+=fe.strings.length-2):fe._$AI(Y[ne])),ne++}},R$4=class yw{get _$AU(){var Y;return((Y=this._$AM)==null?void 0:Y._$AU)??this._$Cv}constructor(Y,ne,fe,ye){this.type=2,this._$AH=E$7,this._$AN=void 0,this._$AA=Y,this._$AB=ne,this._$AM=fe,this.options=ye,this._$Cv=(ye==null?void 0:ye.isConnected)??!0}get parentNode(){let Y=this._$AA.parentNode;const ne=this._$AM;return ne!==void 0&&(Y==null?void 0:Y.nodeType)===11&&(Y=ne.parentNode),Y}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Y,ne=this){Y=S$7(this,Y,ne),c$9(Y)?Y===E$7||Y==null||Y===""?(this._$AH!==E$7&&this._$AR(),this._$AH=E$7):Y!==this._$AH&&Y!==T$5&&this._(Y):Y._$litType$!==void 0?this.$(Y):Y.nodeType!==void 0?this.T(Y):u$6(Y)?this.k(Y):this._(Y)}O(Y){return this._$AA.parentNode.insertBefore(Y,this._$AB)}T(Y){this._$AH!==Y&&(this._$AR(),this._$AH=this.O(Y))}_(Y){this._$AH!==E$7&&c$9(this._$AH)?this._$AA.nextSibling.data=Y:this.T(r$b.createTextNode(Y)),this._$AH=Y}$(Y){var me;const{values:ne,_$litType$:fe}=Y,ye=typeof fe=="number"?this._$AC(Y):(fe.el===void 0&&(fe.el=N$5.createElement(P$6(fe.h,fe.h[0]),this.options)),fe);if(((me=this._$AH)==null?void 0:me._$AD)===ye)this._$AH.p(ne);else{const be=new M$4(ye,this),we=be.u(this.options);be.p(ne),this.T(we),this._$AH=be}}_$AC(Y){let ne=A$4.get(Y.strings);return ne===void 0&&A$4.set(Y.strings,ne=new N$5(Y)),ne}k(Y){a$6(this._$AH)||(this._$AH=[],this._$AR());const ne=this._$AH;let fe,ye=0;for(const me of Y)ye===ne.length?ne.push(fe=new yw(this.O(l$6()),this.O(l$6()),this,this.options)):fe=ne[ye],fe._$AI(me),ye++;ye<ne.length&&(this._$AR(fe&&fe._$AB.nextSibling,ye),ne.length=ye)}_$AR(Y=this._$AA.nextSibling,ne){var fe;for((fe=this._$AP)==null?void 0:fe.call(this,!1,!0,ne);Y&&Y!==this._$AB;){const ye=Y.nextSibling;Y.remove(),Y=ye}}setConnected(Y){var ne;this._$AM===void 0&&(this._$Cv=Y,(ne=this._$AP)==null||ne.call(this,Y))}},k$6=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(Y,ne,fe,ye,me){this.type=1,this._$AH=E$7,this._$AN=void 0,this.element=Y,this.name=ne,this._$AM=ye,this.options=me,fe.length>2||fe[0]!==""||fe[1]!==""?(this._$AH=Array(fe.length-1).fill(new String),this.strings=fe):this._$AH=E$7}_$AI(Y,ne=this,fe,ye){const me=this.strings;let be=!1;if(me===void 0)Y=S$7(this,Y,ne,0),be=!c$9(Y)||Y!==this._$AH&&Y!==T$5,be&&(this._$AH=Y);else{const we=Y;let Ee,xe;for(Y=me[0],Ee=0;Ee<me.length-1;Ee++)xe=S$7(this,we[fe+Ee],ne,Ee),xe===T$5&&(xe=this._$AH[Ee]),be||(be=!c$9(xe)||xe!==this._$AH[Ee]),xe===E$7?Y=E$7:Y!==E$7&&(Y+=(xe??"")+me[Ee+1]),this._$AH[Ee]=xe}be&&!ye&&this.j(Y)}j(Y){Y===E$7?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Y??"")}},H$4=class extends k$6{constructor(){super(...arguments),this.type=3}j(Y){this.element[this.name]=Y===E$7?void 0:Y}},I$3=class extends k$6{constructor(){super(...arguments),this.type=4}j(Y){this.element.toggleAttribute(this.name,!!Y&&Y!==E$7)}},L$6=class extends k$6{constructor(Y,ne,fe,ye,me){super(Y,ne,fe,ye,me),this.type=5}_$AI(Y,ne=this){if((Y=S$7(this,Y,ne,0)??E$7)===T$5)return;const fe=this._$AH,ye=Y===E$7&&fe!==E$7||Y.capture!==fe.capture||Y.once!==fe.once||Y.passive!==fe.passive,me=Y!==E$7&&(fe===E$7||ye);ye&&this.element.removeEventListener(this.name,this,fe),me&&this.element.addEventListener(this.name,this,Y),this._$AH=Y}handleEvent(Y){var ne;typeof this._$AH=="function"?this._$AH.call(((ne=this.options)==null?void 0:ne.host)??this.element,Y):this._$AH.handleEvent(Y)}},z$7=class{constructor(Y,ne,fe){this.element=Y,this.type=6,this._$AN=void 0,this._$AM=ne,this.options=fe}get _$AU(){return this._$AM._$AU}_$AI(Y){S$7(this,Y)}};const j$7=t$5.litHtmlPolyfillSupport;j$7==null||j$7(N$5,R$4),(t$5.litHtmlVersions??(t$5.litHtmlVersions=[])).push("3.2.1");/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$4=globalThis,e$8=t$4.ShadowRoot&&(t$4.ShadyCSS===void 0||t$4.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$9=new WeakMap;let n$b=class{constructor(Y,ne,fe){if(this._$cssResult$=!0,fe!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Y,this.t=ne}get styleSheet(){let Y=this.o;const ne=this.t;if(e$8&&Y===void 0){const fe=ne!==void 0&&ne.length===1;fe&&(Y=o$9.get(ne)),Y===void 0&&((this.o=Y=new CSSStyleSheet).replaceSync(this.cssText),fe&&o$9.set(ne,Y))}return Y}toString(){return this.cssText}};const r$a=se=>new n$b(typeof se=="string"?se:se+"",void 0,s$4),i$7=(se,...Y)=>{const ne=se.length===1?se[0]:Y.reduce((fe,ye,me)=>fe+(be=>{if(be._$cssResult$===!0)return be.cssText;if(typeof be=="number")return be;throw Error("Value passed to 'css' function must be a 'css' function result: "+be+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(ye)+se[me+1],se[0]);return new n$b(ne,se,s$4)},S$6=(se,Y)=>{if(e$8)se.adoptedStyleSheets=Y.map(ne=>ne instanceof CSSStyleSheet?ne:ne.styleSheet);else for(const ne of Y){const fe=document.createElement("style"),ye=t$4.litNonce;ye!==void 0&&fe.setAttribute("nonce",ye),fe.textContent=ne.cssText,se.appendChild(fe)}},c$8=e$8?se=>se:se=>se instanceof CSSStyleSheet?(Y=>{let ne="";for(const fe of Y.cssRules)ne+=fe.cssText;return r$a(ne)})(se):se;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$6,defineProperty:e$7,getOwnPropertyDescriptor:r$9,getOwnPropertyNames:h$8,getOwnPropertySymbols:o$8,getPrototypeOf:n$a}=Object,a$5=globalThis,c$7=a$5.trustedTypes,l$5=c$7?c$7.emptyScript:"",p$8=a$5.reactiveElementPolyfillSupport,d$5=(se,Y)=>se,u$5={toAttribute(se,Y){switch(Y){case Boolean:se=se?l$5:null;break;case Object:case Array:se=se==null?se:JSON.stringify(se)}return se},fromAttribute(se,Y){let ne=se;switch(Y){case Boolean:ne=se!==null;break;case Number:ne=se===null?null:Number(se);break;case Object:case Array:try{ne=JSON.parse(se)}catch{ne=null}}return ne}},f$9=(se,Y)=>!i$6(se,Y),y$7={attribute:!0,type:String,converter:u$5,reflect:!1,hasChanged:f$9};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$5.litPropertyMetadata??(a$5.litPropertyMetadata=new WeakMap);let b$8=class extends HTMLElement{static addInitializer(Y){this._$Ei(),(this.l??(this.l=[])).push(Y)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(Y,ne=y$7){if(ne.state&&(ne.attribute=!1),this._$Ei(),this.elementProperties.set(Y,ne),!ne.noAccessor){const fe=Symbol(),ye=this.getPropertyDescriptor(Y,fe,ne);ye!==void 0&&e$7(this.prototype,Y,ye)}}static getPropertyDescriptor(Y,ne,fe){const{get:ye,set:me}=r$9(this.prototype,Y)??{get(){return this[ne]},set(be){this[ne]=be}};return{get(){return ye==null?void 0:ye.call(this)},set(be){const we=ye==null?void 0:ye.call(this);me.call(this,be),this.requestUpdate(Y,we,fe)},configurable:!0,enumerable:!0}}static getPropertyOptions(Y){return this.elementProperties.get(Y)??y$7}static _$Ei(){if(this.hasOwnProperty(d$5("elementProperties")))return;const Y=n$a(this);Y.finalize(),Y.l!==void 0&&(this.l=[...Y.l]),this.elementProperties=new Map(Y.elementProperties)}static finalize(){if(this.hasOwnProperty(d$5("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$5("properties"))){const ne=this.properties,fe=[...h$8(ne),...o$8(ne)];for(const ye of fe)this.createProperty(ye,ne[ye])}const Y=this[Symbol.metadata];if(Y!==null){const ne=litPropertyMetadata.get(Y);if(ne!==void 0)for(const[fe,ye]of ne)this.elementProperties.set(fe,ye)}this._$Eh=new Map;for(const[ne,fe]of this.elementProperties){const ye=this._$Eu(ne,fe);ye!==void 0&&this._$Eh.set(ye,ne)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(Y){const ne=[];if(Array.isArray(Y)){const fe=new Set(Y.flat(1/0).reverse());for(const ye of fe)ne.unshift(c$8(ye))}else Y!==void 0&&ne.push(c$8(Y));return ne}static _$Eu(Y,ne){const fe=ne.attribute;return fe===!1?void 0:typeof fe=="string"?fe:typeof Y=="string"?Y.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var Y;this._$ES=new Promise(ne=>this.enableUpdating=ne),this._$AL=new Map,this._$E_(),this.requestUpdate(),(Y=this.constructor.l)==null||Y.forEach(ne=>ne(this))}addController(Y){var ne;(this._$EO??(this._$EO=new Set)).add(Y),this.renderRoot!==void 0&&this.isConnected&&((ne=Y.hostConnected)==null||ne.call(Y))}removeController(Y){var ne;(ne=this._$EO)==null||ne.delete(Y)}_$E_(){const Y=new Map,ne=this.constructor.elementProperties;for(const fe of ne.keys())this.hasOwnProperty(fe)&&(Y.set(fe,this[fe]),delete this[fe]);Y.size>0&&(this._$Ep=Y)}createRenderRoot(){const Y=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$6(Y,this.constructor.elementStyles),Y}connectedCallback(){var Y;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Y=this._$EO)==null||Y.forEach(ne=>{var fe;return(fe=ne.hostConnected)==null?void 0:fe.call(ne)})}enableUpdating(Y){}disconnectedCallback(){var Y;(Y=this._$EO)==null||Y.forEach(ne=>{var fe;return(fe=ne.hostDisconnected)==null?void 0:fe.call(ne)})}attributeChangedCallback(Y,ne,fe){this._$AK(Y,fe)}_$EC(Y,ne){var me;const fe=this.constructor.elementProperties.get(Y),ye=this.constructor._$Eu(Y,fe);if(ye!==void 0&&fe.reflect===!0){const be=(((me=fe.converter)==null?void 0:me.toAttribute)!==void 0?fe.converter:u$5).toAttribute(ne,fe.type);this._$Em=Y,be==null?this.removeAttribute(ye):this.setAttribute(ye,be),this._$Em=null}}_$AK(Y,ne){var me;const fe=this.constructor,ye=fe._$Eh.get(Y);if(ye!==void 0&&this._$Em!==ye){const be=fe.getPropertyOptions(ye),we=typeof be.converter=="function"?{fromAttribute:be.converter}:((me=be.converter)==null?void 0:me.fromAttribute)!==void 0?be.converter:u$5;this._$Em=ye,this[ye]=we.fromAttribute(ne,be.type),this._$Em=null}}requestUpdate(Y,ne,fe){if(Y!==void 0){if(fe??(fe=this.constructor.getPropertyOptions(Y)),!(fe.hasChanged??f$9)(this[Y],ne))return;this.P(Y,ne,fe)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(Y,ne,fe){this._$AL.has(Y)||this._$AL.set(Y,ne),fe.reflect===!0&&this._$Em!==Y&&(this._$Ej??(this._$Ej=new Set)).add(Y)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(ne){Promise.reject(ne)}const Y=this.scheduleUpdate();return Y!=null&&await Y,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var fe;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[me,be]of this._$Ep)this[me]=be;this._$Ep=void 0}const ye=this.constructor.elementProperties;if(ye.size>0)for(const[me,be]of ye)be.wrapped!==!0||this._$AL.has(me)||this[me]===void 0||this.P(me,this[me],be)}let Y=!1;const ne=this._$AL;try{Y=this.shouldUpdate(ne),Y?(this.willUpdate(ne),(fe=this._$EO)==null||fe.forEach(ye=>{var me;return(me=ye.hostUpdate)==null?void 0:me.call(ye)}),this.update(ne)):this._$EU()}catch(ye){throw Y=!1,this._$EU(),ye}Y&&this._$AE(ne)}willUpdate(Y){}_$AE(Y){var ne;(ne=this._$EO)==null||ne.forEach(fe=>{var ye;return(ye=fe.hostUpdated)==null?void 0:ye.call(fe)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Y)),this.updated(Y)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(Y){return!0}update(Y){this._$Ej&&(this._$Ej=this._$Ej.forEach(ne=>this._$EC(ne,this[ne]))),this._$EU()}updated(Y){}firstUpdated(Y){}};b$8.elementStyles=[],b$8.shadowRootOptions={mode:"open"},b$8[d$5("elementProperties")]=new Map,b$8[d$5("finalized")]=new Map,p$8==null||p$8({ReactiveElement:b$8}),(a$5.reactiveElementVersions??(a$5.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3=globalThis,i$5=t$3.trustedTypes,s$3=i$5?i$5.createPolicy("lit-html",{createHTML:se=>se}):void 0,e$6="$lit$",h$7=`lit$${Math.random().toFixed(9).slice(2)}$`,o$7="?"+h$7,n$9=`<${o$7}>`,r$8=document,l$4=()=>r$8.createComment(""),c$6=se=>se===null||typeof se!="object"&&typeof se!="function",a$4=Array.isArray,u$4=se=>a$4(se)||typeof(se==null?void 0:se[Symbol.iterator])=="function",d$4=`[ 	
\f\r]`,f$8=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$7=/-->/g,_$6=/>/g,m$4=RegExp(`>|${d$4}(?:([^\\s"'>=/]+)(${d$4}*=${d$4}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p$7=/'/g,g$9=/"/g,$$4=/^(?:script|style|textarea|title)$/i,y$6=se=>(Y,...ne)=>({_$litType$:se,strings:Y,values:ne}),x$4=y$6(1),b$7=y$6(2),T$4=Symbol.for("lit-noChange"),E$6=Symbol.for("lit-nothing"),A$3=new WeakMap,C$3=r$8.createTreeWalker(r$8,129);function P$5(se,Y){if(!a$4(se)||!se.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$3!==void 0?s$3.createHTML(Y):Y}const V$3=(se,Y)=>{const ne=se.length-1,fe=[];let ye,me=Y===2?"<svg>":Y===3?"<math>":"",be=f$8;for(let we=0;we<ne;we++){const Ee=se[we];let xe,Se,Ie=-1,fr=0;for(;fr<Ee.length&&(be.lastIndex=fr,Se=be.exec(Ee),Se!==null);)fr=be.lastIndex,be===f$8?Se[1]==="!--"?be=v$7:Se[1]!==void 0?be=_$6:Se[2]!==void 0?($$4.test(Se[2])&&(ye=RegExp("</"+Se[2],"g")),be=m$4):Se[3]!==void 0&&(be=m$4):be===m$4?Se[0]===">"?(be=ye??f$8,Ie=-1):Se[1]===void 0?Ie=-2:(Ie=be.lastIndex-Se[2].length,xe=Se[1],be=Se[3]===void 0?m$4:Se[3]==='"'?g$9:p$7):be===g$9||be===p$7?be=m$4:be===v$7||be===_$6?be=f$8:(be=m$4,ye=void 0);const br=be===m$4&&se[we+1].startsWith("/>")?" ":"";me+=be===f$8?Ee+n$9:Ie>=0?(fe.push(xe),Ee.slice(0,Ie)+e$6+Ee.slice(Ie)+h$7+br):Ee+h$7+(Ie===-2?we:br)}return[P$5(se,me+(se[ne]||"<?>")+(Y===2?"</svg>":Y===3?"</math>":"")),fe]};let N$4=class bw{constructor({strings:Y,_$litType$:ne},fe){let ye;this.parts=[];let me=0,be=0;const we=Y.length-1,Ee=this.parts,[xe,Se]=V$3(Y,ne);if(this.el=bw.createElement(xe,fe),C$3.currentNode=this.el.content,ne===2||ne===3){const Ie=this.el.content.firstChild;Ie.replaceWith(...Ie.childNodes)}for(;(ye=C$3.nextNode())!==null&&Ee.length<we;){if(ye.nodeType===1){if(ye.hasAttributes())for(const Ie of ye.getAttributeNames())if(Ie.endsWith(e$6)){const fr=Se[be++],br=ye.getAttribute(Ie).split(h$7),kr=/([.?@])?(.*)/.exec(fr);Ee.push({type:1,index:me,name:kr[2],strings:br,ctor:kr[1]==="."?H$3:kr[1]==="?"?I$2:kr[1]==="@"?L$5:k$5}),ye.removeAttribute(Ie)}else Ie.startsWith(h$7)&&(Ee.push({type:6,index:me}),ye.removeAttribute(Ie));if($$4.test(ye.tagName)){const Ie=ye.textContent.split(h$7),fr=Ie.length-1;if(fr>0){ye.textContent=i$5?i$5.emptyScript:"";for(let br=0;br<fr;br++)ye.append(Ie[br],l$4()),C$3.nextNode(),Ee.push({type:2,index:++me});ye.append(Ie[fr],l$4())}}}else if(ye.nodeType===8)if(ye.data===o$7)Ee.push({type:2,index:me});else{let Ie=-1;for(;(Ie=ye.data.indexOf(h$7,Ie+1))!==-1;)Ee.push({type:7,index:me}),Ie+=h$7.length-1}me++}}static createElement(Y,ne){const fe=r$8.createElement("template");return fe.innerHTML=Y,fe}};function S$5(se,Y,ne=se,fe){var be,we;if(Y===T$4)return Y;let ye=fe!==void 0?(be=ne._$Co)==null?void 0:be[fe]:ne._$Cl;const me=c$6(Y)?void 0:Y._$litDirective$;return(ye==null?void 0:ye.constructor)!==me&&((we=ye==null?void 0:ye._$AO)==null||we.call(ye,!1),me===void 0?ye=void 0:(ye=new me(se),ye._$AT(se,ne,fe)),fe!==void 0?(ne._$Co??(ne._$Co=[]))[fe]=ye:ne._$Cl=ye),ye!==void 0&&(Y=S$5(se,ye._$AS(se,Y.values),ye,fe)),Y}let M$3=class{constructor(Y,ne){this._$AV=[],this._$AN=void 0,this._$AD=Y,this._$AM=ne}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(Y){const{el:{content:ne},parts:fe}=this._$AD,ye=((Y==null?void 0:Y.creationScope)??r$8).importNode(ne,!0);C$3.currentNode=ye;let me=C$3.nextNode(),be=0,we=0,Ee=fe[0];for(;Ee!==void 0;){if(be===Ee.index){let xe;Ee.type===2?xe=new R$3(me,me.nextSibling,this,Y):Ee.type===1?xe=new Ee.ctor(me,Ee.name,Ee.strings,this,Y):Ee.type===6&&(xe=new z$6(me,this,Y)),this._$AV.push(xe),Ee=fe[++we]}be!==(Ee==null?void 0:Ee.index)&&(me=C$3.nextNode(),be++)}return C$3.currentNode=r$8,ye}p(Y){let ne=0;for(const fe of this._$AV)fe!==void 0&&(fe.strings!==void 0?(fe._$AI(Y,fe,ne),ne+=fe.strings.length-2):fe._$AI(Y[ne])),ne++}},R$3=class vw{get _$AU(){var Y;return((Y=this._$AM)==null?void 0:Y._$AU)??this._$Cv}constructor(Y,ne,fe,ye){this.type=2,this._$AH=E$6,this._$AN=void 0,this._$AA=Y,this._$AB=ne,this._$AM=fe,this.options=ye,this._$Cv=(ye==null?void 0:ye.isConnected)??!0}get parentNode(){let Y=this._$AA.parentNode;const ne=this._$AM;return ne!==void 0&&(Y==null?void 0:Y.nodeType)===11&&(Y=ne.parentNode),Y}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Y,ne=this){Y=S$5(this,Y,ne),c$6(Y)?Y===E$6||Y==null||Y===""?(this._$AH!==E$6&&this._$AR(),this._$AH=E$6):Y!==this._$AH&&Y!==T$4&&this._(Y):Y._$litType$!==void 0?this.$(Y):Y.nodeType!==void 0?this.T(Y):u$4(Y)?this.k(Y):this._(Y)}O(Y){return this._$AA.parentNode.insertBefore(Y,this._$AB)}T(Y){this._$AH!==Y&&(this._$AR(),this._$AH=this.O(Y))}_(Y){this._$AH!==E$6&&c$6(this._$AH)?this._$AA.nextSibling.data=Y:this.T(r$8.createTextNode(Y)),this._$AH=Y}$(Y){var me;const{values:ne,_$litType$:fe}=Y,ye=typeof fe=="number"?this._$AC(Y):(fe.el===void 0&&(fe.el=N$4.createElement(P$5(fe.h,fe.h[0]),this.options)),fe);if(((me=this._$AH)==null?void 0:me._$AD)===ye)this._$AH.p(ne);else{const be=new M$3(ye,this),we=be.u(this.options);be.p(ne),this.T(we),this._$AH=be}}_$AC(Y){let ne=A$3.get(Y.strings);return ne===void 0&&A$3.set(Y.strings,ne=new N$4(Y)),ne}k(Y){a$4(this._$AH)||(this._$AH=[],this._$AR());const ne=this._$AH;let fe,ye=0;for(const me of Y)ye===ne.length?ne.push(fe=new vw(this.O(l$4()),this.O(l$4()),this,this.options)):fe=ne[ye],fe._$AI(me),ye++;ye<ne.length&&(this._$AR(fe&&fe._$AB.nextSibling,ye),ne.length=ye)}_$AR(Y=this._$AA.nextSibling,ne){var fe;for((fe=this._$AP)==null?void 0:fe.call(this,!1,!0,ne);Y&&Y!==this._$AB;){const ye=Y.nextSibling;Y.remove(),Y=ye}}setConnected(Y){var ne;this._$AM===void 0&&(this._$Cv=Y,(ne=this._$AP)==null||ne.call(this,Y))}},k$5=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(Y,ne,fe,ye,me){this.type=1,this._$AH=E$6,this._$AN=void 0,this.element=Y,this.name=ne,this._$AM=ye,this.options=me,fe.length>2||fe[0]!==""||fe[1]!==""?(this._$AH=Array(fe.length-1).fill(new String),this.strings=fe):this._$AH=E$6}_$AI(Y,ne=this,fe,ye){const me=this.strings;let be=!1;if(me===void 0)Y=S$5(this,Y,ne,0),be=!c$6(Y)||Y!==this._$AH&&Y!==T$4,be&&(this._$AH=Y);else{const we=Y;let Ee,xe;for(Y=me[0],Ee=0;Ee<me.length-1;Ee++)xe=S$5(this,we[fe+Ee],ne,Ee),xe===T$4&&(xe=this._$AH[Ee]),be||(be=!c$6(xe)||xe!==this._$AH[Ee]),xe===E$6?Y=E$6:Y!==E$6&&(Y+=(xe??"")+me[Ee+1]),this._$AH[Ee]=xe}be&&!ye&&this.j(Y)}j(Y){Y===E$6?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Y??"")}},H$3=class extends k$5{constructor(){super(...arguments),this.type=3}j(Y){this.element[this.name]=Y===E$6?void 0:Y}},I$2=class extends k$5{constructor(){super(...arguments),this.type=4}j(Y){this.element.toggleAttribute(this.name,!!Y&&Y!==E$6)}},L$5=class extends k$5{constructor(Y,ne,fe,ye,me){super(Y,ne,fe,ye,me),this.type=5}_$AI(Y,ne=this){if((Y=S$5(this,Y,ne,0)??E$6)===T$4)return;const fe=this._$AH,ye=Y===E$6&&fe!==E$6||Y.capture!==fe.capture||Y.once!==fe.once||Y.passive!==fe.passive,me=Y!==E$6&&(fe===E$6||ye);ye&&this.element.removeEventListener(this.name,this,fe),me&&this.element.addEventListener(this.name,this,Y),this._$AH=Y}handleEvent(Y){var ne;typeof this._$AH=="function"?this._$AH.call(((ne=this.options)==null?void 0:ne.host)??this.element,Y):this._$AH.handleEvent(Y)}},z$6=class{constructor(Y,ne,fe){this.element=Y,this.type=6,this._$AN=void 0,this._$AM=ne,this.options=fe}get _$AU(){return this._$AM._$AU}_$AI(Y){S$5(this,Y)}};const j$6=t$3.litHtmlPolyfillSupport;j$6==null||j$6(N$4,R$3),(t$3.litHtmlVersions??(t$3.litHtmlVersions=[])).push("3.2.1");const B$4=(se,Y,ne)=>{const fe=(ne==null?void 0:ne.renderBefore)??Y;let ye=fe._$litPart$;if(ye===void 0){const me=(ne==null?void 0:ne.renderBefore)??null;fe._$litPart$=ye=new R$3(Y.insertBefore(l$4(),me),me,void 0,ne??{})}return ye._$AI(se),ye};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let r$7=class extends b$8{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var ne;const Y=super.createRenderRoot();return(ne=this.renderOptions).renderBefore??(ne.renderBefore=Y.firstChild),Y}update(Y){const ne=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(Y),this._$Do=B$4(ne,this.renderRoot,this.renderOptions)}connectedCallback(){var Y;super.connectedCallback(),(Y=this._$Do)==null||Y.setConnected(!0)}disconnectedCallback(){var Y;super.disconnectedCallback(),(Y=this._$Do)==null||Y.setConnected(!1)}render(){return T$4}};var Vv;r$7._$litElement$=!0,r$7.finalized=!0,(Vv=globalThis.litElementHydrateSupport)==null||Vv.call(globalThis,{LitElement:r$7});const i$4=globalThis.litElementPolyfillSupport;i$4==null||i$4({LitElement:r$7});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");let themeTag,darkModeTag,lightModeTag;function initializeTheming(se,Y){themeTag=document.createElement("style"),darkModeTag=document.createElement("style"),lightModeTag=document.createElement("style"),themeTag.textContent=createRootStyles(se).core.cssText,darkModeTag.textContent=createRootStyles(se).dark.cssText,lightModeTag.textContent=createRootStyles(se).light.cssText,document.head.appendChild(themeTag),document.head.appendChild(darkModeTag),document.head.appendChild(lightModeTag),setColorTheme(Y)}function setColorTheme(se){darkModeTag&&lightModeTag&&(se==="light"?(darkModeTag.removeAttribute("media"),lightModeTag.media="enabled"):(lightModeTag.removeAttribute("media"),darkModeTag.media="enabled"))}function setThemeVariables(se){themeTag&&darkModeTag&&lightModeTag&&(themeTag.textContent=createRootStyles(se).core.cssText,darkModeTag.textContent=createRootStyles(se).dark.cssText,lightModeTag.textContent=createRootStyles(se).light.cssText)}function createRootStyles(se){return{core:i$7`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      :root {
        --w3m-color-mix-strength: ${r$a(se!=null&&se["--w3m-color-mix-strength"]?`${se["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${r$a((se==null?void 0:se["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${r$a((se==null?void 0:se["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${r$a((se==null?void 0:se["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${r$a((se==null?void 0:se["--w3m-z-index"])||100)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-blue-100: var(--wui-color-blue-base-100);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-accent-glass-090: var(--wui-accent-glass-base-090);
        --wui-accent-glass-080: var(--wui-accent-glass-base-080);
        --wui-accent-glass-020: var(--wui-accent-glass-base-020);
        --wui-accent-glass-015: var(--wui-accent-glass-base-015);
        --wui-accent-glass-010: var(--wui-accent-glass-base-010);
        --wui-accent-glass-005: var(--wui-accent-glass-base-005);
        --wui-accent-glass-002: var(--wui-accent-glass-base-002);

        --wui-color-fg-100: var(--wui-color-fg-base-100);
        --wui-color-fg-125: var(--wui-color-fg-base-125);
        --wui-color-fg-150: var(--wui-color-fg-base-150);
        --wui-color-fg-175: var(--wui-color-fg-base-175);
        --wui-color-fg-200: var(--wui-color-fg-base-200);
        --wui-color-fg-225: var(--wui-color-fg-base-225);
        --wui-color-fg-250: var(--wui-color-fg-base-250);
        --wui-color-fg-275: var(--wui-color-fg-base-275);
        --wui-color-fg-300: var(--wui-color-fg-base-300);

        --wui-color-bg-100: var(--wui-color-bg-base-100);
        --wui-color-bg-125: var(--wui-color-bg-base-125);
        --wui-color-bg-150: var(--wui-color-bg-base-150);
        --wui-color-bg-175: var(--wui-color-bg-base-175);
        --wui-color-bg-200: var(--wui-color-bg-base-200);
        --wui-color-bg-225: var(--wui-color-bg-base-225);
        --wui-color-bg-250: var(--wui-color-bg-base-250);
        --wui-color-bg-275: var(--wui-color-bg-base-275);
        --wui-color-bg-300: var(--wui-color-bg-base-300);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-error-100: var(--wui-color-error-base-100);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-base-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-box-shadow-blue: rgba(71, 161, 255, 0.16);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 16%, transparent);

          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            var(--w3m-default)
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            var(--w3m-default)
          );

          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );

          --wui-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-base-300)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-base-300)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-base-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );
        }
      }
    `,light:i$7`
      :root {
        --w3m-color-mix: ${r$a((se==null?void 0:se["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${r$a((se==null?void 0:se["--w3m-accent"])||"#47a1ff")};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: #191a1a;

        --wui-color-blue-base-100: #47a1ff;

        --wui-color-accent-base-100: var(--w3m-accent);
        --wui-color-accent-base-090: #59aaff;
        --wui-color-accent-base-080: #6cb4ff;

        --wui-accent-glass-base-090: rgba(71, 161, 255, 0.9);
        --wui-accent-glass-base-080: rgba(71, 161, 255, 0.8);
        --wui-accent-glass-base-020: rgba(71, 161, 255, 0.2);
        --wui-accent-glass-base-015: rgba(71, 161, 255, 0.15);
        --wui-accent-glass-base-010: rgba(71, 161, 255, 0.1);
        --wui-accent-glass-base-005: rgba(71, 161, 255, 0.05);
        --wui-accent-glass-base-002: rgba(71, 161, 255, 0.02);

        --wui-color-fg-base-100: #e4e7e7;
        --wui-color-fg-base-125: #d0d5d5;
        --wui-color-fg-base-150: #a8b1b1;
        --wui-color-fg-base-175: #a8b0b0;
        --wui-color-fg-base-200: #949e9e;
        --wui-color-fg-base-225: #868f8f;
        --wui-color-fg-base-250: #788080;
        --wui-color-fg-base-275: #788181;
        --wui-color-fg-base-300: #6e7777;

        --wui-color-bg-base-100: #141414;
        --wui-color-bg-base-125: #191a1a;
        --wui-color-bg-base-150: #1e1f1f;
        --wui-color-bg-base-175: #222525;
        --wui-color-bg-base-200: #272a2a;
        --wui-color-bg-base-225: #2c3030;
        --wui-color-bg-base-250: #313535;
        --wui-color-bg-base-275: #363b3b;
        --wui-color-bg-base-300: #3b4040;

        --wui-color-success-base-100: #26d962;
        --wui-color-error-base-100: #f25a67;

        --wui-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-base-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-gray-glass-080: rgba(255, 255, 255, 0.8);
      }
    `,dark:i$7`
      :root {
        --w3m-color-mix: ${r$a((se==null?void 0:se["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${r$a((se==null?void 0:se["--w3m-accent"])||"#3396ff")};
        --w3m-default: #000;

        --wui-color-modal-bg-base: #fff;

        --wui-color-blue-base-100: #3396ff;

        --wui-color-accent-base-100: var(--w3m-accent);
        --wui-color-accent-base-090: #2d7dd2;
        --wui-color-accent-base-080: #2978cc;

        --wui-accent-glass-base-090: rgba(51, 150, 255, 0.9);
        --wui-accent-glass-base-080: rgba(51, 150, 255, 0.8);
        --wui-accent-glass-base-020: rgba(51, 150, 255, 0.2);
        --wui-accent-glass-base-015: rgba(51, 150, 255, 0.15);
        --wui-accent-glass-base-010: rgba(51, 150, 255, 0.1);
        --wui-accent-glass-base-005: rgba(51, 150, 255, 0.05);
        --wui-accent-glass-base-002: rgba(51, 150, 255, 0.02);

        --wui-color-fg-base-100: #141414;
        --wui-color-fg-base-125: #2d3131;
        --wui-color-fg-base-150: #474d4d;
        --wui-color-fg-base-175: #636d6d;
        --wui-color-fg-base-200: #798686;
        --wui-color-fg-base-225: #828f8f;
        --wui-color-fg-base-250: #8b9797;
        --wui-color-fg-base-275: #95a0a0;
        --wui-color-fg-base-300: #9ea9a9;

        --wui-color-bg-base-100: #ffffff;
        --wui-color-bg-base-125: #f5fafa;
        --wui-color-bg-base-150: #f3f8f8;
        --wui-color-bg-base-175: #eef4f4;
        --wui-color-bg-base-200: #eaf1f1;
        --wui-color-bg-base-225: #e5eded;
        --wui-color-bg-base-250: #e1e9e9;
        --wui-color-bg-base-275: #dce7e7;
        --wui-color-bg-base-300: #d8e3e3;

        --wui-color-success-base-100: #26b562;
        --wui-color-error-base-100: #f05142;

        --wui-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-base-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-gray-glass-080: rgba(0, 0, 0, 0.8);
      }
    `}}const resetStyles=i$7`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,elementStyles=i$7`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    outline: none;
    border: 1px solid transparent;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-gray-glass-005);
    }

    button:active:enabled {
      transition: all var(--wui-ease-out-power-2) var(--wui-duration-sm);
      background-color: var(--wui-gray-glass-010);
    }

    button[data-variant='fill']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='accentBg']:hover:enabled {
      background: var(--wui-accent-glass-015);
    }

    button[data-variant='accentBg']:active:enabled {
      background: var(--wui-accent-glass-020);
    }
  }

  button:disabled {
    cursor: not-allowed;
    background-color: var(--wui-gray-glass-005);
  }

  button[data-variant='shade']:disabled,
  button[data-variant='accent']:disabled,
  button[data-variant='accentBg']:disabled {
    background-color: var(--wui-gray-glass-010);
    color: var(--wui-gray-glass-015);
    filter: grayscale(1);
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-icon-box,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  button:focus-visible,
  a:focus-visible {
    border: 1px solid var(--wui-color-accent-100);
    background-color: var(--wui-gray-glass-005);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  button[data-variant='fill']:focus-visible {
    background-color: var(--wui-color-accent-090);
  }

  button[data-variant='fill'] {
    color: var(--wui-color-inverse-100);
    background-color: var(--wui-color-accent-100);
  }

  button[data-variant='fill']:disabled {
    color: var(--wui-gray-glass-015);
    background-color: var(--wui-gray-glass-015);
  }

  button[data-variant='fill']:disabled > wui-icon {
    color: var(--wui-gray-glass-015);
  }

  button[data-variant='shade'] {
    color: var(--wui-color-fg-200);
  }

  button[data-variant='accent'],
  button[data-variant='accentBg'] {
    color: var(--wui-color-accent-100);
  }

  button[data-variant='accentBg'] {
    background: var(--wui-accent-glass-010);
    border: 1px solid var(--wui-accent-glass-010);
  }

  button[data-variant='fullWidth'] {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    height: 56px;
    border: none;
    background-color: var(--wui-gray-glass-002);
    color: var(--wui-color-fg-200);
    gap: var(--wui-spacing-xs);
  }

  button:active:enabled {
    background-color: var(--wui-gray-glass-010);
  }

  button[data-variant='fill']:active:enabled {
    background-color: var(--wui-color-accent-080);
    border: 1px solid var(--wui-gray-glass-010);
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,colorStyles=i$7`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }
`;function standardCustomElement(se,Y){const{kind:ne,elements:fe}=Y;return{kind:ne,elements:fe,finisher(ye){customElements.get(se)||customElements.define(se,ye)}}}function legacyCustomElement(se,Y){return customElements.get(se)||customElements.define(se,Y),Y}function customElement(se){return function(ne){return typeof ne=="function"?legacyCustomElement(se,ne):standardCustomElement(se,ne)}}const styles$1k=i$7`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }
`;var __decorate$1L=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiCard=class extends r$7{render(){return x$4`<slot></slot>`}};WuiCard.styles=[resetStyles,styles$1k];WuiCard=__decorate$1L([customElement("wui-card")],WuiCard);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$6={attribute:!0,type:String,converter:u$7,reflect:!1,hasChanged:f$b},r$6=(se=o$6,Y,ne)=>{const{kind:fe,metadata:ye}=ne;let me=globalThis.litPropertyMetadata.get(ye);if(me===void 0&&globalThis.litPropertyMetadata.set(ye,me=new Map),me.set(ne.name,se),fe==="accessor"){const{name:be}=ne;return{set(we){const Ee=Y.get.call(this);Y.set.call(this,we),this.requestUpdate(be,Ee,se)},init(we){return we!==void 0&&this.P(be,void 0,se),we}}}if(fe==="setter"){const{name:be}=ne;return function(we){const Ee=this[be];Y.call(this,we),this.requestUpdate(be,Ee,se)}}throw Error("Unsupported decorator location: "+fe)};function n$8(se){return(Y,ne)=>typeof ne=="object"?r$6(se,Y,ne):((fe,ye,me)=>{const be=ye.hasOwnProperty(me);return ye.constructor.createProperty(me,be?{...fe,wrapped:!0}:fe),be?Object.getOwnPropertyDescriptor(ye,me):void 0})(se,Y,ne)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$5(se){return n$8({...se,state:!0,attribute:!1})}const styles$1j=i$7`
  :host {
    display: flex;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }
`,allWalletsSvg=b$7`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,arrowBottomCircleSvg=b$7`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,appStoreSvg=b$7`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,appleSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,arrowBottomSvg=b$7`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,arrowLeftSvg=b$7`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,arrowRightSvg=b$7`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,arrowTopSvg=b$7`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,browserSvg$1=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,checkmarkSvg=b$7`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="12"
  viewBox="0 0 12 12"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M10.537 2.34245C10.8997 2.64654 10.9471 3.187 10.6429 3.54959L5.61072 9.54757C5.45645 9.73144 5.23212 9.84222 4.99229 9.85295C4.75247 9.86368 4.51914 9.77337 4.34906 9.60401L1.40881 6.6761C1.07343 6.34213 1.07238 5.7996 1.40647 5.46433C1.74055 5.12906 2.28326 5.12801 2.61865 5.46198L4.89731 7.73108L9.32942 2.44834C9.63362 2.08576 10.1743 2.03835 10.537 2.34245Z"
    fill="currentColor"
  /></svg
>`,chevronBottomSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,chevronLeftSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,chevronRightSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,chevronTopSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,chromeStoreSvg=b$7`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,clockSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 2.99a5 5 0 1 0 0 10 5 5 0 0 0 0-10Zm-7 5a7 7 0 1 1 14 0 7 7 0 0 1-14 0Zm7-4a1 1 0 0 1 1 1v2.58l1.85 1.85a1 1 0 0 1-1.41 1.42L6.29 8.69A1 1 0 0 1 6 8v-3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,closeSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,coinPlaceholderSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,compassSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,copySvg=b$7`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,addSvg=b$7`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#47A1FF"
  /></svg
>`,cursorSvg=b$7` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,desktopSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,disconnectSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,discordSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,etherscanSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,extensionSvg=b$7`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,externalLinkSvg=b$7`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,facebookSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,filtersSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,githubSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,googleSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#fff" fill-opacity=".05" />
      <g clip-path="url(#c)">
        <path
          fill="#4285F4"
          d="M20 17.7v4.65h6.46a5.53 5.53 0 0 1-2.41 3.61l3.9 3.02c2.26-2.09 3.57-5.17 3.57-8.82 0-.85-.08-1.67-.22-2.46H20Z"
        />
        <path
          fill="#34A853"
          d="m13.27 22.17-.87.67-3.11 2.42A12 12 0 0 0 20 31.9c3.24 0 5.96-1.07 7.94-2.9l-3.9-3.03A7.15 7.15 0 0 1 20 27.12a7.16 7.16 0 0 1-6.72-4.94v-.01Z"
        />
        <path
          fill="#FBBC05"
          d="M9.29 14.5a11.85 11.85 0 0 0 0 10.76l3.99-3.1a7.19 7.19 0 0 1 0-4.55l-4-3.1Z"
        />
        <path
          fill="#EA4335"
          d="M20 12.66c1.77 0 3.34.61 4.6 1.8l3.43-3.44A11.51 11.51 0 0 0 20 7.89c-4.7 0-8.74 2.69-10.71 6.62l3.99 3.1A7.16 7.16 0 0 1 20 12.66Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,helpCircleSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,infoCircleSvg=b$7`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,mailSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,mobileSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,networkPlaceholderSvg=b$7`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,nftPlaceholderSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,offSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,playStoreSvg=b$7` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,qrCodeIcon=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,refreshSvg=b$7`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,searchSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,sendSvg=b$7`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,swapHorizontalSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,swapHorizontalBoldSvg=b$7`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,swapHorizontalMediumSvg=b$7`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,swapVerticalSvg=b$7`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,telegramSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg> `,twitchSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,twitterSvg=b$7`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1D9BF0" />
      <path
        fill="#fff"
        d="M30 13.81c-.74.33-1.53.55-2.36.65.85-.51 1.5-1.32 1.8-2.27-.79.47-1.66.8-2.6 1a4.1 4.1 0 0 0-7 3.73c-3.4-.17-6.42-1.8-8.45-4.28a4.1 4.1 0 0 0 1.27 5.47c-.67-.02-1.3-.2-1.86-.5a4.1 4.1 0 0 0 3.3 4.07c-.58.15-1.21.19-1.86.07a4.1 4.1 0 0 0 3.83 2.85A8.25 8.25 0 0 1 10 26.3a11.62 11.62 0 0 0 6.29 1.84c7.62 0 11.92-6.44 11.66-12.2.8-.59 1.5-1.3 2.05-2.13Z"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,twitterIconSvg=b$7`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,verifySvg=b$7`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,verifyFilledSvg=b$7`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,walletPlaceholderSvg=b$7`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,walletSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,walletConnectSvg=b$7`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,warningCircleSvg=b$7`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,recycleHorizontalSvg=b$7`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,bankSvg=b$7`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,cardSvg=b$7`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,plusSvg=b$7`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`;var __decorate$1K=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const svgOptions$1={add:addSvg,allWallets:allWalletsSvg,arrowBottomCircle:arrowBottomCircleSvg,appStore:appStoreSvg,apple:appleSvg,arrowBottom:arrowBottomSvg,arrowLeft:arrowLeftSvg,arrowRight:arrowRightSvg,arrowTop:arrowTopSvg,bank:bankSvg,browser:browserSvg$1,card:cardSvg,checkmark:checkmarkSvg,chevronBottom:chevronBottomSvg,chevronLeft:chevronLeftSvg,chevronRight:chevronRightSvg,chevronTop:chevronTopSvg,chromeStore:chromeStoreSvg,clock:clockSvg,close:closeSvg,compass:compassSvg,coinPlaceholder:coinPlaceholderSvg,copy:copySvg,cursor:cursorSvg,desktop:desktopSvg,disconnect:disconnectSvg,discord:discordSvg,etherscan:etherscanSvg,extension:extensionSvg,externalLink:externalLinkSvg,facebook:facebookSvg,filters:filtersSvg,github:githubSvg,google:googleSvg,helpCircle:helpCircleSvg,infoCircle:infoCircleSvg,mail:mailSvg,mobile:mobileSvg,networkPlaceholder:networkPlaceholderSvg,nftPlaceholder:nftPlaceholderSvg,off:offSvg,playStore:playStoreSvg,plus:plusSvg,qrCode:qrCodeIcon,recycleHorizontal:recycleHorizontalSvg,refresh:refreshSvg,search:searchSvg,send:sendSvg,swapHorizontal:swapHorizontalSvg,swapHorizontalMedium:swapHorizontalMediumSvg,swapHorizontalBold:swapHorizontalBoldSvg,swapVertical:swapVerticalSvg,telegram:telegramSvg,twitch:twitchSvg,twitter:twitterSvg,twitterIcon:twitterIconSvg,verify:verifySvg,verifyFilled:verifyFilledSvg,wallet:walletSvg,walletConnect:walletConnectSvg,walletPlaceholder:walletPlaceholderSvg,warningCircle:warningCircleSvg};let WuiIcon=class extends r$7{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
    `,x$4`${svgOptions$1[this.name]}`}};WuiIcon.styles=[resetStyles,colorStyles,styles$1j];__decorate$1K([n$8()],WuiIcon.prototype,"size",void 0);__decorate$1K([n$8()],WuiIcon.prototype,"name",void 0);__decorate$1K([n$8()],WuiIcon.prototype,"color",void 0);WuiIcon=__decorate$1K([customElement("wui-icon")],WuiIcon);const styles$1i=i$7`
  :host {
    display: block;
    width: 100%;
    height: 100%;
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var __decorate$1J=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiImage=class extends r$7{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image"}render(){return x$4`<img src=${this.src} alt=${this.alt} />`}};WuiImage.styles=[resetStyles,colorStyles,styles$1i];__decorate$1J([n$8()],WuiImage.prototype,"src",void 0);__decorate$1J([n$8()],WuiImage.prototype,"alt",void 0);WuiImage=__decorate$1J([customElement("wui-image")],WuiImage);const styles$1h=i$7`
  :host {
    display: block;
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
  }

  svg {
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
    fill: none;
    stroke: transparent;
    stroke-linecap: round;
    transition: all var(--wui-ease-in-power-3) var(--wui-duration-lg);
  }

  use {
    stroke: var(--wui-color-accent-100);
    stroke-width: 2px;
    stroke-dasharray: 54, 118;
    stroke-dashoffset: 172;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var __decorate$1I=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiLoadingHexagon=class extends r$7{render(){return x$4`
      <svg viewBox="0 0 54 59">
        <path
          id="wui-loader-path"
          d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"
        />
        <use xlink:href="#wui-loader-path"></use>
      </svg>
    `}};WuiLoadingHexagon.styles=[resetStyles,styles$1h];WuiLoadingHexagon=__decorate$1I([customElement("wui-loading-hexagon")],WuiLoadingHexagon);const styles$1g=i$7`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
    transition: all var(--wui-ease-in-power-3) var(--wui-duration-lg);
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var __decorate$1H=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiLoadingSpinner=class extends r$7{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: var(--wui-color-${this.color});`,this.dataset.size=this.size,x$4`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};WuiLoadingSpinner.styles=[resetStyles,styles$1g];__decorate$1H([n$8()],WuiLoadingSpinner.prototype,"color",void 0);__decorate$1H([n$8()],WuiLoadingSpinner.prototype,"size",void 0);WuiLoadingSpinner=__decorate$1H([customElement("wui-loading-spinner")],WuiLoadingSpinner);const styles$1f=i$7`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
    transition: all var(--wui-ease-in-power-3) var(--wui-duration-lg);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var __decorate$1G=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiLoadingThumbnail=class extends r$7{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const Y=this.radius>50?50:this.radius,fe=36-Y,ye=116+fe,me=245+fe,be=360+fe*1.75;return x$4`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${Y}
          stroke-dasharray="${ye} ${me}"
          stroke-dashoffset=${be}
        />
      </svg>
    `}};WuiLoadingThumbnail.styles=[resetStyles,styles$1f];__decorate$1G([n$8({type:Number})],WuiLoadingThumbnail.prototype,"radius",void 0);WuiLoadingThumbnail=__decorate$1G([customElement("wui-loading-thumbnail")],WuiLoadingThumbnail);const styles$1e=i$7`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var __decorate$1F=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiShimmer=class extends r$7{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,x$4`<slot></slot>`}};WuiShimmer.styles=[styles$1e];__decorate$1F([n$8()],WuiShimmer.prototype,"width",void 0);__decorate$1F([n$8()],WuiShimmer.prototype,"height",void 0);__decorate$1F([n$8()],WuiShimmer.prototype,"borderRadius",void 0);WuiShimmer=__decorate$1F([customElement("wui-shimmer")],WuiShimmer);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$2={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$5=se=>(...Y)=>({_$litDirective$:se,values:Y});let i$3=class{constructor(Y){}get _$AU(){return this._$AM._$AU}_$AT(Y,ne,fe){this._$Ct=Y,this._$AM=ne,this._$Ci=fe}_$AS(Y,ne){return this.update(Y,ne)}update(Y,ne){return this.render(...ne)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$4=e$5(class extends i$3{constructor(se){var Y;if(super(se),se.type!==t$2.ATTRIBUTE||se.name!=="class"||((Y=se.strings)==null?void 0:Y.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(se){return" "+Object.keys(se).filter(Y=>se[Y]).join(" ")+" "}update(se,[Y]){var fe,ye;if(this.st===void 0){this.st=new Set,se.strings!==void 0&&(this.nt=new Set(se.strings.join(" ").split(/\s/).filter(me=>me!=="")));for(const me in Y)Y[me]&&!((fe=this.nt)!=null&&fe.has(me))&&this.st.add(me);return this.render(Y)}const ne=se.element.classList;for(const me of this.st)me in Y||(ne.remove(me),this.st.delete(me));for(const me in Y){const be=!!Y[me];be===this.st.has(me)||(ye=this.nt)!=null&&ye.has(me)||(be?(ne.add(me),this.st.add(me)):(ne.remove(me),this.st.delete(me)))}return T$5}}),styles$1d=i$7`
  :host {
    display: inline-flex !important;
  }

  slot {
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-font-medium-title-600 {
    font-size: var(--wui-font-size-medium-title);
    letter-spacing: var(--wui-letter-spacing-medium-title);
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-title-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }
`;var __decorate$1E=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiText=class extends r$7{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left"}render(){const Y={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,x$4`<slot class=${e$4(Y)}></slot>`}};WuiText.styles=[resetStyles,styles$1d];__decorate$1E([n$8()],WuiText.prototype,"variant",void 0);__decorate$1E([n$8()],WuiText.prototype,"color",void 0);__decorate$1E([n$8()],WuiText.prototype,"align",void 0);WuiText=__decorate$1E([customElement("wui-text")],WuiText);const browserSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="30" />
  <circle cx="30" cy="30" r="3" fill="#fff" />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m45.32 17.9-.88-.42.88.42.02-.05c.1-.2.21-.44.26-.7l-.82-.15.82.16a2 2 0 0 0-.24-1.4c-.13-.23-.32-.42-.47-.57a8.42 8.42 0 0 1-.04-.04l-.04-.04a2.9 2.9 0 0 0-.56-.47l-.51.86.5-.86a2 2 0 0 0-1.4-.24c-.26.05-.5.16-.69.26l-.05.02-15.05 7.25-.1.05c-1.14.55-1.85.89-2.46 1.37a7 7 0 0 0-1.13 1.14c-.5.6-.83 1.32-1.38 2.45l-.05.11-7.25 15.05-.02.05c-.1.2-.21.43-.26.69a2 2 0 0 0 .24 1.4l.85-.5-.85.5c.13.23.32.42.47.57l.04.04.04.04c.15.15.34.34.56.47a2 2 0 0 0 1.41.24l-.2-.98.2.98c.25-.05.5-.17.69-.26l.05-.02-.42-.87.42.87 15.05-7.25.1-.05c1.14-.55 1.85-.89 2.46-1.38a7 7 0 0 0 1.13-1.13 12.87 12.87 0 0 0 1.43-2.56l7.25-15.05Z"
  />
  <path
    fill="#1DC956"
    d="M33.38 32.72 30.7 29.3 15.86 44.14l.2.2a1 1 0 0 0 1.14.2l15.1-7.27a3 3 0 0 0 1.08-4.55Z"
  />
  <path
    fill="#86F999"
    d="m26.62 27.28 2.67 3.43 14.85-14.85-.2-.2a1 1 0 0 0-1.14-.2l-15.1 7.27a3 3 0 0 0-1.08 4.55Z"
  />
  <circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
</svg> `,daoSvg=b$7`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#clip0_7734_50402)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#EB8B47"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M19 52C24.5228 52 29 47.5228 29 42C29 36.4772 24.5228 32 19 32C13.4772 32 9 36.4772 9 42C9 47.5228 13.4772 52 19 52Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.8437 8.3264C42.4507 7.70891 41.5493 7.70891 41.1564 8.32641L28.978 27.4638C28.5544 28.1295 29.0326 29.0007 29.8217 29.0007H54.1783C54.9674 29.0007 55.4456 28.1295 55.022 27.4638L42.8437 8.3264Z"
      fill="white"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.3348 11.6456C42.659 11.7608 42.9061 12.1492 43.4005 12.926L50.7332 24.4488C51.2952 25.332 51.5763 25.7737 51.5254 26.1382C51.4915 26.3808 51.3698 26.6026 51.1833 26.7614C50.9031 27 50.3796 27 49.3327 27H34.6673C33.6204 27 33.0969 27 32.8167 26.7614C32.6302 26.6026 32.5085 26.3808 32.4746 26.1382C32.4237 25.7737 32.7048 25.332 33.2669 24.4488L40.5995 12.926C41.0939 12.1492 41.341 11.7608 41.6652 11.6456C41.8818 11.5687 42.1182 11.5687 42.3348 11.6456ZM35.0001 26.999C38.8661 26.999 42.0001 23.865 42.0001 19.999C42.0001 23.865 45.1341 26.999 49.0001 26.999H35.0001Z"
      fill="#FF974C"
    />
    <path
      d="M10.1061 9.35712C9.9973 9.67775 9.99867 10.0388 9.99978 10.3323C9.99989 10.3611 10 10.3893 10 10.4167V25.5833C10 25.6107 9.99989 25.6389 9.99978 25.6677C9.99867 25.9612 9.9973 26.3222 10.1061 26.6429C10.306 27.2317 10.7683 27.694 11.3571 27.8939C11.6777 28.0027 12.0388 28.0013 12.3323 28.0002C12.3611 28.0001 12.3893 28 12.4167 28H19C24.5228 28 29 23.5228 29 18C29 12.4772 24.5228 8 19 8H12.4167C12.3893 8 12.3611 7.99989 12.3323 7.99978C12.0388 7.99867 11.6778 7.9973 11.3571 8.10614C10.7683 8.306 10.306 8.76834 10.1061 9.35712Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
    <circle cx="19" cy="42" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="clip0_7734_50402">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,defiSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#1DC956"
      d="M0 25.01c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02.11 15.65.11 24.9.11h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.13 60 15.76 60 25v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-3.45 1.97-8.08 1.97-17.33 1.97H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 49.1 0 44.46 0 35.21v-10.2Z"
    />
    <path
      fill="#2BEE6C"
      d="M16.1 60c-3.82-.18-6.4-.64-8.53-1.86a15 15 0 0 1-5.6-5.6C.55 50.06.16 46.97.04 41.98L4.2 40.6a4 4 0 0 0 2.48-2.39l4.65-12.4a2 2 0 0 1 2.5-1.2l2.53.84a2 2 0 0 0 2.43-1l2.96-5.94a2 2 0 0 1 3.7.32l3.78 12.58a2 2 0 0 0 3.03 1.09l3.34-2.23a2 2 0 0 0 .65-.7l5.3-9.72a2 2 0 0 1 1.42-1.01l4.14-.69a2 2 0 0 1 1.6.44l3.9 3.24a2 2 0 0 0 2.7-.12l4.62-4.63c.08 2.2.08 4.8.08 7.93v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-2.13 1.22-4.7 1.68-8.54 1.86H16.11Z"
    />
    <path
      fill="#fff"
      d="m.07 43.03-.05-2.1 3.85-1.28a3 3 0 0 0 1.86-1.79l4.66-12.4a3 3 0 0 1 3.75-1.8l2.53.84a1 1 0 0 0 1.21-.5l2.97-5.94a3 3 0 0 1 5.56.48l3.77 12.58a1 1 0 0 0 1.51.55l3.34-2.23a1 1 0 0 0 .33-.35l5.3-9.71a3 3 0 0 1 2.14-1.53l4.13-.69a3 3 0 0 1 2.41.66l3.9 3.24a1 1 0 0 0 1.34-.06l5.28-5.28c.05.85.08 1.75.1 2.73L56 22.41a3 3 0 0 1-4.04.19l-3.9-3.25a1 1 0 0 0-.8-.21l-4.13.69a1 1 0 0 0-.72.5l-5.3 9.72a3 3 0 0 1-.97 1.05l-3.34 2.23a3 3 0 0 1-4.53-1.63l-3.78-12.58a1 1 0 0 0-1.85-.16l-2.97 5.94a3 3 0 0 1-3.63 1.5l-2.53-.84a1 1 0 0 0-1.25.6l-4.65 12.4a5 5 0 0 1-3.1 3L.07 43.02Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M45 .28v59.66l-2 .1V.19c.7.02 1.37.05 2 .1Z" />
    <path fill="#2BEE6C" d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M.5 25.01c0-4.63 0-8.08.24-10.8.25-2.7.73-4.64 1.66-6.28a14.5 14.5 0 0 1 5.42-5.41C9.46 1.58 11.39 1.1 14.1.85A133 133 0 0 1 24.9.61h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.67a14.5 14.5 0 0 1 5.42 5.4c.93 1.65 1.41 3.58 1.66 6.3.24 2.71.24 6.16.24 10.79v10.2c0 4.64 0 8.08-.24 10.8-.25 2.7-.73 4.65-1.66 6.28a14.5 14.5 0 0 1-5.42 5.42c-1.63.93-3.57 1.41-6.28 1.66-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.66a14.5 14.5 0 0 1-5.42-5.42C1.47 50.66 1 48.72.74 46.01A133 133 0 0 1 .5 35.2v-10.2Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg>`,defiAltSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="30" />
    <path
      fill="#E87DE8"
      d="M57.98.01v19.5a4.09 4.09 0 0 0-2.63 2.29L50.7 34.2a2 2 0 0 1-2.5 1.2l-2.53-.84a2 2 0 0 0-2.42 1l-2.97 5.94a2 2 0 0 1-3.7-.32L32.8 28.6a2 2 0 0 0-3.02-1.09l-3.35 2.23a2 2 0 0 0-.64.7l-5.3 9.72a2 2 0 0 1-1.43 1.01l-4.13.69a2 2 0 0 1-1.61-.44l-3.9-3.24a2 2 0 0 0-2.69.12L2.1 42.93.02 43V.01h57.96Z"
    />
    <path
      fill="#fff"
      d="m61.95 16.94.05 2.1-3.85 1.28a3 3 0 0 0-1.86 1.79l-4.65 12.4a3 3 0 0 1-3.76 1.8l-2.53-.84a1 1 0 0 0-1.2.5l-2.98 5.94a3 3 0 0 1-5.55-.48l-3.78-12.58a1 1 0 0 0-1.5-.55l-3.35 2.23a1 1 0 0 0-.32.35l-5.3 9.72a3 3 0 0 1-2.14 1.52l-4.14.69a3 3 0 0 1-2.41-.66l-3.9-3.24a1 1 0 0 0-1.34.06l-5.28 5.28c-.05-.84-.08-1.75-.1-2.73l3.97-3.96a3 3 0 0 1 4.04-.19l3.89 3.25a1 1 0 0 0 .8.21l4.14-.68a1 1 0 0 0 .71-.51l5.3-9.71a3 3 0 0 1 .97-1.06l3.34-2.23a3 3 0 0 1 4.54 1.63l3.77 12.58a1 1 0 0 0 1.86.16l2.96-5.93a3 3 0 0 1 3.64-1.5l2.52.83a1 1 0 0 0 1.25-.6l4.66-12.4a5 5 0 0 1 3.1-2.99l4.43-1.48Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M35.5 27a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M31 0v60h-2V0h2Z" />
    <path fill="#E87DE8" d="M33.5 27a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,ethSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#987DE8" rx="30" />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="m15.48 28.37 11.97-19.3a3 3 0 0 1 5.1 0l11.97 19.3a6 6 0 0 1 .9 3.14v.03a6 6 0 0 1-1.16 3.56L33.23 50.2a4 4 0 0 1-6.46 0L15.73 35.1a6 6 0 0 1-1.15-3.54v-.03a6 6 0 0 1 .9-3.16Z"
      clip-rule="evenodd"
    />
    <path
      fill="#643CDD"
      d="M30.84 10.11a1 1 0 0 0-.84-.46V24.5l12.6 5.53a2 2 0 0 0-.28-1.4L30.84 10.11Z"
    />
    <path
      fill="#BDADEB"
      d="M30 9.65a1 1 0 0 0-.85.46L17.66 28.64a2 2 0 0 0-.26 1.39L30 24.5V9.65Z"
    />
    <path
      fill="#643CDD"
      d="M30 50.54a1 1 0 0 0 .8-.4l11.24-15.38c.3-.44-.2-1-.66-.73l-9.89 5.68a3 3 0 0 1-1.5.4v10.43Z"
    />
    <path
      fill="#BDADEB"
      d="m17.97 34.76 11.22 15.37c.2.28.5.41.8.41V40.11a3 3 0 0 1-1.49-.4l-9.88-5.68c-.47-.27-.97.3-.65.73Z"
    />
    <path
      fill="#401AB3"
      d="M42.6 30.03 30 24.5v13.14a3 3 0 0 0 1.5-.4l10.14-5.83a2 2 0 0 0 .95-1.38Z"
    />
    <path
      fill="#7C5AE2"
      d="M30 37.64V24.46l-12.6 5.57a2 2 0 0 0 .97 1.39l10.13 5.82a3 3 0 0 0 1.5.4Z"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,layersSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="3" />
  <path
    fill="#1FAD7E"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 29.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 19.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#86F999"
    stroke="#fff"
    stroke-width="2"
    d="m46.69 21.06-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-6.32-3.51-.18-.1c-2.33-1.3-3.72-2.06-5.22-2.33a9 9 0 0 0-3.08 0c-1.5.27-2.9 1.04-5.22 2.33l-.17.1-6.33 3.51-.05.03c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45Z"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,lockSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#C653C6" rx="3" />
  <path
    fill="#fff"
    d="M20.03 15.22C20 15.6 20 16.07 20 17v2.8c0 1.14 0 1.7-.2 2.12-.15.31-.3.5-.58.71-.37.28-1.06.42-2.43.7-.59.12-1.11.29-1.6.51a9 9 0 0 0-4.35 4.36C10 30 10 32.34 10 37c0 4.66 0 7 .84 8.8a9 9 0 0 0 4.36 4.36C17 51 19.34 51 24 51h12c4.66 0 7 0 8.8-.84a9 9 0 0 0 4.36-4.36C50 44 50 41.66 50 37c0-4.66 0-7-.84-8.8a9 9 0 0 0-4.36-4.36c-.48-.22-1-.39-1.6-.5-1.36-.29-2.05-.43-2.42-.7-.27-.22-.43-.4-.58-.72-.2-.42-.2-.98-.2-2.11V17c0-.93 0-1.4-.03-1.78a9 9 0 0 0-8.19-8.19C31.4 7 30.93 7 30 7s-1.4 0-1.78.03a9 9 0 0 0-8.19 8.19Z"
  />
  <path
    fill="#E87DE8"
    d="M22 17c0-.93 0-1.4.04-1.78a7 7 0 0 1 6.18-6.18C28.6 9 29.07 9 30 9s1.4 0 1.78.04a7 7 0 0 1 6.18 6.18c.04.39.04.85.04 1.78v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.4-.08-1.78a4 4 0 0 0-3.14-3.14C31.39 12 30.93 12 30 12s-1.4 0-1.78.08a4 4 0 0 0-3.14 3.14c-.08.39-.08.85-.08 1.78v4.5a1.5 1.5 0 0 1-3 0V17Z"
  />
  <path
    fill="#E87DE8"
    fill-rule="evenodd"
    d="M12 36.62c0-4.32 0-6.48.92-8.09a7 7 0 0 1 2.61-2.61C17.14 25 19.3 25 23.62 25h6.86c.46 0 .7 0 .9.02 2.73.22 4.37 2.43 4.62 4.98.27-2.7 2.11-5 5.02-5A6.98 6.98 0 0 1 48 31.98v5.4c0 4.32 0 6.48-.92 8.09a7 7 0 0 1-2.61 2.61c-1.61.92-3.77.92-8.09.92h-5.86c-.46 0-.7 0-.9-.02-2.73-.22-4.37-2.43-4.62-4.98-.26 2.58-1.94 4.82-4.71 4.99l-.7.01c-.55 0-.82 0-1.05-.02a7 7 0 0 1-6.52-6.52c-.02-.23-.02-.5-.02-1.05v-4.79Zm21.24-.27a4 4 0 1 0-6.48 0 31.28 31.28 0 0 1 1.57 2.23c.17.4.17.81.17 1.24V42.5a1.5 1.5 0 0 0 3 0V39.82c0-.43 0-.85.17-1.24.09-.2.58-.87 1.57-2.23Z"
    clip-rule="evenodd"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,loginSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#EB8B47"
      d="M0 24.9c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02 0 15.65 0 24.9 0h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.02 60 15.65 60 24.9v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6C48.98 60 44.35 60 35.1 60H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 48.98 0 44.35 0 35.1V24.9Z"
    />
    <path
      stroke="#062B2B"
      stroke-opacity=".1"
      d="M.5 24.9c0-4.64 0-8.08.24-10.8.25-2.7.73-4.65 1.66-6.28A14.5 14.5 0 0 1 7.82 2.4C9.46 1.47 11.39 1 14.1.74A133 133 0 0 1 24.9.5h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.66a14.5 14.5 0 0 1 5.42 5.42c.93 1.63 1.41 3.57 1.66 6.28.24 2.72.24 6.16.24 10.8v10.2c0 4.63 0 8.08-.24 10.8-.25 2.7-.73 4.64-1.66 6.28a14.5 14.5 0 0 1-5.42 5.41c-1.63.94-3.57 1.42-6.28 1.67-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.67a14.5 14.5 0 0 1-5.42-5.4C1.47 50.53 1 48.6.74 45.88A133 133 0 0 1 .5 35.1V24.9Z"
    />
    <path
      fill="#FF974C"
      stroke="#fff"
      stroke-width="2"
      d="M39.2 29.2a13 13 0 1 0-18.4 0l1.3 1.28a12.82 12.82 0 0 1 2.1 2.39 6 6 0 0 1 .6 1.47c.2.76.2 1.56.2 3.17v11.24c0 1.08 0 1.61.13 2.12a4 4 0 0 0 .41.98c.26.45.64.83 1.4 1.6l.3.29c.65.65.98.98 1.36 1.09.26.07.54.07.8 0 .38-.11.7-.44 1.36-1.1l3.48-3.47c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.47-.48c-.65-.65-.98-.98-1.09-1.36a1.5 1.5 0 0 1 0-.8c.1-.38.44-.7 1.1-1.36l.47-.48c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.48-.5c-.65-.64-.98-.97-1.08-1.35a1.5 1.5 0 0 1 0-.79c.1-.38.42-.7 1.06-1.36l5.46-5.55Z"
    />
    <circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg> `,networkSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#00ACE6" rx="30" />
    <circle cx="64" cy="39" r="50" fill="#1AC6FF" stroke="#fff" stroke-width="2" />
    <circle cx="78" cy="30" r="50" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="72" cy="15" r="35" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-17" r="45" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-5" r="50" stroke="#fff" stroke-width="2" />
    <circle cx="30" cy="45" r="4" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="39.5" cy="27.5" r="4" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="16" cy="24" r="4" fill="#19C6FF" stroke="#fff" stroke-width="2" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg>`,nftSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="3" />
    <path
      fill="#E87DE8"
      stroke="#fff"
      stroke-width="2"
      d="M52.1 47.34c0-4.24-1.44-9.55-5.9-12.4a2.86 2.86 0 0 0-1.6-3.89v-.82c0-1.19-.52-2.26-1.35-3a4.74 4.74 0 0 0-2.4-6.26v-5.5a11.31 11.31 0 1 0-22.63 0v2.15a3.34 3.34 0 0 0-1.18 5.05 4.74 4.74 0 0 0-.68 6.44A5.22 5.22 0 0 0 14 35.92c-3.06 4.13-6.1 8.3-6.1 15.64 0 2.67.37 4.86.74 6.39a20.3 20.3 0 0 0 .73 2.39l.02.04v.01l.92-.39-.92.4.26.6h38.26l.3-.49-.87-.51.86.5.02-.01.03-.07a16.32 16.32 0 0 0 .57-1.05c.36-.72.85-1.74 1.33-2.96a25.51 25.51 0 0 0 1.94-9.07Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M26.5 29.5c-3-.5-5.5-3-5.5-7v-7c0-.47 0-.7.03-.9a3 3 0 0 1 2.58-2.57c.2-.03.42-.03.89-.03 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.4 0 2.1 0 2.65.23a3 3 0 0 1 1.62 1.62c.23.55.23 1.25.23 2.65v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.5 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z"
      clip-rule="evenodd"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="3" /></clipPath>
  </defs>
</svg> `,nounSvg=b$7`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#794CFF" rx="3" />
  <path
    fill="#987DE8"
    stroke="#fff"
    stroke-width="2"
    d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"
  />
  <path fill="#fff" d="M37.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M42.5 25h5v10h-5z" />
  <path fill="#fff" d="M19.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M24.5 25h5v10h-5z" />
  <path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,profileSvg=b$7`<svg
  viewBox="0 0 60 60"
  fill="none"
>
  <g clip-path="url(#1)">
    <rect width="60" height="60" rx="30" fill="#00ACE6" />
    <path
      d="M59 73C59 89.0163 46.0163 102 30 102C13.9837 102 1 89.0163 1 73C1 56.9837 12 44 30 44C48 44 59 56.9837 59 73Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M18.6904 19.9015C19.6264 15.3286 23.3466 11.8445 27.9708 11.2096C29.3231 11.024 30.6751 11.0238 32.0289 11.2096C36.6532 11.8445 40.3733 15.3286 41.3094 19.9015C41.4868 20.7681 41.6309 21.6509 41.7492 22.5271C41.8811 23.5041 41.8811 24.4944 41.7492 25.4715C41.6309 26.3476 41.4868 27.2304 41.3094 28.097C40.3733 32.6699 36.6532 36.154 32.0289 36.7889C30.6772 36.9744 29.3216 36.9743 27.9708 36.7889C23.3466 36.154 19.6264 32.6699 18.6904 28.097C18.513 27.2304 18.3689 26.3476 18.2506 25.4715C18.1186 24.4944 18.1186 23.5041 18.2506 22.5271C18.3689 21.6509 18.513 20.7681 18.6904 19.9015Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="24.5" cy="23.5" r="1.5" fill="white" />
    <circle cx="35.5" cy="23.5" r="1.5" fill="white" />
    <path
      d="M31 20L28 28H32"
      stroke="white"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </g>
  <rect x="0.5" y="0.5" width="59" height="59" rx="29.5" stroke="white" stroke-opacity="0.1" />
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" rx="30" fill="white" />
    </clipPath>
  </defs>
</svg> `,systemSvg=b$7`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#1)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#794CFF"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M35.1403 31.5016C35.1193 30.9637 35.388 30.4558 35.8446 30.1707C36.1207 29.9982 36.4761 29.8473 36.7921 29.7685C37.3143 29.6382 37.8664 29.7977 38.2386 30.1864C38.8507 30.8257 39.3004 31.6836 39.8033 32.408C40.2796 33.0942 41.4695 33.2512 41.9687 32.5047C42.4839 31.7341 42.9405 30.8229 43.572 30.1399C43.9375 29.7447 44.4866 29.5756 45.0111 29.6967C45.3283 29.7701 45.6863 29.9147 45.9655 30.0823C46.4269 30.3595 46.7045 30.8626 46.6928 31.4008C46.6731 32.3083 46.3764 33.2571 46.2158 34.1473C46.061 35.0048 46.9045 35.8337 47.7592 35.664C48.6464 35.4878 49.5899 35.1747 50.497 35.1391C51.0348 35.1181 51.5427 35.3868 51.8279 35.8433C52.0004 36.1195 52.1513 36.4749 52.2301 36.7908C52.3604 37.3131 52.2009 37.8651 51.8121 38.2374C51.1729 38.8495 50.3151 39.2991 49.5908 39.8019C48.9046 40.2782 48.7473 41.4683 49.4939 41.9675C50.2644 42.4827 51.1757 42.9393 51.8587 43.5708C52.2539 43.9362 52.423 44.4854 52.3018 45.0099C52.2285 45.3271 52.0839 45.6851 51.9162 45.9642C51.6391 46.4257 51.1359 46.7032 50.5978 46.6916C49.6903 46.6719 48.7417 46.3753 47.8516 46.2146C46.9939 46.0598 46.1648 46.9035 46.3346 47.7583C46.5108 48.6454 46.8239 49.5888 46.8594 50.4958C46.8805 51.0336 46.6117 51.5415 46.1552 51.8267C45.879 51.9992 45.5236 52.15 45.2077 52.2289C44.6854 52.3592 44.1334 52.1997 43.7611 51.8109C43.1491 51.1718 42.6996 50.314 42.1968 49.5897C41.7203 48.9034 40.5301 48.7463 40.0309 49.493C39.5157 50.2634 39.0592 51.1746 38.4278 51.8574C38.0623 52.2527 37.5132 52.4218 36.9887 52.3006C36.6715 52.2273 36.3135 52.0826 36.0343 51.915C35.5729 51.6379 35.2953 51.1347 35.307 50.5966C35.3267 49.6891 35.6233 48.7405 35.7839 47.8505C35.9388 46.9928 35.0951 46.1636 34.2402 46.3334C33.3531 46.5096 32.4098 46.8227 31.5028 46.8582C30.9649 46.8793 30.457 46.6105 30.1719 46.154C29.9994 45.8778 29.8485 45.5224 29.7697 45.2065C29.6394 44.6842 29.7989 44.1322 30.1877 43.7599C30.8269 43.1479 31.6847 42.6982 32.4091 42.1954C33.0954 41.7189 33.2522 40.5289 32.5056 40.0297C31.7351 39.5145 30.824 39.058 30.1411 38.4265C29.7459 38.0611 29.5768 37.5119 29.698 36.9875C29.7713 36.6702 29.9159 36.3122 30.0836 36.0331C30.3607 35.5717 30.8638 35.2941 31.402 35.3058C32.3095 35.3255 33.2583 35.6221 34.1485 35.7828C35.006 35.9376 35.8349 35.094 35.6652 34.2393C35.489 33.3521 35.1759 32.4087 35.1403 31.5016Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M20.7706 8.22357C20.9036 7.51411 21.5231 7 22.2449 7H23.7551C24.4769 7 25.0964 7.51411 25.2294 8.22357C25.5051 9.69403 25.4829 11.6321 27.1202 12.2606C27.3092 12.3331 27.4958 12.4105 27.6798 12.4926C29.2818 13.2072 30.6374 11.8199 31.8721 10.9752C32.4678 10.5676 33.2694 10.6421 33.7798 11.1525L34.8477 12.2204C35.3581 12.7308 35.4326 13.5323 35.025 14.128C34.1802 15.3627 32.7931 16.7183 33.5077 18.3202C33.5898 18.5043 33.6672 18.6909 33.7398 18.88C34.3683 20.5171 36.3061 20.4949 37.7764 20.7706C38.4859 20.9036 39 21.5231 39 22.2449V23.7551C39 24.4769 38.4859 25.0964 37.7764 25.2294C36.3061 25.5051 34.3685 25.483 33.7401 27.1201C33.6675 27.3093 33.59 27.4961 33.5079 27.6803C32.7934 29.282 34.1803 30.6374 35.025 31.8719C35.4326 32.4677 35.3581 33.2692 34.8477 33.7796L33.7798 34.8475C33.2694 35.3579 32.4678 35.4324 31.8721 35.0248C30.6376 34.1801 29.2823 32.7934 27.6806 33.508C27.4962 33.5903 27.3093 33.6678 27.12 33.7405C25.483 34.3688 25.5051 36.3062 25.2294 37.7764C25.0964 38.4859 24.4769 39 23.7551 39H22.2449C21.5231 39 20.9036 38.4859 20.7706 37.7764C20.4949 36.3062 20.517 34.3688 18.88 33.7405C18.6908 33.6678 18.5039 33.5903 18.3196 33.5081C16.7179 32.7936 15.3625 34.1804 14.1279 35.0251C13.5322 35.4327 12.7307 35.3582 12.2203 34.8478L11.1524 33.7799C10.642 33.2695 10.5675 32.4679 10.9751 31.8722C11.8198 30.6376 13.2067 29.2822 12.4922 27.6804C12.41 27.4962 12.3325 27.3093 12.2599 27.1201C11.6315 25.483 9.69392 25.5051 8.22357 25.2294C7.51411 25.0964 7 24.4769 7 23.7551V22.2449C7 21.5231 7.51411 20.9036 8.22357 20.7706C9.69394 20.4949 11.6317 20.5171 12.2602 18.88C12.3328 18.6909 12.4103 18.5042 12.4924 18.3201C13.207 16.7181 11.8198 15.3625 10.975 14.1278C10.5674 13.5321 10.6419 12.7305 11.1523 12.2201L12.2202 11.1522C12.7306 10.6418 13.5322 10.5673 14.1279 10.9749C15.3626 11.8197 16.7184 13.2071 18.3204 12.4925C18.5044 12.4105 18.6909 12.3331 18.8799 12.2606C20.5171 11.6321 20.4949 9.69403 20.7706 8.22357Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="23" cy="23" r="6" fill="#794CFF" stroke="white" stroke-width="2" />
    <circle cx="41" cy="41" r="4" fill="#794CFF" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,coinbaseSvg=b$7`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <g clip-path="url(#clip0_187_29)">
    <path d="M1.18187e-05 15.8055C1.18187e-05 9.8015 -5.19442e-07 6.91338 1.69991e-08 0C4.5 3.72236e-05 9.62249 0 16.5 0L23.5 4.31399e-05C29.9349 4.31399e-05 35.5 0.000206332 40 3.73468e-05C40 2.77754 40 9.36708 40 15.8055V22.8364C40 29.2647 40 33.7962 40 40C31.5 40 29.8337 40 23.4 40H16.6C10.5092 40 6.50004 40 4.04289e-05 40C3.05176e-05 32.2453 1.18187e-05 29.6382 1.18187e-05 22.8364V15.8055Z" fill="#0052FF"/>
    <path d="M20.0236 26.5C16.4342 26.5 13.5236 23.5931 13.5236 20C13.5236 16.4069 16.4342 13.5 20.0236 13.5C23.2411 13.5 25.9134 15.8472 26.4261 18.9167H32.9731C32.4206 12.2433 26.8342 7 20.02 7C12.8411 7 7.02002 12.8211 7.02002 20C7.02002 27.1789 12.8411 33 20.02 33C26.8342 33 32.4206 27.7567 32.9731 21.0833H26.4225C25.9061 24.1528 23.2411 26.5 20.0236 26.5Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0_187_29">
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>`,moonpaySvg=b$7`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#7D00FF"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        d="M28.306 15.381a3.69 3.69 0 1 0 0-7.381 3.69 3.69 0 0 0 0 7.381ZM16.987 32a8.991 8.991 0 1 1 .016-17.983A8.991 8.991 0 0 1 16.988 32Z"
        fill="#fff"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,stripeSvg=b$7`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#635BFF"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M18.299 15.147c0-1.028.844-1.424 2.242-1.424 2.004 0 4.536.607 6.54 1.688V9.213C24.892 8.343 22.73 8 20.541 8c-5.354 0-8.915 2.796-8.915 7.464 0 7.279 10.022 6.118 10.022 9.257 0 1.213-1.055 1.609-2.531 1.609-2.19 0-4.985-.897-7.2-2.11v6.277a18.283 18.283 0 0 0 7.2 1.503c5.485 0 9.257-2.716 9.257-7.437-.027-7.86-10.075-6.462-10.075-9.416Z"
        fill="#fff"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,paypalSvg=b$7`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#fff"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        d="M18.606 12.642a.781.781 0 0 0-.771.66l-1.281 8.125a.78.78 0 0 1 .77-.66h3.755a7.668 7.668 0 0 0 7.57-6.49 6.26 6.26 0 0 0 .075-.843c-.96-.504-2.089-.792-3.325-.792h-6.793Z"
        fill="#001C64"
      />
      <path
        d="M28.724 13.434c-.006.282-.03.564-.075.843a7.668 7.668 0 0 1-7.57 6.491h-3.754a.78.78 0 0 0-.771.66l-1.916 12.15a.634.634 0 0 0 .626.734h4.075a.781.781 0 0 0 .77-.66l1.074-6.807a.781.781 0 0 1 .772-.66h2.4a7.668 7.668 0 0 0 7.57-6.491c.415-2.651-.92-5.064-3.201-6.26Z"
        fill="#0070E0"
      />
      <path
        d="M13.977 7.226a.78.78 0 0 0-.771.658l-3.198 20.277a.634.634 0 0 0 .626.733h4.742l1.178-7.467 1.281-8.125a.782.782 0 0 1 .771-.66H25.4c1.237 0 2.364.289 3.325.792.065-3.4-2.74-6.208-6.599-6.208h-8.148Z"
        fill="#003087"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,onrampCardSvg=b$7`<svg width="60" height="60" viewBox="0 0 60 60" fill="none">
<g clip-path="url(#clip0_13859_31161)">
  <path d="M0 24.8995C0 15.6481 0 11.0223 1.97053 7.56763C3.3015 5.2342 5.23468 3.30101 7.56812 1.97004C11.0228 -0.000488281 15.6485 -0.000488281 24.9 -0.000488281H35.1C44.3514 -0.000488281 48.9772 -0.000488281 52.4319 1.97004C54.7653 3.30101 56.6985 5.2342 58.0295 7.56763C60 11.0223 60 15.6481 60 24.8995V35.0995C60 44.351 60 48.9767 58.0295 52.4314C56.6985 54.7648 54.7653 56.698 52.4319 58.029C48.9772 59.9995 44.3514 59.9995 35.1 59.9995H24.9C15.6485 59.9995 11.0228 59.9995 7.56812 58.029C5.23468 56.698 3.3015 54.7648 1.97053 52.4314C0 48.9767 0 44.351 0 35.0995V24.8995Z" fill="#EB8B47"/>
  <path d="M0.5 24.8995C0.5 20.2647 0.50047 16.8216 0.744315 14.1045C0.987552 11.3941 1.46987 9.45455 2.40484 7.81536C3.69145 5.55971 5.56019 3.69096 7.81585 2.40435C9.45504 1.46938 11.3946 0.987064 14.105 0.743826C16.8221 0.499981 20.2652 0.499512 24.9 0.499512H35.1C39.7348 0.499512 43.1779 0.499981 45.895 0.743826C48.6054 0.987064 50.545 1.46938 52.1841 2.40435C54.4398 3.69096 56.3086 5.55971 57.5952 7.81536C58.5301 9.45455 59.0124 11.3941 59.2557 14.1045C59.4995 16.8216 59.5 20.2647 59.5 24.8995V35.0995C59.5 39.7343 59.4995 43.1774 59.2557 45.8945C59.0124 48.6049 58.5301 50.5445 57.5952 52.1837C56.3086 54.4393 54.4398 56.3081 52.1841 57.5947C50.545 58.5296 48.6054 59.012 45.895 59.2552C43.1779 59.499 39.7348 59.4995 35.1 59.4995H24.9C20.2652 59.4995 16.8221 59.499 14.105 59.2552C11.3946 59.012 9.45504 58.5296 7.81585 57.5947C5.56019 56.3081 3.69145 54.4393 2.40484 52.1837C1.46987 50.5445 0.987552 48.6049 0.744315 45.8945C0.50047 43.1774 0.5 39.7343 0.5 35.0995V24.8995Z" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M13 26.0335C13 21.7838 13 19.659 14.0822 18.1694C14.4318 17.6883 14.8548 17.2653 15.3359 16.9157C16.8255 15.8335 18.9503 15.8335 23.2 15.8335H36.8C41.0497 15.8335 43.1745 15.8335 44.6641 16.9157C45.1452 17.2653 45.5682 17.6883 45.9178 18.1694C47 19.659 47 21.7838 47 26.0335V33.9668C47 38.2165 47 40.3414 45.9178 41.831C45.5682 42.312 45.1452 42.7351 44.6641 43.0846C43.1745 44.1668 41.0497 44.1668 36.8 44.1668H23.2C18.9503 44.1668 16.8255 44.1668 15.3359 43.0846C14.8548 42.7351 14.4318 42.312 14.0822 41.831C13 40.3414 13 38.2165 13 33.9668V26.0335Z" fill="#FF974C" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M39.5 36.667H36.6666" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M45.2 23.0645H14.8C14.0501 23.0645 13.6751 23.0645 13.4122 23.2554C13.3273 23.3171 13.2527 23.3918 13.191 23.4767C13 23.7395 13 24.1145 13 24.8645V27.2645C13 28.0144 13 28.3894 13.191 28.6522C13.2527 28.7371 13.3273 28.8118 13.4122 28.8735C13.6751 29.0645 14.0501 29.0645 14.8 29.0645H45.2C45.9499 29.0645 46.3249 29.0645 46.5878 28.8735C46.6727 28.8118 46.7473 28.7371 46.809 28.6522C47 28.3894 47 28.0144 47 27.2645V24.8645C47 24.1145 47 23.7395 46.809 23.4767C46.7473 23.3918 46.6727 23.3171 46.5878 23.2554C46.3249 23.0645 45.9499 23.0645 45.2 23.0645Z" fill="white" fill-opacity="0.4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<defs>
  <clipPath id="clip0_13859_31161">
    <rect width="60" height="60" fill="white"/>
  </clipPath>
</defs>
</svg>`,styles$1c=i$7`
  :host {
    display: block;
    width: var(--local-size);
    height: var(--local-size);
  }

  :host svg {
    width: 100%;
    height: 100%;
  }
`;var __decorate$1D=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const svgOptions={browser:browserSvg,dao:daoSvg,defi:defiSvg,defiAlt:defiAltSvg,eth:ethSvg,layers:layersSvg,lock:lockSvg,login:loginSvg,network:networkSvg,nft:nftSvg,noun:nounSvg,profile:profileSvg,system:systemSvg,coinbase:coinbaseSvg,onrampCard:onrampCardSvg,moonpay:moonpaySvg,stripe:stripeSvg,paypal:paypalSvg};let WuiVisual=class extends r$7{constructor(){super(...arguments),this.name="browser",this.size="md"}render(){return this.style.cssText=`
       --local-size: var(--wui-visual-size-${this.size});
   `,x$4`${svgOptions[this.name]}`}};WuiVisual.styles=[resetStyles,styles$1c];__decorate$1D([n$8()],WuiVisual.prototype,"name",void 0);__decorate$1D([n$8()],WuiVisual.prototype,"size",void 0);WuiVisual=__decorate$1D([customElement("wui-visual")],WuiVisual);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$5=se=>se??E$7,UiHelperUtil={getSpacingStyles(se,Y){if(Array.isArray(se))return se[Y]?`var(--wui-spacing-${se[Y]})`:void 0;if(typeof se=="string")return`var(--wui-spacing-${se})`},getFormattedDate(se){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(se)},getHostName(se){return new URL(se).hostname},getTruncateString({string:se,charsStart:Y,charsEnd:ne,truncate:fe}){return se.length<=Y+ne?se:fe==="end"?`${se.substring(0,Y)}...`:fe==="start"?`...${se.substring(se.length-ne)}`:`${se.substring(0,Math.floor(Y))}...${se.substring(se.length-Math.floor(ne))}`},generateAvatarColors(se){const ne=se.toLowerCase().replace(/^0x/iu,"").substring(0,6),fe=this.hexToRgb(ne),ye=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),be=100-3*Number(ye==null?void 0:ye.replace("px","")),we=`${be}% ${be}% at 65% 40%`,Ee=[];for(let xe=0;xe<5;xe+=1){const Se=this.tintColor(fe,.15*xe);Ee.push(`rgb(${Se[0]}, ${Se[1]}, ${Se[2]})`)}return`
    --local-color-1: ${Ee[0]};
    --local-color-2: ${Ee[1]};
    --local-color-3: ${Ee[2]};
    --local-color-4: ${Ee[3]};
    --local-color-5: ${Ee[4]};
    --local-radial-circle: ${we}
   `},hexToRgb(se){const Y=parseInt(se,16),ne=Y>>16&255,fe=Y>>8&255,ye=Y&255;return[ne,fe,ye]},tintColor(se,Y){const[ne,fe,ye]=se,me=Math.round(ne+(255-ne)*Y),be=Math.round(fe+(255-fe)*Y),we=Math.round(ye+(255-ye)*Y);return[me,be,we]},isNumber(se){return{number:/^[0-9]+$/u}.number.test(se)},getColorTheme(se){return se||(typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark")}},styles$1b=i$7`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var __decorate$1C=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiFlex=class extends r$7{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,3)};
    `,x$4`<slot></slot>`}};WuiFlex.styles=[resetStyles,styles$1b];__decorate$1C([n$8()],WuiFlex.prototype,"flexDirection",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"flexWrap",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"flexBasis",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"flexGrow",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"flexShrink",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"alignItems",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"justifyContent",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"columnGap",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"rowGap",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"gap",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"padding",void 0);__decorate$1C([n$8()],WuiFlex.prototype,"margin",void 0);WuiFlex=__decorate$1C([customElement("wui-flex")],WuiFlex);const styles$1a=i$7`
  :host {
    display: block;
    width: var(--wui-icon-box-size-xl);
    height: var(--wui-icon-box-size-xl);
    border-radius: var(--wui-border-radius-3xl);
    box-shadow: 0 0 0 8px var(--wui-gray-glass-005);
    overflow: hidden;
    position: relative;
  }

  :host([data-variant='generated']) {
    --mixed-local-color-1: var(--local-color-1);
    --mixed-local-color-2: var(--local-color-2);
    --mixed-local-color-3: var(--local-color-3);
    --mixed-local-color-4: var(--local-color-4);
    --mixed-local-color-5: var(--local-color-5);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host([data-variant='generated']) {
      --mixed-local-color-1: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-1)
      );
      --mixed-local-color-2: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-2)
      );
      --mixed-local-color-3: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-3)
      );
      --mixed-local-color-4: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-4)
      );
      --mixed-local-color-5: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-5)
      );
    }
  }

  :host([data-variant='generated']) {
    box-shadow: 0 0 0 8px var(--wui-gray-glass-005);
    background: radial-gradient(
      var(--local-radial-circle),
      #fff 0.52%,
      var(--mixed-local-color-5) 31.25%,
      var(--mixed-local-color-3) 51.56%,
      var(--mixed-local-color-2) 65.63%,
      var(--mixed-local-color-1) 82.29%,
      var(--mixed-local-color-4) 100%
    );
  }

  :host([data-variant='default']) {
    box-shadow: 0 0 0 8px var(--wui-gray-glass-005);
    background: radial-gradient(
      75.29% 75.29% at 64.96% 24.36%,
      #fff 0.52%,
      #f5ccfc 31.25%,
      #dba4f5 51.56%,
      #9a8ee8 65.63%,
      #6493da 82.29%,
      #6ebdea 100%
    );
  }
`;var __decorate$1B=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiAvatar=class extends r$7{constructor(){super(...arguments),this.imageSrc=void 0,this.alt=void 0,this.address=void 0}render(){return x$4`${this.visualTemplate()}`}visualTemplate(){if(this.imageSrc)return this.dataset.variant="image",x$4`<wui-image src=${this.imageSrc} alt=${this.alt??"avatar"}></wui-image>`;if(this.address){this.dataset.variant="generated";const Y=UiHelperUtil.generateAvatarColors(this.address);return this.style.cssText=Y,null}return this.dataset.variant="default",null}};WuiAvatar.styles=[resetStyles,styles$1a];__decorate$1B([n$8()],WuiAvatar.prototype,"imageSrc",void 0);__decorate$1B([n$8()],WuiAvatar.prototype,"alt",void 0);__decorate$1B([n$8()],WuiAvatar.prototype,"address",void 0);WuiAvatar=__decorate$1B([customElement("wui-avatar")],WuiAvatar);const styles$19=i$7`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var __decorate$1A=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiIconBox=class extends r$7{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const Y=this.iconSize||this.size,ne=this.size==="lg",fe=this.size==="xl",ye=ne?"12%":"16%",me=ne?"xxs":fe?"s":"3xl",be=this.background==="gray",we=this.background==="opaque",Ee=this.backgroundColor==="accent-100"&&we||this.backgroundColor==="success-100"&&we||this.backgroundColor==="error-100"&&we||this.backgroundColor==="inverse-100"&&we;let xe=`var(--wui-color-${this.backgroundColor})`;return Ee?xe=`var(--wui-icon-box-bg-${this.backgroundColor})`:be&&(xe=`var(--wui-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${xe};
       --local-bg-mix: ${Ee||be?"100%":ye};
       --local-border-radius: var(--wui-border-radius-${me});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,x$4` <wui-icon color=${this.iconColor} size=${Y} name=${this.icon}></wui-icon> `}};WuiIconBox.styles=[resetStyles,elementStyles,styles$19];__decorate$1A([n$8()],WuiIconBox.prototype,"size",void 0);__decorate$1A([n$8()],WuiIconBox.prototype,"backgroundColor",void 0);__decorate$1A([n$8()],WuiIconBox.prototype,"iconColor",void 0);__decorate$1A([n$8()],WuiIconBox.prototype,"iconSize",void 0);__decorate$1A([n$8()],WuiIconBox.prototype,"background",void 0);__decorate$1A([n$8({type:Boolean})],WuiIconBox.prototype,"border",void 0);__decorate$1A([n$8()],WuiIconBox.prototype,"borderColor",void 0);__decorate$1A([n$8()],WuiIconBox.prototype,"icon",void 0);WuiIconBox=__decorate$1A([customElement("wui-icon-box")],WuiIconBox);const styles$18=i$7`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    background: var(--wui-gray-glass-002);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-gray-glass-005);
  }

  button:disabled {
    background: var(--wui-gray-glass-015);
  }

  button:disabled > wui-text {
    color: var(--wui-gray-glass-015);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-gray-glass-015);
  }

  button:disabled > wui-image,
  button:disabled > wui-icon-box,
  button:disabled > wui-flex > wui-avatar {
    filter: grayscale(1);
  }

  button:has(wui-image) {
    padding: var(--wui-spacing-3xs) var(--wui-spacing-3xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
  }

  wui-text {
    color: var(--wui-color-fg-100);
  }

  wui-flex > wui-text {
    color: var(--wui-color-fg-200);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-gray-glass-005);
  }

  wui-flex {
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-gray-glass-005);
    background: var(--wui-gray-glass-005);
    padding: 4px var(--wui-spacing-m) 4px var(--wui-spacing-xxs);
  }

  button.local-no-balance {
    border-radius: 0px;
    border: none;
    background: transparent;
  }

  wui-avatar {
    width: 20px;
    height: 20px;
    box-shadow: 0 0 0 2px var(--wui-accent-glass-010);
  }

  @media (max-width: 500px) {
    button {
      gap: 0px;
      padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) !important;
      height: 32px;
    }
    wui-image,
    wui-icon-box,
    button > wui-text {
      visibility: hidden;
      width: 0px;
      height: 0px;
    }
    button {
      border-radius: 0px;
      border: none;
      background: transparent;
      padding: 0px;
    }
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }

    button:active:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }
  }
`;var __decorate$1z=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiAccountButton=class extends r$7{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.balance=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.isProfileName=!1,this.address="",this.charsStart=4,this.charsEnd=6}render(){return x$4`
      <button
        ?disabled=${this.disabled}
        class=${o$5(this.balance?void 0:"local-no-balance")}
      >
        ${this.balanceTemplate()}
        <wui-flex gap="xxs" alignItems="center">
          <wui-avatar
            .imageSrc=${this.avatarSrc}
            alt=${this.address}
            address=${this.address}
          ></wui-avatar>
          <wui-text variant="paragraph-600" color="inherit">
            ${UiHelperUtil.getTruncateString({string:this.address,charsStart:this.isProfileName?18:this.charsStart,charsEnd:this.isProfileName?0:this.charsEnd,truncate:this.isProfileName?"end":"middle"})}
          </wui-text>
        </wui-flex>
      </button>
    `}balanceTemplate(){if(this.isUnsupportedChain)return x$4` <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
        ></wui-icon-box>
        <wui-text variant="paragraph-600" color="inherit"> Switch Network</wui-text>`;if(this.balance){const Y=this.networkSrc?x$4`<wui-image src=${this.networkSrc}></wui-image>`:x$4`
            <wui-icon-box
              size="sm"
              iconColor="fg-200"
              backgroundColor="fg-300"
              icon="networkPlaceholder"
            ></wui-icon-box>
          `;return x$4`
        ${Y}
        <wui-text variant="paragraph-600" color="inherit"> ${this.balance} </wui-text>
      `}return null}};WuiAccountButton.styles=[resetStyles,elementStyles,styles$18];__decorate$1z([n$8()],WuiAccountButton.prototype,"networkSrc",void 0);__decorate$1z([n$8()],WuiAccountButton.prototype,"avatarSrc",void 0);__decorate$1z([n$8()],WuiAccountButton.prototype,"balance",void 0);__decorate$1z([n$8({type:Boolean})],WuiAccountButton.prototype,"isUnsupportedChain",void 0);__decorate$1z([n$8({type:Boolean})],WuiAccountButton.prototype,"disabled",void 0);__decorate$1z([n$8({type:Boolean})],WuiAccountButton.prototype,"isProfileName",void 0);__decorate$1z([n$8()],WuiAccountButton.prototype,"address",void 0);__decorate$1z([n$8()],WuiAccountButton.prototype,"charsStart",void 0);__decorate$1z([n$8()],WuiAccountButton.prototype,"charsEnd",void 0);WuiAccountButton=__decorate$1z([customElement("wui-account-button")],WuiAccountButton);const styles$17=i$7`
  :host {
    position: relative;
    background-color: var(--wui-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-base-150, #1e1f1f);
    padding: 1px;
  }
`;var __decorate$1y=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiWalletImage=class extends r$7{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let Y="xxs";return this.size==="lg"?Y="m":this.size==="md"?Y="xs":Y="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${Y});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),x$4`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?x$4`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?x$4`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:x$4`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};WuiWalletImage.styles=[resetStyles,styles$17];__decorate$1y([n$8()],WuiWalletImage.prototype,"size",void 0);__decorate$1y([n$8()],WuiWalletImage.prototype,"name",void 0);__decorate$1y([n$8()],WuiWalletImage.prototype,"imageSrc",void 0);__decorate$1y([n$8()],WuiWalletImage.prototype,"walletIcon",void 0);__decorate$1y([n$8({type:Boolean})],WuiWalletImage.prototype,"installed",void 0);__decorate$1y([n$8()],WuiWalletImage.prototype,"badgeSize",void 0);WuiWalletImage=__decorate$1y([customElement("wui-wallet-image")],WuiWalletImage);const styles$16=i$7`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var __decorate$1x=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const TOTAL_IMAGES=4;let WuiAllWalletsImage=class extends r$7{constructor(){super(...arguments),this.walletImages=[]}render(){const Y=this.walletImages.length<TOTAL_IMAGES;return x$4`${this.walletImages.slice(0,TOTAL_IMAGES).map(({src:ne,walletName:fe})=>x$4`
            <wui-wallet-image
              size="inherit"
              imageSrc=${ne}
              name=${o$5(fe)}
            ></wui-wallet-image>
          `)}
      ${Y?[...Array(TOTAL_IMAGES-this.walletImages.length)].map(()=>x$4` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};WuiAllWalletsImage.styles=[resetStyles,styles$16];__decorate$1x([n$8({type:Array})],WuiAllWalletsImage.prototype,"walletImages",void 0);WuiAllWalletsImage=__decorate$1x([customElement("wui-all-wallets-image")],WuiAllWalletsImage);const styles$15=i$7`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: 1px solid var(--wui-gray-glass-010);
    border-radius: var(--local-border-radius);
    width: var(--local-width);
  }

  button:disabled {
    border: 1px solid var(--wui-gray-glass-010);
  }

  /* xs settings */
  button[data-size='xs'] {
    padding: var(--wui-spacing-xs) var(--wui-spacing-1xs);
  }

  button[data-size='xs'][data-icon-left='true'][data-icon-right='false'] {
    padding-left: var(--wui-spacing-xxs);
  }

  button[data-size='xs'][data-icon-right='true'][data-icon-left='false'] {
    padding-right: var(--wui-spacing-xxs);
  }

  /* sm settings */
  button[data-size='sm'] {
    padding: var(--wui-spacing-xxs) var(--wui-spacing-s);
  }

  button[data-size='sm'][data-icon-left='true'][data-icon-right='false'] {
    padding: var(--wui-spacing-xxs) var(--wui-spacing-s) var(--wui-spacing-xxs)
      var(--wui-spacing-xs);
  }

  button[data-size='sm'][data-icon-right='true'][data-icon-left='false'] {
    padding: var(--wui-spacing-xxs) var(--wui-spacing-xs) var(--wui-spacing-xxs)
      var(--wui-spacing-s);
  }

  /* md settings */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  /* lg settings */
  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
  }

  button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
    padding-left: var(--wui-spacing-m);
  }

  button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
    padding-right: var(--wui-spacing-m);
  }

  button > wui-text {
    transition: opacity 200ms ease-in-out;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity 200ms ease-in-out;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transition: all 200ms ease-in-out;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var __decorate$1w=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const TEXT_VARIANT_BY_SIZE={xs:"small-600",sm:"paragraph-600",md:"small-600",mdl:"small-600",lg:"paragraph-600"};let WuiButton=class extends r$7{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="fill",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const Y=this.textVariant??TEXT_VARIANT_BY_SIZE[this.size];return x$4`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled||this.loading}
        ontouchstart
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${Y} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){return this.loading?x$4`<wui-loading-spinner color="fg-300"></wui-loading-spinner>`:x$4``}};WuiButton.styles=[resetStyles,elementStyles,styles$15];__decorate$1w([n$8()],WuiButton.prototype,"size",void 0);__decorate$1w([n$8({type:Boolean})],WuiButton.prototype,"disabled",void 0);__decorate$1w([n$8({type:Boolean})],WuiButton.prototype,"fullWidth",void 0);__decorate$1w([n$8({type:Boolean})],WuiButton.prototype,"loading",void 0);__decorate$1w([n$8()],WuiButton.prototype,"variant",void 0);__decorate$1w([n$8({type:Boolean})],WuiButton.prototype,"hasIconLeft",void 0);__decorate$1w([n$8({type:Boolean})],WuiButton.prototype,"hasIconRight",void 0);__decorate$1w([n$8()],WuiButton.prototype,"borderRadius",void 0);__decorate$1w([n$8()],WuiButton.prototype,"textVariant",void 0);WuiButton=__decorate$1w([customElement("wui-button")],WuiButton);const networkSvgMd=b$7`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,styles$14=i$7`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 76px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-gray-glass-010);
    stroke-width: 1px;
  }
`;var __decorate$1v=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiCardSelectLoader=class extends r$7{constructor(){super(...arguments),this.type="wallet"}render(){return x$4`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?x$4` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${networkSvgMd}`:x$4`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};WuiCardSelectLoader.styles=[resetStyles,elementStyles,styles$14];__decorate$1v([n$8()],WuiCardSelectLoader.prototype,"type",void 0);WuiCardSelectLoader=__decorate$1v([customElement("wui-card-select-loader")],WuiCardSelectLoader);const networkSvgSm=b$7`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`,networkSvgLg=b$7`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`,styles$13=i$7`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    fill: var(--wui-gray-glass-002);
  }

  svg > path {
    stroke: var(--local-stroke);
    transition: stroke var(--wui-ease-out-power-1) var(--wui-duration-lg);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: var(--wui-gray-glass-002);
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`;var __decorate$1u=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiNetworkImage=class extends r$7{constructor(){super(...arguments),this.size="md",this.name="uknown",this.selected=!1}render(){const Y={sm:networkSvgSm,md:networkSvgMd,lg:networkSvgLg};return this.style.cssText=`
      --local-stroke: ${this.selected?"var(--wui-color-accent-100)":"var(--wui-gray-glass-010)"};
      --local-path: var(--wui-path-network-${this.size});
      --local-width:  var(--wui-width-network-${this.size});
      --local-height:  var(--wui-height-network-${this.size});
      --local-icon-size:  var(--wui-icon-size-network-${this.size});
    `,x$4`${this.templateVisual()} ${Y[this.size]}`}templateVisual(){return this.imageSrc?x$4`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:x$4`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};WuiNetworkImage.styles=[resetStyles,styles$13];__decorate$1u([n$8()],WuiNetworkImage.prototype,"size",void 0);__decorate$1u([n$8()],WuiNetworkImage.prototype,"name",void 0);__decorate$1u([n$8()],WuiNetworkImage.prototype,"imageSrc",void 0);__decorate$1u([n$8({type:Boolean})],WuiNetworkImage.prototype,"selected",void 0);WuiNetworkImage=__decorate$1u([customElement("wui-network-image")],WuiNetworkImage);const styles$12=i$7`
  button {
    flex-direction: column;
    width: 76px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-0);
    background-color: var(--wui-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
  }

  button > wui-text {
    color: var(--wui-color-fg-100);
    max-width: var(--wui-icon-box-size-xl);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button:disabled > wui-text {
    color: var(--wui-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-accent-glass-010);
  }
`;var __decorate$1t=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiCardSelect=class extends r$7{constructor(){super(...arguments),this.name="Unknown",this.type="wallet",this.imageSrc=void 0,this.disabled=!1,this.selected=!1,this.installed=!1}render(){return x$4`
      <button data-selected=${o$5(this.selected)} ?disabled=${this.disabled} ontouchstart>
        ${this.imageTemplate()}
        <wui-text variant="tiny-500" color=${this.selected?"accent-100":"inherit"}>
          ${this.name}
        </wui-text>
      </button>
    `}imageTemplate(){return this.type==="network"?x$4`
        <wui-network-image
          .selected=${this.selected}
          imageSrc=${o$5(this.imageSrc)}
          name=${this.name}
        >
        </wui-network-image>
      `:x$4`
      <wui-wallet-image
        size="md"
        imageSrc=${o$5(this.imageSrc)}
        name=${this.name}
        .installed=${this.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}};WuiCardSelect.styles=[resetStyles,elementStyles,styles$12];__decorate$1t([n$8()],WuiCardSelect.prototype,"name",void 0);__decorate$1t([n$8()],WuiCardSelect.prototype,"type",void 0);__decorate$1t([n$8()],WuiCardSelect.prototype,"imageSrc",void 0);__decorate$1t([n$8({type:Boolean})],WuiCardSelect.prototype,"disabled",void 0);__decorate$1t([n$8({type:Boolean})],WuiCardSelect.prototype,"selected",void 0);__decorate$1t([n$8({type:Boolean})],WuiCardSelect.prototype,"installed",void 0);WuiCardSelect=__decorate$1t([customElement("wui-card-select")],WuiCardSelect);const styles$11=i$7`
  a {
    border: 1px solid var(--wui-gray-glass-010);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  a.disabled > wui-icon,
  a.disabled > wui-image {
    filter: grayscale(1);
  }

  a[data-variant='fill'] {
    color: var(--wui-color-inverse-100);
    background-color: var(--wui-color-accent-100);
  }

  a[data-variant='shade'],
  a[data-variant='shadeSmall'] {
    background-color: transparent;
    background-color: var(--wui-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  a[data-variant='success'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-success-glass-010);
    background-color: var(--wui-success-glass-010);
    color: var(--wui-color-success-100);
  }

  a[data-variant='error'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-error-glass-010);
    background-color: var(--wui-error-glass-010);
    color: var(--wui-color-error-100);
  }

  a[data-variant='transparent'] {
    column-gap: var(--wui-spacing-xxs);
    background-color: transparent;
    color: var(--wui-color-fg-150);
  }

  a[data-variant='transparent'],
  a[data-variant='success'],
  a[data-variant='shadeSmall'],
  a[data-variant='error'] {
    padding: 7px var(--wui-spacing-s) 7px 10px;
  }

  a[data-variant='transparent']:has(wui-text:first-child),
  a[data-variant='success']:has(wui-text:first-child),
  a[data-variant='shadeSmall']:has(wui-text:first-child),
  a[data-variant='error']:has(wui-text:first-child) {
    padding: 7px var(--wui-spacing-s);
  }

  a[data-variant='fill'],
  a[data-variant='shade'] {
    column-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-xxs)
      var(--wui-spacing-xs);
  }

  a[data-variant='fill']:has(wui-text:first-child),
  a[data-variant='shade']:has(wui-text:first-child) {
    padding: 9px var(--wui-spacing-m) 9px var(--wui-spacing-m);
  }

  a[data-variant='fill'] > wui-image,
  a[data-variant='shade'] > wui-image {
    width: 24px;
    height: 24px;
  }

  a[data-variant='fill'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  a[data-variant='shade'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-010);
  }

  a[data-variant='fill'] > wui-icon,
  a[data-variant='shade'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-image,
  a[data-variant='success'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image,
  a[data-variant='error'] > wui-image {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-icon,
  a[data-variant='success'] > wui-icon,
  a[data-variant='shadeSmall'] > wui-icon,
  a[data-variant='error'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  a[data-variant='fill']:focus-visible {
    background-color: var(--wui-color-accent-090);
  }

  a[data-variant='shade']:focus-visible,
  a[data-variant='shadeSmall']:focus-visible {
    background-color: var(--wui-gray-glass-015);
  }

  a[data-variant='transparent']:focus-visible {
    background-color: var(--wui-gray-glass-005);
  }

  a[data-variant='success']:focus-visible {
    background-color: var(--wui-success-glass-015);
  }

  a[data-variant='error']:focus-visible {
    background-color: var(--wui-error-glass-015);
  }

  a.disabled {
    color: var(--wui-gray-glass-015);
    background-color: var(--wui-gray-glass-015);
    pointer-events: none;
  }

  @media (hover: hover) and (pointer: fine) {
    a[data-variant='fill']:hover {
      background-color: var(--wui-color-accent-090);
    }

    a[data-variant='shade']:hover,
    a[data-variant='shadeSmall']:hover {
      background-color: var(--wui-gray-glass-015);
    }

    a[data-variant='transparent']:hover {
      background-color: var(--wui-gray-glass-005);
    }

    a[data-variant='success']:hover {
      background-color: var(--wui-success-glass-015);
    }

    a[data-variant='error']:hover {
      background-color: var(--wui-error-glass-015);
    }
  }

  a[data-variant='fill']:active {
    background-color: var(--wui-color-accent-080);
  }

  a[data-variant='shade']:active,
  a[data-variant='shadeSmall']:active {
    background-color: var(--wui-gray-glass-020);
  }

  a[data-variant='transparent']:active {
    background-color: var(--wui-gray-glass-010);
  }

  a[data-variant='success']:active {
    background-color: var(--wui-success-glass-020);
  }

  a[data-variant='error']:active {
    background-color: var(--wui-error-glass-020);
  }
`;var __decorate$1s=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiChip=class extends r$7{constructor(){super(...arguments),this.variant="fill",this.imageSrc=void 0,this.disabled=!1,this.icon="externalLink",this.href="",this.text=void 0}render(){const ne=this.variant==="success"||this.variant==="transparent"||this.variant==="shadeSmall"?"small-600":"paragraph-600";return x$4`
      <a
        rel="noreferrer"
        target="_blank"
        href=${this.href}
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
      >
        ${this.imageTemplate()}
        <wui-text variant=${ne} color="inherit">
          ${this.title?this.title:UiHelperUtil.getHostName(this.href)}
        </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </a>
    `}imageTemplate(){return this.imageSrc?x$4`<wui-image src=${this.imageSrc}></wui-image>`:null}};WuiChip.styles=[resetStyles,elementStyles,styles$11];__decorate$1s([n$8()],WuiChip.prototype,"variant",void 0);__decorate$1s([n$8()],WuiChip.prototype,"imageSrc",void 0);__decorate$1s([n$8({type:Boolean})],WuiChip.prototype,"disabled",void 0);__decorate$1s([n$8()],WuiChip.prototype,"icon",void 0);__decorate$1s([n$8()],WuiChip.prototype,"href",void 0);__decorate$1s([n$8()],WuiChip.prototype,"text",void 0);WuiChip=__decorate$1s([customElement("wui-chip")],WuiChip);const styles$10=i$7`
  :host {
    position: relative;
    display: block;
  }

  button {
    background: var(--wui-color-accent-100);
    border: 1px solid var(--wui-gray-glass-010);
    border-radius: var(--wui-border-radius-m);
    gap: var(--wui-spacing-xs);
  }

  button.loading {
    background: var(--wui-gray-glass-010);
    border: 1px solid var(--wui-gray-glass-010);
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-gray-glass-015);
    border: 1px solid var(--wui-gray-glass-010);
  }

  button:disabled > wui-text {
    color: var(--wui-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button:active:enabled {
      background-color: var(--wui-color-accent-080);
    }
  }

  button:focus-visible {
    border: 1px solid var(--wui-gray-glass-010);
    background-color: var(--wui-color-accent-090);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  button[data-size='sm'] {
    padding: 6.75px 10px 7.25px;
  }

  ::slotted(*) {
    transition: opacity 200ms ease-in-out;
    opacity: var(--local-opacity-100);
  }

  button > wui-text {
    transition: opacity 200ms ease-in-out;
    opacity: var(--local-opacity-100);
    color: var(--wui-color-inverse-100);
  }

  button[data-size='md'] {
    padding: 9px var(--wui-spacing-l) 9px var(--wui-spacing-l);
  }

  button[data-size='md'] + wui-text {
    padding-left: var(--wui-spacing-3xs);
  }

  @media (max-width: 500px) {
    button[data-size='md'] {
      height: 32px;
      padding: 5px 12px;
    }

    button[data-size='md'] > wui-text > slot {
      font-size: 14px !important;
    }
  }

  wui-loading-spinner {
    width: 14px;
    height: 14px;
  }

  wui-loading-spinner::slotted(svg) {
    width: 10px !important;
    height: 10px !important;
  }

  button[data-size='sm'] > wui-loading-spinner {
    width: 12px;
    height: 12px;
  }
`;var __decorate$1r=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiConnectButton=class extends r$7{constructor(){super(...arguments),this.size="md",this.loading=!1}render(){const Y=this.size==="md"?"paragraph-600":"small-600";return x$4`
      <button data-size=${this.size} ?disabled=${this.loading} ontouchstart>
        ${this.loadingTemplate()}
        <wui-text variant=${Y} color=${this.loading?"accent-100":"inherit"}>
          <slot></slot>
        </wui-text>
      </button>
    `}loadingTemplate(){return this.loading?x$4`<wui-loading-spinner size=${this.size} color="accent-100"></wui-loading-spinner>`:null}};WuiConnectButton.styles=[resetStyles,elementStyles,styles$10];__decorate$1r([n$8()],WuiConnectButton.prototype,"size",void 0);__decorate$1r([n$8({type:Boolean})],WuiConnectButton.prototype,"loading",void 0);WuiConnectButton=__decorate$1r([customElement("wui-connect-button")],WuiConnectButton);const styles$$=i$7`
  wui-flex {
    width: 100%;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var __decorate$1q=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiCtaButton=class extends r$7{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return x$4`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-button size="sm" variant="accent">
          ${this.buttonLabel}
          <wui-icon size="xs" color="inherit" slot="iconRight" name="chevronRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};WuiCtaButton.styles=[resetStyles,elementStyles,styles$$];__decorate$1q([n$8({type:Boolean})],WuiCtaButton.prototype,"disabled",void 0);__decorate$1q([n$8()],WuiCtaButton.prototype,"label",void 0);__decorate$1q([n$8()],WuiCtaButton.prototype,"buttonLabel",void 0);WuiCtaButton=__decorate$1q([customElement("wui-cta-button")],WuiCtaButton);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f$7=se=>se.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s$2=(se,Y)=>{var fe;const ne=se._$AN;if(ne===void 0)return!1;for(const ye of ne)(fe=ye._$AO)==null||fe.call(ye,Y,!1),s$2(ye,Y);return!0},o$4=se=>{let Y,ne;do{if((Y=se._$AM)===void 0)break;ne=Y._$AN,ne.delete(se),se=Y}while((ne==null?void 0:ne.size)===0)},r$4=se=>{for(let Y;Y=se._$AM;se=Y){let ne=Y._$AN;if(ne===void 0)Y._$AN=ne=new Set;else if(ne.has(se))break;ne.add(se),c$5(Y)}};function h$6(se){this._$AN!==void 0?(o$4(this),this._$AM=se,r$4(this)):this._$AM=se}function n$7(se,Y=!1,ne=0){const fe=this._$AH,ye=this._$AN;if(ye!==void 0&&ye.size!==0)if(Y)if(Array.isArray(fe))for(let me=ne;me<fe.length;me++)s$2(fe[me],!1),o$4(fe[me]);else fe!=null&&(s$2(fe,!1),o$4(fe));else s$2(this,se)}const c$5=se=>{se.type==t$2.CHILD&&(se._$AP??(se._$AP=n$7),se._$AQ??(se._$AQ=h$6))};let f$6=class extends i$3{constructor(){super(...arguments),this._$AN=void 0}_$AT(Y,ne,fe){super._$AT(Y,ne,fe),r$4(this),this.isConnected=Y._$AU}_$AO(Y,ne=!0){var fe,ye;Y!==this.isConnected&&(this.isConnected=Y,Y?(fe=this.reconnected)==null||fe.call(this):(ye=this.disconnected)==null||ye.call(this)),ne&&(s$2(this,Y),o$4(this))}setValue(Y){if(f$7(this._$Ct))this._$Ct._$AI(Y,this);else{const ne=[...this._$Ct._$AH];ne[this._$Ci]=Y,this._$Ct._$AI(ne,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$3=()=>new h$5;let h$5=class{};const o$3=new WeakMap,n$6=e$5(class extends f$6{render(se){return E$7}update(se,[Y]){var fe;const ne=Y!==this.Y;return ne&&this.Y!==void 0&&this.rt(void 0),(ne||this.lt!==this.ct)&&(this.Y=Y,this.ht=(fe=se.options)==null?void 0:fe.host,this.rt(this.ct=se.element)),E$7}rt(se){if(this.isConnected||(se=void 0),typeof this.Y=="function"){const Y=this.ht??globalThis;let ne=o$3.get(Y);ne===void 0&&(ne=new WeakMap,o$3.set(Y,ne)),ne.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),ne.set(this.Y,se),se!==void 0&&this.Y.call(this.ht,se)}else this.Y.value=se}get lt(){var se,Y;return typeof this.Y=="function"?(se=o$3.get(this.ht??globalThis))==null?void 0:se.get(this.Y):(Y=this.Y)==null?void 0:Y.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),styles$_=i$7`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-gray-glass-005);
    background: var(--wui-gray-glass-005);
    font-size: var(--wui-font-size-paragraph);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition: all var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-sm);
    background-color: var(--wui-gray-glass-010);
    border: 1px solid var(--wui-color-accent-100);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-gray-glass-010);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px 40px;
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    transition: all var(--wui-ease-in-power-2) var(--wui-duration-md);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var __decorate$1p=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiInputText=class extends r$7{constructor(){super(...arguments),this.inputElementRef=e$3(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text"}render(){const Y=`wui-size-${this.size}`;return x$4` ${this.templateIcon()}
      <input
        ${n$6(this.inputElementRef)}
        class=${Y}
        type=${this.type}
        enterkeyhint=${o$5(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        value=${o$5(this.value)}
        .value=${this.value||""}
      />
      <slot></slot>`}templateIcon(){return this.icon?x$4`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){var Y;this.dispatchEvent(new CustomEvent("inputChange",{detail:(Y=this.inputElementRef.value)==null?void 0:Y.value,bubbles:!0,composed:!0}))}};WuiInputText.styles=[resetStyles,elementStyles,styles$_];__decorate$1p([n$8()],WuiInputText.prototype,"size",void 0);__decorate$1p([n$8()],WuiInputText.prototype,"icon",void 0);__decorate$1p([n$8({type:Boolean})],WuiInputText.prototype,"disabled",void 0);__decorate$1p([n$8()],WuiInputText.prototype,"placeholder",void 0);__decorate$1p([n$8()],WuiInputText.prototype,"type",void 0);__decorate$1p([n$8()],WuiInputText.prototype,"keyHint",void 0);__decorate$1p([n$8()],WuiInputText.prototype,"value",void 0);WuiInputText=__decorate$1p([customElement("wui-input-text")],WuiInputText);const styles$Z=i$7`
  :host {
    position: relative;
    display: inline-block;
  }

  wui-text {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }
`;var __decorate$1o=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiEmailInput=class extends r$7{constructor(){super(...arguments),this.disabled=!1}render(){return x$4`
      <wui-input-text
        placeholder="Email"
        icon="mail"
        size="md"
        .disabled=${this.disabled}
        .value=${this.value}
        data-testid="wui-email-input"
      ></wui-input-text>
      ${this.templateError()}
    `}templateError(){return this.errorMessage?x$4`<wui-text variant="tiny-500" color="error-100">${this.errorMessage}</wui-text>`:null}};WuiEmailInput.styles=[resetStyles,styles$Z];__decorate$1o([n$8()],WuiEmailInput.prototype,"errorMessage",void 0);__decorate$1o([n$8({type:Boolean})],WuiEmailInput.prototype,"disabled",void 0);__decorate$1o([n$8()],WuiEmailInput.prototype,"value",void 0);WuiEmailInput=__decorate$1o([customElement("wui-email-input")],WuiEmailInput);const styles$Y=i$7`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var __decorate$1n=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiIconLink=class extends r$7{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const Y=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",ne=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${Y});
    --local-padding: var(${ne});
`,x$4`
      <button ?disabled=${this.disabled} ontouchstart>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};WuiIconLink.styles=[resetStyles,elementStyles,colorStyles,styles$Y];__decorate$1n([n$8()],WuiIconLink.prototype,"size",void 0);__decorate$1n([n$8({type:Boolean})],WuiIconLink.prototype,"disabled",void 0);__decorate$1n([n$8()],WuiIconLink.prototype,"icon",void 0);__decorate$1n([n$8()],WuiIconLink.prototype,"iconColor",void 0);WuiIconLink=__decorate$1n([customElement("wui-icon-link")],WuiIconLink);const styles$X=i$7`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  button:active:enabled {
    background-color: var(--wui-color-fg-225);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }
  }
`;var __decorate$1m=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiInputElement=class extends r$7{constructor(){super(...arguments),this.icon="copy"}render(){return x$4`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};WuiInputElement.styles=[resetStyles,elementStyles,styles$X];__decorate$1m([n$8()],WuiInputElement.prototype,"icon",void 0);WuiInputElement=__decorate$1m([customElement("wui-input-element")],WuiInputElement);const styles$W=i$7`
  :host {
    position: relative;
    display: inline-block;
  }

  input {
    width: 50px;
    height: 50px;
    background: var(--wui-gray-glass-010);
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-gray-glass-005);
    font-family: var(--wui-font-family);
    font-size: var(--wui-font-size-large);
    font-weight: var(--wui-font-weight-regular);
    letter-spacing: var(--wui-letter-spacing-large);
    text-align: center;
    color: var(--wui-color-fg-100);
    caret-color: var(--wui-color-accent-100);
    transition: all var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-gray-glass-010);
    background: var(--wui-gray-glass-005);
  }

  input:focus:enabled {
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-sm);
    background-color: var(--wui-gray-glass-015);
    border: 1px solid var(--wui-color-accent-100);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }
  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      background-color: var(--wui-gray-glass-015);
    }
  }
`;var __decorate$1l=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiInputNumeric=class extends r$7{constructor(){super(...arguments),this.disabled=!1,this.value=""}render(){return x$4`<input
      type="number"
      maxlength="1"
      inputmode="numeric"
      autofocus
      ?disabled=${this.disabled}
      value=${this.value}
    /> `}};WuiInputNumeric.styles=[resetStyles,elementStyles,styles$W];__decorate$1l([n$8({type:Boolean})],WuiInputNumeric.prototype,"disabled",void 0);__decorate$1l([n$8({type:String})],WuiInputNumeric.prototype,"value",void 0);WuiInputNumeric=__decorate$1l([customElement("wui-input-numeric")],WuiInputNumeric);const styles$V=i$7`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-gray-glass-015);
  }
`;var __decorate$1k=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiLink=class extends r$7{constructor(){super(...arguments),this.disabled=!1,this.color="inherit"}render(){return x$4`
      <button ?disabled=${this.disabled} ontouchstart>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};WuiLink.styles=[resetStyles,elementStyles,styles$V];__decorate$1k([n$8({type:Boolean})],WuiLink.prototype,"disabled",void 0);__decorate$1k([n$8()],WuiLink.prototype,"color",void 0);WuiLink=__decorate$1k([customElement("wui-link")],WuiLink);const styles$U=i$7`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    background-color: var(--wui-gray-glass-015);
    color: var(--wui-gray-glass-015);
  }

  button[data-loading='true'] > wui-icon {
    transition: opacity 200ms ease-in-out;
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var __decorate$1j=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiListItem=class extends r$7{constructor(){super(...arguments),this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return x$4`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${o$5(this.iconVariant)}
        ontouchstart
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return x$4`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return x$4`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const Y=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",ne=this.iconVariant==="square-blue"?"mdl":"md",fe=this.iconSize?this.iconSize:ne;return x$4`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${fe}
          background="transparent"
          iconColor=${Y}
          backgroundColor=${Y}
          size=${ne}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?x$4`<wui-loading-spinner color="fg-300"></wui-loading-spinner>`:x$4``}chevronTemplate(){return this.chevron?x$4`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};WuiListItem.styles=[resetStyles,elementStyles,styles$U];__decorate$1j([n$8()],WuiListItem.prototype,"icon",void 0);__decorate$1j([n$8()],WuiListItem.prototype,"iconSize",void 0);__decorate$1j([n$8()],WuiListItem.prototype,"variant",void 0);__decorate$1j([n$8()],WuiListItem.prototype,"iconVariant",void 0);__decorate$1j([n$8({type:Boolean})],WuiListItem.prototype,"disabled",void 0);__decorate$1j([n$8()],WuiListItem.prototype,"imageSrc",void 0);__decorate$1j([n$8()],WuiListItem.prototype,"alt",void 0);__decorate$1j([n$8({type:Boolean})],WuiListItem.prototype,"chevron",void 0);__decorate$1j([n$8({type:Boolean})],WuiListItem.prototype,"loading",void 0);WuiListItem=__decorate$1j([customElement("wui-list-item")],WuiListItem);var TransactionTypePastTense;(function(se){se.approve="approved",se.bought="bought",se.borrow="borrowed",se.burn="burnt",se.cancel="canceled",se.claim="claimed",se.deploy="deployed",se.deposit="deposited",se.execute="executed",se.mint="minted",se.receive="received",se.repay="repaid",se.send="sent",se.sell="sold",se.stake="staked",se.trade="swapped",se.unstake="unstaked",se.withdraw="withdrawn"})(TransactionTypePastTense||(TransactionTypePastTense={}));const styles$T=i$7`
  :host > wui-flex {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 40px;
    height: 40px;
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-005);
    background-color: var(--wui-gray-glass-005);
  }

  :host > wui-flex wui-image {
    display: block;
  }

  :host > wui-flex,
  :host > wui-flex wui-image,
  .swap-images-container,
  .swap-images-container.nft,
  wui-image.nft {
    border-top-left-radius: var(--local-left-border-radius);
    border-top-right-radius: var(--local-right-border-radius);
    border-bottom-left-radius: var(--local-left-border-radius);
    border-bottom-right-radius: var(--local-right-border-radius);
  }

  wui-icon {
    width: 20px;
    height: 20px;
  }

  wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }

  .swap-images-container {
    position: relative;
    width: 40px;
    height: 40px;
    overflow: hidden;
  }

  .swap-images-container wui-image:first-child {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 0;
    left: 0%;
    clip-path: inset(0px calc(50% + 2px) 0px 0%);
  }

  .swap-images-container wui-image:last-child {
    clip-path: inset(0px 0px 0px calc(50% + 2px));
  }
`;var __decorate$1i=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiTransactionVisual=class extends r$7{constructor(){super(...arguments),this.images=[],this.secondImage={type:void 0,url:""}}render(){const[Y,ne]=this.images,fe=(Y==null?void 0:Y.type)==="NFT",ye=ne!=null&&ne.url?ne.type==="NFT":fe,me=fe?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)",be=ye?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)";return this.style.cssText=`
    --local-left-border-radius: ${me};
    --local-right-border-radius: ${be};
    `,x$4`<wui-flex> ${this.templateVisual()} ${this.templateIcon()} </wui-flex>`}templateVisual(){const[Y,ne]=this.images,fe=Y==null?void 0:Y.type;return this.images.length===2&&(Y!=null&&Y.url||ne!=null&&ne.url)?x$4`<div class="swap-images-container">
        ${Y!=null&&Y.url?x$4`<wui-image src=${Y.url} alt="Transaction image"></wui-image>`:null}
        ${ne!=null&&ne.url?x$4`<wui-image src=${ne.url} alt="Transaction image"></wui-image>`:null}
      </div>`:Y!=null&&Y.url?x$4`<wui-image src=${Y.url} alt="Transaction image"></wui-image>`:fe==="NFT"?x$4`<wui-icon size="inherit" color="fg-200" name="nftPlaceholder"></wui-icon>`:x$4`<wui-icon size="inherit" color="fg-200" name="coinPlaceholder"></wui-icon>`}templateIcon(){let Y="accent-100",ne;return ne=this.getIcon(),this.status&&(Y=this.getStatusColor()),ne?x$4`
      <wui-icon-box
        size="xxs"
        iconColor=${Y}
        backgroundColor=${Y}
        background="opaque"
        icon=${ne}
        ?border=${!0}
        borderColor="wui-color-bg-125"
      ></wui-icon-box>
    `:null}getDirectionIcon(){switch(this.direction){case"in":return"arrowBottom";case"out":return"arrowTop";default:return}}getIcon(){return this.onlyDirectionIcon?this.getDirectionIcon():this.type==="trade"?"swapHorizontalBold":this.type==="approve"?"checkmark":this.type==="cancel"?"close":this.getDirectionIcon()}getStatusColor(){switch(this.status){case"confirmed":return"success-100";case"failed":return"error-100";case"pending":return"inverse-100";default:return"accent-100"}}};WuiTransactionVisual.styles=[styles$T];__decorate$1i([n$8()],WuiTransactionVisual.prototype,"type",void 0);__decorate$1i([n$8()],WuiTransactionVisual.prototype,"status",void 0);__decorate$1i([n$8()],WuiTransactionVisual.prototype,"direction",void 0);__decorate$1i([n$8({type:Boolean})],WuiTransactionVisual.prototype,"onlyDirectionIcon",void 0);__decorate$1i([n$8({type:Array})],WuiTransactionVisual.prototype,"images",void 0);__decorate$1i([n$8({type:Object})],WuiTransactionVisual.prototype,"secondImage",void 0);WuiTransactionVisual=__decorate$1i([customElement("wui-transaction-visual")],WuiTransactionVisual);const styles$S=i$7`
  :host > wui-flex:first-child {
    align-items: center;
    column-gap: var(--wui-spacing-s);
    padding: 6.5px var(--wui-spacing-xs) 6.5px var(--wui-spacing-xs);
    width: 100%;
  }

  :host > wui-flex:first-child wui-text:nth-child(1) {
    text-transform: capitalize;
  }

  wui-transaction-visual {
    width: 40px;
    height: 40px;
  }

  wui-flex {
    flex: 1;
  }

  :host wui-flex wui-flex {
    overflow: hidden;
  }

  :host .description-container wui-text span {
    word-break: break-all;
  }

  :host .description-container wui-text {
    overflow: hidden;
  }

  :host .description-separator-icon {
    margin: 0px 6px;
  }

  :host wui-text > span {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
`;var __decorate$1h=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiTransactionListItem=class extends r$7{constructor(){super(...arguments),this.type="approve",this.onlyDirectionIcon=!1,this.images=[],this.price=[],this.amount=[],this.symbol=[]}render(){return x$4`
      <wui-flex>
        <wui-transaction-visual
          .status=${this.status}
          direction=${o$5(this.direction)}
          type=${this.type}
          onlyDirectionIcon=${o$5(this.onlyDirectionIcon)}
          .images=${this.images}
        ></wui-transaction-visual>
        <wui-flex flexDirection="column" gap="3xs">
          <wui-text variant="paragraph-600" color="fg-100">
            ${TransactionTypePastTense[this.type]||this.type}
          </wui-text>
          <wui-flex class="description-container">
            ${this.templateDescription()} ${this.templateSecondDescription()}
          </wui-flex>
        </wui-flex>
        <wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>
      </wui-flex>
    `}templateDescription(){var ne;const Y=(ne=this.descriptions)==null?void 0:ne[0];return Y?x$4`
          <wui-text variant="small-500" color="fg-200">
            <span>${Y}</span>
          </wui-text>
        `:null}templateSecondDescription(){var ne;const Y=(ne=this.descriptions)==null?void 0:ne[1];return Y?x$4`
          <wui-icon class="description-separator-icon" size="xxs" name="arrowRight"></wui-icon>
          <wui-text variant="small-400" color="fg-200">
            <span>${Y}</span>
          </wui-text>
        `:null}};WuiTransactionListItem.styles=[resetStyles,styles$S];__decorate$1h([n$8()],WuiTransactionListItem.prototype,"type",void 0);__decorate$1h([n$8({type:Array})],WuiTransactionListItem.prototype,"descriptions",void 0);__decorate$1h([n$8()],WuiTransactionListItem.prototype,"date",void 0);__decorate$1h([n$8({type:Boolean})],WuiTransactionListItem.prototype,"onlyDirectionIcon",void 0);__decorate$1h([n$8()],WuiTransactionListItem.prototype,"status",void 0);__decorate$1h([n$8()],WuiTransactionListItem.prototype,"direction",void 0);__decorate$1h([n$8({type:Array})],WuiTransactionListItem.prototype,"images",void 0);__decorate$1h([n$8({type:Array})],WuiTransactionListItem.prototype,"price",void 0);__decorate$1h([n$8({type:Array})],WuiTransactionListItem.prototype,"amount",void 0);__decorate$1h([n$8({type:Array})],WuiTransactionListItem.prototype,"symbol",void 0);WuiTransactionListItem=__decorate$1h([customElement("wui-transaction-list-item")],WuiTransactionListItem);const styles$R=i$7`
  :host > wui-flex:first-child {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
  }

  wui-flex {
    display: flex;
    flex: 1;
  }
`;var __decorate$1g=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiTransactionListItemLoader=class extends r$7{render(){return x$4`
      <wui-flex alignItems="center">
        <wui-shimmer width="40px" height="40px"></wui-shimmer>
        <wui-flex flexDirection="column" gap="2xs">
          <wui-shimmer width="72px" height="16px" borderRadius="4xs"></wui-shimmer>
          <wui-shimmer width="148px" height="14px" borderRadius="4xs"></wui-shimmer>
        </wui-flex>
        <wui-shimmer width="24px" height="12px" borderRadius="5xs"></wui-shimmer>
      </wui-flex>
    `}};WuiTransactionListItemLoader.styles=[resetStyles,styles$R];WuiTransactionListItemLoader=__decorate$1g([customElement("wui-transaction-list-item-loader")],WuiTransactionListItemLoader);const styles$Q=i$7`
  :host {
    display: block;
    padding: 3.5px 5px !important;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }
`;var __decorate$1f=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiTag=class extends r$7{constructor(){super(...arguments),this.variant="main"}render(){return this.dataset.variant=this.variant,x$4`
      <wui-text data-variant=${this.variant} variant="micro-700" color="inherit">
        <slot></slot>
      </wui-text>
    `}};WuiTag.styles=[resetStyles,styles$Q];__decorate$1f([n$8()],WuiTag.prototype,"variant",void 0);WuiTag=__decorate$1f([customElement("wui-tag")],WuiTag);const styles$P=i$7`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }

  button:disabled {
    background-color: var(--wui-gray-glass-015);
    color: var(--wui-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-gray-glass-010);
    color: var(--wui-color-fg-300);
  }
`;var __decorate$1e=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiListWallet=class extends r$7{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.installed=!1,this.disabled=!1,this.showAllWallets=!1}render(){return x$4`
      <button ?disabled=${this.disabled} ontouchstart>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?x$4` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?x$4` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?x$4`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?x$4`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.tagLabel&&this.tagVariant?x$4`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?x$4`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};WuiListWallet.styles=[resetStyles,elementStyles,styles$P];__decorate$1e([n$8({type:Array})],WuiListWallet.prototype,"walletImages",void 0);__decorate$1e([n$8()],WuiListWallet.prototype,"imageSrc",void 0);__decorate$1e([n$8()],WuiListWallet.prototype,"name",void 0);__decorate$1e([n$8()],WuiListWallet.prototype,"tagLabel",void 0);__decorate$1e([n$8()],WuiListWallet.prototype,"tagVariant",void 0);__decorate$1e([n$8()],WuiListWallet.prototype,"icon",void 0);__decorate$1e([n$8()],WuiListWallet.prototype,"walletIcon",void 0);__decorate$1e([n$8({type:Boolean})],WuiListWallet.prototype,"installed",void 0);__decorate$1e([n$8({type:Boolean})],WuiListWallet.prototype,"disabled",void 0);__decorate$1e([n$8({type:Boolean})],WuiListWallet.prototype,"showAllWallets",void 0);WuiListWallet=__decorate$1e([customElement("wui-list-wallet")],WuiListWallet);const styles$O=i$7`
  :host {
    display: block;
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-gray-glass-010);
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var __decorate$1d=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiLogo=class extends r$7{constructor(){super(...arguments),this.logo="google"}render(){return x$4`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};WuiLogo.styles=[resetStyles,styles$O];__decorate$1d([n$8()],WuiLogo.prototype,"logo",void 0);WuiLogo=__decorate$1d([customElement("wui-logo")],WuiLogo);const styles$N=i$7`
  :host {
    display: block;
  }

  button {
    width: 50px;
    height: 50px;
    background: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var __decorate$1c=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiLogoSelect=class extends r$7{constructor(){super(...arguments),this.logo="google",this.disabled=!1}render(){return x$4`
      <button ?disabled=${this.disabled} ontouchstart>
        <wui-logo logo=${this.logo}></wui-logo>
      </button>
    `}};WuiLogoSelect.styles=[resetStyles,elementStyles,styles$N];__decorate$1c([n$8()],WuiLogoSelect.prototype,"logo",void 0);__decorate$1c([n$8({type:Boolean})],WuiLogoSelect.prototype,"disabled",void 0);WuiLogoSelect=__decorate$1c([customElement("wui-logo-select")],WuiLogoSelect);const styles$M=i$7`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-2xs) var(--wui-spacing-s) var(--wui-spacing-2xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-gray-glass-010);
    background-color: var(--wui-gray-glass-005);
    color: var(--wui-color-fg-100);
  }

  button:disabled {
    border: 1px solid var(--wui-gray-glass-005);
    background-color: var(--wui-gray-glass-015);
    color: var(--wui-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-gray-glass-010);
    }

    button:active:enabled {
      background-color: var(--wui-gray-glass-015);
    }
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-gray-glass-005);
  }
`;var __decorate$1b=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiNetworkButton=class extends r$7{constructor(){super(...arguments),this.imageSrc=void 0,this.isUnsupportedChain=void 0,this.disabled=!1}render(){return x$4`
      <button ?disabled=${this.disabled}>
        ${this.visualTemplate()}
        <wui-text variant="paragraph-600" color="inherit">
          <slot></slot>
        </wui-text>
      </button>
    `}visualTemplate(){return this.isUnsupportedChain?x$4`
        <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
        ></wui-icon-box>
      `:this.imageSrc?x$4`<wui-image src=${this.imageSrc}></wui-image>`:x$4`
      <wui-icon-box
        size="sm"
        iconColor="inverse-100"
        backgroundColor="fg-100"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};WuiNetworkButton.styles=[resetStyles,elementStyles,styles$M];__decorate$1b([n$8()],WuiNetworkButton.prototype,"imageSrc",void 0);__decorate$1b([n$8({type:Boolean})],WuiNetworkButton.prototype,"isUnsupportedChain",void 0);__decorate$1b([n$8({type:Boolean})],WuiNetworkButton.prototype,"disabled",void 0);WuiNetworkButton=__decorate$1b([customElement("wui-network-button")],WuiNetworkButton);const styles$L=i$7`
  :host {
    position: relative;
    display: block;
  }
`;var __decorate$1a=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiOtp=class extends r$7{constructor(){super(...arguments),this.length=6,this.otp="",this.values=Array.from({length:this.length}).map(()=>""),this.numerics=[],this.shouldInputBeEnabled=Y=>this.values.slice(0,Y).every(fe=>fe!==""),this.handleKeyDown=(Y,ne)=>{const fe=Y.target,ye=this.getInputElement(fe),me=["ArrowLeft","ArrowRight","Shift","Delete"];if(!ye)return;me.includes(Y.key)&&Y.preventDefault();const be=ye.selectionStart;switch(Y.key){case"ArrowLeft":be&&ye.setSelectionRange(be+1,be+1),this.focusInputField("prev",ne);break;case"ArrowRight":this.focusInputField("next",ne);break;case"Shift":this.focusInputField("next",ne);break;case"Delete":ye.value===""?this.focusInputField("prev",ne):this.updateInput(ye,ne,"");break;case"Backspace":ye.value===""?this.focusInputField("prev",ne):this.updateInput(ye,ne,"");break}},this.focusInputField=(Y,ne)=>{if(Y==="next"){const fe=ne+1;if(!this.shouldInputBeEnabled(fe))return;const ye=this.numerics[fe<this.length?fe:ne],me=ye?this.getInputElement(ye):void 0;me&&(me.disabled=!1,me.focus())}if(Y==="prev"){const fe=ne-1,ye=this.numerics[fe>-1?fe:ne],me=ye?this.getInputElement(ye):void 0;me&&me.focus()}}}firstUpdated(){var ne,fe;this.otp&&(this.values=this.otp.split(""));const Y=(ne=this.shadowRoot)==null?void 0:ne.querySelectorAll("wui-input-numeric");Y&&(this.numerics=Array.from(Y)),(fe=this.numerics[0])==null||fe.focus()}render(){return x$4`
      <wui-flex gap="xxs" data-testid="wui-otp-input">
        ${Array.from({length:this.length}).map((Y,ne)=>x$4`
            <wui-input-numeric
              @input=${fe=>this.handleInput(fe,ne)}
              @click=${fe=>this.selectInput(fe)}
              @keydown=${fe=>this.handleKeyDown(fe,ne)}
              .disabled=${!this.shouldInputBeEnabled(ne)}
              .value=${this.values[ne]||""}
            >
            </wui-input-numeric>
          `)}
      </wui-flex>
    `}updateInput(Y,ne,fe){const ye=this.numerics[ne],me=Y||(ye?this.getInputElement(ye):void 0);me&&(me.value=fe,this.values=this.values.map((be,we)=>we===ne?fe:be))}selectInput(Y){const ne=Y.target;if(ne){const fe=this.getInputElement(ne);fe==null||fe.select()}}handleInput(Y,ne){const fe=Y.target,ye=this.getInputElement(fe);if(ye){const me=ye.value;Y.inputType==="insertFromPaste"?this.handlePaste(ye,me,ne):UiHelperUtil.isNumber(me)&&Y.data?(this.updateInput(ye,ne,Y.data),this.focusInputField("next",ne)):this.updateInput(ye,ne,"")}this.dispatchInputChangeEvent()}handlePaste(Y,ne,fe){const ye=ne[0];if(ye&&UiHelperUtil.isNumber(ye)){this.updateInput(Y,fe,ye);const be=ne.substring(1);if(fe+1<this.length&&be.length){const we=this.numerics[fe+1],Ee=we?this.getInputElement(we):void 0;Ee&&this.handlePaste(Ee,be,fe+1)}else this.focusInputField("next",fe)}else this.updateInput(Y,fe,"")}getInputElement(Y){var ne;return(ne=Y.shadowRoot)!=null&&ne.querySelector("input")?Y.shadowRoot.querySelector("input"):null}dispatchInputChangeEvent(){const Y=this.values.join("");this.dispatchEvent(new CustomEvent("inputChange",{detail:Y,bubbles:!0,composed:!0}))}};WuiOtp.styles=[resetStyles,styles$L];__decorate$1a([n$8({type:Number})],WuiOtp.prototype,"length",void 0);__decorate$1a([n$8({type:String})],WuiOtp.prototype,"otp",void 0);__decorate$1a([r$5()],WuiOtp.prototype,"values",void 0);WuiOtp=__decorate$1a([customElement("wui-otp")],WuiOtp);var browser$g={},canPromise,hasRequiredCanPromise;function requireCanPromise(){return hasRequiredCanPromise||(hasRequiredCanPromise=1,canPromise=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),canPromise}var qrcode={},utils$7={},hasRequiredUtils$7;function requireUtils$7(){if(hasRequiredUtils$7)return utils$7;hasRequiredUtils$7=1;let se;const Y=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return utils$7.getSymbolSize=function(fe){if(!fe)throw new Error('"version" cannot be null or undefined');if(fe<1||fe>40)throw new Error('"version" should be in range from 1 to 40');return fe*4+17},utils$7.getSymbolTotalCodewords=function(fe){return Y[fe]},utils$7.getBCHDigit=function(ne){let fe=0;for(;ne!==0;)fe++,ne>>>=1;return fe},utils$7.setToSJISFunction=function(fe){if(typeof fe!="function")throw new Error('"toSJISFunc" is not a valid function.');se=fe},utils$7.isKanjiModeEnabled=function(){return typeof se<"u"},utils$7.toSJIS=function(fe){return se(fe)},utils$7}var errorCorrectionLevel={},hasRequiredErrorCorrectionLevel;function requireErrorCorrectionLevel(){return hasRequiredErrorCorrectionLevel||(hasRequiredErrorCorrectionLevel=1,function(se){se.L={bit:1},se.M={bit:0},se.Q={bit:3},se.H={bit:2};function Y(ne){if(typeof ne!="string")throw new Error("Param is not a string");switch(ne.toLowerCase()){case"l":case"low":return se.L;case"m":case"medium":return se.M;case"q":case"quartile":return se.Q;case"h":case"high":return se.H;default:throw new Error("Unknown EC Level: "+ne)}}se.isValid=function(fe){return fe&&typeof fe.bit<"u"&&fe.bit>=0&&fe.bit<4},se.from=function(fe,ye){if(se.isValid(fe))return fe;try{return Y(fe)}catch{return ye}}}(errorCorrectionLevel)),errorCorrectionLevel}var bitBuffer,hasRequiredBitBuffer;function requireBitBuffer(){if(hasRequiredBitBuffer)return bitBuffer;hasRequiredBitBuffer=1;function se(){this.buffer=[],this.length=0}return se.prototype={get:function(Y){const ne=Math.floor(Y/8);return(this.buffer[ne]>>>7-Y%8&1)===1},put:function(Y,ne){for(let fe=0;fe<ne;fe++)this.putBit((Y>>>ne-fe-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(Y){const ne=Math.floor(this.length/8);this.buffer.length<=ne&&this.buffer.push(0),Y&&(this.buffer[ne]|=128>>>this.length%8),this.length++}},bitBuffer=se,bitBuffer}var bitMatrix,hasRequiredBitMatrix;function requireBitMatrix(){if(hasRequiredBitMatrix)return bitMatrix;hasRequiredBitMatrix=1;function se(Y){if(!Y||Y<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=Y,this.data=new Uint8Array(Y*Y),this.reservedBit=new Uint8Array(Y*Y)}return se.prototype.set=function(Y,ne,fe,ye){const me=Y*this.size+ne;this.data[me]=fe,ye&&(this.reservedBit[me]=!0)},se.prototype.get=function(Y,ne){return this.data[Y*this.size+ne]},se.prototype.xor=function(Y,ne,fe){this.data[Y*this.size+ne]^=fe},se.prototype.isReserved=function(Y,ne){return this.reservedBit[Y*this.size+ne]},bitMatrix=se,bitMatrix}var alignmentPattern={},hasRequiredAlignmentPattern;function requireAlignmentPattern(){return hasRequiredAlignmentPattern||(hasRequiredAlignmentPattern=1,function(se){const Y=requireUtils$7().getSymbolSize;se.getRowColCoords=function(fe){if(fe===1)return[];const ye=Math.floor(fe/7)+2,me=Y(fe),be=me===145?26:Math.ceil((me-13)/(2*ye-2))*2,we=[me-7];for(let Ee=1;Ee<ye-1;Ee++)we[Ee]=we[Ee-1]-be;return we.push(6),we.reverse()},se.getPositions=function(fe){const ye=[],me=se.getRowColCoords(fe),be=me.length;for(let we=0;we<be;we++)for(let Ee=0;Ee<be;Ee++)we===0&&Ee===0||we===0&&Ee===be-1||we===be-1&&Ee===0||ye.push([me[we],me[Ee]]);return ye}}(alignmentPattern)),alignmentPattern}var finderPattern={},hasRequiredFinderPattern;function requireFinderPattern(){if(hasRequiredFinderPattern)return finderPattern;hasRequiredFinderPattern=1;const se=requireUtils$7().getSymbolSize,Y=7;return finderPattern.getPositions=function(fe){const ye=se(fe);return[[0,0],[ye-Y,0],[0,ye-Y]]},finderPattern}var maskPattern={},hasRequiredMaskPattern;function requireMaskPattern(){return hasRequiredMaskPattern||(hasRequiredMaskPattern=1,function(se){se.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const Y={N1:3,N2:3,N3:40,N4:10};se.isValid=function(ye){return ye!=null&&ye!==""&&!isNaN(ye)&&ye>=0&&ye<=7},se.from=function(ye){return se.isValid(ye)?parseInt(ye,10):void 0},se.getPenaltyN1=function(ye){const me=ye.size;let be=0,we=0,Ee=0,xe=null,Se=null;for(let Ie=0;Ie<me;Ie++){we=Ee=0,xe=Se=null;for(let fr=0;fr<me;fr++){let br=ye.get(Ie,fr);br===xe?we++:(we>=5&&(be+=Y.N1+(we-5)),xe=br,we=1),br=ye.get(fr,Ie),br===Se?Ee++:(Ee>=5&&(be+=Y.N1+(Ee-5)),Se=br,Ee=1)}we>=5&&(be+=Y.N1+(we-5)),Ee>=5&&(be+=Y.N1+(Ee-5))}return be},se.getPenaltyN2=function(ye){const me=ye.size;let be=0;for(let we=0;we<me-1;we++)for(let Ee=0;Ee<me-1;Ee++){const xe=ye.get(we,Ee)+ye.get(we,Ee+1)+ye.get(we+1,Ee)+ye.get(we+1,Ee+1);(xe===4||xe===0)&&be++}return be*Y.N2},se.getPenaltyN3=function(ye){const me=ye.size;let be=0,we=0,Ee=0;for(let xe=0;xe<me;xe++){we=Ee=0;for(let Se=0;Se<me;Se++)we=we<<1&2047|ye.get(xe,Se),Se>=10&&(we===1488||we===93)&&be++,Ee=Ee<<1&2047|ye.get(Se,xe),Se>=10&&(Ee===1488||Ee===93)&&be++}return be*Y.N3},se.getPenaltyN4=function(ye){let me=0;const be=ye.data.length;for(let Ee=0;Ee<be;Ee++)me+=ye.data[Ee];return Math.abs(Math.ceil(me*100/be/5)-10)*Y.N4};function ne(fe,ye,me){switch(fe){case se.Patterns.PATTERN000:return(ye+me)%2===0;case se.Patterns.PATTERN001:return ye%2===0;case se.Patterns.PATTERN010:return me%3===0;case se.Patterns.PATTERN011:return(ye+me)%3===0;case se.Patterns.PATTERN100:return(Math.floor(ye/2)+Math.floor(me/3))%2===0;case se.Patterns.PATTERN101:return ye*me%2+ye*me%3===0;case se.Patterns.PATTERN110:return(ye*me%2+ye*me%3)%2===0;case se.Patterns.PATTERN111:return(ye*me%3+(ye+me)%2)%2===0;default:throw new Error("bad maskPattern:"+fe)}}se.applyMask=function(ye,me){const be=me.size;for(let we=0;we<be;we++)for(let Ee=0;Ee<be;Ee++)me.isReserved(Ee,we)||me.xor(Ee,we,ne(ye,Ee,we))},se.getBestMask=function(ye,me){const be=Object.keys(se.Patterns).length;let we=0,Ee=1/0;for(let xe=0;xe<be;xe++){me(xe),se.applyMask(xe,ye);const Se=se.getPenaltyN1(ye)+se.getPenaltyN2(ye)+se.getPenaltyN3(ye)+se.getPenaltyN4(ye);se.applyMask(xe,ye),Se<Ee&&(Ee=Se,we=xe)}return we}}(maskPattern)),maskPattern}var errorCorrectionCode={},hasRequiredErrorCorrectionCode;function requireErrorCorrectionCode(){if(hasRequiredErrorCorrectionCode)return errorCorrectionCode;hasRequiredErrorCorrectionCode=1;const se=requireErrorCorrectionLevel(),Y=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ne=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return errorCorrectionCode.getBlocksCount=function(ye,me){switch(me){case se.L:return Y[(ye-1)*4+0];case se.M:return Y[(ye-1)*4+1];case se.Q:return Y[(ye-1)*4+2];case se.H:return Y[(ye-1)*4+3];default:return}},errorCorrectionCode.getTotalCodewordsCount=function(ye,me){switch(me){case se.L:return ne[(ye-1)*4+0];case se.M:return ne[(ye-1)*4+1];case se.Q:return ne[(ye-1)*4+2];case se.H:return ne[(ye-1)*4+3];default:return}},errorCorrectionCode}var polynomial={},galoisField={},hasRequiredGaloisField;function requireGaloisField(){if(hasRequiredGaloisField)return galoisField;hasRequiredGaloisField=1;const se=new Uint8Array(512),Y=new Uint8Array(256);return function(){let fe=1;for(let ye=0;ye<255;ye++)se[ye]=fe,Y[fe]=ye,fe<<=1,fe&256&&(fe^=285);for(let ye=255;ye<512;ye++)se[ye]=se[ye-255]}(),galoisField.log=function(fe){if(fe<1)throw new Error("log("+fe+")");return Y[fe]},galoisField.exp=function(fe){return se[fe]},galoisField.mul=function(fe,ye){return fe===0||ye===0?0:se[Y[fe]+Y[ye]]},galoisField}var hasRequiredPolynomial;function requirePolynomial(){return hasRequiredPolynomial||(hasRequiredPolynomial=1,function(se){const Y=requireGaloisField();se.mul=function(fe,ye){const me=new Uint8Array(fe.length+ye.length-1);for(let be=0;be<fe.length;be++)for(let we=0;we<ye.length;we++)me[be+we]^=Y.mul(fe[be],ye[we]);return me},se.mod=function(fe,ye){let me=new Uint8Array(fe);for(;me.length-ye.length>=0;){const be=me[0];for(let Ee=0;Ee<ye.length;Ee++)me[Ee]^=Y.mul(ye[Ee],be);let we=0;for(;we<me.length&&me[we]===0;)we++;me=me.slice(we)}return me},se.generateECPolynomial=function(fe){let ye=new Uint8Array([1]);for(let me=0;me<fe;me++)ye=se.mul(ye,new Uint8Array([1,Y.exp(me)]));return ye}}(polynomial)),polynomial}var reedSolomonEncoder,hasRequiredReedSolomonEncoder;function requireReedSolomonEncoder(){if(hasRequiredReedSolomonEncoder)return reedSolomonEncoder;hasRequiredReedSolomonEncoder=1;const se=requirePolynomial();function Y(ne){this.genPoly=void 0,this.degree=ne,this.degree&&this.initialize(this.degree)}return Y.prototype.initialize=function(fe){this.degree=fe,this.genPoly=se.generateECPolynomial(this.degree)},Y.prototype.encode=function(fe){if(!this.genPoly)throw new Error("Encoder not initialized");const ye=new Uint8Array(fe.length+this.degree);ye.set(fe);const me=se.mod(ye,this.genPoly),be=this.degree-me.length;if(be>0){const we=new Uint8Array(this.degree);return we.set(me,be),we}return me},reedSolomonEncoder=Y,reedSolomonEncoder}var version$4={},mode={},versionCheck={},hasRequiredVersionCheck;function requireVersionCheck(){return hasRequiredVersionCheck||(hasRequiredVersionCheck=1,versionCheck.isValid=function(Y){return!isNaN(Y)&&Y>=1&&Y<=40}),versionCheck}var regex={},hasRequiredRegex;function requireRegex(){if(hasRequiredRegex)return regex;hasRequiredRegex=1;const se="[0-9]+",Y="[A-Z $%*+\\-./:]+";let ne="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ne=ne.replace(/u/g,"\\u");const fe="(?:(?![A-Z0-9 $%*+\\-./:]|"+ne+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(ne,"g"),regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),regex.BYTE=new RegExp(fe,"g"),regex.NUMERIC=new RegExp(se,"g"),regex.ALPHANUMERIC=new RegExp(Y,"g");const ye=new RegExp("^"+ne+"$"),me=new RegExp("^"+se+"$"),be=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return regex.testKanji=function(Ee){return ye.test(Ee)},regex.testNumeric=function(Ee){return me.test(Ee)},regex.testAlphanumeric=function(Ee){return be.test(Ee)},regex}var hasRequiredMode;function requireMode(){return hasRequiredMode||(hasRequiredMode=1,function(se){const Y=requireVersionCheck(),ne=requireRegex();se.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},se.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},se.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},se.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},se.MIXED={bit:-1},se.getCharCountIndicator=function(me,be){if(!me.ccBits)throw new Error("Invalid mode: "+me);if(!Y.isValid(be))throw new Error("Invalid version: "+be);return be>=1&&be<10?me.ccBits[0]:be<27?me.ccBits[1]:me.ccBits[2]},se.getBestModeForData=function(me){return ne.testNumeric(me)?se.NUMERIC:ne.testAlphanumeric(me)?se.ALPHANUMERIC:ne.testKanji(me)?se.KANJI:se.BYTE},se.toString=function(me){if(me&&me.id)return me.id;throw new Error("Invalid mode")},se.isValid=function(me){return me&&me.bit&&me.ccBits};function fe(ye){if(typeof ye!="string")throw new Error("Param is not a string");switch(ye.toLowerCase()){case"numeric":return se.NUMERIC;case"alphanumeric":return se.ALPHANUMERIC;case"kanji":return se.KANJI;case"byte":return se.BYTE;default:throw new Error("Unknown mode: "+ye)}}se.from=function(me,be){if(se.isValid(me))return me;try{return fe(me)}catch{return be}}}(mode)),mode}var hasRequiredVersion$1;function requireVersion$1(){return hasRequiredVersion$1||(hasRequiredVersion$1=1,function(se){const Y=requireUtils$7(),ne=requireErrorCorrectionCode(),fe=requireErrorCorrectionLevel(),ye=requireMode(),me=requireVersionCheck(),be=7973,we=Y.getBCHDigit(be);function Ee(fr,br,kr){for(let Wr=1;Wr<=40;Wr++)if(br<=se.getCapacity(Wr,kr,fr))return Wr}function xe(fr,br){return ye.getCharCountIndicator(fr,br)+4}function Se(fr,br){let kr=0;return fr.forEach(function(Wr){const Gr=xe(Wr.mode,br);kr+=Gr+Wr.getBitsLength()}),kr}function Ie(fr,br){for(let kr=1;kr<=40;kr++)if(Se(fr,kr)<=se.getCapacity(kr,br,ye.MIXED))return kr}se.from=function(br,kr){return me.isValid(br)?parseInt(br,10):kr},se.getCapacity=function(br,kr,Wr){if(!me.isValid(br))throw new Error("Invalid QR Code version");typeof Wr>"u"&&(Wr=ye.BYTE);const Gr=Y.getSymbolTotalCodewords(br),jr=ne.getTotalCodewordsCount(br,kr),Qr=(Gr-jr)*8;if(Wr===ye.MIXED)return Qr;const wn=Qr-xe(Wr,br);switch(Wr){case ye.NUMERIC:return Math.floor(wn/10*3);case ye.ALPHANUMERIC:return Math.floor(wn/11*2);case ye.KANJI:return Math.floor(wn/13);case ye.BYTE:default:return Math.floor(wn/8)}},se.getBestVersionForData=function(br,kr){let Wr;const Gr=fe.from(kr,fe.M);if(Array.isArray(br)){if(br.length>1)return Ie(br,Gr);if(br.length===0)return 1;Wr=br[0]}else Wr=br;return Ee(Wr.mode,Wr.getLength(),Gr)},se.getEncodedBits=function(br){if(!me.isValid(br)||br<7)throw new Error("Invalid QR Code version");let kr=br<<12;for(;Y.getBCHDigit(kr)-we>=0;)kr^=be<<Y.getBCHDigit(kr)-we;return br<<12|kr}}(version$4)),version$4}var formatInfo={},hasRequiredFormatInfo;function requireFormatInfo(){if(hasRequiredFormatInfo)return formatInfo;hasRequiredFormatInfo=1;const se=requireUtils$7(),Y=1335,ne=21522,fe=se.getBCHDigit(Y);return formatInfo.getEncodedBits=function(me,be){const we=me.bit<<3|be;let Ee=we<<10;for(;se.getBCHDigit(Ee)-fe>=0;)Ee^=Y<<se.getBCHDigit(Ee)-fe;return(we<<10|Ee)^ne},formatInfo}var segments={},numericData,hasRequiredNumericData;function requireNumericData(){if(hasRequiredNumericData)return numericData;hasRequiredNumericData=1;const se=requireMode();function Y(ne){this.mode=se.NUMERIC,this.data=ne.toString()}return Y.getBitsLength=function(fe){return 10*Math.floor(fe/3)+(fe%3?fe%3*3+1:0)},Y.prototype.getLength=function(){return this.data.length},Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)},Y.prototype.write=function(fe){let ye,me,be;for(ye=0;ye+3<=this.data.length;ye+=3)me=this.data.substr(ye,3),be=parseInt(me,10),fe.put(be,10);const we=this.data.length-ye;we>0&&(me=this.data.substr(ye),be=parseInt(me,10),fe.put(be,we*3+1))},numericData=Y,numericData}var alphanumericData,hasRequiredAlphanumericData;function requireAlphanumericData(){if(hasRequiredAlphanumericData)return alphanumericData;hasRequiredAlphanumericData=1;const se=requireMode(),Y=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ne(fe){this.mode=se.ALPHANUMERIC,this.data=fe}return ne.getBitsLength=function(ye){return 11*Math.floor(ye/2)+6*(ye%2)},ne.prototype.getLength=function(){return this.data.length},ne.prototype.getBitsLength=function(){return ne.getBitsLength(this.data.length)},ne.prototype.write=function(ye){let me;for(me=0;me+2<=this.data.length;me+=2){let be=Y.indexOf(this.data[me])*45;be+=Y.indexOf(this.data[me+1]),ye.put(be,11)}this.data.length%2&&ye.put(Y.indexOf(this.data[me]),6)},alphanumericData=ne,alphanumericData}var encodeUtf8,hasRequiredEncodeUtf8;function requireEncodeUtf8(){return hasRequiredEncodeUtf8||(hasRequiredEncodeUtf8=1,encodeUtf8=function(Y){for(var ne=[],fe=Y.length,ye=0;ye<fe;ye++){var me=Y.charCodeAt(ye);if(me>=55296&&me<=56319&&fe>ye+1){var be=Y.charCodeAt(ye+1);be>=56320&&be<=57343&&(me=(me-55296)*1024+be-56320+65536,ye+=1)}if(me<128){ne.push(me);continue}if(me<2048){ne.push(me>>6|192),ne.push(me&63|128);continue}if(me<55296||me>=57344&&me<65536){ne.push(me>>12|224),ne.push(me>>6&63|128),ne.push(me&63|128);continue}if(me>=65536&&me<=1114111){ne.push(me>>18|240),ne.push(me>>12&63|128),ne.push(me>>6&63|128),ne.push(me&63|128);continue}ne.push(239,191,189)}return new Uint8Array(ne).buffer}),encodeUtf8}var byteData,hasRequiredByteData;function requireByteData(){if(hasRequiredByteData)return byteData;hasRequiredByteData=1;const se=requireEncodeUtf8(),Y=requireMode();function ne(fe){this.mode=Y.BYTE,typeof fe=="string"&&(fe=se(fe)),this.data=new Uint8Array(fe)}return ne.getBitsLength=function(ye){return ye*8},ne.prototype.getLength=function(){return this.data.length},ne.prototype.getBitsLength=function(){return ne.getBitsLength(this.data.length)},ne.prototype.write=function(fe){for(let ye=0,me=this.data.length;ye<me;ye++)fe.put(this.data[ye],8)},byteData=ne,byteData}var kanjiData,hasRequiredKanjiData;function requireKanjiData(){if(hasRequiredKanjiData)return kanjiData;hasRequiredKanjiData=1;const se=requireMode(),Y=requireUtils$7();function ne(fe){this.mode=se.KANJI,this.data=fe}return ne.getBitsLength=function(ye){return ye*13},ne.prototype.getLength=function(){return this.data.length},ne.prototype.getBitsLength=function(){return ne.getBitsLength(this.data.length)},ne.prototype.write=function(fe){let ye;for(ye=0;ye<this.data.length;ye++){let me=Y.toSJIS(this.data[ye]);if(me>=33088&&me<=40956)me-=33088;else if(me>=57408&&me<=60351)me-=49472;else throw new Error("Invalid SJIS character: "+this.data[ye]+`
Make sure your charset is UTF-8`);me=(me>>>8&255)*192+(me&255),fe.put(me,13)}},kanjiData=ne,kanjiData}var dijkstra={exports:{}},hasRequiredDijkstra;function requireDijkstra(){return hasRequiredDijkstra||(hasRequiredDijkstra=1,function(se){var Y={single_source_shortest_paths:function(ne,fe,ye){var me={},be={};be[fe]=0;var we=Y.PriorityQueue.make();we.push(fe,0);for(var Ee,xe,Se,Ie,fr,br,kr,Wr,Gr;!we.empty();){Ee=we.pop(),xe=Ee.value,Ie=Ee.cost,fr=ne[xe]||{};for(Se in fr)fr.hasOwnProperty(Se)&&(br=fr[Se],kr=Ie+br,Wr=be[Se],Gr=typeof be[Se]>"u",(Gr||Wr>kr)&&(be[Se]=kr,we.push(Se,kr),me[Se]=xe))}if(typeof ye<"u"&&typeof be[ye]>"u"){var jr=["Could not find a path from ",fe," to ",ye,"."].join("");throw new Error(jr)}return me},extract_shortest_path_from_predecessor_list:function(ne,fe){for(var ye=[],me=fe;me;)ye.push(me),ne[me],me=ne[me];return ye.reverse(),ye},find_path:function(ne,fe,ye){var me=Y.single_source_shortest_paths(ne,fe,ye);return Y.extract_shortest_path_from_predecessor_list(me,ye)},PriorityQueue:{make:function(ne){var fe=Y.PriorityQueue,ye={},me;ne=ne||{};for(me in fe)fe.hasOwnProperty(me)&&(ye[me]=fe[me]);return ye.queue=[],ye.sorter=ne.sorter||fe.default_sorter,ye},default_sorter:function(ne,fe){return ne.cost-fe.cost},push:function(ne,fe){var ye={value:ne,cost:fe};this.queue.push(ye),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};se.exports=Y}(dijkstra)),dijkstra.exports}var hasRequiredSegments;function requireSegments(){return hasRequiredSegments||(hasRequiredSegments=1,function(se){const Y=requireMode(),ne=requireNumericData(),fe=requireAlphanumericData(),ye=requireByteData(),me=requireKanjiData(),be=requireRegex(),we=requireUtils$7(),Ee=requireDijkstra();function xe(jr){return unescape(encodeURIComponent(jr)).length}function Se(jr,Qr,wn){const En=[];let Rn;for(;(Rn=jr.exec(wn))!==null;)En.push({data:Rn[0],index:Rn.index,mode:Qr,length:Rn[0].length});return En}function Ie(jr){const Qr=Se(be.NUMERIC,Y.NUMERIC,jr),wn=Se(be.ALPHANUMERIC,Y.ALPHANUMERIC,jr);let En,Rn;return we.isKanjiModeEnabled()?(En=Se(be.BYTE,Y.BYTE,jr),Rn=Se(be.KANJI,Y.KANJI,jr)):(En=Se(be.BYTE_KANJI,Y.BYTE,jr),Rn=[]),Qr.concat(wn,En,Rn).sort(function($n,Tn){return $n.index-Tn.index}).map(function($n){return{data:$n.data,mode:$n.mode,length:$n.length}})}function fr(jr,Qr){switch(Qr){case Y.NUMERIC:return ne.getBitsLength(jr);case Y.ALPHANUMERIC:return fe.getBitsLength(jr);case Y.KANJI:return me.getBitsLength(jr);case Y.BYTE:return ye.getBitsLength(jr)}}function br(jr){return jr.reduce(function(Qr,wn){const En=Qr.length-1>=0?Qr[Qr.length-1]:null;return En&&En.mode===wn.mode?(Qr[Qr.length-1].data+=wn.data,Qr):(Qr.push(wn),Qr)},[])}function kr(jr){const Qr=[];for(let wn=0;wn<jr.length;wn++){const En=jr[wn];switch(En.mode){case Y.NUMERIC:Qr.push([En,{data:En.data,mode:Y.ALPHANUMERIC,length:En.length},{data:En.data,mode:Y.BYTE,length:En.length}]);break;case Y.ALPHANUMERIC:Qr.push([En,{data:En.data,mode:Y.BYTE,length:En.length}]);break;case Y.KANJI:Qr.push([En,{data:En.data,mode:Y.BYTE,length:xe(En.data)}]);break;case Y.BYTE:Qr.push([{data:En.data,mode:Y.BYTE,length:xe(En.data)}])}}return Qr}function Wr(jr,Qr){const wn={},En={start:{}};let Rn=["start"];for(let An=0;An<jr.length;An++){const $n=jr[An],Tn=[];for(let ti=0;ti<$n.length;ti++){const ai=$n[ti],On=""+An+ti;Tn.push(On),wn[On]={node:ai,lastCount:0},En[On]={};for(let Sn=0;Sn<Rn.length;Sn++){const Zr=Rn[Sn];wn[Zr]&&wn[Zr].node.mode===ai.mode?(En[Zr][On]=fr(wn[Zr].lastCount+ai.length,ai.mode)-fr(wn[Zr].lastCount,ai.mode),wn[Zr].lastCount+=ai.length):(wn[Zr]&&(wn[Zr].lastCount=ai.length),En[Zr][On]=fr(ai.length,ai.mode)+4+Y.getCharCountIndicator(ai.mode,Qr))}}Rn=Tn}for(let An=0;An<Rn.length;An++)En[Rn[An]].end=0;return{map:En,table:wn}}function Gr(jr,Qr){let wn;const En=Y.getBestModeForData(jr);if(wn=Y.from(Qr,En),wn!==Y.BYTE&&wn.bit<En.bit)throw new Error('"'+jr+'" cannot be encoded with mode '+Y.toString(wn)+`.
 Suggested mode is: `+Y.toString(En));switch(wn===Y.KANJI&&!we.isKanjiModeEnabled()&&(wn=Y.BYTE),wn){case Y.NUMERIC:return new ne(jr);case Y.ALPHANUMERIC:return new fe(jr);case Y.KANJI:return new me(jr);case Y.BYTE:return new ye(jr)}}se.fromArray=function(Qr){return Qr.reduce(function(wn,En){return typeof En=="string"?wn.push(Gr(En,null)):En.data&&wn.push(Gr(En.data,En.mode)),wn},[])},se.fromString=function(Qr,wn){const En=Ie(Qr,we.isKanjiModeEnabled()),Rn=kr(En),An=Wr(Rn,wn),$n=Ee.find_path(An.map,"start","end"),Tn=[];for(let ti=1;ti<$n.length-1;ti++)Tn.push(An.table[$n[ti]].node);return se.fromArray(br(Tn))},se.rawSplit=function(Qr){return se.fromArray(Ie(Qr,we.isKanjiModeEnabled()))}}(segments)),segments}var hasRequiredQrcode;function requireQrcode(){if(hasRequiredQrcode)return qrcode;hasRequiredQrcode=1;const se=requireUtils$7(),Y=requireErrorCorrectionLevel(),ne=requireBitBuffer(),fe=requireBitMatrix(),ye=requireAlignmentPattern(),me=requireFinderPattern(),be=requireMaskPattern(),we=requireErrorCorrectionCode(),Ee=requireReedSolomonEncoder(),xe=requireVersion$1(),Se=requireFormatInfo(),Ie=requireMode(),fr=requireSegments();function br(An,$n){const Tn=An.size,ti=me.getPositions($n);for(let ai=0;ai<ti.length;ai++){const On=ti[ai][0],Sn=ti[ai][1];for(let Zr=-1;Zr<=7;Zr++)if(!(On+Zr<=-1||Tn<=On+Zr))for(let Oe=-1;Oe<=7;Oe++)Sn+Oe<=-1||Tn<=Sn+Oe||(Zr>=0&&Zr<=6&&(Oe===0||Oe===6)||Oe>=0&&Oe<=6&&(Zr===0||Zr===6)||Zr>=2&&Zr<=4&&Oe>=2&&Oe<=4?An.set(On+Zr,Sn+Oe,!0,!0):An.set(On+Zr,Sn+Oe,!1,!0))}}function kr(An){const $n=An.size;for(let Tn=8;Tn<$n-8;Tn++){const ti=Tn%2===0;An.set(Tn,6,ti,!0),An.set(6,Tn,ti,!0)}}function Wr(An,$n){const Tn=ye.getPositions($n);for(let ti=0;ti<Tn.length;ti++){const ai=Tn[ti][0],On=Tn[ti][1];for(let Sn=-2;Sn<=2;Sn++)for(let Zr=-2;Zr<=2;Zr++)Sn===-2||Sn===2||Zr===-2||Zr===2||Sn===0&&Zr===0?An.set(ai+Sn,On+Zr,!0,!0):An.set(ai+Sn,On+Zr,!1,!0)}}function Gr(An,$n){const Tn=An.size,ti=xe.getEncodedBits($n);let ai,On,Sn;for(let Zr=0;Zr<18;Zr++)ai=Math.floor(Zr/3),On=Zr%3+Tn-8-3,Sn=(ti>>Zr&1)===1,An.set(ai,On,Sn,!0),An.set(On,ai,Sn,!0)}function jr(An,$n,Tn){const ti=An.size,ai=Se.getEncodedBits($n,Tn);let On,Sn;for(On=0;On<15;On++)Sn=(ai>>On&1)===1,On<6?An.set(On,8,Sn,!0):On<8?An.set(On+1,8,Sn,!0):An.set(ti-15+On,8,Sn,!0),On<8?An.set(8,ti-On-1,Sn,!0):On<9?An.set(8,15-On-1+1,Sn,!0):An.set(8,15-On-1,Sn,!0);An.set(ti-8,8,1,!0)}function Qr(An,$n){const Tn=An.size;let ti=-1,ai=Tn-1,On=7,Sn=0;for(let Zr=Tn-1;Zr>0;Zr-=2)for(Zr===6&&Zr--;;){for(let Oe=0;Oe<2;Oe++)if(!An.isReserved(ai,Zr-Oe)){let wr=!1;Sn<$n.length&&(wr=($n[Sn]>>>On&1)===1),An.set(ai,Zr-Oe,wr),On--,On===-1&&(Sn++,On=7)}if(ai+=ti,ai<0||Tn<=ai){ai-=ti,ti=-ti;break}}}function wn(An,$n,Tn){const ti=new ne;Tn.forEach(function(Oe){ti.put(Oe.mode.bit,4),ti.put(Oe.getLength(),Ie.getCharCountIndicator(Oe.mode,An)),Oe.write(ti)});const ai=se.getSymbolTotalCodewords(An),On=we.getTotalCodewordsCount(An,$n),Sn=(ai-On)*8;for(ti.getLengthInBits()+4<=Sn&&ti.put(0,4);ti.getLengthInBits()%8!==0;)ti.putBit(0);const Zr=(Sn-ti.getLengthInBits())/8;for(let Oe=0;Oe<Zr;Oe++)ti.put(Oe%2?17:236,8);return En(ti,An,$n)}function En(An,$n,Tn){const ti=se.getSymbolTotalCodewords($n),ai=we.getTotalCodewordsCount($n,Tn),On=ti-ai,Sn=we.getBlocksCount($n,Tn),Zr=ti%Sn,Oe=Sn-Zr,wr=Math.floor(ti/Sn),qr=Math.floor(On/Sn),Vr=qr+1,Jr=wr-qr,Xr=new Ee(Jr);let Kr=0;const Yr=new Array(Sn),Br=new Array(Sn);let _n=0;const ii=new Uint8Array(An.buffer);for(let ei=0;ei<Sn;ei++){const Pn=ei<Oe?qr:Vr;Yr[ei]=ii.slice(Kr,Kr+Pn),Br[ei]=Xr.encode(Yr[ei]),Kr+=Pn,_n=Math.max(_n,Pn)}const ni=new Uint8Array(ti);let si=0,Nn,jn;for(Nn=0;Nn<_n;Nn++)for(jn=0;jn<Sn;jn++)Nn<Yr[jn].length&&(ni[si++]=Yr[jn][Nn]);for(Nn=0;Nn<Jr;Nn++)for(jn=0;jn<Sn;jn++)ni[si++]=Br[jn][Nn];return ni}function Rn(An,$n,Tn,ti){let ai;if(Array.isArray(An))ai=fr.fromArray(An);else if(typeof An=="string"){let wr=$n;if(!wr){const qr=fr.rawSplit(An);wr=xe.getBestVersionForData(qr,Tn)}ai=fr.fromString(An,wr||40)}else throw new Error("Invalid data");const On=xe.getBestVersionForData(ai,Tn);if(!On)throw new Error("The amount of data is too big to be stored in a QR Code");if(!$n)$n=On;else if($n<On)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+On+`.
`);const Sn=wn($n,Tn,ai),Zr=se.getSymbolSize($n),Oe=new fe(Zr);return br(Oe,$n),kr(Oe),Wr(Oe,$n),jr(Oe,Tn,0),$n>=7&&Gr(Oe,$n),Qr(Oe,Sn),isNaN(ti)&&(ti=be.getBestMask(Oe,jr.bind(null,Oe,Tn))),be.applyMask(ti,Oe),jr(Oe,Tn,ti),{modules:Oe,version:$n,errorCorrectionLevel:Tn,maskPattern:ti,segments:ai}}return qrcode.create=function($n,Tn){if(typeof $n>"u"||$n==="")throw new Error("No input text");let ti=Y.M,ai,On;return typeof Tn<"u"&&(ti=Y.from(Tn.errorCorrectionLevel,Y.M),ai=xe.from(Tn.version),On=be.from(Tn.maskPattern),Tn.toSJISFunc&&se.setToSJISFunction(Tn.toSJISFunc)),Rn($n,ai,ti,On)},qrcode}var canvas={},utils$6={},hasRequiredUtils$6;function requireUtils$6(){return hasRequiredUtils$6||(hasRequiredUtils$6=1,function(se){function Y(ne){if(typeof ne=="number"&&(ne=ne.toString()),typeof ne!="string")throw new Error("Color should be defined as hex string");let fe=ne.slice().replace("#","").split("");if(fe.length<3||fe.length===5||fe.length>8)throw new Error("Invalid hex color: "+ne);(fe.length===3||fe.length===4)&&(fe=Array.prototype.concat.apply([],fe.map(function(me){return[me,me]}))),fe.length===6&&fe.push("F","F");const ye=parseInt(fe.join(""),16);return{r:ye>>24&255,g:ye>>16&255,b:ye>>8&255,a:ye&255,hex:"#"+fe.slice(0,6).join("")}}se.getOptions=function(fe){fe||(fe={}),fe.color||(fe.color={});const ye=typeof fe.margin>"u"||fe.margin===null||fe.margin<0?4:fe.margin,me=fe.width&&fe.width>=21?fe.width:void 0,be=fe.scale||4;return{width:me,scale:me?4:be,margin:ye,color:{dark:Y(fe.color.dark||"#000000ff"),light:Y(fe.color.light||"#ffffffff")},type:fe.type,rendererOpts:fe.rendererOpts||{}}},se.getScale=function(fe,ye){return ye.width&&ye.width>=fe+ye.margin*2?ye.width/(fe+ye.margin*2):ye.scale},se.getImageWidth=function(fe,ye){const me=se.getScale(fe,ye);return Math.floor((fe+ye.margin*2)*me)},se.qrToImageData=function(fe,ye,me){const be=ye.modules.size,we=ye.modules.data,Ee=se.getScale(be,me),xe=Math.floor((be+me.margin*2)*Ee),Se=me.margin*Ee,Ie=[me.color.light,me.color.dark];for(let fr=0;fr<xe;fr++)for(let br=0;br<xe;br++){let kr=(fr*xe+br)*4,Wr=me.color.light;if(fr>=Se&&br>=Se&&fr<xe-Se&&br<xe-Se){const Gr=Math.floor((fr-Se)/Ee),jr=Math.floor((br-Se)/Ee);Wr=Ie[we[Gr*be+jr]?1:0]}fe[kr++]=Wr.r,fe[kr++]=Wr.g,fe[kr++]=Wr.b,fe[kr]=Wr.a}}}(utils$6)),utils$6}var hasRequiredCanvas;function requireCanvas(){return hasRequiredCanvas||(hasRequiredCanvas=1,function(se){const Y=requireUtils$6();function ne(ye,me,be){ye.clearRect(0,0,me.width,me.height),me.style||(me.style={}),me.height=be,me.width=be,me.style.height=be+"px",me.style.width=be+"px"}function fe(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}se.render=function(me,be,we){let Ee=we,xe=be;typeof Ee>"u"&&(!be||!be.getContext)&&(Ee=be,be=void 0),be||(xe=fe()),Ee=Y.getOptions(Ee);const Se=Y.getImageWidth(me.modules.size,Ee),Ie=xe.getContext("2d"),fr=Ie.createImageData(Se,Se);return Y.qrToImageData(fr.data,me,Ee),ne(Ie,xe,Se),Ie.putImageData(fr,0,0),xe},se.renderToDataURL=function(me,be,we){let Ee=we;typeof Ee>"u"&&(!be||!be.getContext)&&(Ee=be,be=void 0),Ee||(Ee={});const xe=se.render(me,be,Ee),Se=Ee.type||"image/png",Ie=Ee.rendererOpts||{};return xe.toDataURL(Se,Ie.quality)}}(canvas)),canvas}var svgTag={},hasRequiredSvgTag;function requireSvgTag(){if(hasRequiredSvgTag)return svgTag;hasRequiredSvgTag=1;const se=requireUtils$6();function Y(ye,me){const be=ye.a/255,we=me+'="'+ye.hex+'"';return be<1?we+" "+me+'-opacity="'+be.toFixed(2).slice(1)+'"':we}function ne(ye,me,be){let we=ye+me;return typeof be<"u"&&(we+=" "+be),we}function fe(ye,me,be){let we="",Ee=0,xe=!1,Se=0;for(let Ie=0;Ie<ye.length;Ie++){const fr=Math.floor(Ie%me),br=Math.floor(Ie/me);!fr&&!xe&&(xe=!0),ye[Ie]?(Se++,Ie>0&&fr>0&&ye[Ie-1]||(we+=xe?ne("M",fr+be,.5+br+be):ne("m",Ee,0),Ee=0,xe=!1),fr+1<me&&ye[Ie+1]||(we+=ne("h",Se),Se=0)):Ee++}return we}return svgTag.render=function(me,be,we){const Ee=se.getOptions(be),xe=me.modules.size,Se=me.modules.data,Ie=xe+Ee.margin*2,fr=Ee.color.light.a?"<path "+Y(Ee.color.light,"fill")+' d="M0 0h'+Ie+"v"+Ie+'H0z"/>':"",br="<path "+Y(Ee.color.dark,"stroke")+' d="'+fe(Se,xe,Ee.margin)+'"/>',kr='viewBox="0 0 '+Ie+" "+Ie+'"',Gr='<svg xmlns="http://www.w3.org/2000/svg" '+(Ee.width?'width="'+Ee.width+'" height="'+Ee.width+'" ':"")+kr+' shape-rendering="crispEdges">'+fr+br+`</svg>
`;return typeof we=="function"&&we(null,Gr),Gr},svgTag}var hasRequiredBrowser$g;function requireBrowser$g(){if(hasRequiredBrowser$g)return browser$g;hasRequiredBrowser$g=1;const se=requireCanPromise(),Y=requireQrcode(),ne=requireCanvas(),fe=requireSvgTag();function ye(me,be,we,Ee,xe){const Se=[].slice.call(arguments,1),Ie=Se.length,fr=typeof Se[Ie-1]=="function";if(!fr&&!se())throw new Error("Callback required as last argument");if(fr){if(Ie<2)throw new Error("Too few arguments provided");Ie===2?(xe=we,we=be,be=Ee=void 0):Ie===3&&(be.getContext&&typeof xe>"u"?(xe=Ee,Ee=void 0):(xe=Ee,Ee=we,we=be,be=void 0))}else{if(Ie<1)throw new Error("Too few arguments provided");return Ie===1?(we=be,be=Ee=void 0):Ie===2&&!be.getContext&&(Ee=we,we=be,be=void 0),new Promise(function(br,kr){try{const Wr=Y.create(we,Ee);br(me(Wr,be,Ee))}catch(Wr){kr(Wr)}})}try{const br=Y.create(we,Ee);xe(null,me(br,be,Ee))}catch(br){xe(br)}}return browser$g.create=Y.create,browser$g.toCanvas=ye.bind(null,ne.render),browser$g.toDataURL=ye.bind(null,ne.renderToDataURL),browser$g.toString=ye.bind(null,function(me,be,we){return fe.render(me,we)}),browser$g}var browserExports$2=requireBrowser$g();const QRCodeUtil=getDefaultExportFromCjs(browserExports$2),CONNECTING_ERROR_MARGIN=.1,CIRCLE_SIZE_MODIFIER=2.5,QRCODE_MATRIX_MARGIN=7;function isAdjecentDots(se,Y,ne){return se===Y?!1:(se-Y<0?Y-se:se-Y)<=ne+CONNECTING_ERROR_MARGIN}function getMatrix(se,Y){const ne=Array.prototype.slice.call(QRCodeUtil.create(se,{errorCorrectionLevel:Y}).modules.data,0),fe=Math.sqrt(ne.length);return ne.reduce((ye,me,be)=>(be%fe===0?ye.push([me]):ye[ye.length-1].push(me))&&ye,[])}const QrCodeUtil={generate(se,Y,ne){const fe="#141414",ye="transparent",be=[],we=getMatrix(se,"Q"),Ee=Y/we.length,xe=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];xe.forEach(({x:Wr,y:Gr})=>{const jr=(we.length-QRCODE_MATRIX_MARGIN)*Ee*Wr,Qr=(we.length-QRCODE_MATRIX_MARGIN)*Ee*Gr,wn=.45;for(let En=0;En<xe.length;En+=1){const Rn=Ee*(QRCODE_MATRIX_MARGIN-En*2);be.push(b$7`
            <rect
              fill=${En===2?fe:ye}
              width=${En===0?Rn-5:Rn}
              rx= ${En===0?(Rn-5)*wn:Rn*wn}
              ry= ${En===0?(Rn-5)*wn:Rn*wn}
              stroke=${fe}
              stroke-width=${En===0?5:0}
              height=${En===0?Rn-5:Rn}
              x= ${En===0?Qr+Ee*En+5/2:Qr+Ee*En}
              y= ${En===0?jr+Ee*En+5/2:jr+Ee*En}
            />
          `)}});const Se=Math.floor((ne+25)/Ee),Ie=we.length/2-Se/2,fr=we.length/2+Se/2-1,br=[];we.forEach((Wr,Gr)=>{Wr.forEach((jr,Qr)=>{if(we[Gr][Qr]&&!(Gr<QRCODE_MATRIX_MARGIN&&Qr<QRCODE_MATRIX_MARGIN||Gr>we.length-(QRCODE_MATRIX_MARGIN+1)&&Qr<QRCODE_MATRIX_MARGIN||Gr<QRCODE_MATRIX_MARGIN&&Qr>we.length-(QRCODE_MATRIX_MARGIN+1))&&!(Gr>Ie&&Gr<fr&&Qr>Ie&&Qr<fr)){const wn=Gr*Ee+Ee/2,En=Qr*Ee+Ee/2;br.push([wn,En])}})});const kr={};return br.forEach(([Wr,Gr])=>{var jr;kr[Wr]?(jr=kr[Wr])==null||jr.push(Gr):kr[Wr]=[Gr]}),Object.entries(kr).map(([Wr,Gr])=>{const jr=Gr.filter(Qr=>Gr.every(wn=>!isAdjecentDots(Qr,wn,Ee)));return[Number(Wr),jr]}).forEach(([Wr,Gr])=>{Gr.forEach(jr=>{be.push(b$7`<circle cx=${Wr} cy=${jr} fill=${fe} r=${Ee/CIRCLE_SIZE_MODIFIER} />`)})}),Object.entries(kr).filter(([Wr,Gr])=>Gr.length>1).map(([Wr,Gr])=>{const jr=Gr.filter(Qr=>Gr.some(wn=>isAdjecentDots(Qr,wn,Ee)));return[Number(Wr),jr]}).map(([Wr,Gr])=>{Gr.sort((Qr,wn)=>Qr<wn?-1:1);const jr=[];for(const Qr of Gr){const wn=jr.find(En=>En.some(Rn=>isAdjecentDots(Qr,Rn,Ee)));wn?wn.push(Qr):jr.push([Qr])}return[Wr,jr.map(Qr=>[Qr[0],Qr[Qr.length-1]])]}).forEach(([Wr,Gr])=>{Gr.forEach(([jr,Qr])=>{be.push(b$7`
              <line
                x1=${Wr}
                x2=${Wr}
                y1=${jr}
                y2=${Qr}
                stroke=${fe}
                stroke-width=${Ee/(CIRCLE_SIZE_MODIFIER/2)}
                stroke-linecap="round"
              />
            `)})}),be}},styles$K=i$7`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var __decorate$19=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiQrCode=class extends r$7{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0}render(){return this.dataset.theme=this.theme,this.style.cssText=`--local-size: ${this.size}px`,x$4`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const Y=this.theme==="light"?this.size:this.size-32;return b$7`
      <svg height=${Y} width=${Y}>
        ${QrCodeUtil.generate(this.uri,Y,Y/4)}
      </svg>
    `}templateVisual(){return this.imageSrc?x$4`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:x$4`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};WuiQrCode.styles=[resetStyles,styles$K];__decorate$19([n$8()],WuiQrCode.prototype,"uri",void 0);__decorate$19([n$8({type:Number})],WuiQrCode.prototype,"size",void 0);__decorate$19([n$8()],WuiQrCode.prototype,"theme",void 0);__decorate$19([n$8()],WuiQrCode.prototype,"imageSrc",void 0);__decorate$19([n$8()],WuiQrCode.prototype,"alt",void 0);WuiQrCode=__decorate$19([customElement("wui-qr-code")],WuiQrCode);const styles$J=i$7`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var __decorate$18=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiSearchBar=class extends r$7{constructor(){super(...arguments),this.inputComponentRef=e$3()}render(){return x$4`
      <wui-input-text
        ${n$6(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const Y=this.inputComponentRef.value,ne=Y==null?void 0:Y.inputElementRef.value;ne&&(ne.value="",ne.focus(),ne.dispatchEvent(new Event("input")))}};WuiSearchBar.styles=[resetStyles,styles$J];WuiSearchBar=__decorate$18([customElement("wui-search-bar")],WuiSearchBar);const styles$I=i$7`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-xs);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-gray-glass-005);
    box-sizing: border-box;
    max-height: 40px;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);
  }
`;var __decorate$17=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiSnackbar=class extends r$7{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message=""}render(){return x$4`
      <wui-icon-box
        size="sm"
        iconSize="xs"
        iconColor=${this.iconColor}
        backgroundColor=${this.backgroundColor}
        icon=${this.icon}
        background="opaque"
      ></wui-icon-box>
      <wui-text variant="paragraph-500" color="fg-100">${this.message}</wui-text>
    `}};WuiSnackbar.styles=[resetStyles,styles$I];__decorate$17([n$8()],WuiSnackbar.prototype,"backgroundColor",void 0);__decorate$17([n$8()],WuiSnackbar.prototype,"iconColor",void 0);__decorate$17([n$8()],WuiSnackbar.prototype,"icon",void 0);__decorate$17([n$8()],WuiSnackbar.prototype,"message",void 0);WuiSnackbar=__decorate$17([customElement("wui-snackbar")],WuiSnackbar);const styles$H=i$7`
  :host {
    display: inline-flex;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }

  button {
    width: var(--local-tab-width);
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var __decorate$16=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiTabs=class extends r$7{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.activeTab=0,this.localTabWidth="100px",this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((Y,ne)=>{const fe=ne===this.activeTab;return x$4`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(ne)}
          data-active=${fe}
        >
          <wui-icon size="xs" color="inherit" name=${Y.icon}></wui-icon>
          <wui-text variant="small-600" color="inherit"> ${Y.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}onTabClick(Y){this.buttons&&this.animateTabs(Y,!1),this.activeTab=Y,this.onTabChange(Y)}animateTabs(Y,ne){const fe=this.buttons[this.activeTab],ye=this.buttons[Y],me=fe==null?void 0:fe.querySelector("wui-text"),be=ye==null?void 0:ye.querySelector("wui-text"),we=ye==null?void 0:ye.getBoundingClientRect(),Ee=be==null?void 0:be.getBoundingClientRect();fe&&me&&!ne&&Y!==this.activeTab&&(me.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),fe.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),ye&&we&&Ee&&be&&(Y!==this.activeTab||ne)&&(this.localTabWidth=`${Math.round(we.width+Ee.width)+6}px`,ye.animate([{width:`${we.width+Ee.width}px`}],{duration:ne?0:500,fill:"forwards",easing:"ease"}),be.animate([{opacity:1}],{duration:ne?0:125,delay:ne?0:200,fill:"forwards",easing:"ease"}))}};WuiTabs.styles=[resetStyles,elementStyles,styles$H];__decorate$16([n$8({type:Array})],WuiTabs.prototype,"tabs",void 0);__decorate$16([n$8()],WuiTabs.prototype,"onTabChange",void 0);__decorate$16([n$8({type:Array})],WuiTabs.prototype,"buttons",void 0);__decorate$16([n$8({type:Boolean})],WuiTabs.prototype,"disabled",void 0);__decorate$16([r$5()],WuiTabs.prototype,"activeTab",void 0);__decorate$16([r$5()],WuiTabs.prototype,"localTabWidth",void 0);__decorate$16([r$5()],WuiTabs.prototype,"isDense",void 0);WuiTabs=__decorate$16([customElement("wui-tabs")],WuiTabs);const styles$G=i$7`
  :host {
    display: block;
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    background-color: var(--wui-color-fg-100);
    color: var(--wui-color-bg-100);
    position: relative;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
  }

  wui-icon[data-placement='top'] {
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var __decorate$15=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiTooltip=class extends r$7{constructor(){super(...arguments),this.placement="top",this.message=""}render(){return x$4`<wui-icon
        data-placement=${this.placement}
        color="fg-100"
        size="inherit"
        name="cursor"
      ></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>`}};WuiTooltip.styles=[resetStyles,elementStyles,styles$G];__decorate$15([n$8()],WuiTooltip.prototype,"placement",void 0);__decorate$15([n$8()],WuiTooltip.prototype,"message",void 0);WuiTooltip=__decorate$15([customElement("wui-tooltip")],WuiTooltip);const styles$F=i$7`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--wui-icon-box-size-xl);
    height: var(--wui-icon-box-size-xl);
    box-shadow: 0 0 0 8px var(--wui-thumbnail-border);
    border-radius: var(--local-border-radius);
    overflow: hidden;
  }

  wui-icon {
    width: 32px;
    height: 32px;
  }
`;var __decorate$14=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiVisualThumbnail=class extends r$7{render(){return this.style.cssText=`--local-border-radius: ${this.borderRadiusFull?"1000px":"20px"};`,x$4`${this.templateVisual()}`}templateVisual(){return this.imageSrc?x$4`<wui-image src=${this.imageSrc} alt=${this.alt??""}></wui-image>`:x$4`<wui-icon
      data-parent-size="md"
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};WuiVisualThumbnail.styles=[resetStyles,styles$F];__decorate$14([n$8()],WuiVisualThumbnail.prototype,"imageSrc",void 0);__decorate$14([n$8()],WuiVisualThumbnail.prototype,"alt",void 0);__decorate$14([n$8({type:Boolean})],WuiVisualThumbnail.prototype,"borderRadiusFull",void 0);WuiVisualThumbnail=__decorate$14([customElement("wui-visual-thumbnail")],WuiVisualThumbnail);const styles$E=i$7`
  :host {
    display: block;
  }

  button {
    width: 100%;
    display: block;
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    padding-left: var(--wui-spacing-s);
    padding-right: var(--wui-spacing-2l);
    border-radius: var(--wui-border-radius-s);
    background-color: var(--wui-accent-glass-015);
  }

  button:hover {
    background-color: var(--wui-accent-glass-010) !important;
  }

  button:active {
    background-color: var(--wui-accent-glass-020) !important;
  }
`;var __decorate$13=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiNoticeCard=class extends r$7{constructor(){super(...arguments),this.label="",this.description="",this.icon="wallet"}render(){return x$4`
      <button>
        <wui-flex gap="m" alignItems="center" justifyContent="space-between">
          <wui-icon-box
            size="lg"
            iconcolor="accent-100"
            backgroundcolor="accent-100"
            icon=${this.icon}
            background="transparent"
          ></wui-icon-box>

          <wui-flex flexDirection="column" gap="3xs">
            <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
            <wui-text variant="small-400" color="fg-200">${this.description}</wui-text>
          </wui-flex>

          <wui-icon size="md" color="fg-200" name="chevronRight"></wui-icon>
        </wui-flex>
      </button>
    `}};WuiNoticeCard.styles=[resetStyles,elementStyles,styles$E];__decorate$13([n$8()],WuiNoticeCard.prototype,"label",void 0);__decorate$13([n$8()],WuiNoticeCard.prototype,"description",void 0);__decorate$13([n$8()],WuiNoticeCard.prototype,"icon",void 0);WuiNoticeCard=__decorate$13([customElement("wui-notice-card")],WuiNoticeCard);const styles$D=i$7`
  button {
    height: auto;
    position: relative;
    flex-direction: column;
    gap: var(--wui-spacing-s);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  .overflowedContent {
    width: 100%;
    overflow: hidden;
  }

  .overflowedContent[data-active='false']:after {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to top, var(--wui-color-bg-200), transparent);
    border-bottom-left-radius: var(--wui-border-radius-xs);
    border-bottom-right-radius: var(--wui-border-radius-xs);
  }

  .heightContent {
    max-height: 100px;
  }

  pre {
    text-align: left;
    white-space: pre-wrap;
    height: auto;
    overflow-x: auto;
    overflow-wrap: anywhere;
  }
`;var __decorate$12=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const MAX_HEIGHT=100;let WuiListAccordion=class extends r$7{constructor(){super(...arguments),this.textTitle="",this.overflowedContent="",this.toggled=!1,this.enableAccordion=!1,this.scrollElement=void 0,this.scrollHeightElement=0}updated(Y){super.updated(Y),(Y.has("textTitle")||Y.has("overflowedContent"))&&setTimeout(()=>{this.checkHeight()},1)}checkHeight(){this.updateComplete.then(()=>{var fe,ye;const Y=(fe=this.shadowRoot)==null?void 0:fe.querySelector(".heightContent"),ne=(ye=this.shadowRoot)==null?void 0:ye.querySelector(".textContent");if(Y&&ne){this.scrollElement=Y;const me=ne==null?void 0:ne.scrollHeight;me&&me>MAX_HEIGHT&&(this.enableAccordion=!0,this.scrollHeightElement=me,this.requestUpdate())}})}render(){return x$4`
      <button ontouchstart @click=${()=>this.onClick()}>
        <wui-flex justifyContent="space-between" alignItems="center">
          <wui-text variant="paragraph-500" color="fg-100">${this.textTitle}</wui-text>
          ${this.chevronTemplate()}
        </wui-flex>
        <div
          data-active=${this.enableAccordion?!!this.toggled:!0}
          class="overflowedContent"
        >
          <div class="heightContent">
            <wui-text class="textContent" variant="paragraph-400" color="fg-200">
              <pre>${this.overflowedContent}</pre>
            </wui-text>
          </div>
        </div>
      </button>
    `}onClick(){var ne;const Y=(ne=this.shadowRoot)==null?void 0:ne.querySelector("wui-icon");this.enableAccordion&&(this.toggled=!this.toggled,this.requestUpdate(),this.scrollElement&&this.scrollElement.animate([{maxHeight:this.toggled?`${MAX_HEIGHT}px`:`${this.scrollHeightElement}px`},{maxHeight:this.toggled?`${this.scrollHeightElement}px`:`${MAX_HEIGHT}px`}],{duration:300,fill:"forwards",easing:"ease"}),Y&&Y.animate([{transform:this.toggled?"rotate(0deg)":"rotate(180deg)"},{transform:this.toggled?"rotate(180deg)":"rotate(0deg)"}],{duration:300,fill:"forwards",easing:"ease"}))}chevronTemplate(){return this.enableAccordion?x$4` <wui-icon color="fg-100" size="sm" name="chevronBottom"></wui-icon>`:null}};WuiListAccordion.styles=[resetStyles,elementStyles,styles$D];__decorate$12([n$8()],WuiListAccordion.prototype,"textTitle",void 0);__decorate$12([n$8()],WuiListAccordion.prototype,"overflowedContent",void 0);WuiListAccordion=__decorate$12([customElement("wui-list-accordion")],WuiListAccordion);const styles$C=i$7`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  wui-image {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-icon {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
  }
`;var __decorate$11=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiListContent=class extends r$7{constructor(){super(...arguments),this.imageSrc=void 0,this.textTitle="",this.textValue=void 0}render(){return x$4`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color=${this.textValue?"fg-200":"fg-100"}>
          ${this.textTitle}
        </wui-text>
        ${this.templateContent()}
      </wui-flex>
    `}templateContent(){return this.imageSrc?x$4`<wui-image src=${this.imageSrc} alt=${this.textTitle}></wui-image>`:this.textValue?x$4` <wui-text variant="paragraph-400" color="fg-100"> ${this.textValue} </wui-text>`:x$4`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};WuiListContent.styles=[resetStyles,elementStyles,styles$C];__decorate$11([n$8()],WuiListContent.prototype,"imageSrc",void 0);__decorate$11([n$8()],WuiListContent.prototype,"textTitle",void 0);__decorate$11([n$8()],WuiListContent.prototype,"textValue",void 0);WuiListContent=__decorate$11([customElement("wui-list-content")],WuiListContent);const styles$B=i$7`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }

  button:disabled {
    background-color: var(--wui-gray-glass-015);
    color: var(--wui-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-gray-glass-010);
    color: var(--wui-color-fg-300);
  }
`;var __decorate$10=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiListNetwork=class extends r$7{constructor(){super(...arguments),this.imageSrc="",this.name="",this.disabled=!1}render(){return x$4`
      <button ?disabled=${this.disabled} ontouchstart>
        ${this.templateNetworkImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
      </button>
    `}templateNetworkImage(){return this.imageSrc?x$4`<wui-network-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-network-image>`:this.imageSrc?null:x$4`<wui-network-image size="sm" name=${this.name}></wui-network-image>`}};WuiListNetwork.styles=[resetStyles,elementStyles,styles$B];__decorate$10([n$8()],WuiListNetwork.prototype,"imageSrc",void 0);__decorate$10([n$8()],WuiListNetwork.prototype,"name",void 0);__decorate$10([n$8({type:Boolean})],WuiListNetwork.prototype,"disabled",void 0);WuiListNetwork=__decorate$10([customElement("wui-list-network")],WuiListNetwork);const styles$A=i$7`
  :host {
    display: flex;
    flex-direction: column;
    gap: var(--wui-spacing-l);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  wui-image {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-icon {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
  }
`;var __decorate$$=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiListWalletTransaction=class extends r$7{constructor(){super(...arguments),this.amount="",this.networkCurreny="",this.networkImageUrl="",this.receiverAddress="",this.addressExplorerUrl=""}render(){return x$4`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">Sending</wui-text>
        <wui-flex gap="xs" alignItems="center">
          <wui-text variant="paragraph-400" color="fg-100">
            ${this.amount} ${this.networkCurreny}
          </wui-text>
          ${this.templateNetworkVisual()}
        </wui-flex>
      </wui-flex>
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">To</wui-text>
        <wui-chip
          icon="externalLink"
          variant="shadeSmall"
          href=${this.addressExplorerUrl}
          title=${this.receiverAddress}
        ></wui-chip>
      </wui-flex>
    `}templateNetworkVisual(){return this.networkImageUrl?x$4`<wui-image src=${this.networkImageUrl} alt="Network Image"></wui-image>`:x$4`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};WuiListWalletTransaction.styles=[resetStyles,elementStyles,styles$A];__decorate$$([n$8()],WuiListWalletTransaction.prototype,"amount",void 0);__decorate$$([n$8()],WuiListWalletTransaction.prototype,"networkCurreny",void 0);__decorate$$([n$8()],WuiListWalletTransaction.prototype,"networkImageUrl",void 0);__decorate$$([n$8()],WuiListWalletTransaction.prototype,"receiverAddress",void 0);__decorate$$([n$8()],WuiListWalletTransaction.prototype,"addressExplorerUrl",void 0);WuiListWalletTransaction=__decorate$$([customElement("wui-list-wallet-transaction")],WuiListWalletTransaction);const styles$z=i$7`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
  }

  :host > wui-flex:hover {
    background-color: var(--wui-gray-glass-002);
  }

  .purchase-image-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: var(--wui-icon-box-size-lg);
    height: var(--wui-icon-box-size-lg);
  }

  .purchase-image-container wui-image {
    width: 100%;
    height: 100%;
    position: relative;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
  }

  .purchase-image-container wui-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-005);
  }

  .purchase-image-container wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }
`;var __decorate$_=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiOnRampActivityItem=class extends r$7{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="Bought",this.purchaseValue="",this.purchaseCurrency="",this.date="",this.completed=!1,this.inProgress=!1,this.failed=!1,this.onClick=null,this.symbol=""}firstUpdated(){this.icon||this.fetchTokenImage()}render(){return x$4`
      <wui-flex>
        ${this.imageTemplate()}
        <wui-flex flexDirection="column" gap="4xs" flexGrow="1">
          <wui-flex gap="xxs" alignItems="center" justifyContent="flex-start">
            ${this.statusIconTemplate()}
            <wui-text variant="paragraph-500" color="fg-100"> ${this.label}</wui-text>
          </wui-flex>
          <wui-text variant="small-400" color="fg-200">
            + ${this.purchaseValue} ${this.purchaseCurrency}
          </wui-text>
        </wui-flex>
        ${this.inProgress?x$4`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:x$4`<wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>`}
      </wui-flex>
    `}async fetchTokenImage(){await ApiController._fetchTokenImage(this.purchaseCurrency)}statusIconTemplate(){return this.inProgress?null:this.completed?this.boughtIconTemplate():this.errorIconTemplate()}errorIconTemplate(){return x$4`<wui-icon-box
      size="xxs"
      iconColor="error-100"
      backgroundColor="error-100"
      background="opaque"
      icon="close"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}imageTemplate(){const Y=this.icon||`https://avatar.vercel.sh/andrew.svg?size=50&text=${this.symbol}`;return x$4`<wui-flex class="purchase-image-container">
      <wui-image src=${Y}></wui-image>
    </wui-flex>`}boughtIconTemplate(){return x$4`<wui-icon-box
      size="xxs"
      iconColor="success-100"
      backgroundColor="success-100"
      background="opaque"
      icon="arrowBottom"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}};WuiOnRampActivityItem.styles=[resetStyles,elementStyles,styles$z];__decorate$_([n$8({type:Boolean})],WuiOnRampActivityItem.prototype,"disabled",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"color",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"label",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"purchaseValue",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"purchaseCurrency",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"date",void 0);__decorate$_([n$8({type:Boolean})],WuiOnRampActivityItem.prototype,"completed",void 0);__decorate$_([n$8({type:Boolean})],WuiOnRampActivityItem.prototype,"inProgress",void 0);__decorate$_([n$8({type:Boolean})],WuiOnRampActivityItem.prototype,"failed",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"onClick",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"symbol",void 0);__decorate$_([n$8()],WuiOnRampActivityItem.prototype,"icon",void 0);WuiOnRampActivityItem=__decorate$_([customElement("wui-onramp-activity-item")],WuiOnRampActivityItem);const styles$y=i$7`
  button {
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-gray-glass-002);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
    transition: background-color 0.2s linear;
  }

  button:hover {
    background-color: var(--wui-gray-glass-005);
  }

  .provider-image {
    width: var(--wui-spacing-3xl);
    min-width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    position: relative;
    overflow: hidden;
  }

  .provider-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-005);
  }

  .network-icon {
    width: var(--wui-spacing-m);
    height: var(--wui-spacing-m);
    border-radius: calc(var(--wui-spacing-m) / 2);
    overflow: hidden;
    box-shadow:
      0 0 0 3px var(--wui-gray-glass-002),
      0 0 0 3px var(--wui-color-modal-bg);
    transition: box-shadow 0.2s linear;
  }

  button:hover .network-icon {
    box-shadow:
      0 0 0 3px var(--wui-gray-glass-005),
      0 0 0 3px var(--wui-color-modal-bg);
  }
`;var __decorate$Z=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiOnRampProviderItem=class extends r$7{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="",this.feeRange="",this.loading=!1,this.onClick=null}render(){return x$4`
      <button ?disabled=${this.disabled} ontouchstart>
        <wui-visual name=${o$5(this.name)} class="provider-image"></wui-visual>
        <wui-flex flexDirection="column" gap="4xs">
          <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
          <wui-flex alignItems="center" justifyContent="flex-start" gap="l">
            <wui-text variant="tiny-500" color="fg-100">
              <wui-text variant="tiny-400" color="fg-200">Fees</wui-text>
              ${this.feeRange}
            </wui-text>
            <wui-flex gap="xxs">
              <wui-icon name="bank" size="xs" color="fg-150"></wui-icon>
              <wui-icon name="card" size="xs" color="fg-150"></wui-icon>
            </wui-flex>
            ${this.networksTemplate()}
          </wui-flex>
        </wui-flex>
        ${this.loading?x$4`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:x$4`<wui-icon name="chevronRight" color="fg-200" size="sm"></wui-icon>`}
      </button>
    `}networksTemplate(){var fe;const Y=NetworkController.getRequestedCaipNetworks(),ne=(fe=Y==null?void 0:Y.filter(ye=>ye==null?void 0:ye.imageId))==null?void 0:fe.slice(0,5);return x$4`
      <wui-flex class="networks">
        ${ne==null?void 0:ne.map(ye=>x$4`
            <wui-flex class="network-icon">
              <wui-image src=${o$5(AssetUtil.getNetworkImage(ye))}></wui-image>
            </wui-flex>
          `)}
      </wui-flex>
    `}};WuiOnRampProviderItem.styles=[resetStyles,elementStyles,styles$y];__decorate$Z([n$8({type:Boolean})],WuiOnRampProviderItem.prototype,"disabled",void 0);__decorate$Z([n$8()],WuiOnRampProviderItem.prototype,"color",void 0);__decorate$Z([n$8()],WuiOnRampProviderItem.prototype,"name",void 0);__decorate$Z([n$8()],WuiOnRampProviderItem.prototype,"label",void 0);__decorate$Z([n$8()],WuiOnRampProviderItem.prototype,"feeRange",void 0);__decorate$Z([n$8({type:Boolean})],WuiOnRampProviderItem.prototype,"loading",void 0);__decorate$Z([n$8()],WuiOnRampProviderItem.prototype,"onClick",void 0);WuiOnRampProviderItem=__decorate$Z([customElement("wui-onramp-provider-item")],WuiOnRampProviderItem);const styles$x=i$7`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var __decorate$Y=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiGrid=class extends r$7{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,3)};
    `,x$4`<slot></slot>`}};WuiGrid.styles=[resetStyles,styles$x];__decorate$Y([n$8()],WuiGrid.prototype,"gridTemplateRows",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"gridTemplateColumns",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"justifyItems",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"alignItems",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"justifyContent",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"alignContent",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"columnGap",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"rowGap",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"gap",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"padding",void 0);__decorate$Y([n$8()],WuiGrid.prototype,"margin",void 0);WuiGrid=__decorate$Y([customElement("wui-grid")],WuiGrid);const styles$w=i$7`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: var(--wui-gray-glass-005);
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 10px;
    background-color: var(--wui-color-modal-bg);
  }
`;var __decorate$X=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let WuiSeparator=class extends r$7{constructor(){super(...arguments),this.text=""}render(){return x$4`${this.template()}`}template(){return this.text?x$4`<wui-text variant="small-500" color="fg-200">${this.text}</wui-text>`:null}};WuiSeparator.styles=[resetStyles,styles$w];__decorate$X([n$8()],WuiSeparator.prototype,"text",void 0);WuiSeparator=__decorate$X([customElement("wui-separator")],WuiSeparator);var dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,function(se,Y){(function(ne,fe){se.exports=fe()})(dayjs_min,function(){var ne=1e3,fe=6e4,ye=36e5,me="millisecond",be="second",we="minute",Ee="hour",xe="day",Se="week",Ie="month",fr="quarter",br="year",kr="date",Wr="Invalid Date",Gr=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,jr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Qr={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Oe){var wr=["th","st","nd","rd"],qr=Oe%100;return"["+Oe+(wr[(qr-20)%10]||wr[qr]||wr[0])+"]"}},wn=function(Oe,wr,qr){var Vr=String(Oe);return!Vr||Vr.length>=wr?Oe:""+Array(wr+1-Vr.length).join(qr)+Oe},En={s:wn,z:function(Oe){var wr=-Oe.utcOffset(),qr=Math.abs(wr),Vr=Math.floor(qr/60),Jr=qr%60;return(wr<=0?"+":"-")+wn(Vr,2,"0")+":"+wn(Jr,2,"0")},m:function Oe(wr,qr){if(wr.date()<qr.date())return-Oe(qr,wr);var Vr=12*(qr.year()-wr.year())+(qr.month()-wr.month()),Jr=wr.clone().add(Vr,Ie),Xr=qr-Jr<0,Kr=wr.clone().add(Vr+(Xr?-1:1),Ie);return+(-(Vr+(qr-Jr)/(Xr?Jr-Kr:Kr-Jr))||0)},a:function(Oe){return Oe<0?Math.ceil(Oe)||0:Math.floor(Oe)},p:function(Oe){return{M:Ie,y:br,w:Se,d:xe,D:kr,h:Ee,m:we,s:be,ms:me,Q:fr}[Oe]||String(Oe||"").toLowerCase().replace(/s$/,"")},u:function(Oe){return Oe===void 0}},Rn="en",An={};An[Rn]=Qr;var $n="$isDayjsObject",Tn=function(Oe){return Oe instanceof Sn||!(!Oe||!Oe[$n])},ti=function Oe(wr,qr,Vr){var Jr;if(!wr)return Rn;if(typeof wr=="string"){var Xr=wr.toLowerCase();An[Xr]&&(Jr=Xr),qr&&(An[Xr]=qr,Jr=Xr);var Kr=wr.split("-");if(!Jr&&Kr.length>1)return Oe(Kr[0])}else{var Yr=wr.name;An[Yr]=wr,Jr=Yr}return!Vr&&Jr&&(Rn=Jr),Jr||!Vr&&Rn},ai=function(Oe,wr){if(Tn(Oe))return Oe.clone();var qr=typeof wr=="object"?wr:{};return qr.date=Oe,qr.args=arguments,new Sn(qr)},On=En;On.l=ti,On.i=Tn,On.w=function(Oe,wr){return ai(Oe,{locale:wr.$L,utc:wr.$u,x:wr.$x,$offset:wr.$offset})};var Sn=function(){function Oe(qr){this.$L=ti(qr.locale,null,!0),this.parse(qr),this.$x=this.$x||qr.x||{},this[$n]=!0}var wr=Oe.prototype;return wr.parse=function(qr){this.$d=function(Vr){var Jr=Vr.date,Xr=Vr.utc;if(Jr===null)return new Date(NaN);if(On.u(Jr))return new Date;if(Jr instanceof Date)return new Date(Jr);if(typeof Jr=="string"&&!/Z$/i.test(Jr)){var Kr=Jr.match(Gr);if(Kr){var Yr=Kr[2]-1||0,Br=(Kr[7]||"0").substring(0,3);return Xr?new Date(Date.UTC(Kr[1],Yr,Kr[3]||1,Kr[4]||0,Kr[5]||0,Kr[6]||0,Br)):new Date(Kr[1],Yr,Kr[3]||1,Kr[4]||0,Kr[5]||0,Kr[6]||0,Br)}}return new Date(Jr)}(qr),this.init()},wr.init=function(){var qr=this.$d;this.$y=qr.getFullYear(),this.$M=qr.getMonth(),this.$D=qr.getDate(),this.$W=qr.getDay(),this.$H=qr.getHours(),this.$m=qr.getMinutes(),this.$s=qr.getSeconds(),this.$ms=qr.getMilliseconds()},wr.$utils=function(){return On},wr.isValid=function(){return this.$d.toString()!==Wr},wr.isSame=function(qr,Vr){var Jr=ai(qr);return this.startOf(Vr)<=Jr&&Jr<=this.endOf(Vr)},wr.isAfter=function(qr,Vr){return ai(qr)<this.startOf(Vr)},wr.isBefore=function(qr,Vr){return this.endOf(Vr)<ai(qr)},wr.$g=function(qr,Vr,Jr){return On.u(qr)?this[Vr]:this.set(Jr,qr)},wr.unix=function(){return Math.floor(this.valueOf()/1e3)},wr.valueOf=function(){return this.$d.getTime()},wr.startOf=function(qr,Vr){var Jr=this,Xr=!!On.u(Vr)||Vr,Kr=On.p(qr),Yr=function(ei,Pn){var zn=On.w(Jr.$u?Date.UTC(Jr.$y,Pn,ei):new Date(Jr.$y,Pn,ei),Jr);return Xr?zn:zn.endOf(xe)},Br=function(ei,Pn){return On.w(Jr.toDate()[ei].apply(Jr.toDate("s"),(Xr?[0,0,0,0]:[23,59,59,999]).slice(Pn)),Jr)},_n=this.$W,ii=this.$M,ni=this.$D,si="set"+(this.$u?"UTC":"");switch(Kr){case br:return Xr?Yr(1,0):Yr(31,11);case Ie:return Xr?Yr(1,ii):Yr(0,ii+1);case Se:var Nn=this.$locale().weekStart||0,jn=(_n<Nn?_n+7:_n)-Nn;return Yr(Xr?ni-jn:ni+(6-jn),ii);case xe:case kr:return Br(si+"Hours",0);case Ee:return Br(si+"Minutes",1);case we:return Br(si+"Seconds",2);case be:return Br(si+"Milliseconds",3);default:return this.clone()}},wr.endOf=function(qr){return this.startOf(qr,!1)},wr.$set=function(qr,Vr){var Jr,Xr=On.p(qr),Kr="set"+(this.$u?"UTC":""),Yr=(Jr={},Jr[xe]=Kr+"Date",Jr[kr]=Kr+"Date",Jr[Ie]=Kr+"Month",Jr[br]=Kr+"FullYear",Jr[Ee]=Kr+"Hours",Jr[we]=Kr+"Minutes",Jr[be]=Kr+"Seconds",Jr[me]=Kr+"Milliseconds",Jr)[Xr],Br=Xr===xe?this.$D+(Vr-this.$W):Vr;if(Xr===Ie||Xr===br){var _n=this.clone().set(kr,1);_n.$d[Yr](Br),_n.init(),this.$d=_n.set(kr,Math.min(this.$D,_n.daysInMonth())).$d}else Yr&&this.$d[Yr](Br);return this.init(),this},wr.set=function(qr,Vr){return this.clone().$set(qr,Vr)},wr.get=function(qr){return this[On.p(qr)]()},wr.add=function(qr,Vr){var Jr,Xr=this;qr=Number(qr);var Kr=On.p(Vr),Yr=function(ii){var ni=ai(Xr);return On.w(ni.date(ni.date()+Math.round(ii*qr)),Xr)};if(Kr===Ie)return this.set(Ie,this.$M+qr);if(Kr===br)return this.set(br,this.$y+qr);if(Kr===xe)return Yr(1);if(Kr===Se)return Yr(7);var Br=(Jr={},Jr[we]=fe,Jr[Ee]=ye,Jr[be]=ne,Jr)[Kr]||1,_n=this.$d.getTime()+qr*Br;return On.w(_n,this)},wr.subtract=function(qr,Vr){return this.add(-1*qr,Vr)},wr.format=function(qr){var Vr=this,Jr=this.$locale();if(!this.isValid())return Jr.invalidDate||Wr;var Xr=qr||"YYYY-MM-DDTHH:mm:ssZ",Kr=On.z(this),Yr=this.$H,Br=this.$m,_n=this.$M,ii=Jr.weekdays,ni=Jr.months,si=Jr.meridiem,Nn=function(Pn,zn,ri,hi){return Pn&&(Pn[zn]||Pn(Vr,Xr))||ri[zn].slice(0,hi)},jn=function(Pn){return On.s(Yr%12||12,Pn,"0")},ei=si||function(Pn,zn,ri){var hi=Pn<12?"AM":"PM";return ri?hi.toLowerCase():hi};return Xr.replace(jr,function(Pn,zn){return zn||function(ri){switch(ri){case"YY":return String(Vr.$y).slice(-2);case"YYYY":return On.s(Vr.$y,4,"0");case"M":return _n+1;case"MM":return On.s(_n+1,2,"0");case"MMM":return Nn(Jr.monthsShort,_n,ni,3);case"MMMM":return Nn(ni,_n);case"D":return Vr.$D;case"DD":return On.s(Vr.$D,2,"0");case"d":return String(Vr.$W);case"dd":return Nn(Jr.weekdaysMin,Vr.$W,ii,2);case"ddd":return Nn(Jr.weekdaysShort,Vr.$W,ii,3);case"dddd":return ii[Vr.$W];case"H":return String(Yr);case"HH":return On.s(Yr,2,"0");case"h":return jn(1);case"hh":return jn(2);case"a":return ei(Yr,Br,!0);case"A":return ei(Yr,Br,!1);case"m":return String(Br);case"mm":return On.s(Br,2,"0");case"s":return String(Vr.$s);case"ss":return On.s(Vr.$s,2,"0");case"SSS":return On.s(Vr.$ms,3,"0");case"Z":return Kr}return null}(Pn)||Kr.replace(":","")})},wr.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},wr.diff=function(qr,Vr,Jr){var Xr,Kr=this,Yr=On.p(Vr),Br=ai(qr),_n=(Br.utcOffset()-this.utcOffset())*fe,ii=this-Br,ni=function(){return On.m(Kr,Br)};switch(Yr){case br:Xr=ni()/12;break;case Ie:Xr=ni();break;case fr:Xr=ni()/3;break;case Se:Xr=(ii-_n)/6048e5;break;case xe:Xr=(ii-_n)/864e5;break;case Ee:Xr=ii/ye;break;case we:Xr=ii/fe;break;case be:Xr=ii/ne;break;default:Xr=ii}return Jr?Xr:On.a(Xr)},wr.daysInMonth=function(){return this.endOf(Ie).$D},wr.$locale=function(){return An[this.$L]},wr.locale=function(qr,Vr){if(!qr)return this.$L;var Jr=this.clone(),Xr=ti(qr,Vr,!0);return Xr&&(Jr.$L=Xr),Jr},wr.clone=function(){return On.w(this.$d,this)},wr.toDate=function(){return new Date(this.valueOf())},wr.toJSON=function(){return this.isValid()?this.toISOString():null},wr.toISOString=function(){return this.$d.toISOString()},wr.toString=function(){return this.$d.toUTCString()},Oe}(),Zr=Sn.prototype;return ai.prototype=Zr,[["$ms",me],["$s",be],["$m",we],["$H",Ee],["$W",xe],["$M",Ie],["$y",br],["$D",kr]].forEach(function(Oe){Zr[Oe[1]]=function(wr){return this.$g(wr,Oe[0],Oe[1])}}),ai.extend=function(Oe,wr){return Oe.$i||(Oe(wr,Sn,ai),Oe.$i=!0),ai},ai.locale=ti,ai.isDayjs=Tn,ai.unix=function(Oe){return ai(1e3*Oe)},ai.en=An[Rn],ai.Ls=An,ai.p={},ai})}(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs=getDefaultExportFromCjs(dayjs_minExports);var updateLocale$2={exports:{}},updateLocale$1=updateLocale$2.exports,hasRequiredUpdateLocale;function requireUpdateLocale(){return hasRequiredUpdateLocale||(hasRequiredUpdateLocale=1,function(se,Y){(function(ne,fe){se.exports=fe()})(updateLocale$1,function(){return function(ne,fe,ye){ye.updateLocale=function(me,be){var we=ye.Ls[me];if(we)return(be?Object.keys(be):[]).forEach(function(Ee){we[Ee]=be[Ee]}),we}}})}(updateLocale$2)),updateLocale$2.exports}var updateLocaleExports=requireUpdateLocale();const updateLocale=getDefaultExportFromCjs(updateLocaleExports);var relativeTime$2={exports:{}},relativeTime$1=relativeTime$2.exports,hasRequiredRelativeTime;function requireRelativeTime(){return hasRequiredRelativeTime||(hasRequiredRelativeTime=1,function(se,Y){(function(ne,fe){se.exports=fe()})(relativeTime$1,function(){return function(ne,fe,ye){ne=ne||{};var me=fe.prototype,be={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function we(xe,Se,Ie,fr){return me.fromToBase(xe,Se,Ie,fr)}ye.en.relativeTime=be,me.fromToBase=function(xe,Se,Ie,fr,br){for(var kr,Wr,Gr,jr=Ie.$locale().relativeTime||be,Qr=ne.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],wn=Qr.length,En=0;En<wn;En+=1){var Rn=Qr[En];Rn.d&&(kr=fr?ye(xe).diff(Ie,Rn.d,!0):Ie.diff(xe,Rn.d,!0));var An=(ne.rounding||Math.round)(Math.abs(kr));if(Gr=kr>0,An<=Rn.r||!Rn.r){An<=1&&En>0&&(Rn=Qr[En-1]);var $n=jr[Rn.l];br&&(An=br(""+An)),Wr=typeof $n=="string"?$n.replace("%d",An):$n(An,Se,Rn.l,Gr);break}}if(Se)return Wr;var Tn=Gr?jr.future:jr.past;return typeof Tn=="function"?Tn(Wr):Tn.replace("%s",Wr)},me.to=function(xe,Se){return we(xe,Se,this,!0)},me.from=function(xe,Se){return we(xe,Se,this)};var Ee=function(xe){return xe.$u?ye.utc():ye()};me.toNow=function(xe){return this.to(Ee(this),xe)},me.fromNow=function(xe){return this.from(Ee(this),xe)}}})}(relativeTime$2)),relativeTime$2.exports}var relativeTimeExports=requireRelativeTime();const relativeTime=getDefaultExportFromCjs(relativeTimeExports);dayjs.extend(relativeTime);dayjs.extend(updateLocale);dayjs.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"%s sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}});const DateUtil={getYear(se=new Date().toISOString()){return dayjs(se).year()},getRelativeDateFromNow(se){return dayjs(se).fromNow(!0)},formatDate(se,Y="DD MMM"){return dayjs(se).format(Y)}},FLOAT_FIXED_VALUE=3,plusTypes=["receive","deposit","borrow","claim"],minusTypes=["withdraw","repay","burn"],TransactionUtil={getMonthName(se){const Y=new Date;return Y.setMonth(se),Y.toLocaleString("en-US",{month:"long"})},getTransactionGroupTitle(se,Y){const ne=DateUtil.getYear(),fe=this.getMonthName(Y);return se===ne?fe:`${fe} ${se}`},getTransactionImages(se){const[Y,ne]=se,fe=!!Y&&(se==null?void 0:se.every(be=>!!be.nft_info)),ye=(se==null?void 0:se.length)>1;return(se==null?void 0:se.length)===2&&!fe?[this.getTransactionImage(Y),this.getTransactionImage(ne)]:ye?se.map(be=>this.getTransactionImage(be)):[this.getTransactionImage(Y)]},getTransactionImage(se){return{type:TransactionUtil.getTransactionTransferTokenType(se),url:TransactionUtil.getTransactionImageURL(se)}},getTransactionImageURL(se){var ye,me,be,we,Ee;let Y;const ne=!!(se!=null&&se.nft_info),fe=!!(se!=null&&se.fungible_info);return se&&ne?Y=(be=(me=(ye=se==null?void 0:se.nft_info)==null?void 0:ye.content)==null?void 0:me.preview)==null?void 0:be.url:se&&fe&&(Y=(Ee=(we=se==null?void 0:se.fungible_info)==null?void 0:we.icon)==null?void 0:Ee.url),Y},getTransactionTransferTokenType(se){if(se!=null&&se.fungible_info)return"FUNGIBLE";if(se!=null&&se.nft_info)return"NFT"},getTransactionDescriptions(se){var Ie,fr,br;const Y=(Ie=se==null?void 0:se.metadata)==null?void 0:Ie.operationType,ne=se==null?void 0:se.transfers,fe=((fr=se==null?void 0:se.transfers)==null?void 0:fr.length)>0,ye=((br=se==null?void 0:se.transfers)==null?void 0:br.length)>1,me=fe&&(ne==null?void 0:ne.every(kr=>!!(kr!=null&&kr.fungible_info))),[be,we]=ne;let Ee=this.getTransferDescription(be),xe=this.getTransferDescription(we);if(!fe)return(Y==="send"||Y==="receive")&&me?(Ee=UiHelperUtil.getTruncateString({string:se==null?void 0:se.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),xe=UiHelperUtil.getTruncateString({string:se==null?void 0:se.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"}),[Ee,xe]):[se.metadata.status];if(ye)return ne.map(kr=>this.getTransferDescription(kr));let Se="";return plusTypes.includes(Y)?Se="+":minusTypes.includes(Y)&&(Se="-"),Ee=Se.concat(Ee),[Ee]},getTransferDescription(se){var ne;let Y="";return se&&(se!=null&&se.nft_info?Y=((ne=se==null?void 0:se.nft_info)==null?void 0:ne.name)||"-":se!=null&&se.fungible_info&&(Y=this.getFungibleTransferDescription(se)||"-")),Y},getFungibleTransferDescription(se){var fe;return se?[this.getQuantityFixedValue(se==null?void 0:se.quantity.numeric),(fe=se==null?void 0:se.fungible_info)==null?void 0:fe.symbol].join(" ").trim():null},getQuantityFixedValue(se){return se?parseFloat(se).toFixed(FLOAT_FIXED_VALUE):null}},index$1=Object.freeze(Object.defineProperty({__proto__:null,TransactionUtil,UiHelperUtil,get WuiAccountButton(){return WuiAccountButton},get WuiAllWalletsImage(){return WuiAllWalletsImage},get WuiAvatar(){return WuiAvatar},get WuiButton(){return WuiButton},get WuiCard(){return WuiCard},get WuiCardSelect(){return WuiCardSelect},get WuiCardSelectLoader(){return WuiCardSelectLoader},get WuiChip(){return WuiChip},get WuiConnectButton(){return WuiConnectButton},get WuiCtaButton(){return WuiCtaButton},get WuiEmailInput(){return WuiEmailInput},get WuiFlex(){return WuiFlex},get WuiGrid(){return WuiGrid},get WuiIcon(){return WuiIcon},get WuiIconBox(){return WuiIconBox},get WuiIconLink(){return WuiIconLink},get WuiImage(){return WuiImage},get WuiInputElement(){return WuiInputElement},get WuiInputNumeric(){return WuiInputNumeric},get WuiInputText(){return WuiInputText},get WuiLink(){return WuiLink},get WuiListAccordion(){return WuiListAccordion},get WuiListContent(){return WuiListContent},get WuiListItem(){return WuiListItem},get WuiListNetwork(){return WuiListNetwork},get WuiListWallet(){return WuiListWallet},get WuiListWalletTransaction(){return WuiListWalletTransaction},get WuiLoadingHexagon(){return WuiLoadingHexagon},get WuiLoadingSpinner(){return WuiLoadingSpinner},get WuiLoadingThumbnail(){return WuiLoadingThumbnail},get WuiLogo(){return WuiLogo},get WuiLogoSelect(){return WuiLogoSelect},get WuiNetworkButton(){return WuiNetworkButton},get WuiNetworkImage(){return WuiNetworkImage},get WuiNoticeCard(){return WuiNoticeCard},get WuiOnRampActivityItem(){return WuiOnRampActivityItem},get WuiOnRampProviderItem(){return WuiOnRampProviderItem},get WuiOtp(){return WuiOtp},get WuiQrCode(){return WuiQrCode},get WuiSearchBar(){return WuiSearchBar},get WuiSeparator(){return WuiSeparator},get WuiShimmer(){return WuiShimmer},get WuiSnackbar(){return WuiSnackbar},get WuiTabs(){return WuiTabs},get WuiTag(){return WuiTag},get WuiText(){return WuiText},get WuiTooltip(){return WuiTooltip},get WuiTransactionListItem(){return WuiTransactionListItem},get WuiTransactionListItemLoader(){return WuiTransactionListItemLoader},get WuiTransactionVisual(){return WuiTransactionVisual},get WuiVisual(){return WuiVisual},get WuiVisualThumbnail(){return WuiVisualThumbnail},get WuiWalletImage(){return WuiWalletImage},customElement,initializeTheming,setColorTheme,setThemeVariables},Symbol.toStringTag,{value:"Module"}));var __decorate$W=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mAccountButton=class extends r$7{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.balance="show",this.charsStart=4,this.charsEnd=6,this.address=AccountController.state.address,this.balanceVal=AccountController.state.balance,this.balanceSymbol=AccountController.state.balanceSymbol,this.profileName=AccountController.state.profileName,this.profileImage=AccountController.state.profileImage,this.network=NetworkController.state.caipNetwork,this.isUnsupportedChain=NetworkController.state.isUnsupportedChain,this.unsubscribe.push(AccountController.subscribe(Y=>{Y.isConnected?(this.address=Y.address,this.balanceVal=Y.balance,this.profileName=Y.profileName,this.profileImage=Y.profileImage,this.balanceSymbol=Y.balanceSymbol):(this.address="",this.balanceVal="",this.profileName="",this.profileImage="",this.balanceSymbol="")}),NetworkController.subscribeKey("caipNetwork",Y=>this.network=Y),NetworkController.subscribeKey("isUnsupportedChain",Y=>this.isUnsupportedChain=Y))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){const Y=AssetUtil.getNetworkImage(this.network),ne=this.balance==="show";return x$4`
      <wui-account-button
        .disabled=${!!this.disabled}
        .isUnsupportedChain=${this.isUnsupportedChain}
        address=${o$5(this.profileName??this.address)}
        ?isProfileName=${!!this.profileName}
        networkSrc=${o$5(Y)}
        avatarSrc=${o$5(this.profileImage)}
        balance=${ne?CoreHelperUtil.formatBalance(this.balanceVal,this.balanceSymbol):""}
        @click=${this.onClick.bind(this)}
        data-testid="account-button"
        .charsStart=${this.charsStart}
        .charsEnd=${this.charsEnd}
      >
      </wui-account-button>
    `}onClick(){this.isUnsupportedChain?ModalController.open({view:"UnsupportedChain"}):ModalController.open()}};__decorate$W([n$8({type:Boolean})],W3mAccountButton.prototype,"disabled",void 0);__decorate$W([n$8()],W3mAccountButton.prototype,"balance",void 0);__decorate$W([n$8()],W3mAccountButton.prototype,"charsStart",void 0);__decorate$W([n$8()],W3mAccountButton.prototype,"charsEnd",void 0);__decorate$W([r$5()],W3mAccountButton.prototype,"address",void 0);__decorate$W([r$5()],W3mAccountButton.prototype,"balanceVal",void 0);__decorate$W([r$5()],W3mAccountButton.prototype,"balanceSymbol",void 0);__decorate$W([r$5()],W3mAccountButton.prototype,"profileName",void 0);__decorate$W([r$5()],W3mAccountButton.prototype,"profileImage",void 0);__decorate$W([r$5()],W3mAccountButton.prototype,"network",void 0);__decorate$W([r$5()],W3mAccountButton.prototype,"isUnsupportedChain",void 0);W3mAccountButton=__decorate$W([customElement("w3m-account-button")],W3mAccountButton);const styles$v=i$7`
  :host {
    display: block;
    width: max-content;
  }
`;var __decorate$V=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mButton=class extends r$7{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.balance=void 0,this.size=void 0,this.label=void 0,this.loadingLabel=void 0,this.charsStart=4,this.charsEnd=6,this.isAccount=AccountController.state.isConnected,this.unsubscribe.push(AccountController.subscribeKey("isConnected",Y=>{this.isAccount=Y}))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return this.isAccount?x$4`
          <w3m-account-button
            .disabled=${!!this.disabled}
            balance=${o$5(this.balance)}
            .charsStart=${o$5(this.charsStart)}
            .charsEnd=${o$5(this.charsEnd)}
          >
          </w3m-account-button>
        `:x$4`
          <w3m-connect-button
            size=${o$5(this.size)}
            label=${o$5(this.label)}
            loadingLabel=${o$5(this.loadingLabel)}
          ></w3m-connect-button>
        `}};W3mButton.styles=styles$v;__decorate$V([n$8({type:Boolean})],W3mButton.prototype,"disabled",void 0);__decorate$V([n$8()],W3mButton.prototype,"balance",void 0);__decorate$V([n$8()],W3mButton.prototype,"size",void 0);__decorate$V([n$8()],W3mButton.prototype,"label",void 0);__decorate$V([n$8()],W3mButton.prototype,"loadingLabel",void 0);__decorate$V([n$8()],W3mButton.prototype,"charsStart",void 0);__decorate$V([n$8()],W3mButton.prototype,"charsEnd",void 0);__decorate$V([r$5()],W3mButton.prototype,"isAccount",void 0);W3mButton=__decorate$V([customElement("w3m-button")],W3mButton);var __decorate$U=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectButton=class extends r$7{constructor(){super(),this.unsubscribe=[],this.size="md",this.label="Connect Wallet",this.loadingLabel="Connecting...",this.open=ModalController.state.open,this.loading=ModalController.state.loading,this.unsubscribe.push(ModalController.subscribe(Y=>{this.open=Y.open,this.loading=Y.loading}))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){const Y=this.loading||this.open;return x$4`
      <wui-connect-button
        size=${o$5(this.size)}
        .loading=${Y}
        @click=${this.onClick.bind(this)}
        data-testid="connect-button"
      >
        ${Y?this.loadingLabel:this.label}
      </wui-connect-button>
    `}onClick(){this.open?ModalController.close():this.loading||ModalController.open()}};__decorate$U([n$8()],W3mConnectButton.prototype,"size",void 0);__decorate$U([n$8()],W3mConnectButton.prototype,"label",void 0);__decorate$U([n$8()],W3mConnectButton.prototype,"loadingLabel",void 0);__decorate$U([r$5()],W3mConnectButton.prototype,"open",void 0);__decorate$U([r$5()],W3mConnectButton.prototype,"loading",void 0);W3mConnectButton=__decorate$U([customElement("w3m-connect-button")],W3mConnectButton);const styles$u=i$7`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  wui-card {
    max-width: 360px;
    width: 100%;
    position: relative;
    animation-delay: 0.3s;
    animation-duration: 0.2s;
    animation-name: zoom-in;
    animation-fill-mode: backwards;
    animation-timing-function: var(--wui-ease-out-power-2);
    outline: none;
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      border-bottom: none;
      animation-name: slide-in;
    }
  }
`;var __decorate$T=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const SCROLL_LOCK="scroll-lock";let W3mModal=class extends r$7{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.open=ModalController.state.open,this.caipAddress=AccountController.state.caipAddress,this.isSiweEnabled=SIWEController.state.isSiweEnabled,this.initializeTheming(),ApiController.prefetch(),this.unsubscribe.push(ModalController.subscribeKey("open",Y=>Y?this.onOpen():this.onClose()),SIWEController.subscribeKey("isSiweEnabled",Y=>{this.isSiweEnabled=Y}),AccountController.subscribe(Y=>this.onNewAccountState(Y))),EventsController.sendEvent({type:"track",event:"MODAL_LOADED"})}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y()),this.onRemoveKeyboardListener()}render(){return this.open?x$4`
          <wui-flex @click=${this.onOverlayClick.bind(this)}>
            <wui-card role="alertdialog" aria-modal="true" tabindex="0">
              <w3m-header></w3m-header>
              <w3m-router></w3m-router>
              <w3m-snackbar></w3m-snackbar>
            </wui-card>
          </wui-flex>
        `:null}async onOverlayClick(Y){Y.target===Y.currentTarget&&await this.handleClose()}async handleClose(){this.isSiweEnabled&&SIWEController.state.status!=="success"&&await ConnectionController.disconnect(),ModalController.close()}initializeTheming(){const{themeVariables:Y,themeMode:ne}=ThemeController.state,fe=UiHelperUtil.getColorTheme(ne);initializeTheming(Y,fe)}async onClose(){this.onScrollUnlock(),await this.animate([{opacity:1},{opacity:0}],{duration:200,easing:"ease",fill:"forwards"}).finished,SnackController.hide(),this.open=!1,this.onRemoveKeyboardListener()}async onOpen(){this.onScrollLock(),this.open=!0,await this.animate([{opacity:0},{opacity:1}],{duration:200,easing:"ease",fill:"forwards",delay:300}).finished,this.onAddKeyboardListener()}onScrollLock(){const Y=document.createElement("style");Y.dataset.w3m=SCROLL_LOCK,Y.textContent=`
      html, body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(Y)}onScrollUnlock(){const Y=document.head.querySelector(`style[data-w3m="${SCROLL_LOCK}"]`);Y&&Y.remove()}onAddKeyboardListener(){var ne;this.abortController=new AbortController;const Y=(ne=this.shadowRoot)==null?void 0:ne.querySelector("wui-card");Y==null||Y.focus(),window.addEventListener("keydown",fe=>{if(fe.key==="Escape")this.handleClose();else if(fe.key==="Tab"){const{tagName:ye}=fe.target;ye&&!ye.includes("W3M-")&&!ye.includes("WUI-")&&(Y==null||Y.focus())}},this.abortController)}onRemoveKeyboardListener(){var Y;(Y=this.abortController)==null||Y.abort(),this.abortController=void 0}async onNewAccountState(Y){const{isConnected:ne,caipAddress:fe}=Y;if(this.isSiweEnabled){ne&&!this.caipAddress&&(this.caipAddress=fe),ne&&fe&&this.caipAddress!==fe&&(await SIWEController.signOut(),this.onSiweNavigation(),this.caipAddress=fe);try{const ye=await SIWEController.getSession();ye&&!ne?await SIWEController.signOut():ne&&!ye&&this.onSiweNavigation()}catch{ne&&this.onSiweNavigation()}}}onSiweNavigation(){this.open?RouterController.push("ConnectingSiwe"):ModalController.open({view:"ConnectingSiwe"})}};W3mModal.styles=styles$u;__decorate$T([r$5()],W3mModal.prototype,"open",void 0);__decorate$T([r$5()],W3mModal.prototype,"caipAddress",void 0);__decorate$T([r$5()],W3mModal.prototype,"isSiweEnabled",void 0);W3mModal=__decorate$T([customElement("w3m-modal")],W3mModal);const index=Object.freeze(Object.defineProperty({__proto__:null,get W3mModal(){return W3mModal}},Symbol.toStringTag,{value:"Module"})),styles$t=i$7`
  :host {
    display: block;
    width: max-content;
  }
`;var __decorate$S=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mNetworkButton=class extends r$7{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.network=NetworkController.state.caipNetwork,this.connected=AccountController.state.isConnected,this.loading=ModalController.state.loading,this.isUnsupportedChain=NetworkController.state.isUnsupportedChain,this.unsubscribe.push(NetworkController.subscribeKey("caipNetwork",Y=>this.network=Y),AccountController.subscribeKey("isConnected",Y=>this.connected=Y),ModalController.subscribeKey("loading",Y=>this.loading=Y),NetworkController.subscribeKey("isUnsupportedChain",Y=>this.isUnsupportedChain=Y))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){var Y;return x$4`
      <wui-network-button
        .disabled=${!!(this.disabled||this.loading)}
        .isUnsupportedChain=${this.isUnsupportedChain}
        imageSrc=${o$5(AssetUtil.getNetworkImage(this.network))}
        @click=${this.onClick.bind(this)}
      >
        ${this.isUnsupportedChain?"Switch Network":((Y=this.network)==null?void 0:Y.name)??(this.connected?"Unknown Network":"Select Network")}
      </wui-network-button>
    `}onClick(){this.loading||(EventsController.sendEvent({type:"track",event:"CLICK_NETWORKS"}),ModalController.open({view:"Networks"}))}};W3mNetworkButton.styles=styles$t;__decorate$S([n$8({type:Boolean})],W3mNetworkButton.prototype,"disabled",void 0);__decorate$S([r$5()],W3mNetworkButton.prototype,"network",void 0);__decorate$S([r$5()],W3mNetworkButton.prototype,"connected",void 0);__decorate$S([r$5()],W3mNetworkButton.prototype,"loading",void 0);__decorate$S([r$5()],W3mNetworkButton.prototype,"isUnsupportedChain",void 0);W3mNetworkButton=__decorate$S([customElement("w3m-network-button")],W3mNetworkButton);const styles$s=i$7`
  :host {
    display: block;
    will-change: transform, opacity;
  }
`;var __decorate$R=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mRouter=class extends r$7{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=RouterController.state.view,this.unsubscribe.push(RouterController.subscribeKey("view",Y=>this.onViewChange(Y)))}firstUpdated(){this.resizeObserver=new ResizeObserver(async([Y])=>{const ne=`${Y==null?void 0:Y.contentRect.height}px`;this.prevHeight!=="0px"&&(await this.animate([{height:this.prevHeight},{height:ne}],{duration:150,easing:"ease",fill:"forwards"}).finished,this.style.height="auto"),this.prevHeight=ne}),this.resizeObserver.observe(this.getWrapper())}disconnectedCallback(){var Y;(Y=this.resizeObserver)==null||Y.unobserve(this.getWrapper()),this.unsubscribe.forEach(ne=>ne())}render(){return x$4`<div>${this.viewTemplate()}</div>`}viewTemplate(){switch(this.view){case"Connect":return x$4`<w3m-connect-view></w3m-connect-view>`;case"ConnectingWalletConnect":return x$4`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingExternal":return x$4`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return x$4`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"AllWallets":return x$4`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"Networks":return x$4`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return x$4`<w3m-network-switch-view></w3m-network-switch-view>`;case"Account":return x$4`<w3m-account-view></w3m-account-view>`;case"AccountSettings":return x$4`<w3m-account-settings-view></w3m-account-settings-view>`;case"WhatIsAWallet":return x$4`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"WhatIsANetwork":return x$4`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"GetWallet":return x$4`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Downloads":return x$4`<w3m-downloads-view></w3m-downloads-view>`;case"EmailVerifyOtp":return x$4`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return x$4`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"ApproveTransaction":return x$4`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"Transactions":return x$4`<w3m-transactions-view></w3m-transactions-view>`;case"UpgradeEmailWallet":return x$4`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return x$4`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return x$4`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return x$4`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return x$4`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"OnRampProviders":return x$4`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return x$4`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return x$4`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return x$4`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"WhatIsABuy":return x$4`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"BuyInProgress":return x$4`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;default:return x$4`<w3m-connect-view></w3m-connect-view>`}}async onViewChange(Y){const{history:ne}=RouterController.state;let fe=-10,ye=10;ne.length<this.prevHistoryLength&&(fe=10,ye=-10),this.prevHistoryLength=ne.length,await this.animate([{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:`translateX(${fe}px)`}],{duration:150,easing:"ease",fill:"forwards"}).finished,this.view=Y,await this.animate([{opacity:0,transform:`translateX(${ye}px)`},{opacity:1,transform:"translateX(0px)"}],{duration:150,easing:"ease",fill:"forwards",delay:50}).finished}getWrapper(){var Y;return(Y=this.shadowRoot)==null?void 0:Y.querySelector("div")}};W3mRouter.styles=styles$s;__decorate$R([r$5()],W3mRouter.prototype,"view",void 0);W3mRouter=__decorate$R([customElement("w3m-router")],W3mRouter);const styles$r=i$7`
  :host > wui-flex {
    width: 100%;
    max-width: 360px;
  }

  :host > wui-flex > wui-flex {
    border-radius: var(--wui-border-radius-l);
    width: 100%;
  }

  .amounts-container {
    width: 100%;
  }
`;var __decorate$Q=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const PAYMENT_CURRENCY_SYMBOLS={USD:"$",EUR:"€",GBP:"£"},BUY_PRESET_AMOUNTS=[100,250,500,1e3];let W3mOnrampWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.connected=AccountController.state.isConnected,this.loading=ModalController.state.loading,this.paymentCurrency=OnRampController.state.paymentCurrency,this.paymentAmount=OnRampController.state.paymentAmount,this.purchaseAmount=OnRampController.state.purchaseAmount,this.quoteLoading=OnRampController.state.quotesLoading,this.unsubscribe.push(AccountController.subscribeKey("isConnected",Y=>{this.connected=Y}),ModalController.subscribeKey("loading",Y=>{this.loading=Y}),OnRampController.subscribe(Y=>{this.paymentCurrency=Y.paymentCurrency,this.paymentAmount=Y.paymentAmount,this.purchaseAmount=Y.purchaseAmount,this.quoteLoading=Y.quotesLoading}))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return x$4`
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center">
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <w3m-swap-input
            type="Fiat"
            @inputChange=${this.onPaymentAmountChange.bind(this)}
            .value=${this.paymentAmount||0}
          ></w3m-swap-input>
          <w3m-swap-input
            type="Token"
            .value=${this.purchaseAmount||0}
            .loading=${this.quoteLoading}
          ></w3m-swap-input>
          <wui-flex justifyContent="space-evenly" class="amounts-container" gap="xs">
            ${BUY_PRESET_AMOUNTS.map(Y=>{var ne;return x$4`<wui-button
                  variant=${this.paymentAmount===Y?"accentBg":"shade"}
                  size="xs"
                  textVariant="paragraph-600"
                  fullWidth
                  @click=${()=>this.selectPresetAmount(Y)}
                  >${`${PAYMENT_CURRENCY_SYMBOLS[((ne=this.paymentCurrency)==null?void 0:ne.id)||"USD"]} ${Y}`}</wui-button
                >`})}
          </wui-flex>
          ${this.templateButton()}
        </wui-flex>
      </wui-flex>
    `}templateButton(){return this.connected?x$4`<wui-button
          @click=${this.getQuotes.bind(this)}
          variant="fill"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Get quotes
        </wui-button>`:x$4`<wui-button
          @click=${this.openModal.bind(this)}
          variant="accentBg"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Connect wallet
        </wui-button>`}getQuotes(){this.loading||ModalController.open({view:"OnRampProviders"})}openModal(){ModalController.open({view:"Connect"})}async onPaymentAmountChange(Y){OnRampController.setPaymentAmount(Number(Y.detail)),await OnRampController.getQuote()}async selectPresetAmount(Y){OnRampController.setPaymentAmount(Y),await OnRampController.getQuote()}};W3mOnrampWidget.styles=styles$r;__decorate$Q([n$8({type:Boolean})],W3mOnrampWidget.prototype,"disabled",void 0);__decorate$Q([r$5()],W3mOnrampWidget.prototype,"connected",void 0);__decorate$Q([r$5()],W3mOnrampWidget.prototype,"loading",void 0);__decorate$Q([r$5()],W3mOnrampWidget.prototype,"paymentCurrency",void 0);__decorate$Q([r$5()],W3mOnrampWidget.prototype,"paymentAmount",void 0);__decorate$Q([r$5()],W3mOnrampWidget.prototype,"purchaseAmount",void 0);__decorate$Q([r$5()],W3mOnrampWidget.prototype,"quoteLoading",void 0);W3mOnrampWidget=__decorate$Q([customElement("w3m-onramp-widget")],W3mOnrampWidget);const styles$q=i$7`
  wui-flex {
    width: 100%;
  }

  wui-icon-link {
    margin-right: calc(var(--wui-icon-box-size-md) * -1);
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;

    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition: background 0.2s linear;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #47a1ff;
  }
`;var __decorate$P=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mAccountSettingsView=class extends r$7{constructor(){super(),this.usubscribe=[],this.networkImages=AssetController.state.networkImages,this.address=AccountController.state.address,this.profileImage=AccountController.state.profileImage,this.profileName=AccountController.state.profileName,this.balance=AccountController.state.balance,this.balanceSymbol=AccountController.state.balanceSymbol,this.network=NetworkController.state.caipNetwork,this.disconnecting=!1,this.usubscribe.push(AccountController.subscribe(Y=>{Y.address?(this.address=Y.address,this.profileImage=Y.profileImage,this.profileName=Y.profileName,this.balance=Y.balance,this.balanceSymbol=Y.balanceSymbol):ModalController.close()}),NetworkController.subscribeKey("caipNetwork",Y=>{Y!=null&&Y.id&&(this.network=Y)}))}disconnectedCallback(){this.usubscribe.forEach(Y=>Y())}render(){var ne,fe;if(!this.address)throw new Error("w3m-account-settings-view: No account provided");const Y=this.networkImages[((ne=this.network)==null?void 0:ne.imageId)??""];return x$4`
      <wui-flex
        flexDirection="column"
        .padding=${["0","xl","m","xl"]}
        alignItems="center"
        gap="l"
      >
        <wui-avatar
          alt=${this.address}
          address=${this.address}
          imageSrc=${o$5(this.profileImage)}
        ></wui-avatar>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-flex gap="3xs" alignItems="center" justifyContent="center">
            <wui-text variant="large-600" color="fg-100">
              ${this.profileName?UiHelperUtil.getTruncateString({string:this.profileName,charsStart:20,charsEnd:0,truncate:"end"}):UiHelperUtil.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
            </wui-text>
            <wui-icon-link
              size="md"
              icon="copy"
              iconColor="fg-200"
              @click=${this.onCopyAddress}
            ></wui-icon-link>
          </wui-flex>
          <wui-flex gap="s" flexDirection="column" alignItems="center">
            <wui-text variant="paragraph-500" color="fg-200">
              ${CoreHelperUtil.formatBalance(this.balance,this.balanceSymbol)}
            </wui-text>
            ${this.explorerBtnTemplate()}
          </wui-flex>
        </wui-flex>
      </wui-flex>

      <wui-flex flexDirection="column" gap="m">
        <wui-flex flexDirection="column" gap="xs" .padding=${["0","xl","xl","xl"]}>
          <wui-list-item
            .variant=${Y?"image":"icon"}
            iconVariant="overlay"
            icon="networkPlaceholder"
            imageSrc=${o$5(Y)}
            ?chevron=${this.isAllowedNetworkSwitch()}
            @click=${this.onNetworks.bind(this)}
          >
            <wui-text variant="paragraph-500" color="fg-100">
              ${((fe=this.network)==null?void 0:fe.name)??"Unknown"}
            </wui-text>
          </wui-list-item>

          <wui-list-item
            iconVariant="blue"
            icon="swapHorizontalBold"
            iconSize="sm"
            ?chevron=${!0}
            @click=${this.onTransactions.bind(this)}
          >
            <wui-text variant="paragraph-500" color="fg-100">Activity</wui-text>
          </wui-list-item>
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}onTransactions(){EventsController.sendEvent({type:"track",event:"CLICK_TRANSACTIONS"}),RouterController.push("Transactions")}explorerBtnTemplate(){const{addressExplorerUrl:Y}=AccountController.state;return Y?x$4`
      <wui-button size="sm" variant="shade" @click=${this.onExplorer.bind(this)}>
        <wui-icon size="sm" color="inherit" slot="iconLeft" name="compass"></wui-icon>
        Block Explorer
        <wui-icon size="sm" color="inherit" slot="iconRight" name="externalLink"></wui-icon>
      </wui-button>
    `:null}isAllowedNetworkSwitch(){const{requestedCaipNetworks:Y}=NetworkController.state,ne=Y?Y.length>1:!1,fe=Y==null?void 0:Y.find(({id:ye})=>{var me;return ye===((me=this.network)==null?void 0:me.id)});return ne||!fe}onCopyAddress(){try{this.address&&(CoreHelperUtil.copyToClopboard(this.address),SnackController.showSuccess("Address copied"))}catch{SnackController.showError("Failed to copy")}}onNetworks(){this.isAllowedNetworkSwitch()&&RouterController.push("Networks")}async onDisconnect(){try{this.disconnecting=!0,await ConnectionController.disconnect(),EventsController.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),ModalController.close()}catch{EventsController.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),SnackController.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onExplorer(){const{addressExplorerUrl:Y}=AccountController.state;Y&&CoreHelperUtil.openHref(Y,"_blank")}};W3mAccountSettingsView.styles=styles$q;__decorate$P([r$5()],W3mAccountSettingsView.prototype,"address",void 0);__decorate$P([r$5()],W3mAccountSettingsView.prototype,"profileImage",void 0);__decorate$P([r$5()],W3mAccountSettingsView.prototype,"profileName",void 0);__decorate$P([r$5()],W3mAccountSettingsView.prototype,"balance",void 0);__decorate$P([r$5()],W3mAccountSettingsView.prototype,"balanceSymbol",void 0);__decorate$P([r$5()],W3mAccountSettingsView.prototype,"network",void 0);__decorate$P([r$5()],W3mAccountSettingsView.prototype,"disconnecting",void 0);W3mAccountSettingsView=__decorate$P([customElement("w3m-account-settings-view")],W3mAccountSettingsView);const styles$p=i$7`
  wui-flex {
    width: 100%;
  }

  :host > wui-flex:first-child {
    transform: translateY(calc(var(--wui-spacing-xxs) * -1));
  }

  wui-icon-link {
    margin-right: calc(var(--wui-icon-box-size-md) * -1);
  }

  wui-notice-card {
    margin-bottom: var(--wui-spacing-3xs);
  }

  w3m-transactions-view {
    max-height: 200px;
  }

  .tab-content-container {
    height: 300px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .account-button {
    width: auto;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-s);
    height: 48px;
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-s);
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-002);
    background-color: var(--wui-gray-glass-002);
    border-radius: 24px;
    transaction: background-color 0.2s linear;
  }

  .account-button:hover {
    background-color: var(--wui-gray-glass-005);
  }

  .avatar-container {
    position: relative;
  }

  wui-avatar.avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-gray-glass-005);
  }

  wui-avatar.network-avatar {
    width: 16px;
    height: 16px;
    position: absolute;
    left: 100%;
    top: 100%;
    transform: translate(-75%, -75%);
    box-shadow: 0 0 0 2px var(--wui-gray-glass-005);
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;

    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition: background 0.2s linear;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #47a1ff;
  }
`;var __decorate$O=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mAccountView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.address=AccountController.state.address,this.profileImage=AccountController.state.profileImage,this.profileName=AccountController.state.profileName,this.network=NetworkController.state.caipNetwork,this.disconnecting=!1,this.balance=AccountController.state.balance,this.balanceSymbol=AccountController.state.balanceSymbol,this.unsubscribe.push(AccountController.subscribe(Y=>{Y.address?(this.address=Y.address,this.profileImage=Y.profileImage,this.profileName=Y.profileName,this.balance=Y.balance,this.balanceSymbol=Y.balanceSymbol):ModalController.close()}),NetworkController.subscribeKey("caipNetwork",Y=>{Y!=null&&Y.id&&(this.network=Y)}))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){var ne;if(!this.address)throw new Error("w3m-account-view: No account provided");const Y=AssetUtil.getNetworkImage(this.network);return x$4`
      <wui-flex
        flexDirection="column"
        .padding=${["0","xl","m","xl"]}
        alignItems="center"
        gap="l"
      >
        <wui-avatar
          alt=${this.address}
          address=${this.address}
          imageSrc=${o$5(this.profileImage===null?void 0:this.profileImage)}
        ></wui-avatar>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-flex gap="3xs" alignItems="center" justifyContent="center">
            <wui-text variant="medium-title-600" color="fg-100">
              ${this.profileName?UiHelperUtil.getTruncateString({string:this.profileName,charsStart:20,charsEnd:0,truncate:"end"}):UiHelperUtil.getTruncateString({string:this.address,charsStart:4,charsEnd:4,truncate:"middle"})}
            </wui-text>
            <wui-icon-link
              size="md"
              icon="copy"
              iconColor="fg-200"
              @click=${this.onCopyAddress}
            ></wui-icon-link>
          </wui-flex>
          <wui-text variant="paragraph-500" color="fg-200"
            >${CoreHelperUtil.formatBalance(this.balance,this.balanceSymbol)}</wui-text
          >
        </wui-flex>
        ${this.explorerBtnTemplate()}
      </wui-flex>

      <wui-flex flexDirection="column" gap="xs" .padding=${["0","s","s","s"]}>
        ${this.emailCardTemplate()} ${this.emailBtnTemplate()}

        <wui-list-item
          .variant=${Y?"image":"icon"}
          iconVariant="overlay"
          icon="networkPlaceholder"
          imageSrc=${o$5(Y)}
          ?chevron=${this.isAllowedNetworkSwitch()}
          @click=${this.onNetworks.bind(this)}
          data-testid="w3m-account-select-network"
        >
          <wui-text variant="paragraph-500" color="fg-100">
            ${((ne=this.network)==null?void 0:ne.name)??"Unknown"}
          </wui-text>
        </wui-list-item>
        ${this.onrampTemplate()}
        <wui-list-item
          iconVariant="blue"
          icon="swapHorizontalMedium"
          iconSize="sm"
          ?chevron=${!0}
          @click=${this.onTransactions.bind(this)}
        >
          <wui-text variant="paragraph-500" color="fg-100">Activity</wui-text>
        </wui-list-item>
        <wui-list-item
          variant="icon"
          iconVariant="overlay"
          icon="disconnect"
          ?chevron=${!1}
          .loading=${this.disconnecting}
          @click=${this.onDisconnect.bind(this)}
          data-testid="disconnect-button"
        >
          <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>
    `}onrampTemplate(){const{enableOnramp:Y}=OptionsController.state;return Y?x$4`
      <wui-list-item
        iconVariant="blue"
        icon="card"
        ?chevron=${!0}
        @click=${this.handleClickPay.bind(this)}
      >
        <wui-text variant="paragraph-500" color="fg-100">Buy crypto</wui-text>
      </wui-list-item>
    `:null}emailCardTemplate(){const Y=StorageUtil.getConnectedConnector(),ne=ConnectorController.getEmailConnector(),{origin:fe}=location;return!ne||Y!=="EMAIL"||fe.includes(ConstantsUtil$1.SECURE_SITE)?null:x$4`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
      ></wui-notice-card>
    `}handleClickPay(){RouterController.push("OnRampProviders")}explorerBtnTemplate(){const{addressExplorerUrl:Y}=AccountController.state;return Y?x$4`
      <wui-button size="sm" variant="shade" @click=${this.onExplorer.bind(this)}>
        <wui-icon size="sm" color="inherit" slot="iconLeft" name="compass"></wui-icon>
        Block Explorer
        <wui-icon size="sm" color="inherit" slot="iconRight" name="externalLink"></wui-icon>
      </wui-button>
    `:null}emailBtnTemplate(){const Y=StorageUtil.getConnectedConnector(),ne=ConnectorController.getEmailConnector();if(!ne||Y!=="EMAIL")return null;const fe=ne.provider.getEmail()??"";return x$4`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="mail"
        iconSize="sm"
        ?chevron=${!0}
        @click=${()=>this.onGoToUpdateEmail(fe)}
      >
        <wui-text variant="paragraph-500" color="fg-100">${fe}</wui-text>
      </wui-list-item>
    `}isAllowedNetworkSwitch(){const{requestedCaipNetworks:Y}=NetworkController.state,ne=Y?Y.length>1:!1,fe=Y==null?void 0:Y.find(({id:ye})=>{var me;return ye===((me=this.network)==null?void 0:me.id)});return ne||!fe}onCopyAddress(){try{this.address&&(CoreHelperUtil.copyToClopboard(this.address),SnackController.showSuccess("Address copied"))}catch{SnackController.showError("Failed to copy")}}onNetworks(){this.isAllowedNetworkSwitch()&&(EventsController.sendEvent({type:"track",event:"CLICK_NETWORKS"}),RouterController.push("Networks"))}onTransactions(){EventsController.sendEvent({type:"track",event:"CLICK_TRANSACTIONS"}),RouterController.push("Transactions")}async onDisconnect(){try{this.disconnecting=!0,await ConnectionController.disconnect(),EventsController.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),ModalController.close()}catch{EventsController.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),SnackController.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onExplorer(){const{addressExplorerUrl:Y}=AccountController.state;Y&&CoreHelperUtil.openHref(Y,"_blank")}onGoToUpgradeView(){EventsController.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),RouterController.push("UpgradeEmailWallet")}onGoToUpdateEmail(Y){RouterController.push("UpdateEmailWallet",{email:Y})}};W3mAccountView.styles=styles$p;__decorate$O([r$5()],W3mAccountView.prototype,"address",void 0);__decorate$O([r$5()],W3mAccountView.prototype,"profileImage",void 0);__decorate$O([r$5()],W3mAccountView.prototype,"profileName",void 0);__decorate$O([r$5()],W3mAccountView.prototype,"network",void 0);__decorate$O([r$5()],W3mAccountView.prototype,"disconnecting",void 0);__decorate$O([r$5()],W3mAccountView.prototype,"balance",void 0);__decorate$O([r$5()],W3mAccountView.prototype,"balanceSymbol",void 0);W3mAccountView=__decorate$O([customElement("w3m-account-view")],W3mAccountView);var __decorate$N=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mAllWalletsView=class extends r$7{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=CoreHelperUtil.debounce(Y=>{this.search=Y})}render(){const Y=this.search.length>=2;return x$4`
      <wui-flex padding="s" gap="s">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${Y?x$4`<w3m-all-wallets-search query=${this.search}></w3m-all-wallets-search>`:x$4`<w3m-all-wallets-list></w3m-all-wallets-list>`}
    `}onInputChange(Y){this.onDebouncedSearch(Y.detail)}qrButtonTemplate(){return CoreHelperUtil.isMobile()?x$4`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){RouterController.push("ConnectingWalletConnect")}};__decorate$N([r$5()],W3mAllWalletsView.prototype,"search",void 0);W3mAllWalletsView=__decorate$N([customElement("w3m-all-wallets-view")],W3mAllWalletsView);const styles$o=i$7`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    width: var(--wui-wallet-image-size-lg);
    height: var(--wui-wallet-image-size-lg);
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    box-shadow: inset 0 0 0 1px var(--wui-gray-glass-005);
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
  }
`;var __decorate$M=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mBuyInProgressView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=OnRampController.state.selectedProvider,this.uri=ConnectionController.state.wcUri,this.ready=!1,this.showRetry=!1,this.buffering=!1,this.error=!1,this.startTime=null,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(OnRampController.subscribeKey("selectedProvider",Y=>{this.selectedOnRampProvider=Y})),this.watchTransactions()}disconnectedCallback(){this.intervalId&&clearInterval(this.intervalId)}render(){var fe,ye;let Y="Continue in external window";this.error?Y="Buy failed":this.selectedOnRampProvider&&(Y=`Buy in ${(fe=this.selectedOnRampProvider)==null?void 0:fe.label}`);const ne=this.error?"Buy can be declined from your side or due to and error on the provider app":"We’ll notify you once your Buy is processed";return x$4`
      <wui-flex
        data-error=${o$5(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-visual
            name=${o$5((ye=this.selectedOnRampProvider)==null?void 0:ye.name)}
            size="lg"
            class="provider-image"
          >
          </wui-visual>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${Y}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${ne}</wui-text>
        </wui-flex>

        ${this.error?this.tryAgainTemplate():null}
      </wui-flex>

      <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
        <wui-link @click=${this.onCopyUri} color="fg-200">
          <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
          Copy link
        </wui-link>
      </wui-flex>
    `}watchTransactions(){if(this.selectedOnRampProvider)switch(this.selectedOnRampProvider.name){case"coinbase":this.startTime=Date.now(),this.initializeCoinbaseTransactions();break}}async initializeCoinbaseTransactions(){await this.watchCoinbaseTransactions(),this.intervalId=setInterval(()=>this.watchCoinbaseTransactions(),4e3)}async watchCoinbaseTransactions(){try{const Y=AccountController.state.address,ne=OptionsController.state.projectId;if(!Y)throw new Error("No address found");(await BlockchainApiController.fetchTransactions({account:Y,onramp:"coinbase",projectId:ne})).data.filter(me=>new Date(me.metadata.minedAt)>new Date(this.startTime)||me.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length?(clearInterval(this.intervalId),RouterController.replace("OnRampActivity")):this.startTime&&Date.now()-this.startTime>=18e4&&(clearInterval(this.intervalId),this.error=!0)}catch(Y){SnackController.showError(Y)}}onTryAgain(){this.selectedOnRampProvider&&(this.error=!1,CoreHelperUtil.openHref(this.selectedOnRampProvider.url,"popupWindow","width=600,height=800,scrollbars=yes"))}tryAgainTemplate(){var Y;return(Y=this.selectedOnRampProvider)!=null&&Y.url?x$4`<wui-button variant="accent" @click=${this.onTryAgain.bind(this)}>
      <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
      Try again
    </wui-button>`:null}loaderTemplate(){const Y=ThemeController.state.themeVariables["--w3m-border-radius-master"],ne=Y?parseInt(Y.replace("px",""),10):4;return x$4`<wui-loading-thumbnail radius=${ne*9}></wui-loading-thumbnail>`}onCopyUri(){var Y;if(!((Y=this.selectedOnRampProvider)!=null&&Y.url)){SnackController.showError("No link found"),RouterController.goBack();return}try{CoreHelperUtil.copyToClopboard(this.selectedOnRampProvider.url),SnackController.showSuccess("Link copied")}catch{SnackController.showError("Failed to copy")}}};W3mBuyInProgressView.styles=styles$o;__decorate$M([r$5()],W3mBuyInProgressView.prototype,"selectedOnRampProvider",void 0);__decorate$M([r$5()],W3mBuyInProgressView.prototype,"uri",void 0);__decorate$M([r$5()],W3mBuyInProgressView.prototype,"ready",void 0);__decorate$M([r$5()],W3mBuyInProgressView.prototype,"showRetry",void 0);__decorate$M([r$5()],W3mBuyInProgressView.prototype,"buffering",void 0);__decorate$M([r$5()],W3mBuyInProgressView.prototype,"error",void 0);__decorate$M([r$5()],W3mBuyInProgressView.prototype,"intervalId",void 0);__decorate$M([r$5()],W3mBuyInProgressView.prototype,"startTime",void 0);__decorate$M([n$8({type:Boolean})],W3mBuyInProgressView.prototype,"isMobile",void 0);__decorate$M([n$8()],W3mBuyInProgressView.prototype,"onRetry",void 0);W3mBuyInProgressView=__decorate$M([customElement("w3m-buy-in-progress-view")],W3mBuyInProgressView);const styles$n=i$7`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$L=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Y=>this.connectors=Y))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return x$4`
      <wui-flex flexDirection="column" padding="s" gap="xs">
        <w3m-email-login-widget></w3m-email-login-widget>

        ${this.walletConnectConnectorTemplate()} ${this.recentTemplate()}
        ${this.announcedTemplate()} ${this.injectedTemplate()} ${this.featuredTemplate()}
        ${this.customTemplate()} ${this.recommendedTemplate()} ${this.externalTemplate()}
        ${this.allWalletsTemplate()}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}walletConnectConnectorTemplate(){if(CoreHelperUtil.isMobile())return null;const Y=this.connectors.find(ne=>ne.type==="WALLET_CONNECT");return Y?x$4`
      <wui-list-wallet
        imageSrc=${o$5(AssetUtil.getConnectorImage(Y))}
        name=${Y.name??"Unknown"}
        @click=${()=>this.onConnector(Y)}
        tagLabel="qr code"
        tagVariant="main"
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `:null}customTemplate(){const{customWallets:Y}=OptionsController.state;return Y!=null&&Y.length?this.filterOutDuplicateWallets(Y).map(fe=>x$4`
        <wui-list-wallet
          imageSrc=${o$5(AssetUtil.getWalletImage(fe))}
          name=${fe.name??"Unknown"}
          @click=${()=>this.onConnectWallet(fe)}
        >
        </wui-list-wallet>
      `):null}featuredTemplate(){if(!this.connectors.find(ye=>ye.type==="WALLET_CONNECT"))return null;const{featured:ne}=ApiController.state;return ne.length?this.filterOutDuplicateWallets(ne).map(ye=>x$4`
        <wui-list-wallet
          imageSrc=${o$5(AssetUtil.getWalletImage(ye))}
          name=${ye.name??"Unknown"}
          @click=${()=>this.onConnectWallet(ye)}
        >
        </wui-list-wallet>
      `):null}recentTemplate(){return StorageUtil.getRecentWallets().map(ne=>x$4`
        <wui-list-wallet
          imageSrc=${o$5(AssetUtil.getWalletImage(ne))}
          name=${ne.name??"Unknown"}
          @click=${()=>this.onConnectWallet(ne)}
          tagLabel="recent"
          tagVariant="shade"
        >
        </wui-list-wallet>
      `)}announcedTemplate(){return this.connectors.map(Y=>Y.type!=="ANNOUNCED"?null:x$4`
        <wui-list-wallet
          imageSrc=${o$5(AssetUtil.getConnectorImage(Y))}
          name=${Y.name??"Unknown"}
          @click=${()=>this.onConnector(Y)}
          tagVariant="success"
          .installed=${!0}
        >
        </wui-list-wallet>
      `)}injectedTemplate(){return this.connectors.map(Y=>Y.type!=="INJECTED"||!ConnectionController.checkInstalled()?null:x$4`
        <wui-list-wallet
          imageSrc=${o$5(AssetUtil.getConnectorImage(Y))}
          .installed=${!0}
          name=${Y.name??"Unknown"}
          @click=${()=>this.onConnector(Y)}
        >
        </wui-list-wallet>
      `)}externalTemplate(){const Y=ConnectorController.getAnnouncedConnectorRdns();return this.connectors.map(ne=>["WALLET_CONNECT","INJECTED","ANNOUNCED","EMAIL"].includes(ne.type)||Y.includes(ConstantsUtil$1.CONNECTOR_RDNS_MAP[ne.id])?null:x$4`
        <wui-list-wallet
          imageSrc=${o$5(AssetUtil.getConnectorImage(ne))}
          name=${ne.name??"Unknown"}
          @click=${()=>this.onConnector(ne)}
        >
        </wui-list-wallet>
      `)}allWalletsTemplate(){const Y=this.connectors.find(Ee=>Ee.type==="WALLET_CONNECT"),{allWallets:ne}=OptionsController.state;if(!Y||ne==="HIDE"||ne==="ONLY_MOBILE"&&!CoreHelperUtil.isMobile())return null;const fe=ApiController.state.count,ye=ApiController.state.featured.length,me=fe+ye,be=me<10?me:Math.floor(me/10)*10,we=be<me?`${be}+`:`${be}`;return x$4`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${we}
        tagVariant="shade"
        data-testid="all-wallets"
      ></wui-list-wallet>
    `}recommendedTemplate(){if(!this.connectors.find(fr=>fr.type==="WALLET_CONNECT"))return null;const{recommended:ne}=ApiController.state,{customWallets:fe,featuredWalletIds:ye}=OptionsController.state,{connectors:me}=ConnectorController.state,be=StorageUtil.getRecentWallets(),Ee=me.filter(fr=>fr.type==="INJECTED").filter(fr=>fr.name!=="Browser Wallet");if(ye||fe||!ne.length)return null;const xe=Ee.length+be.length,Se=Math.max(0,2-xe);return this.filterOutDuplicateWallets(ne).slice(0,Se).map(fr=>x$4`
        <wui-list-wallet
          imageSrc=${o$5(AssetUtil.getWalletImage(fr))}
          name=${(fr==null?void 0:fr.name)??"Unknown"}
          @click=${()=>this.onConnectWallet(fr)}
        >
        </wui-list-wallet>
      `)}onConnector(Y){Y.type==="WALLET_CONNECT"?CoreHelperUtil.isMobile()?RouterController.push("AllWallets"):RouterController.push("ConnectingWalletConnect"):RouterController.push("ConnectingExternal",{connector:Y})}filterOutDuplicateWallets(Y){const fe=StorageUtil.getRecentWallets().map(me=>me.id);return Y.filter(me=>!fe.includes(me.id))}onAllWallets(){EventsController.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),RouterController.push("AllWallets")}onConnectWallet(Y){RouterController.push("ConnectingWalletConnect",{wallet:Y})}};W3mConnectView.styles=styles$n;__decorate$L([r$5()],W3mConnectView.prototype,"connectors",void 0);W3mConnectView=__decorate$L([customElement("w3m-connect-view")],W3mConnectView);const styles$m=i$7`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var __decorate$K=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};class W3mConnectingWidget extends r$7{constructor(){var Y,ne,fe,ye;super(),this.wallet=(Y=RouterController.state.data)==null?void 0:Y.wallet,this.connector=(ne=RouterController.state.data)==null?void 0:ne.connector,this.timeout=void 0,this.secondaryBtnLabel="Try again",this.secondaryBtnIcon="refresh",this.secondaryLabel="Accept connection request in the wallet",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=AssetUtil.getWalletImage(this.wallet)??AssetUtil.getConnectorImage(this.connector),this.name=((fe=this.wallet)==null?void 0:fe.name)??((ye=this.connector)==null?void 0:ye.name)??"Wallet",this.isRetrying=!1,this.uri=ConnectionController.state.wcUri,this.error=ConnectionController.state.wcError,this.ready=!1,this.showRetry=!1,this.buffering=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(ConnectionController.subscribeKey("wcUri",me=>{var be;this.uri=me,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(be=this.onConnect)==null||be.call(this))}),ConnectionController.subscribeKey("wcError",me=>this.error=me),ConnectionController.subscribeKey("buffering",me=>this.buffering=me))}firstUpdated(){var Y;(Y=this.onAutoConnect)==null||Y.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y()),clearTimeout(this.timeout)}render(){var fe;(fe=this.onRender)==null||fe.call(this),this.onShowRetry();const Y=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let ne=`Continue in ${this.name}`;return this.buffering&&(ne="Connecting..."),this.error&&(ne="Connection declined"),x$4`
      <wui-flex
        data-error=${o$5(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${o$5(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${ne}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${Y}</wui-text>
        </wui-flex>

        <wui-button
          variant="accent"
          ?disabled=${!this.error&&this.buffering}
          @click=${this.onTryAgain.bind(this)}
        >
          <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
          ${this.secondaryBtnLabel}
        </wui-button>
      </wui-flex>

      ${this.isWalletConnect?x$4`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){var Y;if(this.error&&!this.showRetry){this.showRetry=!0;const ne=(Y=this.shadowRoot)==null?void 0:Y.querySelector("wui-button");ne==null||ne.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}onTryAgain(){var Y,ne;this.buffering||(ConnectionController.setWcError(!1),this.onRetry?(this.isRetrying=!0,(Y=this.onRetry)==null||Y.call(this)):(ne=this.onConnect)==null||ne.call(this))}loaderTemplate(){const Y=ThemeController.state.themeVariables["--w3m-border-radius-master"],ne=Y?parseInt(Y.replace("px",""),10):4;return x$4`<wui-loading-thumbnail radius=${ne*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(CoreHelperUtil.copyToClopboard(this.uri),SnackController.showSuccess("Link copied"))}catch{SnackController.showError("Failed to copy")}}}W3mConnectingWidget.styles=styles$m;__decorate$K([r$5()],W3mConnectingWidget.prototype,"uri",void 0);__decorate$K([r$5()],W3mConnectingWidget.prototype,"error",void 0);__decorate$K([r$5()],W3mConnectingWidget.prototype,"ready",void 0);__decorate$K([r$5()],W3mConnectingWidget.prototype,"showRetry",void 0);__decorate$K([r$5()],W3mConnectingWidget.prototype,"buffering",void 0);__decorate$K([n$8({type:Boolean})],W3mConnectingWidget.prototype,"isMobile",void 0);__decorate$K([n$8()],W3mConnectingWidget.prototype,"onRetry",void 0);var __decorate$J=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const platformMap={INJECTED:"browser",ANNOUNCED:"browser"};let W3mConnectingExternalView=class extends W3mConnectingWidget{constructor(){if(super(),!this.connector)throw new Error("w3m-connecting-view: No connector provided");EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.connector.name??"Unknown",platform:platformMap[this.connector.type]??"external"}}),this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),this.isWalletConnect=!1}async onConnectProxy(){try{this.error=!1,this.connector&&(this.connector.imageUrl&&StorageUtil.setConnectedWalletImageUrl(this.connector.imageUrl),await ConnectionController.connectExternal(this.connector),SIWEController.state.isSiweEnabled?RouterController.push("ConnectingSiwe"):ModalController.close(),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"external"}}))}catch(Y){EventsController.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(Y==null?void 0:Y.message)??"Unknown"}}),this.error=!0}}};W3mConnectingExternalView=__decorate$J([customElement("w3m-connecting-external-view")],W3mConnectingExternalView);var __decorate$I=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingSiweView=class extends r$7{constructor(){var Y;super(...arguments),this.dappName=(Y=OptionsController.state.metadata)==null?void 0:Y.name,this.isSigning=!1}render(){return x$4`
      <wui-flex justifyContent="center" .padding=${["2xl","0","xxl","0"]}>
        <w3m-connecting-siwe></w3m-connecting-siwe>
      </wui-flex>
      <wui-flex
        .padding=${["0","4xl","l","4xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100"
          >${this.dappName??"Dapp"} needs to connect to your wallet</wui-text
        >
      </wui-flex>
      <wui-flex
        .padding=${["0","3xl","l","3xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="small-400" align="center" color="fg-200"
          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect
          you.</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["l","xl","xl","xl"]} gap="s" justifyContent="space-between">
        <wui-button
          size="md"
          ?fullwidth=${!0}
          variant="shade"
          @click=${this.onCancel.bind(this)}
          data-testid="w3m-connecting-siwe-cancel"
        >
          Cancel
        </wui-button>
        <wui-button
          size="md"
          ?fullwidth=${!0}
          variant="fill"
          @click=${this.onSign.bind(this)}
          ?loading=${this.isSigning}
          data-testid="w3m-connecting-siwe-sign"
        >
          ${this.isSigning?"Signing...":"Sign"}
        </wui-button>
      </wui-flex>
    `}async onSign(){this.isSigning=!0,EventsController.sendEvent({event:"CLICK_SIGN_SIWE_MESSAGE",type:"track"});try{SIWEController.setStatus("loading");const Y=await SIWEController.signIn();return SIWEController.setStatus("success"),EventsController.sendEvent({event:"SIWE_AUTH_SUCCESS",type:"track"}),Y}catch{return SnackController.showError("Signature declined"),SIWEController.setStatus("error"),EventsController.sendEvent({event:"SIWE_AUTH_ERROR",type:"track"})}finally{this.isSigning=!1}}async onCancel(){const{isConnected:Y}=AccountController.state;Y?(await ConnectionController.disconnect(),ModalController.close()):RouterController.push("Connect"),EventsController.sendEvent({event:"CLICK_CANCEL_SIWE",type:"track"})}};__decorate$I([r$5()],W3mConnectingSiweView.prototype,"isSigning",void 0);W3mConnectingSiweView=__decorate$I([customElement("w3m-connecting-siwe-view")],W3mConnectingSiweView);var __decorate$H=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingWcView=class extends r$7{constructor(){var Y;super(),this.interval=void 0,this.lastRetry=Date.now(),this.wallet=(Y=RouterController.state.data)==null?void 0:Y.wallet,this.platform=void 0,this.platforms=[],this.initializeConnection(),this.interval=setInterval(this.initializeConnection.bind(this),ConstantsUtil$1.TEN_SEC_MS)}disconnectedCallback(){clearTimeout(this.interval)}render(){return this.wallet?(this.determinePlatforms(),x$4`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
    `):x$4`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`}async initializeConnection(Y=!1){try{const{wcPairingExpiry:ne}=ConnectionController.state;if(Y||CoreHelperUtil.isPairingExpired(ne)){if(ConnectionController.connectWalletConnect(),this.wallet){const fe=AssetUtil.getWalletImage(this.wallet);fe&&StorageUtil.setConnectedWalletImageUrl(fe)}else{const ye=ConnectorController.state.connectors.find(be=>be.type==="WALLET_CONNECT"),me=AssetUtil.getConnectorImage(ye);me&&StorageUtil.setConnectedWalletImageUrl(me)}await ConnectionController.state.wcPromise,this.finalizeConnection(),SIWEController.state.isSiweEnabled?RouterController.push("ConnectingSiwe"):ModalController.close()}}catch(ne){EventsController.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(ne==null?void 0:ne.message)??"Unknown"}}),ConnectionController.setWcError(!0),CoreHelperUtil.isAllowedRetry(this.lastRetry)&&(SnackController.showError("Declined"),this.lastRetry=Date.now(),this.initializeConnection(!0))}}finalizeConnection(){const{wcLinking:Y,recentWallet:ne}=ConnectionController.state;Y&&StorageUtil.setWalletConnectDeepLink(Y),ne&&StorageUtil.setWeb3ModalRecent(ne),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:Y?"mobile":"qrcode"}})}determinePlatforms(){if(!this.wallet)throw new Error("w3m-connecting-wc-view:determinePlatforms No wallet");if(this.platform)return;const{mobile_link:Y,desktop_link:ne,webapp_link:fe,injected:ye,rdns:me}=this.wallet,be=ye==null?void 0:ye.map(({injected_id:kr})=>kr).filter(Boolean),we=me?[me]:be??[],Ee=we.length,xe=Y,Se=fe,Ie=ConnectionController.checkInstalled(we),fr=Ee&&Ie,br=ne&&!CoreHelperUtil.isMobile();fr&&this.platforms.push("browser"),xe&&this.platforms.push(CoreHelperUtil.isMobile()?"mobile":"qrcode"),Se&&this.platforms.push("web"),br&&this.platforms.push("desktop"),!fr&&Ee&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return x$4`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"desktop":return x$4`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"web":return x$4`
          <w3m-connecting-wc-web .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-web>
        `;case"mobile":return x$4`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return x$4`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return x$4`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?x$4`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(Y){var fe;const ne=(fe=this.shadowRoot)==null?void 0:fe.querySelector("div");ne&&(await ne.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=Y,ne.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};__decorate$H([r$5()],W3mConnectingWcView.prototype,"platform",void 0);__decorate$H([r$5()],W3mConnectingWcView.prototype,"platforms",void 0);W3mConnectingWcView=__decorate$H([customElement("w3m-connecting-wc-view")],W3mConnectingWcView);var __decorate$G=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mDownloadsView=class extends r$7{constructor(){var Y;super(...arguments),this.wallet=(Y=RouterController.state.data)==null?void 0:Y.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return x$4`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){var Y;return(Y=this.wallet)!=null&&Y.chrome_store?x$4`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){var Y;return(Y=this.wallet)!=null&&Y.app_store?x$4`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){var Y;return(Y=this.wallet)!=null&&Y.play_store?x$4`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){var Y;return(Y=this.wallet)!=null&&Y.homepage?x$4`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){var Y;(Y=this.wallet)!=null&&Y.chrome_store&&CoreHelperUtil.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){var Y;(Y=this.wallet)!=null&&Y.app_store&&CoreHelperUtil.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var Y;(Y=this.wallet)!=null&&Y.play_store&&CoreHelperUtil.openHref(this.wallet.play_store,"_blank")}onHomePage(){var Y;(Y=this.wallet)!=null&&Y.homepage&&CoreHelperUtil.openHref(this.wallet.homepage,"_blank")}};W3mDownloadsView=__decorate$G([customElement("w3m-downloads-view")],W3mDownloadsView);var __decorate$F=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const EXPLORER="https://walletconnect.com/explorer";let W3mGetWalletView=class extends r$7{render(){return x$4`
      <wui-flex flexDirection="column" padding="s" gap="xs">
        ${this.recommendedWalletsTemplate()}
        <wui-list-wallet
          name="Explore all"
          showAllWallets
          walletIcon="allWallets"
          icon="externalLink"
          @click=${()=>{CoreHelperUtil.openHref("https://walletconnect.com/explorer?type=wallet","_blank")}}
        ></wui-list-wallet>
      </wui-flex>
    `}recommendedWalletsTemplate(){const{recommended:Y,featured:ne}=ApiController.state,{customWallets:fe}=OptionsController.state;return[...ne,...fe??[],...Y].slice(0,4).map(me=>x$4`
        <wui-list-wallet
          name=${me.name??"Unknown"}
          tagVariant="main"
          imageSrc=${o$5(AssetUtil.getWalletImage(me))}
          @click=${()=>{CoreHelperUtil.openHref(me.homepage??EXPLORER,"_blank")}}
        ></wui-list-wallet>
      `)}};W3mGetWalletView=__decorate$F([customElement("w3m-get-wallet-view")],W3mGetWalletView);const styles$l=i$7`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: 4px;
    bottom: 0;
    opacity: 0;
    transform: scale(0.5);
    z-index: 1;
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }

  wui-button {
    display: none;
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  wui-button[data-retry='true'] {
    display: block;
    opacity: 1;
  }
`;var __decorate$E=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mNetworkSwitchView=class extends r$7{constructor(){var Y;super(),this.network=(Y=RouterController.state.data)==null?void 0:Y.network,this.unsubscribe=[],this.showRetry=!1,this.error=!1}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}firstUpdated(){this.onSwitchNetwork()}render(){if(!this.network)throw new Error("w3m-network-switch-view: No network provided");this.onShowRetry();const Y=this.error?"Switch declined":"Approve in wallet",ne=this.error?"Switch can be declined if chain is not supported by a wallet or previous request is still active":"Accept connection request in your wallet";return x$4`
      <wui-flex
        data-error=${this.error}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","3xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-network-image
            size="lg"
            imageSrc=${o$5(AssetUtil.getNetworkImage(this.network))}
          ></wui-network-image>

          ${this.error?null:x$4`<wui-loading-hexagon></wui-loading-hexagon>`}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            ?border=${!0}
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100">${Y}</wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${ne}</wui-text>
        </wui-flex>

        <wui-button
          data-retry=${this.showRetry}
          variant="fill"
          .disabled=${!this.error}
          @click=${this.onSwitchNetwork.bind(this)}
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try again
        </wui-button>
      </wui-flex>
    `}onShowRetry(){var Y;if(this.error&&!this.showRetry){this.showRetry=!0;const ne=(Y=this.shadowRoot)==null?void 0:Y.querySelector("wui-button");ne==null||ne.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}async onSwitchNetwork(){try{this.error=!1,this.network&&(await NetworkController.switchActiveNetwork(this.network),SIWEController.state.isSiweEnabled||RouterUtil.navigateAfterNetworkSwitch())}catch{this.error=!0}}};W3mNetworkSwitchView.styles=styles$l;__decorate$E([r$5()],W3mNetworkSwitchView.prototype,"showRetry",void 0);__decorate$E([r$5()],W3mNetworkSwitchView.prototype,"error",void 0);W3mNetworkSwitchView=__decorate$E([customElement("w3m-network-switch-view")],W3mNetworkSwitchView);const styles$k=i$7`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$D=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mNetworksView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.caipNetwork=NetworkController.state.caipNetwork,this.unsubscribe.push(NetworkController.subscribeKey("caipNetwork",Y=>this.caipNetwork=Y))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return x$4`
      <wui-grid padding="s" gridTemplateColumns="repeat(4, 1fr)" rowGap="l" columnGap="xs">
        ${this.networksTemplate()}
      </wui-grid>

      <wui-separator></wui-separator>

      <wui-flex padding="s" flexDirection="column" gap="m" alignItems="center">
        <wui-text variant="small-400" color="fg-300" align="center">
          Your connected wallet may not support some of the networks available for this dApp
        </wui-text>
        <wui-link @click=${this.onNetworkHelp.bind(this)}>
          <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
          What is a network
        </wui-link>
      </wui-flex>
    `}onNetworkHelp(){EventsController.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),RouterController.push("WhatIsANetwork")}networksTemplate(){const{approvedCaipNetworkIds:Y,requestedCaipNetworks:ne,supportsAllNetworks:fe}=NetworkController.state,ye=CoreHelperUtil.sortRequestedNetworks(Y,ne);return ye==null?void 0:ye.map(me=>{var be;return x$4`
        <wui-card-select
          .selected=${((be=this.caipNetwork)==null?void 0:be.id)===me.id}
          imageSrc=${o$5(AssetUtil.getNetworkImage(me))}
          type="network"
          name=${me.name??me.id}
          @click=${()=>this.onSwitchNetwork(me)}
          .disabled=${!fe&&!(Y!=null&&Y.includes(me.id))}
          data-testid=${`w3m-network-switch-${me.name??me.id}`}
        ></wui-card-select>
      `})}async onSwitchNetwork(Y){const{isConnected:ne}=AccountController.state,{approvedCaipNetworkIds:fe,supportsAllNetworks:ye,caipNetwork:me}=NetworkController.state,{data:be}=RouterController.state;ne&&(me==null?void 0:me.id)!==Y.id?fe!=null&&fe.includes(Y.id)?(await NetworkController.switchActiveNetwork(Y),RouterUtil.navigateAfterNetworkSwitch()):ye&&RouterController.push("SwitchNetwork",{...be,network:Y}):ne||(NetworkController.setCaipNetwork(Y),RouterController.push("Connect"))}};W3mNetworksView.styles=styles$k;__decorate$D([r$5()],W3mNetworksView.prototype,"caipNetwork",void 0);W3mNetworksView=__decorate$D([customElement("w3m-networks-view")],W3mNetworksView);const styles$j=i$7`
  :host > wui-flex {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    padding: var(--wui-spacing-m);
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }

  :host > wui-flex > wui-flex {
    width: 100%;
  }

  wui-transaction-list-item-loader {
    width: 100%;
  }
`;var __decorate$C=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const LOADING_ITEM_COUNT$1=7;let W3mOnRampActivityView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.refetchTimeout=void 0,this.selectedOnRampProvider=OnRampController.state.selectedProvider,this.loading=!1,this.coinbaseTransactions=TransactionsController.state.coinbaseTransactions,this.tokenImages=AssetController.state.tokenImages,this.unsubscribe.push(OnRampController.subscribeKey("selectedProvider",Y=>{this.selectedOnRampProvider=Y}),AssetController.subscribeKey("tokenImages",Y=>this.tokenImages=Y),()=>{clearTimeout(this.refetchTimeout)},TransactionsController.subscribe(Y=>{this.coinbaseTransactions={...Y.coinbaseTransactions}})),this.fetchTransactions()}render(){return x$4`
      <wui-flex flexDirection="column" padding="s" gap="xs">
        ${this.loading?this.templateLoading():this.templateTransactionsByYear()}
      </wui-flex>
    `}templateTransactions(Y){return Y==null?void 0:Y.map(ne=>{var we,Ee,xe;const fe=DateUtil.formatDate((we=ne==null?void 0:ne.metadata)==null?void 0:we.minedAt),ye=ne.transfers[0],me=ye==null?void 0:ye.fungible_info;if(!me)return null;const be=((Ee=me==null?void 0:me.icon)==null?void 0:Ee.url)||((xe=this.tokenImages)==null?void 0:xe[me.symbol||""]);return x$4`
        <wui-onramp-activity-item
          label="Bought"
          .completed=${ne.metadata.status==="ONRAMP_TRANSACTION_STATUS_SUCCESS"}
          .inProgress=${ne.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS"}
          .failed=${ne.metadata.status==="ONRAMP_TRANSACTION_STATUS_FAILED"}
          purchaseCurrency=${o$5(me.symbol)}
          purchaseValue=${ye.quantity.numeric}
          date=${fe}
          icon=${o$5(be)}
          symbol=${o$5(me.symbol)}
        ></wui-onramp-activity-item>
      `})}templateTransactionsByYear(){return Object.keys(this.coinbaseTransactions).sort().reverse().map(ne=>{const fe=parseInt(ne,10);return new Array(12).fill(null).map((me,be)=>be).reverse().map(me=>{var Ee;const be=TransactionUtil.getTransactionGroupTitle(fe,me),we=(Ee=this.coinbaseTransactions[fe])==null?void 0:Ee[me];return we?x$4`
          <wui-flex flexDirection="column">
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200">${be}</wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(we)}
            </wui-flex>
          </wui-flex>
        `:null})})}async fetchTransactions(){await this.fetchCoinbaseTransactions()}async fetchCoinbaseTransactions(){const Y=AccountController.state.address,ne=OptionsController.state.projectId;if(!Y)throw new Error("No address found");if(!ne)throw new Error("No projectId found");this.loading=!0,await TransactionsController.fetchTransactions(Y,"coinbase"),this.loading=!1,this.refetchLoadingTransactions()}refetchLoadingTransactions(){var ye;const Y=new Date;if((((ye=this.coinbaseTransactions[Y.getFullYear()])==null?void 0:ye[Y.getMonth()])||[]).filter(me=>me.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length===0){clearTimeout(this.refetchTimeout);return}this.refetchTimeout=setTimeout(async()=>{const me=AccountController.state.address;await TransactionsController.fetchTransactions(me,"coinbase"),this.refetchLoadingTransactions()},3e3)}templateLoading(){return Array(LOADING_ITEM_COUNT$1).fill(x$4` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(Y=>Y)}};W3mOnRampActivityView.styles=styles$j;__decorate$C([r$5()],W3mOnRampActivityView.prototype,"selectedOnRampProvider",void 0);__decorate$C([r$5()],W3mOnRampActivityView.prototype,"loading",void 0);__decorate$C([r$5()],W3mOnRampActivityView.prototype,"coinbaseTransactions",void 0);__decorate$C([r$5()],W3mOnRampActivityView.prototype,"tokenImages",void 0);W3mOnRampActivityView=__decorate$C([customElement("w3m-onramp-activity-view")],W3mOnRampActivityView);const styles$i=i$7`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$B=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mOnrampFiatSelectView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=OnRampController.state.paymentCurrency,this.currencies=OnRampController.state.paymentCurrencies,this.currencyImages=AssetController.state.currencyImages,this.unsubscribe.push(OnRampController.subscribe(Y=>{this.selectedCurrency=Y.paymentCurrency,this.currencies=Y.paymentCurrencies}),AssetController.subscribeKey("currencyImages",Y=>this.currencyImages=Y))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return x$4`
      <wui-flex flexDirection="column" padding="s" gap="xs">
        ${this.currenciesTemplate()}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(){return this.currencies.map(Y=>{var ne;return x$4`
        <wui-list-item
          imageSrc=${o$5((ne=this.currencyImages)==null?void 0:ne[Y.id])}
          @click=${()=>this.selectCurrency(Y)}
          variant="image"
        >
          <wui-text variant="paragraph-500" color="fg-100">${Y.id}</wui-text>
        </wui-list-item>
      `})}selectCurrency(Y){Y&&(OnRampController.setPaymentCurrency(Y),ModalController.close())}};W3mOnrampFiatSelectView.styles=styles$i;__decorate$B([r$5()],W3mOnrampFiatSelectView.prototype,"selectedCurrency",void 0);__decorate$B([r$5()],W3mOnrampFiatSelectView.prototype,"currencies",void 0);__decorate$B([r$5()],W3mOnrampFiatSelectView.prototype,"currencyImages",void 0);W3mOnrampFiatSelectView=__decorate$B([customElement("w3m-onramp-fiat-select-view")],W3mOnrampFiatSelectView);var __decorate$A=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mOnRampProvidersView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.providers=OnRampController.state.providers,this.unsubscribe.push(OnRampController.subscribeKey("providers",Y=>{this.providers=Y}))}firstUpdated(){const Y=this.providers.map(async ne=>ne.name==="coinbase"?await this.getCoinbaseOnRampURL():Promise.resolve(ne==null?void 0:ne.url));Promise.all(Y).then(ne=>{this.providers=this.providers.map((fe,ye)=>({...fe,url:ne[ye]||""}))})}render(){return x$4`
      <wui-flex flexDirection="column" padding="s" gap="xs">
        ${this.onRampProvidersTemplate()}
      </wui-flex>
      <w3m-onramp-providers-footer></w3m-onramp-providers-footer>
    `}onRampProvidersTemplate(){return this.providers.map(Y=>x$4`
        <wui-onramp-provider-item
          label=${Y.label}
          name=${Y.name}
          feeRange=${Y.feeRange}
          @click=${()=>{this.onClickProvider(Y)}}
          ?disabled=${!Y.url}
        ></wui-onramp-provider-item>
      `)}onClickProvider(Y){OnRampController.setSelectedProvider(Y),RouterController.push("BuyInProgress"),CoreHelperUtil.openHref(Y.url,"popupWindow","width=600,height=800,scrollbars=yes")}async getCoinbaseOnRampURL(){const Y=AccountController.state.address,ne=NetworkController.state.caipNetwork;if(!Y)throw new Error("No address found");if(!(ne!=null&&ne.name))throw new Error("No network found");const fe=ConstantsUtil$1.WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP[ne.name]??ConstantsUtil$1.WC_COINBASE_PAY_SDK_FALLBACK_CHAIN,ye=OnRampController.state.purchaseCurrency,me=ye?[ye.symbol]:OnRampController.state.purchaseCurrencies.map(be=>be.symbol);return await BlockchainApiController.generateOnRampURL({defaultNetwork:fe,destinationWallets:[{address:Y,blockchains:ConstantsUtil$1.WC_COINBASE_PAY_SDK_CHAINS,assets:me}],partnerUserId:Y,purchaseAmount:OnRampController.state.purchaseAmount})}};__decorate$A([r$5()],W3mOnRampProvidersView.prototype,"providers",void 0);W3mOnRampProvidersView=__decorate$A([customElement("w3m-onramp-providers-view")],W3mOnRampProvidersView);const styles$h=i$7`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$z=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mOnrampTokensView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=OnRampController.state.purchaseCurrencies,this.tokens=OnRampController.state.purchaseCurrencies,this.tokenImages=AssetController.state.tokenImages,this.unsubscribe.push(OnRampController.subscribe(Y=>{this.selectedCurrency=Y.purchaseCurrencies,this.tokens=Y.purchaseCurrencies}),AssetController.subscribeKey("tokenImages",Y=>this.tokenImages=Y))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return x$4`
      <wui-flex flexDirection="column" padding="s" gap="xs">
        ${this.currenciesTemplate()}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(){return this.tokens.map(Y=>{var ne;return x$4`
        <wui-list-item
          imageSrc=${o$5((ne=this.tokenImages)==null?void 0:ne[Y.symbol])}
          @click=${()=>this.selectToken(Y)}
          variant="image"
        >
          <wui-flex gap="3xs" alignItems="center">
            <wui-text variant="paragraph-500" color="fg-100">${Y.name}</wui-text>
            <wui-text variant="small-400" color="fg-200">${Y.symbol}</wui-text>
          </wui-flex>
        </wui-list-item>
      `})}selectToken(Y){Y&&(OnRampController.setPurchaseCurrency(Y),ModalController.close())}};W3mOnrampTokensView.styles=styles$h;__decorate$z([r$5()],W3mOnrampTokensView.prototype,"selectedCurrency",void 0);__decorate$z([r$5()],W3mOnrampTokensView.prototype,"tokens",void 0);__decorate$z([r$5()],W3mOnrampTokensView.prototype,"tokenImages",void 0);W3mOnrampTokensView=__decorate$z([customElement("w3m-onramp-token-select-view")],W3mOnrampTokensView);const styles$g=i$7`
  :host > wui-flex:first-child {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    padding: var(--wui-spacing-m);
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$y=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const PAGINATOR_ID$1="last-transaction",LOADING_ITEM_COUNT=7;let W3mTransactionsView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.address=AccountController.state.address,this.transactionsByYear=TransactionsController.state.transactionsByYear,this.loading=TransactionsController.state.loading,this.empty=TransactionsController.state.empty,this.next=TransactionsController.state.next,this.unsubscribe.push(AccountController.subscribe(Y=>{Y.isConnected&&this.address!==Y.address&&(this.address=Y.address,TransactionsController.resetTransactions(),TransactionsController.fetchTransactions(Y.address))}),TransactionsController.subscribe(Y=>{this.transactionsByYear=Y.transactionsByYear,this.loading=Y.loading,this.empty=Y.empty,this.next=Y.next}))}firstUpdated(){TransactionsController.fetchTransactions(this.address),this.createPaginationObserver()}updated(){this.setPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return x$4`
      <wui-flex flexDirection="column" gap="s">
        ${this.empty?null:this.templateTransactionsByYear()}
        ${this.loading?this.templateLoading():null}
        ${!this.loading&&this.empty?this.templateEmpty():null}
      </wui-flex>
    `}templateTransactionsByYear(){const Y=Object.keys(this.transactionsByYear).sort().reverse();return Y.map((ne,fe)=>{const ye=fe===Y.length-1,me=parseInt(ne,10);return new Array(12).fill(null).map((we,Ee)=>Ee).reverse().map(we=>{var Se;const Ee=TransactionUtil.getTransactionGroupTitle(me,we),xe=(Se=this.transactionsByYear[me])==null?void 0:Se[we];return xe?x$4`
          <wui-flex flexDirection="column">
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200">${Ee}</wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(xe,ye)}
            </wui-flex>
          </wui-flex>
        `:null})})}templateRenderTransaction(Y,ne){const{date:fe,descriptions:ye,direction:me,isAllNFT:be,images:we,status:Ee,transfers:xe,type:Se}=this.getTransactionListItemProps(Y),Ie=(xe==null?void 0:xe.length)>1;return(xe==null?void 0:xe.length)===2&&!be?x$4`
        <wui-transaction-list-item
          date=${fe}
          .direction=${me}
          id=${ne&&this.next?PAGINATOR_ID$1:""}
          status=${Ee}
          type=${Se}
          .images=${we}
          .descriptions=${ye}
        ></wui-transaction-list-item>
      `:Ie?xe.map((br,kr)=>{const Wr=TransactionUtil.getTransferDescription(br),Gr=ne&&kr===xe.length-1;return x$4` <wui-transaction-list-item
          date=${fe}
          direction=${br.direction}
          id=${Gr&&this.next?PAGINATOR_ID$1:""}
          status=${Ee}
          type=${Se}
          .onlyDirectionIcon=${!0}
          .images=${[we[kr]]}
          .descriptions=${[Wr]}
        ></wui-transaction-list-item>`}):x$4`
      <wui-transaction-list-item
        date=${fe}
        .direction=${me}
        id=${ne&&this.next?PAGINATOR_ID$1:""}
        status=${Ee}
        type=${Se}
        .images=${we}
        .descriptions=${ye}
      ></wui-transaction-list-item>
    `}templateTransactions(Y,ne){return Y.map((fe,ye)=>{const me=ne&&ye===Y.length-1;return x$4`${this.templateRenderTransaction(fe,me)}`})}templateEmpty(){return x$4`
      <wui-flex
        flexGrow="1"
        flexDirection="column"
        justifyContent="center"
        alignItems="center"
        .padding=${["3xl","xl","3xl","xl"]}
        gap="xl"
      >
        <wui-icon-box
          backgroundColor="glass-005"
          background="gray"
          iconColor="fg-200"
          icon="wallet"
          size="lg"
          ?border=${!0}
          borderColor="wui-color-bg-125"
        ></wui-icon-box>
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100"
            >No Transactions yet</wui-text
          >
          <wui-text align="center" variant="small-500" color="fg-200"
            >Start trading on dApps <br />
            to grow your wallet!</wui-text
          >
        </wui-flex>
      </wui-flex>
    `}templateLoading(){return Array(LOADING_ITEM_COUNT).fill(x$4` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(Y=>Y)}createPaginationObserver(){const{projectId:Y}=OptionsController.state;this.paginationObserver=new IntersectionObserver(([ne])=>{ne!=null&&ne.isIntersecting&&!this.loading&&(TransactionsController.fetchTransactions(this.address),EventsController.sendEvent({type:"track",event:"LOAD_MORE_TRANSACTIONS",properties:{address:this.address,projectId:Y,cursor:this.next}}))},{}),this.setPaginationObserver()}setPaginationObserver(){var ne,fe,ye;(ne=this.paginationObserver)==null||ne.disconnect();const Y=(fe=this.shadowRoot)==null?void 0:fe.querySelector(`#${PAGINATOR_ID$1}`);Y&&((ye=this.paginationObserver)==null||ye.observe(Y))}getTransactionListItemProps(Y){var Ee,xe,Se,Ie,fr;const ne=DateUtil.formatDate((Ee=Y==null?void 0:Y.metadata)==null?void 0:Ee.minedAt),fe=TransactionUtil.getTransactionDescriptions(Y),ye=Y==null?void 0:Y.transfers,me=(xe=Y==null?void 0:Y.transfers)==null?void 0:xe[0],be=!!me&&((Se=Y==null?void 0:Y.transfers)==null?void 0:Se.every(br=>!!br.nft_info)),we=TransactionUtil.getTransactionImages(ye);return{date:ne,direction:me==null?void 0:me.direction,descriptions:fe,isAllNFT:be,images:we,status:(Ie=Y.metadata)==null?void 0:Ie.status,transfers:ye,type:(fr=Y.metadata)==null?void 0:fr.operationType}}};W3mTransactionsView.styles=styles$g;__decorate$y([r$5()],W3mTransactionsView.prototype,"address",void 0);__decorate$y([r$5()],W3mTransactionsView.prototype,"transactionsByYear",void 0);__decorate$y([r$5()],W3mTransactionsView.prototype,"loading",void 0);__decorate$y([r$5()],W3mTransactionsView.prototype,"empty",void 0);__decorate$y([r$5()],W3mTransactionsView.prototype,"next",void 0);W3mTransactionsView=__decorate$y([customElement("w3m-transactions-view")],W3mTransactionsView);var __decorate$x=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const data$1=[{images:["network","layers","system"],title:"The system’s nuts and bolts",text:"A network is what brings the blockchain to life, as this technical infrastructure allows apps to access the ledger and smart contract services."},{images:["noun","defiAlt","dao"],title:"Designed for different uses",text:"Each network is designed differently, and may therefore suit certain apps and experiences."}];let W3mWhatIsANetworkView=class extends r$7{render(){return x$4`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${data$1}></w3m-help-widget>
        <wui-button
          variant="fill"
          size="sm"
          @click=${()=>{CoreHelperUtil.openHref("https://ethereum.org/en/developers/docs/networks/","_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};W3mWhatIsANetworkView=__decorate$x([customElement("w3m-what-is-a-network-view")],W3mWhatIsANetworkView);var __decorate$w=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const data=[{images:["login","profile","lock"],title:"One login for all of web3",text:"Log in to any app by connecting your wallet. Say goodbye to countless passwords!"},{images:["defi","nft","eth"],title:"A home for your digital assets",text:"A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs."},{images:["browser","noun","dao"],title:"Your gateway to a new web",text:"With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more."}];let W3mWhatIsAWalletView=class extends r$7{render(){return x$4`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${data}></w3m-help-widget>
        <wui-button variant="fill" size="sm" @click=${this.onGetWallet.bind(this)}>
          <wui-icon color="inherit" slot="iconLeft" name="wallet"></wui-icon>
          Get a wallet
        </wui-button>
      </wui-flex>
    `}onGetWallet(){EventsController.sendEvent({type:"track",event:"CLICK_GET_WALLET"}),RouterController.push("GetWallet")}};W3mWhatIsAWalletView=__decorate$w([customElement("w3m-what-is-a-wallet-view")],W3mWhatIsAWalletView);var __decorate$v=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mWhatIsABuyView=class extends r$7{render(){return x$4`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","3xl","xl","3xl"]}
        alignItems="center"
        gap="xl"
      >
        <wui-visual name="onrampCard"></wui-visual>
        <wui-flex flexDirection="column" gap="xs" alignItems="center">
          <wui-text align="center" variant="paragraph-500" color="fg-100">
            Quickly and easily buy digital assets!
          </wui-text>
          <wui-text align="center" variant="small-400" color="fg-200">
            Simply select your preferred onramp provider and add digital assets to your account
            using your credit card or bank transfer
          </wui-text>
        </wui-flex>
        <wui-button @click=${RouterController.goBack}>
          <wui-icon size="sm" color="inherit" name="add" slot="iconLeft"></wui-icon>
          Buy
        </wui-button>
      </wui-flex>
    `}};W3mWhatIsABuyView=__decorate$v([customElement("w3m-what-is-a-buy-view")],W3mWhatIsABuyView);const styles$f=i$7`
  wui-loading-spinner {
    margin: 9px auto;
  }
`,W3mFrameConstants={SECURE_SITE_SDK:"https://secure.walletconnect.com/sdk",APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@w3m-storage/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR"},W3mFrameRpcConstants={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction"],GET_CHAIN_ID:"eth_chainId"};var util$4;(function(se){se.assertEqual=ye=>ye;function Y(ye){}se.assertIs=Y;function ne(ye){throw new Error}se.assertNever=ne,se.arrayToEnum=ye=>{const me={};for(const be of ye)me[be]=be;return me},se.getValidEnumValues=ye=>{const me=se.objectKeys(ye).filter(we=>typeof ye[ye[we]]!="number"),be={};for(const we of me)be[we]=ye[we];return se.objectValues(be)},se.objectValues=ye=>se.objectKeys(ye).map(function(me){return ye[me]}),se.objectKeys=typeof Object.keys=="function"?ye=>Object.keys(ye):ye=>{const me=[];for(const be in ye)Object.prototype.hasOwnProperty.call(ye,be)&&me.push(be);return me},se.find=(ye,me)=>{for(const be of ye)if(me(be))return be},se.isInteger=typeof Number.isInteger=="function"?ye=>Number.isInteger(ye):ye=>typeof ye=="number"&&isFinite(ye)&&Math.floor(ye)===ye;function fe(ye,me=" | "){return ye.map(be=>typeof be=="string"?`'${be}'`:be).join(me)}se.joinValues=fe,se.jsonStringifyReplacer=(ye,me)=>typeof me=="bigint"?me.toString():me})(util$4||(util$4={}));var objectUtil;(function(se){se.mergeShapes=(Y,ne)=>({...Y,...ne})})(objectUtil||(objectUtil={}));const ZodParsedType=util$4.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=se=>{switch(typeof se){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(se)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(se)?ZodParsedType.array:se===null?ZodParsedType.null:se.then&&typeof se.then=="function"&&se.catch&&typeof se.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&se instanceof Map?ZodParsedType.map:typeof Set<"u"&&se instanceof Set?ZodParsedType.set:typeof Date<"u"&&se instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$4.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=se=>JSON.stringify(se,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(Y){super(),this.issues=[],this.addIssue=fe=>{this.issues=[...this.issues,fe]},this.addIssues=(fe=[])=>{this.issues=[...this.issues,...fe]};const ne=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,ne):this.__proto__=ne,this.name="ZodError",this.issues=Y}get errors(){return this.issues}format(Y){const ne=Y||function(me){return me.message},fe={_errors:[]},ye=me=>{for(const be of me.issues)if(be.code==="invalid_union")be.unionErrors.map(ye);else if(be.code==="invalid_return_type")ye(be.returnTypeError);else if(be.code==="invalid_arguments")ye(be.argumentsError);else if(be.path.length===0)fe._errors.push(ne(be));else{let we=fe,Ee=0;for(;Ee<be.path.length;){const xe=be.path[Ee];Ee===be.path.length-1?(we[xe]=we[xe]||{_errors:[]},we[xe]._errors.push(ne(be))):we[xe]=we[xe]||{_errors:[]},we=we[xe],Ee++}}};return ye(this),fe}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$4.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(Y=ne=>ne.message){const ne={},fe=[];for(const ye of this.issues)ye.path.length>0?(ne[ye.path[0]]=ne[ye.path[0]]||[],ne[ye.path[0]].push(Y(ye))):fe.push(Y(ye));return{formErrors:fe,fieldErrors:ne}}get formErrors(){return this.flatten()}}ZodError.create=se=>new ZodError(se);const errorMap=(se,Y)=>{let ne;switch(se.code){case ZodIssueCode.invalid_type:se.received===ZodParsedType.undefined?ne="Required":ne=`Expected ${se.expected}, received ${se.received}`;break;case ZodIssueCode.invalid_literal:ne=`Invalid literal value, expected ${JSON.stringify(se.expected,util$4.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:ne=`Unrecognized key(s) in object: ${util$4.joinValues(se.keys,", ")}`;break;case ZodIssueCode.invalid_union:ne="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:ne=`Invalid discriminator value. Expected ${util$4.joinValues(se.options)}`;break;case ZodIssueCode.invalid_enum_value:ne=`Invalid enum value. Expected ${util$4.joinValues(se.options)}, received '${se.received}'`;break;case ZodIssueCode.invalid_arguments:ne="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:ne="Invalid function return type";break;case ZodIssueCode.invalid_date:ne="Invalid date";break;case ZodIssueCode.invalid_string:typeof se.validation=="object"?"includes"in se.validation?(ne=`Invalid input: must include "${se.validation.includes}"`,typeof se.validation.position=="number"&&(ne=`${ne} at one or more positions greater than or equal to ${se.validation.position}`)):"startsWith"in se.validation?ne=`Invalid input: must start with "${se.validation.startsWith}"`:"endsWith"in se.validation?ne=`Invalid input: must end with "${se.validation.endsWith}"`:util$4.assertNever(se.validation):se.validation!=="regex"?ne=`Invalid ${se.validation}`:ne="Invalid";break;case ZodIssueCode.too_small:se.type==="array"?ne=`Array must contain ${se.exact?"exactly":se.inclusive?"at least":"more than"} ${se.minimum} element(s)`:se.type==="string"?ne=`String must contain ${se.exact?"exactly":se.inclusive?"at least":"over"} ${se.minimum} character(s)`:se.type==="number"?ne=`Number must be ${se.exact?"exactly equal to ":se.inclusive?"greater than or equal to ":"greater than "}${se.minimum}`:se.type==="date"?ne=`Date must be ${se.exact?"exactly equal to ":se.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(se.minimum))}`:ne="Invalid input";break;case ZodIssueCode.too_big:se.type==="array"?ne=`Array must contain ${se.exact?"exactly":se.inclusive?"at most":"less than"} ${se.maximum} element(s)`:se.type==="string"?ne=`String must contain ${se.exact?"exactly":se.inclusive?"at most":"under"} ${se.maximum} character(s)`:se.type==="number"?ne=`Number must be ${se.exact?"exactly":se.inclusive?"less than or equal to":"less than"} ${se.maximum}`:se.type==="bigint"?ne=`BigInt must be ${se.exact?"exactly":se.inclusive?"less than or equal to":"less than"} ${se.maximum}`:se.type==="date"?ne=`Date must be ${se.exact?"exactly":se.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(se.maximum))}`:ne="Invalid input";break;case ZodIssueCode.custom:ne="Invalid input";break;case ZodIssueCode.invalid_intersection_types:ne="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:ne=`Number must be a multiple of ${se.multipleOf}`;break;case ZodIssueCode.not_finite:ne="Number must be finite";break;default:ne=Y.defaultError,util$4.assertNever(se)}return{message:ne}};let overrideErrorMap=errorMap;function setErrorMap(se){overrideErrorMap=se}function getErrorMap(){return overrideErrorMap}const makeIssue=se=>{const{data:Y,path:ne,errorMaps:fe,issueData:ye}=se,me=[...ne,...ye.path||[]],be={...ye,path:me};let we="";const Ee=fe.filter(xe=>!!xe).slice().reverse();for(const xe of Ee)we=xe(be,{data:Y,defaultError:we}).message;return{...ye,path:me,message:ye.message||we}},EMPTY_PATH=[];function addIssueToContext(se,Y){const ne=makeIssue({issueData:Y,data:se.data,path:se.path,errorMaps:[se.common.contextualErrorMap,se.schemaErrorMap,getErrorMap(),errorMap].filter(fe=>!!fe)});se.common.issues.push(ne)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(Y,ne){const fe=[];for(const ye of ne){if(ye.status==="aborted")return INVALID;ye.status==="dirty"&&Y.dirty(),fe.push(ye.value)}return{status:Y.value,value:fe}}static async mergeObjectAsync(Y,ne){const fe=[];for(const ye of ne)fe.push({key:await ye.key,value:await ye.value});return ParseStatus.mergeObjectSync(Y,fe)}static mergeObjectSync(Y,ne){const fe={};for(const ye of ne){const{key:me,value:be}=ye;if(me.status==="aborted"||be.status==="aborted")return INVALID;me.status==="dirty"&&Y.dirty(),be.status==="dirty"&&Y.dirty(),me.value!=="__proto__"&&(typeof be.value<"u"||ye.alwaysSet)&&(fe[me.value]=be.value)}return{status:Y.value,value:fe}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=se=>({status:"dirty",value:se}),OK=se=>({status:"valid",value:se}),isAborted=se=>se.status==="aborted",isDirty=se=>se.status==="dirty",isValid=se=>se.status==="valid",isAsync=se=>typeof Promise<"u"&&se instanceof Promise;var errorUtil;(function(se){se.errToObj=Y=>typeof Y=="string"?{message:Y}:Y||{},se.toString=Y=>typeof Y=="string"?Y:Y==null?void 0:Y.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(Y,ne,fe,ye){this._cachedPath=[],this.parent=Y,this.data=ne,this._path=fe,this._key=ye}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(se,Y)=>{if(isValid(Y))return{success:!0,data:Y.value};if(!se.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const ne=new ZodError(se.common.issues);return this._error=ne,this._error}}};function processCreateParams(se){if(!se)return{};const{errorMap:Y,invalid_type_error:ne,required_error:fe,description:ye}=se;if(Y&&(ne||fe))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return Y?{errorMap:Y,description:ye}:{errorMap:(be,we)=>be.code!=="invalid_type"?{message:we.defaultError}:typeof we.data>"u"?{message:fe??we.defaultError}:{message:ne??we.defaultError},description:ye}}class ZodType{constructor(Y){this.spa=this.safeParseAsync,this._def=Y,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(Y){return getParsedType(Y.data)}_getOrReturnCtx(Y,ne){return ne||{common:Y.parent.common,data:Y.data,parsedType:getParsedType(Y.data),schemaErrorMap:this._def.errorMap,path:Y.path,parent:Y.parent}}_processInputParams(Y){return{status:new ParseStatus,ctx:{common:Y.parent.common,data:Y.data,parsedType:getParsedType(Y.data),schemaErrorMap:this._def.errorMap,path:Y.path,parent:Y.parent}}}_parseSync(Y){const ne=this._parse(Y);if(isAsync(ne))throw new Error("Synchronous parse encountered promise.");return ne}_parseAsync(Y){const ne=this._parse(Y);return Promise.resolve(ne)}parse(Y,ne){const fe=this.safeParse(Y,ne);if(fe.success)return fe.data;throw fe.error}safeParse(Y,ne){var fe;const ye={common:{issues:[],async:(fe=ne==null?void 0:ne.async)!==null&&fe!==void 0?fe:!1,contextualErrorMap:ne==null?void 0:ne.errorMap},path:(ne==null?void 0:ne.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:Y,parsedType:getParsedType(Y)},me=this._parseSync({data:Y,path:ye.path,parent:ye});return handleResult(ye,me)}async parseAsync(Y,ne){const fe=await this.safeParseAsync(Y,ne);if(fe.success)return fe.data;throw fe.error}async safeParseAsync(Y,ne){const fe={common:{issues:[],contextualErrorMap:ne==null?void 0:ne.errorMap,async:!0},path:(ne==null?void 0:ne.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:Y,parsedType:getParsedType(Y)},ye=this._parse({data:Y,path:fe.path,parent:fe}),me=await(isAsync(ye)?ye:Promise.resolve(ye));return handleResult(fe,me)}refine(Y,ne){const fe=ye=>typeof ne=="string"||typeof ne>"u"?{message:ne}:typeof ne=="function"?ne(ye):ne;return this._refinement((ye,me)=>{const be=Y(ye),we=()=>me.addIssue({code:ZodIssueCode.custom,...fe(ye)});return typeof Promise<"u"&&be instanceof Promise?be.then(Ee=>Ee?!0:(we(),!1)):be?!0:(we(),!1)})}refinement(Y,ne){return this._refinement((fe,ye)=>Y(fe)?!0:(ye.addIssue(typeof ne=="function"?ne(fe,ye):ne),!1))}_refinement(Y){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:Y}})}superRefine(Y){return this._refinement(Y)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(Y){return ZodUnion.create([this,Y],this._def)}and(Y){return ZodIntersection.create(this,Y,this._def)}transform(Y){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:Y}})}default(Y){const ne=typeof Y=="function"?Y:()=>Y;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:ne,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(Y){const ne=typeof Y=="function"?Y:()=>Y;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:ne,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(Y){const ne=this.constructor;return new ne({...this._def,description:Y})}pipe(Y){return ZodPipeline.create(this,Y)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=se=>se.precision?se.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${se.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${se.precision}}Z$`):se.precision===0?se.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):se.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(se,Y){return!!((Y==="v4"||!Y)&&ipv4Regex.test(se)||(Y==="v6"||!Y)&&ipv6Regex.test(se))}class ZodString extends ZodType{_parse(Y){if(this._def.coerce&&(Y.data=String(Y.data)),this._getType(Y)!==ZodParsedType.string){const me=this._getOrReturnCtx(Y);return addIssueToContext(me,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:me.parsedType}),INVALID}const fe=new ParseStatus;let ye;for(const me of this._def.checks)if(me.kind==="min")Y.data.length<me.value&&(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.too_small,minimum:me.value,type:"string",inclusive:!0,exact:!1,message:me.message}),fe.dirty());else if(me.kind==="max")Y.data.length>me.value&&(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.too_big,maximum:me.value,type:"string",inclusive:!0,exact:!1,message:me.message}),fe.dirty());else if(me.kind==="length"){const be=Y.data.length>me.value,we=Y.data.length<me.value;(be||we)&&(ye=this._getOrReturnCtx(Y,ye),be?addIssueToContext(ye,{code:ZodIssueCode.too_big,maximum:me.value,type:"string",inclusive:!0,exact:!0,message:me.message}):we&&addIssueToContext(ye,{code:ZodIssueCode.too_small,minimum:me.value,type:"string",inclusive:!0,exact:!0,message:me.message}),fe.dirty())}else if(me.kind==="email")emailRegex.test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"email",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty());else if(me.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"emoji",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty());else if(me.kind==="uuid")uuidRegex.test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"uuid",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty());else if(me.kind==="cuid")cuidRegex.test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"cuid",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty());else if(me.kind==="cuid2")cuid2Regex.test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty());else if(me.kind==="ulid")ulidRegex.test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"ulid",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty());else if(me.kind==="url")try{new URL(Y.data)}catch{ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"url",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty()}else me.kind==="regex"?(me.regex.lastIndex=0,me.regex.test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"regex",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty())):me.kind==="trim"?Y.data=Y.data.trim():me.kind==="includes"?Y.data.includes(me.value,me.position)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.invalid_string,validation:{includes:me.value,position:me.position},message:me.message}),fe.dirty()):me.kind==="toLowerCase"?Y.data=Y.data.toLowerCase():me.kind==="toUpperCase"?Y.data=Y.data.toUpperCase():me.kind==="startsWith"?Y.data.startsWith(me.value)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.invalid_string,validation:{startsWith:me.value},message:me.message}),fe.dirty()):me.kind==="endsWith"?Y.data.endsWith(me.value)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.invalid_string,validation:{endsWith:me.value},message:me.message}),fe.dirty()):me.kind==="datetime"?datetimeRegex(me).test(Y.data)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.invalid_string,validation:"datetime",message:me.message}),fe.dirty()):me.kind==="ip"?isValidIP(Y.data,me.version)||(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{validation:"ip",code:ZodIssueCode.invalid_string,message:me.message}),fe.dirty()):util$4.assertNever(me);return{status:fe.value,value:Y.data}}_regex(Y,ne,fe){return this.refinement(ye=>Y.test(ye),{validation:ne,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(fe)})}_addCheck(Y){return new ZodString({...this._def,checks:[...this._def.checks,Y]})}email(Y){return this._addCheck({kind:"email",...errorUtil.errToObj(Y)})}url(Y){return this._addCheck({kind:"url",...errorUtil.errToObj(Y)})}emoji(Y){return this._addCheck({kind:"emoji",...errorUtil.errToObj(Y)})}uuid(Y){return this._addCheck({kind:"uuid",...errorUtil.errToObj(Y)})}cuid(Y){return this._addCheck({kind:"cuid",...errorUtil.errToObj(Y)})}cuid2(Y){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(Y)})}ulid(Y){return this._addCheck({kind:"ulid",...errorUtil.errToObj(Y)})}ip(Y){return this._addCheck({kind:"ip",...errorUtil.errToObj(Y)})}datetime(Y){var ne;return typeof Y=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:Y}):this._addCheck({kind:"datetime",precision:typeof(Y==null?void 0:Y.precision)>"u"?null:Y==null?void 0:Y.precision,offset:(ne=Y==null?void 0:Y.offset)!==null&&ne!==void 0?ne:!1,...errorUtil.errToObj(Y==null?void 0:Y.message)})}regex(Y,ne){return this._addCheck({kind:"regex",regex:Y,...errorUtil.errToObj(ne)})}includes(Y,ne){return this._addCheck({kind:"includes",value:Y,position:ne==null?void 0:ne.position,...errorUtil.errToObj(ne==null?void 0:ne.message)})}startsWith(Y,ne){return this._addCheck({kind:"startsWith",value:Y,...errorUtil.errToObj(ne)})}endsWith(Y,ne){return this._addCheck({kind:"endsWith",value:Y,...errorUtil.errToObj(ne)})}min(Y,ne){return this._addCheck({kind:"min",value:Y,...errorUtil.errToObj(ne)})}max(Y,ne){return this._addCheck({kind:"max",value:Y,...errorUtil.errToObj(ne)})}length(Y,ne){return this._addCheck({kind:"length",value:Y,...errorUtil.errToObj(ne)})}nonempty(Y){return this.min(1,errorUtil.errToObj(Y))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(Y=>Y.kind==="datetime")}get isEmail(){return!!this._def.checks.find(Y=>Y.kind==="email")}get isURL(){return!!this._def.checks.find(Y=>Y.kind==="url")}get isEmoji(){return!!this._def.checks.find(Y=>Y.kind==="emoji")}get isUUID(){return!!this._def.checks.find(Y=>Y.kind==="uuid")}get isCUID(){return!!this._def.checks.find(Y=>Y.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(Y=>Y.kind==="cuid2")}get isULID(){return!!this._def.checks.find(Y=>Y.kind==="ulid")}get isIP(){return!!this._def.checks.find(Y=>Y.kind==="ip")}get minLength(){let Y=null;for(const ne of this._def.checks)ne.kind==="min"&&(Y===null||ne.value>Y)&&(Y=ne.value);return Y}get maxLength(){let Y=null;for(const ne of this._def.checks)ne.kind==="max"&&(Y===null||ne.value<Y)&&(Y=ne.value);return Y}}ZodString.create=se=>{var Y;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(Y=se==null?void 0:se.coerce)!==null&&Y!==void 0?Y:!1,...processCreateParams(se)})};function floatSafeRemainder(se,Y){const ne=(se.toString().split(".")[1]||"").length,fe=(Y.toString().split(".")[1]||"").length,ye=ne>fe?ne:fe,me=parseInt(se.toFixed(ye).replace(".","")),be=parseInt(Y.toFixed(ye).replace(".",""));return me%be/Math.pow(10,ye)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(Y){if(this._def.coerce&&(Y.data=Number(Y.data)),this._getType(Y)!==ZodParsedType.number){const me=this._getOrReturnCtx(Y);return addIssueToContext(me,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:me.parsedType}),INVALID}let fe;const ye=new ParseStatus;for(const me of this._def.checks)me.kind==="int"?util$4.isInteger(Y.data)||(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:me.message}),ye.dirty()):me.kind==="min"?(me.inclusive?Y.data<me.value:Y.data<=me.value)&&(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.too_small,minimum:me.value,type:"number",inclusive:me.inclusive,exact:!1,message:me.message}),ye.dirty()):me.kind==="max"?(me.inclusive?Y.data>me.value:Y.data>=me.value)&&(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.too_big,maximum:me.value,type:"number",inclusive:me.inclusive,exact:!1,message:me.message}),ye.dirty()):me.kind==="multipleOf"?floatSafeRemainder(Y.data,me.value)!==0&&(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.not_multiple_of,multipleOf:me.value,message:me.message}),ye.dirty()):me.kind==="finite"?Number.isFinite(Y.data)||(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.not_finite,message:me.message}),ye.dirty()):util$4.assertNever(me);return{status:ye.value,value:Y.data}}gte(Y,ne){return this.setLimit("min",Y,!0,errorUtil.toString(ne))}gt(Y,ne){return this.setLimit("min",Y,!1,errorUtil.toString(ne))}lte(Y,ne){return this.setLimit("max",Y,!0,errorUtil.toString(ne))}lt(Y,ne){return this.setLimit("max",Y,!1,errorUtil.toString(ne))}setLimit(Y,ne,fe,ye){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:Y,value:ne,inclusive:fe,message:errorUtil.toString(ye)}]})}_addCheck(Y){return new ZodNumber({...this._def,checks:[...this._def.checks,Y]})}int(Y){return this._addCheck({kind:"int",message:errorUtil.toString(Y)})}positive(Y){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(Y)})}negative(Y){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(Y)})}nonpositive(Y){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(Y)})}nonnegative(Y){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(Y)})}multipleOf(Y,ne){return this._addCheck({kind:"multipleOf",value:Y,message:errorUtil.toString(ne)})}finite(Y){return this._addCheck({kind:"finite",message:errorUtil.toString(Y)})}safe(Y){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(Y)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(Y)})}get minValue(){let Y=null;for(const ne of this._def.checks)ne.kind==="min"&&(Y===null||ne.value>Y)&&(Y=ne.value);return Y}get maxValue(){let Y=null;for(const ne of this._def.checks)ne.kind==="max"&&(Y===null||ne.value<Y)&&(Y=ne.value);return Y}get isInt(){return!!this._def.checks.find(Y=>Y.kind==="int"||Y.kind==="multipleOf"&&util$4.isInteger(Y.value))}get isFinite(){let Y=null,ne=null;for(const fe of this._def.checks){if(fe.kind==="finite"||fe.kind==="int"||fe.kind==="multipleOf")return!0;fe.kind==="min"?(ne===null||fe.value>ne)&&(ne=fe.value):fe.kind==="max"&&(Y===null||fe.value<Y)&&(Y=fe.value)}return Number.isFinite(ne)&&Number.isFinite(Y)}}ZodNumber.create=se=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(se==null?void 0:se.coerce)||!1,...processCreateParams(se)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(Y){if(this._def.coerce&&(Y.data=BigInt(Y.data)),this._getType(Y)!==ZodParsedType.bigint){const me=this._getOrReturnCtx(Y);return addIssueToContext(me,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:me.parsedType}),INVALID}let fe;const ye=new ParseStatus;for(const me of this._def.checks)me.kind==="min"?(me.inclusive?Y.data<me.value:Y.data<=me.value)&&(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.too_small,type:"bigint",minimum:me.value,inclusive:me.inclusive,message:me.message}),ye.dirty()):me.kind==="max"?(me.inclusive?Y.data>me.value:Y.data>=me.value)&&(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.too_big,type:"bigint",maximum:me.value,inclusive:me.inclusive,message:me.message}),ye.dirty()):me.kind==="multipleOf"?Y.data%me.value!==BigInt(0)&&(fe=this._getOrReturnCtx(Y,fe),addIssueToContext(fe,{code:ZodIssueCode.not_multiple_of,multipleOf:me.value,message:me.message}),ye.dirty()):util$4.assertNever(me);return{status:ye.value,value:Y.data}}gte(Y,ne){return this.setLimit("min",Y,!0,errorUtil.toString(ne))}gt(Y,ne){return this.setLimit("min",Y,!1,errorUtil.toString(ne))}lte(Y,ne){return this.setLimit("max",Y,!0,errorUtil.toString(ne))}lt(Y,ne){return this.setLimit("max",Y,!1,errorUtil.toString(ne))}setLimit(Y,ne,fe,ye){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:Y,value:ne,inclusive:fe,message:errorUtil.toString(ye)}]})}_addCheck(Y){return new ZodBigInt({...this._def,checks:[...this._def.checks,Y]})}positive(Y){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(Y)})}negative(Y){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(Y)})}nonpositive(Y){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(Y)})}nonnegative(Y){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(Y)})}multipleOf(Y,ne){return this._addCheck({kind:"multipleOf",value:Y,message:errorUtil.toString(ne)})}get minValue(){let Y=null;for(const ne of this._def.checks)ne.kind==="min"&&(Y===null||ne.value>Y)&&(Y=ne.value);return Y}get maxValue(){let Y=null;for(const ne of this._def.checks)ne.kind==="max"&&(Y===null||ne.value<Y)&&(Y=ne.value);return Y}}ZodBigInt.create=se=>{var Y;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(Y=se==null?void 0:se.coerce)!==null&&Y!==void 0?Y:!1,...processCreateParams(se)})};class ZodBoolean extends ZodType{_parse(Y){if(this._def.coerce&&(Y.data=!!Y.data),this._getType(Y)!==ZodParsedType.boolean){const fe=this._getOrReturnCtx(Y);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:fe.parsedType}),INVALID}return OK(Y.data)}}ZodBoolean.create=se=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(se==null?void 0:se.coerce)||!1,...processCreateParams(se)});class ZodDate extends ZodType{_parse(Y){if(this._def.coerce&&(Y.data=new Date(Y.data)),this._getType(Y)!==ZodParsedType.date){const me=this._getOrReturnCtx(Y);return addIssueToContext(me,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:me.parsedType}),INVALID}if(isNaN(Y.data.getTime())){const me=this._getOrReturnCtx(Y);return addIssueToContext(me,{code:ZodIssueCode.invalid_date}),INVALID}const fe=new ParseStatus;let ye;for(const me of this._def.checks)me.kind==="min"?Y.data.getTime()<me.value&&(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.too_small,message:me.message,inclusive:!0,exact:!1,minimum:me.value,type:"date"}),fe.dirty()):me.kind==="max"?Y.data.getTime()>me.value&&(ye=this._getOrReturnCtx(Y,ye),addIssueToContext(ye,{code:ZodIssueCode.too_big,message:me.message,inclusive:!0,exact:!1,maximum:me.value,type:"date"}),fe.dirty()):util$4.assertNever(me);return{status:fe.value,value:new Date(Y.data.getTime())}}_addCheck(Y){return new ZodDate({...this._def,checks:[...this._def.checks,Y]})}min(Y,ne){return this._addCheck({kind:"min",value:Y.getTime(),message:errorUtil.toString(ne)})}max(Y,ne){return this._addCheck({kind:"max",value:Y.getTime(),message:errorUtil.toString(ne)})}get minDate(){let Y=null;for(const ne of this._def.checks)ne.kind==="min"&&(Y===null||ne.value>Y)&&(Y=ne.value);return Y!=null?new Date(Y):null}get maxDate(){let Y=null;for(const ne of this._def.checks)ne.kind==="max"&&(Y===null||ne.value<Y)&&(Y=ne.value);return Y!=null?new Date(Y):null}}ZodDate.create=se=>new ZodDate({checks:[],coerce:(se==null?void 0:se.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(se)});class ZodSymbol extends ZodType{_parse(Y){if(this._getType(Y)!==ZodParsedType.symbol){const fe=this._getOrReturnCtx(Y);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:fe.parsedType}),INVALID}return OK(Y.data)}}ZodSymbol.create=se=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(se)});class ZodUndefined extends ZodType{_parse(Y){if(this._getType(Y)!==ZodParsedType.undefined){const fe=this._getOrReturnCtx(Y);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:fe.parsedType}),INVALID}return OK(Y.data)}}ZodUndefined.create=se=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(se)});class ZodNull extends ZodType{_parse(Y){if(this._getType(Y)!==ZodParsedType.null){const fe=this._getOrReturnCtx(Y);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:fe.parsedType}),INVALID}return OK(Y.data)}}ZodNull.create=se=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(se)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(Y){return OK(Y.data)}}ZodAny.create=se=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(se)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(Y){return OK(Y.data)}}ZodUnknown.create=se=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(se)});class ZodNever extends ZodType{_parse(Y){const ne=this._getOrReturnCtx(Y);return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ne.parsedType}),INVALID}}ZodNever.create=se=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(se)});class ZodVoid extends ZodType{_parse(Y){if(this._getType(Y)!==ZodParsedType.undefined){const fe=this._getOrReturnCtx(Y);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:fe.parsedType}),INVALID}return OK(Y.data)}}ZodVoid.create=se=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(se)});class ZodArray extends ZodType{_parse(Y){const{ctx:ne,status:fe}=this._processInputParams(Y),ye=this._def;if(ne.parsedType!==ZodParsedType.array)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ne.parsedType}),INVALID;if(ye.exactLength!==null){const be=ne.data.length>ye.exactLength.value,we=ne.data.length<ye.exactLength.value;(be||we)&&(addIssueToContext(ne,{code:be?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:we?ye.exactLength.value:void 0,maximum:be?ye.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:ye.exactLength.message}),fe.dirty())}if(ye.minLength!==null&&ne.data.length<ye.minLength.value&&(addIssueToContext(ne,{code:ZodIssueCode.too_small,minimum:ye.minLength.value,type:"array",inclusive:!0,exact:!1,message:ye.minLength.message}),fe.dirty()),ye.maxLength!==null&&ne.data.length>ye.maxLength.value&&(addIssueToContext(ne,{code:ZodIssueCode.too_big,maximum:ye.maxLength.value,type:"array",inclusive:!0,exact:!1,message:ye.maxLength.message}),fe.dirty()),ne.common.async)return Promise.all([...ne.data].map((be,we)=>ye.type._parseAsync(new ParseInputLazyPath(ne,be,ne.path,we)))).then(be=>ParseStatus.mergeArray(fe,be));const me=[...ne.data].map((be,we)=>ye.type._parseSync(new ParseInputLazyPath(ne,be,ne.path,we)));return ParseStatus.mergeArray(fe,me)}get element(){return this._def.type}min(Y,ne){return new ZodArray({...this._def,minLength:{value:Y,message:errorUtil.toString(ne)}})}max(Y,ne){return new ZodArray({...this._def,maxLength:{value:Y,message:errorUtil.toString(ne)}})}length(Y,ne){return new ZodArray({...this._def,exactLength:{value:Y,message:errorUtil.toString(ne)}})}nonempty(Y){return this.min(1,Y)}}ZodArray.create=(se,Y)=>new ZodArray({type:se,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(Y)});function deepPartialify(se){if(se instanceof ZodObject){const Y={};for(const ne in se.shape){const fe=se.shape[ne];Y[ne]=ZodOptional.create(deepPartialify(fe))}return new ZodObject({...se._def,shape:()=>Y})}else return se instanceof ZodArray?new ZodArray({...se._def,type:deepPartialify(se.element)}):se instanceof ZodOptional?ZodOptional.create(deepPartialify(se.unwrap())):se instanceof ZodNullable?ZodNullable.create(deepPartialify(se.unwrap())):se instanceof ZodTuple?ZodTuple.create(se.items.map(Y=>deepPartialify(Y))):se}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const Y=this._def.shape(),ne=util$4.objectKeys(Y);return this._cached={shape:Y,keys:ne}}_parse(Y){if(this._getType(Y)!==ZodParsedType.object){const xe=this._getOrReturnCtx(Y);return addIssueToContext(xe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:xe.parsedType}),INVALID}const{status:fe,ctx:ye}=this._processInputParams(Y),{shape:me,keys:be}=this._getCached(),we=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const xe in ye.data)be.includes(xe)||we.push(xe);const Ee=[];for(const xe of be){const Se=me[xe],Ie=ye.data[xe];Ee.push({key:{status:"valid",value:xe},value:Se._parse(new ParseInputLazyPath(ye,Ie,ye.path,xe)),alwaysSet:xe in ye.data})}if(this._def.catchall instanceof ZodNever){const xe=this._def.unknownKeys;if(xe==="passthrough")for(const Se of we)Ee.push({key:{status:"valid",value:Se},value:{status:"valid",value:ye.data[Se]}});else if(xe==="strict")we.length>0&&(addIssueToContext(ye,{code:ZodIssueCode.unrecognized_keys,keys:we}),fe.dirty());else if(xe!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const xe=this._def.catchall;for(const Se of we){const Ie=ye.data[Se];Ee.push({key:{status:"valid",value:Se},value:xe._parse(new ParseInputLazyPath(ye,Ie,ye.path,Se)),alwaysSet:Se in ye.data})}}return ye.common.async?Promise.resolve().then(async()=>{const xe=[];for(const Se of Ee){const Ie=await Se.key;xe.push({key:Ie,value:await Se.value,alwaysSet:Se.alwaysSet})}return xe}).then(xe=>ParseStatus.mergeObjectSync(fe,xe)):ParseStatus.mergeObjectSync(fe,Ee)}get shape(){return this._def.shape()}strict(Y){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...Y!==void 0?{errorMap:(ne,fe)=>{var ye,me,be,we;const Ee=(be=(me=(ye=this._def).errorMap)===null||me===void 0?void 0:me.call(ye,ne,fe).message)!==null&&be!==void 0?be:fe.defaultError;return ne.code==="unrecognized_keys"?{message:(we=errorUtil.errToObj(Y).message)!==null&&we!==void 0?we:Ee}:{message:Ee}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(Y){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...Y})})}merge(Y){return new ZodObject({unknownKeys:Y._def.unknownKeys,catchall:Y._def.catchall,shape:()=>({...this._def.shape(),...Y._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(Y,ne){return this.augment({[Y]:ne})}catchall(Y){return new ZodObject({...this._def,catchall:Y})}pick(Y){const ne={};return util$4.objectKeys(Y).forEach(fe=>{Y[fe]&&this.shape[fe]&&(ne[fe]=this.shape[fe])}),new ZodObject({...this._def,shape:()=>ne})}omit(Y){const ne={};return util$4.objectKeys(this.shape).forEach(fe=>{Y[fe]||(ne[fe]=this.shape[fe])}),new ZodObject({...this._def,shape:()=>ne})}deepPartial(){return deepPartialify(this)}partial(Y){const ne={};return util$4.objectKeys(this.shape).forEach(fe=>{const ye=this.shape[fe];Y&&!Y[fe]?ne[fe]=ye:ne[fe]=ye.optional()}),new ZodObject({...this._def,shape:()=>ne})}required(Y){const ne={};return util$4.objectKeys(this.shape).forEach(fe=>{if(Y&&!Y[fe])ne[fe]=this.shape[fe];else{let me=this.shape[fe];for(;me instanceof ZodOptional;)me=me._def.innerType;ne[fe]=me}}),new ZodObject({...this._def,shape:()=>ne})}keyof(){return createZodEnum(util$4.objectKeys(this.shape))}}ZodObject.create=(se,Y)=>new ZodObject({shape:()=>se,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Y)});ZodObject.strictCreate=(se,Y)=>new ZodObject({shape:()=>se,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Y)});ZodObject.lazycreate=(se,Y)=>new ZodObject({shape:se,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Y)});class ZodUnion extends ZodType{_parse(Y){const{ctx:ne}=this._processInputParams(Y),fe=this._def.options;function ye(me){for(const we of me)if(we.result.status==="valid")return we.result;for(const we of me)if(we.result.status==="dirty")return ne.common.issues.push(...we.ctx.common.issues),we.result;const be=me.map(we=>new ZodError(we.ctx.common.issues));return addIssueToContext(ne,{code:ZodIssueCode.invalid_union,unionErrors:be}),INVALID}if(ne.common.async)return Promise.all(fe.map(async me=>{const be={...ne,common:{...ne.common,issues:[]},parent:null};return{result:await me._parseAsync({data:ne.data,path:ne.path,parent:be}),ctx:be}})).then(ye);{let me;const be=[];for(const Ee of fe){const xe={...ne,common:{...ne.common,issues:[]},parent:null},Se=Ee._parseSync({data:ne.data,path:ne.path,parent:xe});if(Se.status==="valid")return Se;Se.status==="dirty"&&!me&&(me={result:Se,ctx:xe}),xe.common.issues.length&&be.push(xe.common.issues)}if(me)return ne.common.issues.push(...me.ctx.common.issues),me.result;const we=be.map(Ee=>new ZodError(Ee));return addIssueToContext(ne,{code:ZodIssueCode.invalid_union,unionErrors:we}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(se,Y)=>new ZodUnion({options:se,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(Y)});const getDiscriminator=se=>se instanceof ZodLazy?getDiscriminator(se.schema):se instanceof ZodEffects?getDiscriminator(se.innerType()):se instanceof ZodLiteral?[se.value]:se instanceof ZodEnum?se.options:se instanceof ZodNativeEnum?Object.keys(se.enum):se instanceof ZodDefault?getDiscriminator(se._def.innerType):se instanceof ZodUndefined?[void 0]:se instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(Y){const{ctx:ne}=this._processInputParams(Y);if(ne.parsedType!==ZodParsedType.object)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ne.parsedType}),INVALID;const fe=this.discriminator,ye=ne.data[fe],me=this.optionsMap.get(ye);return me?ne.common.async?me._parseAsync({data:ne.data,path:ne.path,parent:ne}):me._parseSync({data:ne.data,path:ne.path,parent:ne}):(addIssueToContext(ne,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[fe]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(Y,ne,fe){const ye=new Map;for(const me of ne){const be=getDiscriminator(me.shape[Y]);if(!be)throw new Error(`A discriminator value for key \`${Y}\` could not be extracted from all schema options`);for(const we of be){if(ye.has(we))throw new Error(`Discriminator property ${String(Y)} has duplicate value ${String(we)}`);ye.set(we,me)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:Y,options:ne,optionsMap:ye,...processCreateParams(fe)})}}function mergeValues(se,Y){const ne=getParsedType(se),fe=getParsedType(Y);if(se===Y)return{valid:!0,data:se};if(ne===ZodParsedType.object&&fe===ZodParsedType.object){const ye=util$4.objectKeys(Y),me=util$4.objectKeys(se).filter(we=>ye.indexOf(we)!==-1),be={...se,...Y};for(const we of me){const Ee=mergeValues(se[we],Y[we]);if(!Ee.valid)return{valid:!1};be[we]=Ee.data}return{valid:!0,data:be}}else if(ne===ZodParsedType.array&&fe===ZodParsedType.array){if(se.length!==Y.length)return{valid:!1};const ye=[];for(let me=0;me<se.length;me++){const be=se[me],we=Y[me],Ee=mergeValues(be,we);if(!Ee.valid)return{valid:!1};ye.push(Ee.data)}return{valid:!0,data:ye}}else return ne===ZodParsedType.date&&fe===ZodParsedType.date&&+se==+Y?{valid:!0,data:se}:{valid:!1}}class ZodIntersection extends ZodType{_parse(Y){const{status:ne,ctx:fe}=this._processInputParams(Y),ye=(me,be)=>{if(isAborted(me)||isAborted(be))return INVALID;const we=mergeValues(me.value,be.value);return we.valid?((isDirty(me)||isDirty(be))&&ne.dirty(),{status:ne.value,value:we.data}):(addIssueToContext(fe,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return fe.common.async?Promise.all([this._def.left._parseAsync({data:fe.data,path:fe.path,parent:fe}),this._def.right._parseAsync({data:fe.data,path:fe.path,parent:fe})]).then(([me,be])=>ye(me,be)):ye(this._def.left._parseSync({data:fe.data,path:fe.path,parent:fe}),this._def.right._parseSync({data:fe.data,path:fe.path,parent:fe}))}}ZodIntersection.create=(se,Y,ne)=>new ZodIntersection({left:se,right:Y,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(ne)});class ZodTuple extends ZodType{_parse(Y){const{status:ne,ctx:fe}=this._processInputParams(Y);if(fe.parsedType!==ZodParsedType.array)return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:fe.parsedType}),INVALID;if(fe.data.length<this._def.items.length)return addIssueToContext(fe,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&fe.data.length>this._def.items.length&&(addIssueToContext(fe,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne.dirty());const me=[...fe.data].map((be,we)=>{const Ee=this._def.items[we]||this._def.rest;return Ee?Ee._parse(new ParseInputLazyPath(fe,be,fe.path,we)):null}).filter(be=>!!be);return fe.common.async?Promise.all(me).then(be=>ParseStatus.mergeArray(ne,be)):ParseStatus.mergeArray(ne,me)}get items(){return this._def.items}rest(Y){return new ZodTuple({...this._def,rest:Y})}}ZodTuple.create=(se,Y)=>{if(!Array.isArray(se))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:se,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(Y)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Y){const{status:ne,ctx:fe}=this._processInputParams(Y);if(fe.parsedType!==ZodParsedType.object)return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:fe.parsedType}),INVALID;const ye=[],me=this._def.keyType,be=this._def.valueType;for(const we in fe.data)ye.push({key:me._parse(new ParseInputLazyPath(fe,we,fe.path,we)),value:be._parse(new ParseInputLazyPath(fe,fe.data[we],fe.path,we))});return fe.common.async?ParseStatus.mergeObjectAsync(ne,ye):ParseStatus.mergeObjectSync(ne,ye)}get element(){return this._def.valueType}static create(Y,ne,fe){return ne instanceof ZodType?new ZodRecord({keyType:Y,valueType:ne,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(fe)}):new ZodRecord({keyType:ZodString.create(),valueType:Y,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ne)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Y){const{status:ne,ctx:fe}=this._processInputParams(Y);if(fe.parsedType!==ZodParsedType.map)return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:fe.parsedType}),INVALID;const ye=this._def.keyType,me=this._def.valueType,be=[...fe.data.entries()].map(([we,Ee],xe)=>({key:ye._parse(new ParseInputLazyPath(fe,we,fe.path,[xe,"key"])),value:me._parse(new ParseInputLazyPath(fe,Ee,fe.path,[xe,"value"]))}));if(fe.common.async){const we=new Map;return Promise.resolve().then(async()=>{for(const Ee of be){const xe=await Ee.key,Se=await Ee.value;if(xe.status==="aborted"||Se.status==="aborted")return INVALID;(xe.status==="dirty"||Se.status==="dirty")&&ne.dirty(),we.set(xe.value,Se.value)}return{status:ne.value,value:we}})}else{const we=new Map;for(const Ee of be){const xe=Ee.key,Se=Ee.value;if(xe.status==="aborted"||Se.status==="aborted")return INVALID;(xe.status==="dirty"||Se.status==="dirty")&&ne.dirty(),we.set(xe.value,Se.value)}return{status:ne.value,value:we}}}}ZodMap.create=(se,Y,ne)=>new ZodMap({valueType:Y,keyType:se,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(ne)});class ZodSet extends ZodType{_parse(Y){const{status:ne,ctx:fe}=this._processInputParams(Y);if(fe.parsedType!==ZodParsedType.set)return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:fe.parsedType}),INVALID;const ye=this._def;ye.minSize!==null&&fe.data.size<ye.minSize.value&&(addIssueToContext(fe,{code:ZodIssueCode.too_small,minimum:ye.minSize.value,type:"set",inclusive:!0,exact:!1,message:ye.minSize.message}),ne.dirty()),ye.maxSize!==null&&fe.data.size>ye.maxSize.value&&(addIssueToContext(fe,{code:ZodIssueCode.too_big,maximum:ye.maxSize.value,type:"set",inclusive:!0,exact:!1,message:ye.maxSize.message}),ne.dirty());const me=this._def.valueType;function be(Ee){const xe=new Set;for(const Se of Ee){if(Se.status==="aborted")return INVALID;Se.status==="dirty"&&ne.dirty(),xe.add(Se.value)}return{status:ne.value,value:xe}}const we=[...fe.data.values()].map((Ee,xe)=>me._parse(new ParseInputLazyPath(fe,Ee,fe.path,xe)));return fe.common.async?Promise.all(we).then(Ee=>be(Ee)):be(we)}min(Y,ne){return new ZodSet({...this._def,minSize:{value:Y,message:errorUtil.toString(ne)}})}max(Y,ne){return new ZodSet({...this._def,maxSize:{value:Y,message:errorUtil.toString(ne)}})}size(Y,ne){return this.min(Y,ne).max(Y,ne)}nonempty(Y){return this.min(1,Y)}}ZodSet.create=(se,Y)=>new ZodSet({valueType:se,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(Y)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(Y){const{ctx:ne}=this._processInputParams(Y);if(ne.parsedType!==ZodParsedType.function)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:ne.parsedType}),INVALID;function fe(we,Ee){return makeIssue({data:we,path:ne.path,errorMaps:[ne.common.contextualErrorMap,ne.schemaErrorMap,getErrorMap(),errorMap].filter(xe=>!!xe),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:Ee}})}function ye(we,Ee){return makeIssue({data:we,path:ne.path,errorMaps:[ne.common.contextualErrorMap,ne.schemaErrorMap,getErrorMap(),errorMap].filter(xe=>!!xe),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:Ee}})}const me={errorMap:ne.common.contextualErrorMap},be=ne.data;if(this._def.returns instanceof ZodPromise){const we=this;return OK(async function(...Ee){const xe=new ZodError([]),Se=await we._def.args.parseAsync(Ee,me).catch(br=>{throw xe.addIssue(fe(Ee,br)),xe}),Ie=await Reflect.apply(be,this,Se);return await we._def.returns._def.type.parseAsync(Ie,me).catch(br=>{throw xe.addIssue(ye(Ie,br)),xe})})}else{const we=this;return OK(function(...Ee){const xe=we._def.args.safeParse(Ee,me);if(!xe.success)throw new ZodError([fe(Ee,xe.error)]);const Se=Reflect.apply(be,this,xe.data),Ie=we._def.returns.safeParse(Se,me);if(!Ie.success)throw new ZodError([ye(Se,Ie.error)]);return Ie.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...Y){return new ZodFunction({...this._def,args:ZodTuple.create(Y).rest(ZodUnknown.create())})}returns(Y){return new ZodFunction({...this._def,returns:Y})}implement(Y){return this.parse(Y)}strictImplement(Y){return this.parse(Y)}static create(Y,ne,fe){return new ZodFunction({args:Y||ZodTuple.create([]).rest(ZodUnknown.create()),returns:ne||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(fe)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(Y){const{ctx:ne}=this._processInputParams(Y);return this._def.getter()._parse({data:ne.data,path:ne.path,parent:ne})}}ZodLazy.create=(se,Y)=>new ZodLazy({getter:se,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(Y)});class ZodLiteral extends ZodType{_parse(Y){if(Y.data!==this._def.value){const ne=this._getOrReturnCtx(Y);return addIssueToContext(ne,{received:ne.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:Y.data}}get value(){return this._def.value}}ZodLiteral.create=(se,Y)=>new ZodLiteral({value:se,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(Y)});function createZodEnum(se,Y){return new ZodEnum({values:se,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(Y)})}class ZodEnum extends ZodType{_parse(Y){if(typeof Y.data!="string"){const ne=this._getOrReturnCtx(Y),fe=this._def.values;return addIssueToContext(ne,{expected:util$4.joinValues(fe),received:ne.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(Y.data)===-1){const ne=this._getOrReturnCtx(Y),fe=this._def.values;return addIssueToContext(ne,{received:ne.data,code:ZodIssueCode.invalid_enum_value,options:fe}),INVALID}return OK(Y.data)}get options(){return this._def.values}get enum(){const Y={};for(const ne of this._def.values)Y[ne]=ne;return Y}get Values(){const Y={};for(const ne of this._def.values)Y[ne]=ne;return Y}get Enum(){const Y={};for(const ne of this._def.values)Y[ne]=ne;return Y}extract(Y){return ZodEnum.create(Y)}exclude(Y){return ZodEnum.create(this.options.filter(ne=>!Y.includes(ne)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(Y){const ne=util$4.getValidEnumValues(this._def.values),fe=this._getOrReturnCtx(Y);if(fe.parsedType!==ZodParsedType.string&&fe.parsedType!==ZodParsedType.number){const ye=util$4.objectValues(ne);return addIssueToContext(fe,{expected:util$4.joinValues(ye),received:fe.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(ne.indexOf(Y.data)===-1){const ye=util$4.objectValues(ne);return addIssueToContext(fe,{received:fe.data,code:ZodIssueCode.invalid_enum_value,options:ye}),INVALID}return OK(Y.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(se,Y)=>new ZodNativeEnum({values:se,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(Y)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(Y){const{ctx:ne}=this._processInputParams(Y);if(ne.parsedType!==ZodParsedType.promise&&ne.common.async===!1)return addIssueToContext(ne,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ne.parsedType}),INVALID;const fe=ne.parsedType===ZodParsedType.promise?ne.data:Promise.resolve(ne.data);return OK(fe.then(ye=>this._def.type.parseAsync(ye,{path:ne.path,errorMap:ne.common.contextualErrorMap})))}}ZodPromise.create=(se,Y)=>new ZodPromise({type:se,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(Y)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(Y){const{status:ne,ctx:fe}=this._processInputParams(Y),ye=this._def.effect||null,me={addIssue:be=>{addIssueToContext(fe,be),be.fatal?ne.abort():ne.dirty()},get path(){return fe.path}};if(me.addIssue=me.addIssue.bind(me),ye.type==="preprocess"){const be=ye.transform(fe.data,me);return fe.common.issues.length?{status:"dirty",value:fe.data}:fe.common.async?Promise.resolve(be).then(we=>this._def.schema._parseAsync({data:we,path:fe.path,parent:fe})):this._def.schema._parseSync({data:be,path:fe.path,parent:fe})}if(ye.type==="refinement"){const be=we=>{const Ee=ye.refinement(we,me);if(fe.common.async)return Promise.resolve(Ee);if(Ee instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return we};if(fe.common.async===!1){const we=this._def.schema._parseSync({data:fe.data,path:fe.path,parent:fe});return we.status==="aborted"?INVALID:(we.status==="dirty"&&ne.dirty(),be(we.value),{status:ne.value,value:we.value})}else return this._def.schema._parseAsync({data:fe.data,path:fe.path,parent:fe}).then(we=>we.status==="aborted"?INVALID:(we.status==="dirty"&&ne.dirty(),be(we.value).then(()=>({status:ne.value,value:we.value}))))}if(ye.type==="transform")if(fe.common.async===!1){const be=this._def.schema._parseSync({data:fe.data,path:fe.path,parent:fe});if(!isValid(be))return be;const we=ye.transform(be.value,me);if(we instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:ne.value,value:we}}else return this._def.schema._parseAsync({data:fe.data,path:fe.path,parent:fe}).then(be=>isValid(be)?Promise.resolve(ye.transform(be.value,me)).then(we=>({status:ne.value,value:we})):be);util$4.assertNever(ye)}}ZodEffects.create=(se,Y,ne)=>new ZodEffects({schema:se,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:Y,...processCreateParams(ne)});ZodEffects.createWithPreprocess=(se,Y,ne)=>new ZodEffects({schema:Y,effect:{type:"preprocess",transform:se},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(ne)});class ZodOptional extends ZodType{_parse(Y){return this._getType(Y)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(Y)}unwrap(){return this._def.innerType}}ZodOptional.create=(se,Y)=>new ZodOptional({innerType:se,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(Y)});class ZodNullable extends ZodType{_parse(Y){return this._getType(Y)===ZodParsedType.null?OK(null):this._def.innerType._parse(Y)}unwrap(){return this._def.innerType}}ZodNullable.create=(se,Y)=>new ZodNullable({innerType:se,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(Y)});class ZodDefault extends ZodType{_parse(Y){const{ctx:ne}=this._processInputParams(Y);let fe=ne.data;return ne.parsedType===ZodParsedType.undefined&&(fe=this._def.defaultValue()),this._def.innerType._parse({data:fe,path:ne.path,parent:ne})}removeDefault(){return this._def.innerType}}ZodDefault.create=(se,Y)=>new ZodDefault({innerType:se,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof Y.default=="function"?Y.default:()=>Y.default,...processCreateParams(Y)});class ZodCatch extends ZodType{_parse(Y){const{ctx:ne}=this._processInputParams(Y),fe={...ne,common:{...ne.common,issues:[]}},ye=this._def.innerType._parse({data:fe.data,path:fe.path,parent:{...fe}});return isAsync(ye)?ye.then(me=>({status:"valid",value:me.status==="valid"?me.value:this._def.catchValue({get error(){return new ZodError(fe.common.issues)},input:fe.data})})):{status:"valid",value:ye.status==="valid"?ye.value:this._def.catchValue({get error(){return new ZodError(fe.common.issues)},input:fe.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(se,Y)=>new ZodCatch({innerType:se,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof Y.catch=="function"?Y.catch:()=>Y.catch,...processCreateParams(Y)});class ZodNaN extends ZodType{_parse(Y){if(this._getType(Y)!==ZodParsedType.nan){const fe=this._getOrReturnCtx(Y);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:fe.parsedType}),INVALID}return{status:"valid",value:Y.data}}}ZodNaN.create=se=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(se)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(Y){const{ctx:ne}=this._processInputParams(Y),fe=ne.data;return this._def.type._parse({data:fe,path:ne.path,parent:ne})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(Y){const{status:ne,ctx:fe}=this._processInputParams(Y);if(fe.common.async)return(async()=>{const me=await this._def.in._parseAsync({data:fe.data,path:fe.path,parent:fe});return me.status==="aborted"?INVALID:me.status==="dirty"?(ne.dirty(),DIRTY(me.value)):this._def.out._parseAsync({data:me.value,path:fe.path,parent:fe})})();{const ye=this._def.in._parseSync({data:fe.data,path:fe.path,parent:fe});return ye.status==="aborted"?INVALID:ye.status==="dirty"?(ne.dirty(),{status:"dirty",value:ye.value}):this._def.out._parseSync({data:ye.value,path:fe.path,parent:fe})}}static create(Y,ne){return new ZodPipeline({in:Y,out:ne,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(Y){const ne=this._def.innerType._parse(Y);return isValid(ne)&&(ne.value=Object.freeze(ne.value)),ne}}ZodReadonly.create=(se,Y)=>new ZodReadonly({innerType:se,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(Y)});const custom=(se,Y={},ne)=>se?ZodAny.create().superRefine((fe,ye)=>{var me,be;if(!se(fe)){const we=typeof Y=="function"?Y(fe):typeof Y=="string"?{message:Y}:Y,Ee=(be=(me=we.fatal)!==null&&me!==void 0?me:ne)!==null&&be!==void 0?be:!0,xe=typeof we=="string"?{message:we}:we;ye.addIssue({code:"custom",...xe,fatal:Ee})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(se){se.ZodString="ZodString",se.ZodNumber="ZodNumber",se.ZodNaN="ZodNaN",se.ZodBigInt="ZodBigInt",se.ZodBoolean="ZodBoolean",se.ZodDate="ZodDate",se.ZodSymbol="ZodSymbol",se.ZodUndefined="ZodUndefined",se.ZodNull="ZodNull",se.ZodAny="ZodAny",se.ZodUnknown="ZodUnknown",se.ZodNever="ZodNever",se.ZodVoid="ZodVoid",se.ZodArray="ZodArray",se.ZodObject="ZodObject",se.ZodUnion="ZodUnion",se.ZodDiscriminatedUnion="ZodDiscriminatedUnion",se.ZodIntersection="ZodIntersection",se.ZodTuple="ZodTuple",se.ZodRecord="ZodRecord",se.ZodMap="ZodMap",se.ZodSet="ZodSet",se.ZodFunction="ZodFunction",se.ZodLazy="ZodLazy",se.ZodLiteral="ZodLiteral",se.ZodEnum="ZodEnum",se.ZodEffects="ZodEffects",se.ZodNativeEnum="ZodNativeEnum",se.ZodOptional="ZodOptional",se.ZodNullable="ZodNullable",se.ZodDefault="ZodDefault",se.ZodCatch="ZodCatch",se.ZodPromise="ZodPromise",se.ZodBranded="ZodBranded",se.ZodPipeline="ZodPipeline",se.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(se,Y={message:`Input not instance of ${se.name}`})=>custom(ne=>ne instanceof se,Y),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce$2={string:se=>ZodString.create({...se,coerce:!0}),number:se=>ZodNumber.create({...se,coerce:!0}),boolean:se=>ZodBoolean.create({...se,coerce:!0}),bigint:se=>ZodBigInt.create({...se,coerce:!0}),date:se=>ZodDate.create({...se,coerce:!0})},NEVER=INVALID;var z$5=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$4},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce$2,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const zError=z$5.object({message:z$5.string()});function zType(se){return z$5.literal(W3mFrameConstants[se])}z$5.object({accessList:z$5.array(z$5.string()),blockHash:z$5.string().nullable(),blockNumber:z$5.string().nullable(),chainId:z$5.string(),from:z$5.string(),gas:z$5.string(),hash:z$5.string(),input:z$5.string().nullable(),maxFeePerGas:z$5.string(),maxPriorityFeePerGas:z$5.string(),nonce:z$5.string(),r:z$5.string(),s:z$5.string(),to:z$5.string(),transactionIndex:z$5.string().nullable(),type:z$5.string(),v:z$5.string(),value:z$5.string()});const AppSwitchNetworkRequest=z$5.object({chainId:z$5.number()}),AppConnectEmailRequest=z$5.object({email:z$5.string().email()}),AppConnectOtpRequest=z$5.object({otp:z$5.string()}),AppGetUserRequest=z$5.object({chainId:z$5.optional(z$5.number())}),AppUpdateEmailRequest=z$5.object({email:z$5.string().email()}),AppUpdateEmailPrimaryOtpRequest=z$5.object({otp:z$5.string()}),AppUpdateEmailSecondaryOtpRequest=z$5.object({otp:z$5.string()}),AppSyncThemeRequest=z$5.object({themeMode:z$5.optional(z$5.enum(["light","dark"])),themeVariables:z$5.optional(z$5.record(z$5.string(),z$5.string().or(z$5.number())))}),AppSyncDappDataRequest=z$5.object({metadata:z$5.object({name:z$5.string(),description:z$5.string(),url:z$5.string(),icons:z$5.array(z$5.string())}).optional(),sdkVersion:z$5.string(),projectId:z$5.string()}),FrameConnectEmailResponse=z$5.object({action:z$5.enum(["VERIFY_DEVICE","VERIFY_OTP"])}),FrameGetUserResponse=z$5.object({email:z$5.string().email(),address:z$5.string(),chainId:z$5.number()}),FrameIsConnectedResponse=z$5.object({isConnected:z$5.boolean()}),FrameGetChainIdResponse=z$5.object({chainId:z$5.number()}),FrameSwitchNetworkResponse=z$5.object({chainId:z$5.number()}),FrameUpdateEmailSecondaryOtpResolver=z$5.object({newEmail:z$5.string().email()}),RpcResponse=z$5.any(),RpcEthAccountsRequest=z$5.object({method:z$5.literal("eth_accounts")}),RpcEthBlockNumber=z$5.object({method:z$5.literal("eth_blockNumber")}),RpcEthCall=z$5.object({method:z$5.literal("eth_call"),params:z$5.array(z$5.any())}),RpcEthChainId=z$5.object({method:z$5.literal("eth_chainId")}),RpcEthEstimateGas=z$5.object({method:z$5.literal("eth_estimateGas"),params:z$5.array(z$5.any())}),RpcEthFeeHistory=z$5.object({method:z$5.literal("eth_feeHistory"),params:z$5.array(z$5.any())}),RpcEthGasPrice=z$5.object({method:z$5.literal("eth_gasPrice")}),RpcEthGetAccount=z$5.object({method:z$5.literal("eth_getAccount"),params:z$5.array(z$5.any())}),RpcEthGetBalance=z$5.object({method:z$5.literal("eth_getBalance"),params:z$5.array(z$5.any())}),RpcEthGetBlockyByHash=z$5.object({method:z$5.literal("eth_getBlockByHash"),params:z$5.array(z$5.any())}),RpcEthGetBlockByNumber=z$5.object({method:z$5.literal("eth_getBlockByNumber"),params:z$5.array(z$5.any())}),RpcEthGetBlockReceipts=z$5.object({method:z$5.literal("eth_getBlockReceipts"),params:z$5.array(z$5.any())}),RcpEthGetBlockTransactionCountByHash=z$5.object({method:z$5.literal("eth_getBlockTransactionCountByHash"),params:z$5.array(z$5.any())}),RcpEthGetBlockTransactionCountByNumber=z$5.object({method:z$5.literal("eth_getBlockTransactionCountByNumber"),params:z$5.array(z$5.any())}),RpcEthGetCode=z$5.object({method:z$5.literal("eth_getCode"),params:z$5.array(z$5.any())}),RpcEthGetFilter=z$5.object({method:z$5.literal("eth_getFilterChanges"),params:z$5.array(z$5.any())}),RpcEthGetFilterLogs=z$5.object({method:z$5.literal("eth_getFilterLogs"),params:z$5.array(z$5.any())}),RpcEthGetLogs=z$5.object({method:z$5.literal("eth_getLogs"),params:z$5.array(z$5.any())}),RpcEthGetProof=z$5.object({method:z$5.literal("eth_getProof"),params:z$5.array(z$5.any())}),RpcEthGetStorageAt=z$5.object({method:z$5.literal("eth_getStorageAt"),params:z$5.array(z$5.any())}),RpcEthGetTransactionByBlockHashAndIndex=z$5.object({method:z$5.literal("eth_getTransactionByBlockHashAndIndex"),params:z$5.array(z$5.any())}),RpcEthGetTransactionByBlockNumberAndIndex=z$5.object({method:z$5.literal("eth_getTransactionByBlockNumberAndIndex"),params:z$5.array(z$5.any())}),RpcEthGetTransactionByHash=z$5.object({method:z$5.literal("eth_getTransactionByHash"),params:z$5.array(z$5.any())}),RpcEthGetTransactionCount=z$5.object({method:z$5.literal("eth_getTransactionCount"),params:z$5.array(z$5.any())}),RpcEthGetTransactionReceipt=z$5.object({method:z$5.literal("eth_getTransactionReceipt"),params:z$5.array(z$5.any())}),RpcEthGetUncleCountByBlockHash=z$5.object({method:z$5.literal("eth_getUncleCountByBlockHash"),params:z$5.array(z$5.any())}),RpcEthGetUncleCountByBlockNumber=z$5.object({method:z$5.literal("eth_getUncleCountByBlockNumber"),params:z$5.array(z$5.any())}),RpcEthMaxPriorityFeePerGas=z$5.object({method:z$5.literal("eth_maxPriorityFeePerGas")}),RpcEthNewBlockFilter=z$5.object({method:z$5.literal("eth_newBlockFilter")}),RpcEthNewFilter=z$5.object({method:z$5.literal("eth_newFilter"),params:z$5.array(z$5.any())}),RpcEthNewPendingTransactionFilter=z$5.object({method:z$5.literal("eth_newPendingTransactionFilter")}),RpcEthSendRawTransaction=z$5.object({method:z$5.literal("eth_sendRawTransaction"),params:z$5.array(z$5.any())}),RpcEthSyncing=z$5.object({method:z$5.literal("eth_syncing"),params:z$5.array(z$5.any())}),RpcUnistallFilter=z$5.object({method:z$5.literal("eth_uninstallFilter"),params:z$5.array(z$5.any())}),RpcPersonalSignRequest=z$5.object({method:z$5.literal("personal_sign"),params:z$5.array(z$5.any())}),RpcEthSignTypedDataV4=z$5.object({method:z$5.literal("eth_signTypedData_v4"),params:z$5.array(z$5.any())}),RpcEthSendTransactionRequest=z$5.object({method:z$5.literal("eth_sendTransaction"),params:z$5.array(z$5.any())}),FrameSession=z$5.object({token:z$5.string()}),W3mFrameSchema={appEvent:z$5.object({type:zType("APP_SWITCH_NETWORK"),payload:AppSwitchNetworkRequest}).or(z$5.object({type:zType("APP_CONNECT_EMAIL"),payload:AppConnectEmailRequest})).or(z$5.object({type:zType("APP_CONNECT_DEVICE")})).or(z$5.object({type:zType("APP_CONNECT_OTP"),payload:AppConnectOtpRequest})).or(z$5.object({type:zType("APP_GET_USER"),payload:z$5.optional(AppGetUserRequest)})).or(z$5.object({type:zType("APP_SIGN_OUT")})).or(z$5.object({type:zType("APP_IS_CONNECTED"),payload:z$5.optional(FrameSession)})).or(z$5.object({type:zType("APP_GET_CHAIN_ID")})).or(z$5.object({type:zType("APP_RPC_REQUEST"),payload:RpcPersonalSignRequest.or(RpcEthSendTransactionRequest).or(RpcEthAccountsRequest).or(RpcEthBlockNumber).or(RpcEthCall).or(RpcEthChainId).or(RpcEthEstimateGas).or(RpcEthFeeHistory).or(RpcEthGasPrice).or(RpcEthGetAccount).or(RpcEthGetBalance).or(RpcEthGetBlockyByHash).or(RpcEthGetBlockByNumber).or(RpcEthGetBlockReceipts).or(RcpEthGetBlockTransactionCountByHash).or(RcpEthGetBlockTransactionCountByNumber).or(RpcEthGetCode).or(RpcEthGetFilter).or(RpcEthGetFilterLogs).or(RpcEthGetLogs).or(RpcEthGetProof).or(RpcEthGetStorageAt).or(RpcEthGetTransactionByBlockHashAndIndex).or(RpcEthGetTransactionByBlockNumberAndIndex).or(RpcEthGetTransactionByHash).or(RpcEthGetTransactionCount).or(RpcEthGetTransactionReceipt).or(RpcEthGetUncleCountByBlockHash).or(RpcEthGetUncleCountByBlockNumber).or(RpcEthMaxPriorityFeePerGas).or(RpcEthNewBlockFilter).or(RpcEthNewFilter).or(RpcEthNewPendingTransactionFilter).or(RpcEthSendRawTransaction).or(RpcEthSyncing).or(RpcUnistallFilter).or(RpcPersonalSignRequest).or(RpcEthSignTypedDataV4).or(RpcEthSendTransactionRequest)})).or(z$5.object({type:zType("APP_UPDATE_EMAIL"),payload:AppUpdateEmailRequest})).or(z$5.object({type:zType("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:AppUpdateEmailPrimaryOtpRequest})).or(z$5.object({type:zType("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:AppUpdateEmailSecondaryOtpRequest})).or(z$5.object({type:zType("APP_SYNC_THEME"),payload:AppSyncThemeRequest})).or(z$5.object({type:zType("APP_SYNC_DAPP_DATA"),payload:AppSyncDappDataRequest})),frameEvent:z$5.object({type:zType("FRAME_SWITCH_NETWORK_ERROR"),payload:zError}).or(z$5.object({type:zType("FRAME_SWITCH_NETWORK_SUCCESS"),payload:FrameSwitchNetworkResponse})).or(z$5.object({type:zType("FRAME_CONNECT_EMAIL_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_CONNECT_EMAIL_SUCCESS"),payload:FrameConnectEmailResponse})).or(z$5.object({type:zType("FRAME_CONNECT_OTP_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_CONNECT_OTP_SUCCESS")})).or(z$5.object({type:zType("FRAME_CONNECT_DEVICE_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_CONNECT_DEVICE_SUCCESS")})).or(z$5.object({type:zType("FRAME_GET_USER_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_GET_USER_SUCCESS"),payload:FrameGetUserResponse})).or(z$5.object({type:zType("FRAME_SIGN_OUT_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_SIGN_OUT_SUCCESS")})).or(z$5.object({type:zType("FRAME_IS_CONNECTED_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_IS_CONNECTED_SUCCESS"),payload:FrameIsConnectedResponse})).or(z$5.object({type:zType("FRAME_GET_CHAIN_ID_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_GET_CHAIN_ID_SUCCESS"),payload:FrameGetChainIdResponse})).or(z$5.object({type:zType("FRAME_RPC_REQUEST_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_RPC_REQUEST_SUCCESS"),payload:RpcResponse})).or(z$5.object({type:zType("FRAME_SESSION_UPDATE"),payload:FrameSession})).or(z$5.object({type:zType("FRAME_UPDATE_EMAIL_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_UPDATE_EMAIL_SUCCESS")})).or(z$5.object({type:zType("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(z$5.object({type:zType("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:FrameUpdateEmailSecondaryOtpResolver})).or(z$5.object({type:zType("FRAME_SYNC_THEME_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_SYNC_THEME_SUCCESS")})).or(z$5.object({type:zType("FRAME_SYNC_DAPP_DATA_ERROR"),payload:zError})).or(z$5.object({type:zType("FRAME_SYNC_DAPP_DATA_SUCCESS")}))},W3mFrameStorage={set(se,Y){W3mFrameHelpers.isClient&&localStorage.setItem(`${W3mFrameConstants.STORAGE_KEY}${se}`,Y)},get(se){return W3mFrameHelpers.isClient?localStorage.getItem(`${W3mFrameConstants.STORAGE_KEY}${se}`):null},delete(se){W3mFrameHelpers.isClient&&localStorage.removeItem(`${W3mFrameConstants.STORAGE_KEY}${se}`)}},RESTRICTED_TIMEZONES=["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],EMAIL_MINIMUM_TIMEOUT=30*1e3,W3mFrameHelpers={getBlockchainApiUrl(){try{const{timeZone:se}=new Intl.DateTimeFormat().resolvedOptions(),Y=se.toUpperCase();return RESTRICTED_TIMEZONES.includes(Y)?"https://rpc.walletconnect.org":"https://rpc.walletconnect.com"}catch{return!1}},checkIfAllowedToTriggerEmail(){const se=W3mFrameStorage.get(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(se){const Y=Date.now()-Number(se);if(Y<EMAIL_MINIMUM_TIMEOUT){const ne=Math.ceil((EMAIL_MINIMUM_TIMEOUT-Y)/1e3);throw new Error(`Please try again after ${ne} seconds`)}}},getTimeToNextEmailLogin(){const se=W3mFrameStorage.get(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(se){const Y=Date.now()-Number(se);if(Y<EMAIL_MINIMUM_TIMEOUT)return Math.ceil((EMAIL_MINIMUM_TIMEOUT-Y)/1e3)}return 0},checkIfRequestExists(se){var ne;const Y=(ne=se==null?void 0:se.payload)==null?void 0:ne.method;return W3mFrameRpcConstants.NOT_SAFE_RPC_METHODS.includes(Y)||W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(Y)},checkIfRequestIsAllowed(se){var ne;const Y=(ne=se==null?void 0:se.payload)==null?void 0:ne.method;return W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(Y)},isClient:typeof window<"u"};class W3mFrame{constructor(Y,ne=!1){if(this.iframe=null,this.rpcUrl=W3mFrameHelpers.getBlockchainApiUrl(),this.events={onFrameEvent:fe=>{W3mFrameHelpers.isClient&&window.addEventListener("message",({data:ye})=>{var be;if(!((be=ye.type)!=null&&be.includes(W3mFrameConstants.FRAME_EVENT_KEY)))return;const me=W3mFrameSchema.frameEvent.parse(ye);fe(me)})},onAppEvent:fe=>{W3mFrameHelpers.isClient&&window.addEventListener("message",({data:ye})=>{var be;if(!((be=ye.type)!=null&&be.includes(W3mFrameConstants.APP_EVENT_KEY)))return;const me=W3mFrameSchema.appEvent.parse(ye);fe(me)})},postAppEvent:fe=>{var ye;if(W3mFrameHelpers.isClient){if(!((ye=this.iframe)!=null&&ye.contentWindow))throw new Error("W3mFrame: iframe is not set");W3mFrameSchema.appEvent.parse(fe),window.postMessage(fe),this.iframe.contentWindow.postMessage(fe,"*")}},postFrameEvent:fe=>{if(W3mFrameHelpers.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");W3mFrameSchema.frameEvent.parse(fe),parent.postMessage(fe,"*")}}},this.projectId=Y,this.frameLoadPromise=new Promise((fe,ye)=>{this.frameLoadPromiseResolver={resolve:fe,reject:ye}}),ne&&(this.frameLoadPromise=new Promise((fe,ye)=>{this.frameLoadPromiseResolver={resolve:fe,reject:ye}}),W3mFrameHelpers.isClient)){const fe=document.createElement("iframe");fe.id="w3m-iframe",fe.src=`${W3mFrameConstants.SECURE_SITE_SDK}?projectId=${Y}`,fe.style.position="fixed",fe.style.zIndex="999999",fe.style.display="none",fe.style.opacity="0",fe.style.borderRadius="clamp(0px, var(--wui-border-radius-l), 44px)",document.body.appendChild(fe),this.iframe=fe,this.iframe.onload=()=>{var ye;(ye=this.frameLoadPromiseResolver)==null||ye.resolve(void 0)},this.iframe.onerror=()=>{var ye;(ye=this.frameLoadPromiseResolver)==null||ye.reject("Unable to load email login dependency")}}}get networks(){const Y=[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,324,280,100,8453,84531,7777777,999].map(ne=>({[ne]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=eip155:${ne}&projectId=${this.projectId}`,chainId:ne}}));return Object.assign({},...Y)}}class W3mFrameProvider{constructor(Y){this.connectEmailResolver=void 0,this.connectDeviceResolver=void 0,this.connectOtpResolver=void 0,this.connectResolver=void 0,this.disconnectResolver=void 0,this.isConnectedResolver=void 0,this.getChainIdResolver=void 0,this.switchChainResolver=void 0,this.rpcRequestResolver=void 0,this.updateEmailResolver=void 0,this.updateEmailPrimaryOtpResolver=void 0,this.updateEmailSecondaryOtpResolver=void 0,this.syncThemeResolver=void 0,this.syncDappDataResolver=void 0,this.w3mFrame=new W3mFrame(Y,!0),this.w3mFrame.events.onFrameEvent(ne=>{switch(console.log("💻 received",ne),ne.type){case W3mFrameConstants.FRAME_CONNECT_EMAIL_SUCCESS:return this.onConnectEmailSuccess(ne);case W3mFrameConstants.FRAME_CONNECT_EMAIL_ERROR:return this.onConnectEmailError(ne);case W3mFrameConstants.FRAME_CONNECT_DEVICE_SUCCESS:return this.onConnectDeviceSuccess();case W3mFrameConstants.FRAME_CONNECT_DEVICE_ERROR:return this.onConnectDeviceError(ne);case W3mFrameConstants.FRAME_CONNECT_OTP_SUCCESS:return this.onConnectOtpSuccess();case W3mFrameConstants.FRAME_CONNECT_OTP_ERROR:return this.onConnectOtpError(ne);case W3mFrameConstants.FRAME_GET_USER_SUCCESS:return this.onConnectSuccess(ne);case W3mFrameConstants.FRAME_GET_USER_ERROR:return this.onConnectError(ne);case W3mFrameConstants.FRAME_IS_CONNECTED_SUCCESS:return this.onIsConnectedSuccess(ne);case W3mFrameConstants.FRAME_IS_CONNECTED_ERROR:return this.onIsConnectedError(ne);case W3mFrameConstants.FRAME_GET_CHAIN_ID_SUCCESS:return this.onGetChainIdSuccess(ne);case W3mFrameConstants.FRAME_GET_CHAIN_ID_ERROR:return this.onGetChainIdError(ne);case W3mFrameConstants.FRAME_SIGN_OUT_SUCCESS:return this.onSignOutSuccess();case W3mFrameConstants.FRAME_SIGN_OUT_ERROR:return this.onSignOutError(ne);case W3mFrameConstants.FRAME_SWITCH_NETWORK_SUCCESS:return this.onSwitchChainSuccess(ne);case W3mFrameConstants.FRAME_SWITCH_NETWORK_ERROR:return this.onSwitchChainError(ne);case W3mFrameConstants.FRAME_RPC_REQUEST_SUCCESS:return this.onRpcRequestSuccess(ne);case W3mFrameConstants.FRAME_RPC_REQUEST_ERROR:return this.onRpcRequestError(ne);case W3mFrameConstants.FRAME_SESSION_UPDATE:return this.onSessionUpdate(ne);case W3mFrameConstants.FRAME_UPDATE_EMAIL_SUCCESS:return this.onUpdateEmailSuccess();case W3mFrameConstants.FRAME_UPDATE_EMAIL_ERROR:return this.onUpdateEmailError(ne);case W3mFrameConstants.FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:return this.onUpdateEmailPrimaryOtpSuccess();case W3mFrameConstants.FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:return this.onUpdateEmailPrimaryOtpError(ne);case W3mFrameConstants.FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:return this.onUpdateEmailSecondaryOtpSuccess(ne);case W3mFrameConstants.FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:return this.onUpdateEmailSecondaryOtpError(ne);case W3mFrameConstants.FRAME_SYNC_THEME_SUCCESS:return this.onSyncThemeSuccess();case W3mFrameConstants.FRAME_SYNC_THEME_ERROR:return this.onSyncThemeError(ne);case W3mFrameConstants.FRAME_SYNC_DAPP_DATA_SUCCESS:return this.onSyncDappDataSuccess();case W3mFrameConstants.FRAME_SYNC_DAPP_DATA_ERROR:return this.onSyncDappDataError(ne);default:return null}})}getLoginEmailUsed(){return!!W3mFrameStorage.get(W3mFrameConstants.EMAIL_LOGIN_USED_KEY)}getEmail(){return W3mFrameStorage.get(W3mFrameConstants.EMAIL)}rejectRpcRequest(){var Y;(Y=this.rpcRequestResolver)==null||Y.reject()}async connectEmail(Y){return await this.w3mFrame.frameLoadPromise,W3mFrameHelpers.checkIfAllowedToTriggerEmail(),this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_CONNECT_EMAIL,payload:Y}),new Promise((ne,fe)=>{this.connectEmailResolver={resolve:ne,reject:fe}})}async connectDevice(){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_CONNECT_DEVICE}),new Promise((Y,ne)=>{this.connectDeviceResolver={resolve:Y,reject:ne}})}async connectOtp(Y){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_CONNECT_OTP,payload:Y}),new Promise((ne,fe)=>{this.connectOtpResolver={resolve:ne,reject:fe}})}async isConnected(){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_IS_CONNECTED,payload:void 0}),new Promise((Y,ne)=>{this.isConnectedResolver={resolve:Y,reject:ne}})}async getChainId(){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_GET_CHAIN_ID}),new Promise((Y,ne)=>{this.getChainIdResolver={resolve:Y,reject:ne}})}async updateEmail(Y){return await this.w3mFrame.frameLoadPromise,W3mFrameHelpers.checkIfAllowedToTriggerEmail(),this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_UPDATE_EMAIL,payload:Y}),new Promise((ne,fe)=>{this.updateEmailResolver={resolve:ne,reject:fe}})}async updateEmailPrimaryOtp(Y){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:Y}),new Promise((ne,fe)=>{this.updateEmailPrimaryOtpResolver={resolve:ne,reject:fe}})}async updateEmailSecondaryOtp(Y){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:Y}),new Promise((ne,fe)=>{this.updateEmailSecondaryOtpResolver={resolve:ne,reject:fe}})}async syncTheme(Y){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_SYNC_THEME,payload:Y}),new Promise((ne,fe)=>{this.syncThemeResolver={resolve:ne,reject:fe}})}async syncDappData(Y){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_SYNC_DAPP_DATA,payload:Y}),new Promise((ne,fe)=>{this.syncDappDataResolver={resolve:ne,reject:fe}})}async connect(Y){const ne=(Y==null?void 0:Y.chainId)??this.getLastUsedChainId()??1;return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_GET_USER,payload:{chainId:ne}}),new Promise((fe,ye)=>{this.connectResolver={resolve:fe,reject:ye}})}async switchNetwork(Y){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_SWITCH_NETWORK,payload:{chainId:Y}}),new Promise((ne,fe)=>{this.switchChainResolver={resolve:ne,reject:fe}})}async disconnect(){return await this.w3mFrame.frameLoadPromise,this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_SIGN_OUT}),new Promise((Y,ne)=>{this.disconnectResolver={resolve:Y,reject:ne}})}async request(Y){return await this.w3mFrame.frameLoadPromise,W3mFrameRpcConstants.GET_CHAIN_ID===Y.method?this.getLastUsedChainId():(this.w3mFrame.events.postAppEvent({type:W3mFrameConstants.APP_RPC_REQUEST,payload:Y}),new Promise((ne,fe)=>{this.rpcRequestResolver={resolve:ne,reject:fe}}))}onRpcRequest(Y){this.w3mFrame.events.onAppEvent(ne=>{ne.type.includes(W3mFrameConstants.RPC_METHOD_KEY)&&Y(ne)})}onRpcResponse(Y){this.w3mFrame.events.onFrameEvent(ne=>{ne.type.includes(W3mFrameConstants.RPC_METHOD_KEY)&&Y(ne)})}onIsConnected(Y){this.w3mFrame.events.onFrameEvent(ne=>{ne.type===W3mFrameConstants.FRAME_GET_USER_SUCCESS&&Y()})}onNotConnected(Y){this.w3mFrame.events.onFrameEvent(ne=>{ne.type===W3mFrameConstants.FRAME_IS_CONNECTED_ERROR&&Y(),ne.type===W3mFrameConstants.FRAME_IS_CONNECTED_SUCCESS&&!ne.payload.isConnected&&Y()})}onConnectEmailSuccess(Y){var ne;(ne=this.connectEmailResolver)==null||ne.resolve(Y.payload),this.setNewLastEmailLoginTime()}onConnectEmailError(Y){var ne;(ne=this.connectEmailResolver)==null||ne.reject(Y.payload.message)}onConnectDeviceSuccess(){var Y;(Y=this.connectDeviceResolver)==null||Y.resolve(void 0)}onConnectDeviceError(Y){var ne;(ne=this.connectDeviceResolver)==null||ne.reject(Y.payload.message)}onConnectOtpSuccess(){var Y;(Y=this.connectOtpResolver)==null||Y.resolve(void 0)}onConnectOtpError(Y){var ne;(ne=this.connectOtpResolver)==null||ne.reject(Y.payload.message)}onConnectSuccess(Y){var ne;this.setEmailLoginSuccess(Y.payload.email),this.setLastUsedChainId(Y.payload.chainId),(ne=this.connectResolver)==null||ne.resolve(Y.payload)}onConnectError(Y){var ne;(ne=this.connectResolver)==null||ne.reject(Y.payload.message)}onIsConnectedSuccess(Y){var ne;Y.payload.isConnected||this.deleteEmailLoginCache(),(ne=this.isConnectedResolver)==null||ne.resolve(Y.payload)}onIsConnectedError(Y){var ne;(ne=this.isConnectedResolver)==null||ne.reject(Y.payload.message)}onGetChainIdSuccess(Y){var ne;this.setLastUsedChainId(Y.payload.chainId),(ne=this.getChainIdResolver)==null||ne.resolve(Y.payload)}onGetChainIdError(Y){var ne;(ne=this.getChainIdResolver)==null||ne.reject(Y.payload.message)}onSignOutSuccess(){var Y;(Y=this.disconnectResolver)==null||Y.resolve(void 0),this.deleteEmailLoginCache()}onSignOutError(Y){var ne;(ne=this.disconnectResolver)==null||ne.reject(Y.payload.message)}onSwitchChainSuccess(Y){var ne;this.setLastUsedChainId(Y.payload.chainId),(ne=this.switchChainResolver)==null||ne.resolve(Y.payload)}onSwitchChainError(Y){var ne;(ne=this.switchChainResolver)==null||ne.reject(Y.payload.message)}onRpcRequestSuccess(Y){var ne;(ne=this.rpcRequestResolver)==null||ne.resolve(Y.payload)}onRpcRequestError(Y){var ne;(ne=this.rpcRequestResolver)==null||ne.reject(Y.payload.message)}onSessionUpdate(Y){}onUpdateEmailSuccess(){var Y;(Y=this.updateEmailResolver)==null||Y.resolve(void 0),this.setNewLastEmailLoginTime()}onUpdateEmailError(Y){var ne;(ne=this.updateEmailResolver)==null||ne.reject(Y.payload.message)}onUpdateEmailPrimaryOtpSuccess(){var Y;(Y=this.updateEmailPrimaryOtpResolver)==null||Y.resolve(void 0)}onUpdateEmailPrimaryOtpError(Y){var ne;(ne=this.updateEmailPrimaryOtpResolver)==null||ne.reject(Y.payload.message)}onUpdateEmailSecondaryOtpSuccess(Y){var fe;const{newEmail:ne}=Y.payload;this.setEmailLoginSuccess(ne),(fe=this.updateEmailSecondaryOtpResolver)==null||fe.resolve({newEmail:ne})}onUpdateEmailSecondaryOtpError(Y){var ne;(ne=this.updateEmailSecondaryOtpResolver)==null||ne.reject(Y.payload.message)}onSyncThemeSuccess(){var Y;(Y=this.syncThemeResolver)==null||Y.resolve(void 0)}onSyncThemeError(Y){var ne;(ne=this.syncThemeResolver)==null||ne.reject(Y.payload.message)}onSyncDappDataSuccess(){var Y;(Y=this.syncDappDataResolver)==null||Y.resolve(void 0)}onSyncDappDataError(Y){var ne;(ne=this.syncDappDataResolver)==null||ne.reject(Y.payload.message)}setNewLastEmailLoginTime(){W3mFrameStorage.set(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setEmailLoginSuccess(Y){W3mFrameStorage.set(W3mFrameConstants.EMAIL,Y),W3mFrameStorage.set(W3mFrameConstants.EMAIL_LOGIN_USED_KEY,"true"),W3mFrameStorage.delete(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME)}deleteEmailLoginCache(){W3mFrameStorage.delete(W3mFrameConstants.EMAIL_LOGIN_USED_KEY),W3mFrameStorage.delete(W3mFrameConstants.EMAIL),W3mFrameStorage.delete(W3mFrameConstants.LAST_USED_CHAIN_KEY)}setLastUsedChainId(Y){W3mFrameStorage.set(W3mFrameConstants.LAST_USED_CHAIN_KEY,`${Y}`)}getLastUsedChainId(){return Number(W3mFrameStorage.get(W3mFrameConstants.LAST_USED_CHAIN_KEY))}}var __decorate$u=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const OTP_LENGTH=6;let W3mEmailOtpWidget=class extends r$7{firstUpdated(){this.startOTPTimeout()}disconnectedCallback(){clearTimeout(this.OTPTimeout)}constructor(){var Y;super(),this.loading=!1,this.timeoutTimeLeft=W3mFrameHelpers.getTimeToNextEmailLogin(),this.error="",this.otp="",this.email=(Y=RouterController.state.data)==null?void 0:Y.email,this.emailConnector=ConnectorController.getEmailConnector()}render(){if(!this.email)throw new Error("w3m-email-otp-widget: No email provided");const Y=!!this.timeoutTimeLeft,ne=this.getFooterLabels(Y);return x$4`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["l","0","l","0"]}
        gap="l"
      >
        <wui-flex flexDirection="column" alignItems="center">
          <wui-text variant="paragraph-400" color="fg-100">Enter the code we sent to</wui-text>
          <wui-text variant="paragraph-500" color="fg-100">${this.email}</wui-text>
        </wui-flex>

        <wui-text variant="small-400" color="fg-200">The code expires in 10 minutes</wui-text>

        ${this.loading?x$4`<wui-loading-spinner size="xl" color="accent-100"></wui-loading-spinner>`:x$4` <wui-flex flexDirection="column" alignItems="center" gap="xs">
              <wui-otp
                dissabled
                length="6"
                @inputChange=${this.onOtpInputChange.bind(this)}
                .otp=${this.otp}
              ></wui-otp>
              ${this.error?x$4`
                    <wui-text variant="small-400" align="center" color="error-100">
                      ${this.error}. Try Again
                    </wui-text>
                  `:null}
            </wui-flex>`}

        <wui-flex alignItems="center">
          <wui-text variant="small-400" color="fg-200">${ne.title}</wui-text>
          <wui-link @click=${this.onResendCode.bind(this)} .disabled=${Y}>
            ${ne.action}
          </wui-link>
        </wui-flex>
      </wui-flex>
    `}startOTPTimeout(){this.timeoutTimeLeft=W3mFrameHelpers.getTimeToNextEmailLogin(),this.OTPTimeout=setInterval(()=>{this.timeoutTimeLeft>0?this.timeoutTimeLeft=W3mFrameHelpers.getTimeToNextEmailLogin():clearInterval(this.OTPTimeout)},1e3)}async onOtpInputChange(Y){var ne;try{this.loading||(this.otp=Y.detail,this.emailConnector&&this.otp.length===OTP_LENGTH&&(this.loading=!0,await((ne=this.onOtpSubmit)==null?void 0:ne.call(this,this.otp))))}catch(fe){this.error=CoreHelperUtil.parseError(fe),this.loading=!1}}async onResendCode(){try{if(this.onOtpResend){if(!this.loading&&!this.timeoutTimeLeft){if(this.error="",this.otp="",!ConnectorController.getEmailConnector()||!this.email)throw new Error("w3m-email-otp-widget: Unable to resend email");this.loading=!0,await this.onOtpResend(this.email),this.startOTPTimeout(),SnackController.showSuccess("Code email resent")}}else this.onStartOver&&this.onStartOver()}catch(Y){SnackController.showError(Y)}finally{this.loading=!1}}getFooterLabels(Y){return this.onStartOver?{title:"Something wrong?",action:`Try again ${Y?`in ${this.timeoutTimeLeft}s`:""}`}:{title:"Didn't receive it?",action:`Resend ${Y?`in ${this.timeoutTimeLeft}s`:"Code"}`}}};W3mEmailOtpWidget.styles=styles$f;__decorate$u([r$5()],W3mEmailOtpWidget.prototype,"loading",void 0);__decorate$u([r$5()],W3mEmailOtpWidget.prototype,"timeoutTimeLeft",void 0);__decorate$u([r$5()],W3mEmailOtpWidget.prototype,"error",void 0);W3mEmailOtpWidget=__decorate$u([customElement("w3m-email-otp-widget")],W3mEmailOtpWidget);var __decorate$t=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mEmailVerifyOtpView=class extends W3mEmailOtpWidget{constructor(){super(),this.onOtpSubmit=async Y=>{try{this.emailConnector&&(await this.emailConnector.provider.connectOtp({otp:Y}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),await ConnectionController.connectExternal(this.emailConnector),ModalController.close(),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"email"}}))}catch(ne){throw EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL"}),ne}},this.onOtpResend=async Y=>{this.emailConnector&&(await this.emailConnector.provider.connectEmail({email:Y}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}))}}};W3mEmailVerifyOtpView=__decorate$t([customElement("w3m-email-verify-otp-view")],W3mEmailVerifyOtpView);const styles$e=i$7`
  wui-icon-box {
    height: var(--wui-icon-box-size-xl);
    width: var(--wui-icon-box-size-xl);
  }
`;var __decorate$s=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mEmailVerifyDeviceView=class extends r$7{constructor(){var Y;super(),this.email=(Y=RouterController.state.data)==null?void 0:Y.email,this.emailConnector=ConnectorController.getEmailConnector(),this.loading=!1,this.listenForDeviceApproval()}render(){if(!this.email)throw new Error("w3m-email-verify-device-view: No email provided");if(!this.emailConnector)throw new Error("w3m-email-verify-device-view: No email connector provided");return x$4`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["xxl","s","xxl","s"]}
        gap="l"
      >
        <wui-icon-box
          size="xl"
          iconcolor="accent-100"
          backgroundcolor="accent-100"
          icon="verify"
          background="opaque"
        ></wui-icon-box>

        <wui-flex flexDirection="column" alignItems="center" gap="s">
          <wui-flex flexDirection="column" alignItems="center">
            <wui-text variant="paragraph-400" color="fg-100">
              Approve the login link we sent to
            </wui-text>
            <wui-text variant="paragraph-400" color="fg-100"><b>${this.email}</b></wui-text>
          </wui-flex>

          <wui-text variant="small-400" color="fg-200" align="center">
            The code expires in 10 minutes
          </wui-text>

          <wui-flex alignItems="center" id="w3m-resend-section">
            <wui-text variant="small-400" color="fg-100" align="center">
              Didn't receive it?
            </wui-text>
            <wui-link @click=${this.onResendCode.bind(this)} .disabled=${this.loading}>
              Resend email
            </wui-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}async listenForDeviceApproval(){if(this.emailConnector)try{await this.emailConnector.provider.connectDevice(),EventsController.sendEvent({type:"track",event:"DEVICE_REGISTERED_FOR_EMAIL"}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),RouterController.replace("EmailVerifyOtp",{email:this.email})}catch{RouterController.goBack()}}async onResendCode(){try{if(!this.loading){if(!this.emailConnector||!this.email)throw new Error("w3m-email-login-widget: Unable to resend email");this.loading=!0,await this.emailConnector.provider.connectEmail({email:this.email}),SnackController.showSuccess("Code email resent")}}catch(Y){SnackController.showError(Y)}finally{this.loading=!1}}};W3mEmailVerifyDeviceView.styles=styles$e;__decorate$s([r$5()],W3mEmailVerifyDeviceView.prototype,"loading",void 0);W3mEmailVerifyDeviceView=__decorate$s([customElement("w3m-email-verify-device-view")],W3mEmailVerifyDeviceView);const styles$d=i$7`
  div {
    width: 100%;
    height: 400px;
  }

  [data-ready='false'] {
    transform: scale(1.05);
  }

  @media (max-width: 430px) {
    [data-ready='false'] {
      transform: translateY(-50px);
    }
  }
`;var __decorate$r=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mApproveTransactionView=class extends r$7{constructor(){super(),this.bodyObserver=void 0,this.unsubscribe=[],this.iframe=document.getElementById("w3m-iframe"),this.ready=!1,this.unsubscribe.push(ModalController.subscribeKey("open",Y=>{Y||this.onHideIframe()}))}disconnectedCallback(){var Y;this.unsubscribe.forEach(ne=>ne()),(Y=this.bodyObserver)==null||Y.unobserve(window.document.body)}async firstUpdated(){await this.syncTheme(),this.iframe.style.display="block";const ne=this.renderRoot.querySelector("div");this.bodyObserver=new ResizeObserver(()=>{const ye=(ne==null?void 0:ne.getBoundingClientRect())??{left:0,top:0,width:0,height:0};this.iframe.style.width=`${ye.width}px`,this.iframe.style.height=`${ye.height-10}px`,this.iframe.style.left=`${ye.left}px`,this.iframe.style.top=`${ye.top+10/2}px`,this.ready=!0}),this.bodyObserver.observe(window.document.body)}render(){return this.ready&&this.onShowIframe(),x$4`<div data-ready=${this.ready}></div>`}onShowIframe(){const Y=window.innerWidth<=430;this.iframe.animate([{opacity:0,transform:Y?"translateY(50px)":"scale(.95)"},{opacity:1,transform:Y?"translateY(0)":"scale(1)"}],{duration:200,easing:"ease",fill:"forwards",delay:300})}async onHideIframe(){await this.iframe.animate([{opacity:1},{opacity:0}],{duration:200,easing:"ease",fill:"forwards"}).finished,this.iframe.style.display="none"}async syncTheme(){const Y=ConnectorController.getEmailConnector();Y&&await Y.provider.syncTheme({themeVariables:ThemeController.getSnapshot().themeVariables})}};W3mApproveTransactionView.styles=styles$d;__decorate$r([r$5()],W3mApproveTransactionView.prototype,"ready",void 0);W3mApproveTransactionView=__decorate$r([customElement("w3m-approve-transaction-view")],W3mApproveTransactionView);var __decorate$q=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mUpgradeWalletView=class extends r$7{render(){return x$4`
      <wui-flex flexDirection="column" alignItems="center" gap="xl" padding="xl">
        <wui-text variant="paragraph-400" color="fg-100">Follow the instructions on</wui-text>
        <wui-chip
          icon="externalLink"
          variant="fill"
          href=${ConstantsUtil$1.SECURE_SITE_DASHBOARD}
          imageSrc=${ConstantsUtil$1.SECURE_SITE_FAVICON}
        >
        </wui-chip>
        <wui-text variant="small-400" color="fg-200">
          You will have to reconnect for security reasons
        </wui-text>
      </wui-flex>
    `}};W3mUpgradeWalletView=__decorate$q([customElement("w3m-upgrade-wallet-view")],W3mUpgradeWalletView);const styles$c=i$7`
  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }
`;var __decorate$p=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mUpdateEmailWalletView=class extends r$7{constructor(){var Y;super(...arguments),this.formRef=e$3(),this.initialEmail=((Y=RouterController.state.data)==null?void 0:Y.email)??"",this.email="",this.loading=!1}firstUpdated(){var Y;(Y=this.formRef.value)==null||Y.addEventListener("keydown",ne=>{ne.key==="Enter"&&this.onSubmitEmail(ne)})}render(){const Y=!this.loading&&this.email.length>3&&this.email!==this.initialEmail;return x$4`
      <wui-flex flexDirection="column" padding="m" gap="m">
        <form ${n$6(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
          <wui-email-input
            value=${this.initialEmail}
            .disabled=${this.loading}
            @inputChange=${this.onEmailInputChange.bind(this)}
          >
          </wui-email-input>
          <input type="submit" hidden />
        </form>

        <wui-flex gap="s">
          <wui-button size="md" variant="shade" fullWidth @click=${RouterController.goBack}>
            Cancel
          </wui-button>

          <wui-button
            size="md"
            variant="fill"
            fullWidth
            @click=${this.onSubmitEmail.bind(this)}
            .disabled=${!Y}
            .loading=${this.loading}
          >
            Save
          </wui-button>
        </wui-flex>
      </wui-flex>
    `}onEmailInputChange(Y){this.email=Y.detail}async onSubmitEmail(Y){try{if(this.loading)return;this.loading=!0,Y.preventDefault();const ne=ConnectorController.getEmailConnector();if(!ne)throw new Error("w3m-update-email-wallet: Email connector not found");await ne.provider.updateEmail({email:this.email}),EventsController.sendEvent({type:"track",event:"EMAIL_EDIT"}),RouterController.replace("UpdateEmailPrimaryOtp",{email:this.initialEmail,newEmail:this.email})}catch(ne){SnackController.showError(ne),this.loading=!1}}};W3mUpdateEmailWalletView.styles=styles$c;__decorate$p([r$5()],W3mUpdateEmailWalletView.prototype,"email",void 0);__decorate$p([r$5()],W3mUpdateEmailWalletView.prototype,"loading",void 0);W3mUpdateEmailWalletView=__decorate$p([customElement("w3m-update-email-wallet-view")],W3mUpdateEmailWalletView);var __decorate$o=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mUpdateEmailPrimaryOtpView=class extends W3mEmailOtpWidget{constructor(){var Y;super(),this.email=(Y=RouterController.state.data)==null?void 0:Y.email,this.onOtpSubmit=async ne=>{try{this.emailConnector&&(await this.emailConnector.provider.updateEmailPrimaryOtp({otp:ne}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),RouterController.replace("UpdateEmailSecondaryOtp",RouterController.state.data))}catch(fe){throw EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL"}),fe}},this.onStartOver=()=>{RouterController.replace("UpdateEmailWallet",RouterController.state.data)}}};W3mUpdateEmailPrimaryOtpView=__decorate$o([customElement("w3m-update-email-primary-otp-view")],W3mUpdateEmailPrimaryOtpView);var __decorate$n=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mUpdateEmailSecondaryOtpView=class extends W3mEmailOtpWidget{constructor(){var Y;super(),this.email=(Y=RouterController.state.data)==null?void 0:Y.newEmail,this.onOtpSubmit=async ne=>{try{this.emailConnector&&(await this.emailConnector.provider.updateEmailSecondaryOtp({otp:ne}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),RouterController.reset("Account"))}catch(fe){throw EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL"}),fe}},this.onStartOver=()=>{RouterController.replace("UpdateEmailWallet",RouterController.state.data)}}};W3mUpdateEmailSecondaryOtpView=__decorate$n([customElement("w3m-update-email-secondary-otp-view")],W3mUpdateEmailSecondaryOtpView);const styles$b=i$7`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$m=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mUnsupportedChainView=class extends r$7{constructor(){super(...arguments),this.disconecting=!1}render(){return x$4`
      <wui-flex class="container" flexDirection="column" gap="0">
        <wui-flex
          class="container"
          flexDirection="column"
          .padding=${["m","xl","xs","xl"]}
          alignItems="center"
          gap="xl"
        >
          <wui-text variant="small-400" color="fg-200" align="center">
            This app doesn’t support your current network. Switch to an available option following
            to continue.
          </wui-text>
        </wui-flex>

        <wui-flex flexDirection="column" padding="s" gap="xs">
          ${this.networksTemplate()}
        </wui-flex>

        <wui-separator text="or"></wui-separator>
        <wui-flex flexDirection="column" padding="s" gap="xs">
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}networksTemplate(){const{approvedCaipNetworkIds:Y,requestedCaipNetworks:ne}=NetworkController.state;return CoreHelperUtil.sortRequestedNetworks(Y,ne).map(ye=>x$4`
        <wui-list-network
          imageSrc=${o$5(AssetUtil.getNetworkImage(ye))}
          name=${ye.name??"Unknown"}
          @click=${()=>this.onSwitchNetwork(ye)}
        >
        </wui-list-network>
      `)}async onDisconnect(){try{this.disconecting=!0,await ConnectionController.disconnect(),EventsController.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),ModalController.close()}catch{EventsController.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),SnackController.showError("Failed to disconnect")}finally{this.disconecting=!1}}async onSwitchNetwork(Y){const{isConnected:ne}=AccountController.state,{approvedCaipNetworkIds:fe,supportsAllNetworks:ye,caipNetwork:me}=NetworkController.state,{data:be}=RouterController.state;ne&&(me==null?void 0:me.id)!==Y.id?fe!=null&&fe.includes(Y.id)?(await NetworkController.switchActiveNetwork(Y),RouterUtil.navigateAfterNetworkSwitch()):ye&&RouterController.push("SwitchNetwork",{...be,network:Y}):ne||(NetworkController.setCaipNetwork(Y),RouterController.push("Connect"))}};W3mUnsupportedChainView.styles=styles$b;__decorate$m([r$5()],W3mUnsupportedChainView.prototype,"disconecting",void 0);W3mUnsupportedChainView=__decorate$m([customElement("w3m-unsupported-chain-view")],W3mUnsupportedChainView);const styles$a=i$7`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 76px);
  }

  @media (max-width: 435px) {
    wui-grid {
      grid-template-columns: repeat(auto-fill, 77px);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;function markWalletsAsInstalled(se){const{connectors:Y}=ConnectorController.state,ne=Y.filter(me=>me.type==="ANNOUNCED").reduce((me,be)=>{var we;return(we=be.info)!=null&&we.rdns&&(me[be.info.rdns]=!0),me},{});return se.map(me=>({...me,installed:!!me.rdns&&!!ne[me.rdns??""]})).sort((me,be)=>Number(be.installed)-Number(me.installed))}var __decorate$l=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const PAGINATOR_ID="local-paginator";let W3mAllWalletsList=class extends r$7{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.initial=!ApiController.state.wallets.length,this.wallets=ApiController.state.wallets,this.recommended=ApiController.state.recommended,this.featured=ApiController.state.featured,this.unsubscribe.push(ApiController.subscribeKey("wallets",Y=>this.wallets=Y),ApiController.subscribeKey("recommended",Y=>this.recommended=Y),ApiController.subscribeKey("featured",Y=>this.featured=Y))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var Y;this.unsubscribe.forEach(ne=>ne()),(Y=this.paginationObserver)==null||Y.disconnect()}render(){return x$4`
      <wui-grid
        data-scroll=${!this.initial}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.initial?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){var ne;const Y=(ne=this.shadowRoot)==null?void 0:ne.querySelector("wui-grid");this.initial&&Y&&(await ApiController.fetchWallets({page:1}),await Y.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.initial=!1,Y.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(Y,ne){return[...Array(Y)].map(()=>x$4`
        <wui-card-select-loader type="wallet" id=${o$5(ne)}></wui-card-select-loader>
      `)}walletsTemplate(){const Y=[...this.featured,...this.recommended,...this.wallets];return markWalletsAsInstalled(Y).map(fe=>x$4`
        <wui-card-select
          imageSrc=${o$5(AssetUtil.getWalletImage(fe))}
          type="wallet"
          name=${fe.name}
          @click=${()=>this.onConnectWallet(fe)}
          .installed=${fe.installed}
        ></wui-card-select>
      `)}paginationLoaderTemplate(){const{wallets:Y,recommended:ne,featured:fe,count:ye}=ApiController.state,me=window.innerWidth<352?3:4,be=Y.length+ne.length;let Ee=Math.ceil(be/me)*me-be+me;return Ee-=Y.length?fe.length%me:0,ye===0&&fe.length>0?null:ye===0||[...fe,...Y,...ne].length<ye?this.shimmerTemplate(Ee,PAGINATOR_ID):null}createPaginationObserver(){var ne;const Y=(ne=this.shadowRoot)==null?void 0:ne.querySelector(`#${PAGINATOR_ID}`);Y&&(this.paginationObserver=new IntersectionObserver(([fe])=>{if(fe!=null&&fe.isIntersecting&&!this.initial){const{page:ye,count:me,wallets:be}=ApiController.state;be.length<me&&ApiController.fetchWallets({page:ye+1})}}),this.paginationObserver.observe(Y))}onConnectWallet(Y){const{connectors:ne}=ConnectorController.state,fe=ne.find(({explorerId:ye})=>ye===Y.id);fe?RouterController.push("ConnectingExternal",{connector:fe}):RouterController.push("ConnectingWalletConnect",{wallet:Y})}};W3mAllWalletsList.styles=styles$a;__decorate$l([r$5()],W3mAllWalletsList.prototype,"initial",void 0);__decorate$l([r$5()],W3mAllWalletsList.prototype,"wallets",void 0);__decorate$l([r$5()],W3mAllWalletsList.prototype,"recommended",void 0);__decorate$l([r$5()],W3mAllWalletsList.prototype,"featured",void 0);W3mAllWalletsList=__decorate$l([customElement("w3m-all-wallets-list")],W3mAllWalletsList);const styles$9=i$7`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }
`;var __decorate$k=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mAllWalletsSearch=class extends r$7{constructor(){super(...arguments),this.prevQuery="",this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?x$4`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){this.query!==this.prevQuery&&(this.prevQuery=this.query,this.loading=!0,await ApiController.searchWallet({search:this.query}),this.loading=!1)}walletsTemplate(){const{search:Y}=ApiController.state,ne=markWalletsAsInstalled(Y);return Y.length?x$4`
      <wui-grid
        .padding=${["0","s","s","s"]}
        gridTemplateColumns="repeat(4, 1fr)"
        rowGap="l"
        columnGap="xs"
      >
        ${ne.map(fe=>x$4`
            <wui-card-select
              imageSrc=${o$5(AssetUtil.getWalletImage(fe))}
              type="wallet"
              name=${fe.name}
              @click=${()=>this.onConnectWallet(fe)}
              .installed=${fe.installed}
            ></wui-card-select>
          `)}
      </wui-grid>
    `:x$4`
        <wui-flex justifyContent="center" alignItems="center" gap="s" flexDirection="column">
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text color="fg-200" variant="paragraph-500">No Wallet found</wui-text>
        </wui-flex>
      `}onConnectWallet(Y){const{connectors:ne}=ConnectorController.state,fe=ne.find(({explorerId:ye})=>ye===Y.id);fe?RouterController.push("ConnectingExternal",{connector:fe}):RouterController.push("ConnectingWalletConnect",{wallet:Y})}};W3mAllWalletsSearch.styles=styles$9;__decorate$k([r$5()],W3mAllWalletsSearch.prototype,"loading",void 0);__decorate$k([n$8()],W3mAllWalletsSearch.prototype,"query",void 0);W3mAllWalletsSearch=__decorate$k([customElement("w3m-all-wallets-search")],W3mAllWalletsSearch);var __decorate$j=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingHeader=class extends r$7{constructor(){super(),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0,this.buffering=!1,this.unsubscribe.push(ConnectionController.subscribeKey("buffering",Y=>this.buffering=Y))}disconnectCallback(){this.unsubscribe.forEach(Y=>Y())}render(){const Y=this.generateTabs();return x$4`
      <wui-flex justifyContent="center" .padding=${["l","0","0","0"]}>
        <wui-tabs
          ?disabled=${this.buffering}
          .tabs=${Y}
          .onTabChange=${this.onTabChange.bind(this)}
        ></wui-tabs>
      </wui-flex>
    `}generateTabs(){const Y=this.platforms.map(ne=>ne==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:ne==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:ne==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:ne==="web"?{label:"Webapp",icon:"browser",platform:"web"}:ne==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=Y.map(({platform:ne})=>ne),Y}onTabChange(Y){var fe;const ne=this.platformTabs[Y];ne&&((fe=this.onSelectPlatfrom)==null||fe.call(this,ne))}};__decorate$j([n$8({type:Array})],W3mConnectingHeader.prototype,"platforms",void 0);__decorate$j([n$8()],W3mConnectingHeader.prototype,"onSelectPlatfrom",void 0);__decorate$j([r$5()],W3mConnectingHeader.prototype,"buffering",void 0);W3mConnectingHeader=__decorate$j([customElement("w3m-connecting-header")],W3mConnectingHeader);var __decorate$i=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingWcBrowser=class extends W3mConnectingWidget{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){try{this.error=!1;const{connectors:Y}=ConnectorController.state,ne=Y.find(ye=>{var me,be;return ye.type==="ANNOUNCED"&&((me=ye.info)==null?void 0:me.rdns)===((be=this.wallet)==null?void 0:be.rdns)}),fe=Y.find(ye=>ye.type==="INJECTED");ne?await ConnectionController.connectExternal(ne):fe&&await ConnectionController.connectExternal(fe),ModalController.close(),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser"}})}catch(Y){EventsController.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(Y==null?void 0:Y.message)??"Unknown"}}),this.error=!0}}};W3mConnectingWcBrowser=__decorate$i([customElement("w3m-connecting-wc-browser")],W3mConnectingWcBrowser);var __decorate$h=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingWcDesktop=class extends W3mConnectingWidget{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.timeout=setTimeout(()=>{var Y;(Y=this.onConnect)==null||Y.call(this)},200))}onConnectProxy(){var Y;if((Y=this.wallet)!=null&&Y.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:ne,name:fe}=this.wallet,{redirect:ye,href:me}=CoreHelperUtil.formatNativeUrl(ne,this.uri);ConnectionController.setWcLinking({name:fe,href:me}),ConnectionController.setRecentWallet(this.wallet),CoreHelperUtil.openHref(ye,"_blank")}catch{this.error=!0}}};W3mConnectingWcDesktop=__decorate$h([customElement("w3m-connecting-wc-desktop")],W3mConnectingWcDesktop);var __decorate$g=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingWcMobile=class extends W3mConnectingWidget{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),document.addEventListener("visibilitychange",this.onBuffering.bind(this)),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("visibilitychange",this.onBuffering.bind(this))}onRenderProxy(){var Y;!this.ready&&this.uri&&(this.ready=!0,(Y=this.onConnect)==null||Y.call(this))}onConnectProxy(){var Y;if((Y=this.wallet)!=null&&Y.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:ne,name:fe}=this.wallet,{redirect:ye,href:me}=CoreHelperUtil.formatNativeUrl(ne,this.uri);ConnectionController.setWcLinking({name:fe,href:me}),ConnectionController.setRecentWallet(this.wallet),CoreHelperUtil.openHref(ye,"_self")}catch{this.error=!0}}onBuffering(){const Y=CoreHelperUtil.isIos();(document==null?void 0:document.visibilityState)==="visible"&&!this.error&&Y&&(ConnectionController.setBuffering(!0),setTimeout(()=>{ConnectionController.setBuffering(!1)},5e3))}};W3mConnectingWcMobile=__decorate$g([customElement("w3m-connecting-wc-mobile")],W3mConnectingWcMobile);const styles$8=i$7`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var __decorate$f=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingWcQrcode=class extends W3mConnectingWidget{constructor(){var Y;super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:((Y=this.wallet)==null?void 0:Y.name)??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),x$4`
      <wui-flex padding="xl" flexDirection="column" gap="xl" alignItems="center">
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const Y=this.getBoundingClientRect().width-40,ne=this.wallet?this.wallet.name:void 0;return ConnectionController.setWcLinking(void 0),ConnectionController.setRecentWallet(this.wallet),x$4` <wui-qr-code
      size=${Y}
      theme=${ThemeController.state.themeMode}
      uri=${this.uri}
      imageSrc=${o$5(AssetUtil.getWalletImage(this.wallet))}
      alt=${o$5(ne)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const Y=!this.uri||!this.ready;return x$4`<wui-link
      .disabled=${Y}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};W3mConnectingWcQrcode.styles=styles$8;W3mConnectingWcQrcode=__decorate$f([customElement("w3m-connecting-wc-qrcode")],W3mConnectingWcQrcode);const styles$7=i$7`
  :host {
    display: flex;
    justify-content: center;
    gap: var(--wui-spacing-2xl);
  }

  wui-visual-thumbnail:nth-child(1) {
    z-index: 1;
  }
`;var __decorate$e=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingSiwe=class extends r$7{constructor(){var Y;super(...arguments),this.dappImageUrl=(Y=OptionsController.state.metadata)==null?void 0:Y.icons,this.walletImageUrl=StorageUtil.getConnectedWalletImageUrl()}firstUpdated(){var ne;const Y=(ne=this.shadowRoot)==null?void 0:ne.querySelectorAll("wui-visual-thumbnail");Y!=null&&Y[0]&&this.createAnimation(Y[0],"translate(18px)"),Y!=null&&Y[1]&&this.createAnimation(Y[1],"translate(-18px)")}render(){var Y;return x$4`
      <wui-visual-thumbnail
        ?borderRadiusFull=${!0}
        .imageSrc=${(Y=this.dappImageUrl)==null?void 0:Y[0]}
      ></wui-visual-thumbnail>
      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>
    `}createAnimation(Y,ne){Y.animate([{transform:"translateX(0px)"},{transform:ne}],{duration:1600,easing:"cubic-bezier(0.56, 0, 0.48, 1)",direction:"alternate",iterations:1/0})}};W3mConnectingSiwe.styles=styles$7;W3mConnectingSiwe=__decorate$e([customElement("w3m-connecting-siwe")],W3mConnectingSiwe);var __decorate$d=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingWcUnsupported=class extends r$7{constructor(){var Y;if(super(),this.wallet=(Y=RouterController.state.data)==null?void 0:Y.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return x$4`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${o$5(AssetUtil.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};W3mConnectingWcUnsupported=__decorate$d([customElement("w3m-connecting-wc-unsupported")],W3mConnectingWcUnsupported);var __decorate$c=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mConnectingWcWeb=class extends W3mConnectingWidget{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel="Open and continue in a new browser tab",this.secondaryBtnIcon="externalLink",EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}onConnectProxy(){var Y;if((Y=this.wallet)!=null&&Y.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:ne,name:fe}=this.wallet,{redirect:ye,href:me}=CoreHelperUtil.formatUniversalUrl(ne,this.uri);ConnectionController.setWcLinking({name:fe,href:me}),ConnectionController.setRecentWallet(this.wallet),CoreHelperUtil.openHref(ye,"_blank")}catch{this.error=!0}}};W3mConnectingWcWeb=__decorate$c([customElement("w3m-connecting-wc-web")],W3mConnectingWcWeb);const styles$6=i$7`
  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }
`;var __decorate$b=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};function headings(){var be,we,Ee,xe,Se,Ie,fr;const se=(we=(be=RouterController.state.data)==null?void 0:be.connector)==null?void 0:we.name,Y=(xe=(Ee=RouterController.state.data)==null?void 0:Ee.wallet)==null?void 0:xe.name,ne=(Ie=(Se=RouterController.state.data)==null?void 0:Se.network)==null?void 0:Ie.name,fe=Y??se,ye=ConnectorController.getConnectors();return{Connect:`Connect ${ye.length===1&&((fr=ye[0])==null?void 0:fr.id)==="w3m-email"?"Email":""} Wallet`,Account:void 0,AccountSettings:void 0,ConnectingExternal:fe??"Connect Wallet",ConnectingWalletConnect:fe??"WalletConnect",ConnectingSiwe:"Sign In",Networks:"Choose Network",SwitchNetwork:ne??"Switch Network",AllWallets:"All Wallets",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",GetWallet:"Get a wallet",Downloads:fe?`Get ${fe}`:"Downloads",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",ApproveTransaction:"Approve Transaction",Transactions:"Activity",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",UnsupportedChain:"Switch Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",WhatIsABuy:"What is Buy?",BuyInProgress:"Buy",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency"}}let W3mHeader=class extends r$7{constructor(){super(),this.unsubscribe=[],this.heading=headings()[RouterController.state.view],this.buffering=!1,this.showBack=!1,this.unsubscribe.push(RouterController.subscribeKey("view",Y=>{this.onViewChange(Y),this.onHistoryChange()}),ConnectionController.subscribeKey("buffering",Y=>this.buffering=Y))}disconnectCallback(){this.unsubscribe.forEach(Y=>Y())}render(){return x$4`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.dynamicButtonTemplate()} ${this.titleTemplate()}
        <wui-icon-link
          ?disabled=${this.buffering}
          icon="close"
          @click=${this.onClose.bind(this)}
          data-testid="w3m-header-close"
        ></wui-icon-link>
      </wui-flex>
      ${this.separatorTemplate()}
    `}onWalletHelp(){EventsController.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),RouterController.push("WhatIsAWallet")}async onClose(){SIWEController.state.isSiweEnabled&&SIWEController.state.status!=="success"&&await ConnectionController.disconnect(),ModalController.close()}titleTemplate(){return x$4`<wui-text variant="paragraph-700" color="fg-100">${this.heading}</wui-text>`}dynamicButtonTemplate(){const{view:Y}=RouterController.state,ne=Y==="Connect",fe=Y==="ApproveTransaction";return this.showBack&&!fe?x$4`<wui-icon-link
        id="dynamic"
        icon="chevronLeft"
        ?disabled=${this.buffering}
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:x$4`<wui-icon-link
      data-hidden=${!ne}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}separatorTemplate(){return this.heading?x$4`<wui-separator></wui-separator>`:null}getPadding(){return this.heading?["l","2l","l","2l"]:["l","2l","0","2l"]}async onViewChange(Y){var fe;const ne=(fe=this.shadowRoot)==null?void 0:fe.querySelector("wui-text");if(ne){const ye=headings()[Y];await ne.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.heading=ye,ne.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})}}async onHistoryChange(){var fe;const{history:Y}=RouterController.state,ne=(fe=this.shadowRoot)==null?void 0:fe.querySelector("#dynamic");Y.length>1&&!this.showBack&&ne?(await ne.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,ne.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):Y.length<=1&&this.showBack&&ne&&(await ne.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,ne.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){RouterController.state.view==="ConnectingSiwe"?RouterController.push("Connect"):RouterController.goBack()}};W3mHeader.styles=[styles$6];__decorate$b([r$5()],W3mHeader.prototype,"heading",void 0);__decorate$b([r$5()],W3mHeader.prototype,"buffering",void 0);__decorate$b([r$5()],W3mHeader.prototype,"showBack",void 0);W3mHeader=__decorate$b([customElement("w3m-header")],W3mHeader);var __decorate$a=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mHelpWidget=class extends r$7{constructor(){super(...arguments),this.data=[]}render(){return x$4`
      <wui-flex flexDirection="column" alignItems="center" gap="l">
        ${this.data.map(Y=>x$4`
            <wui-flex flexDirection="column" alignItems="center" gap="xl">
              <wui-flex flexDirection="row" justifyContent="center" gap="1xs">
                ${Y.images.map(ne=>x$4`<wui-visual name=${ne}></wui-visual>`)}
              </wui-flex>
            </wui-flex>
            <wui-flex flexDirection="column" alignItems="center" gap="xxs">
              <wui-text variant="paragraph-500" color="fg-100" align="center">
                ${Y.title}
              </wui-text>
              <wui-text variant="small-500" color="fg-200" align="center">${Y.text}</wui-text>
            </wui-flex>
          `)}
      </wui-flex>
    `}};__decorate$a([n$8({type:Array})],W3mHelpWidget.prototype,"data",void 0);W3mHelpWidget=__decorate$a([customElement("w3m-help-widget")],W3mHelpWidget);const styles$5=i$7`
  :host {
    width: 100%;
  }

  wui-loading-spinner {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
  }

  .currency-container {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    transition: all var(--wui-ease-in-power-2) var(--wui-duration-md);
    right: var(--wui-spacing-1xs);
    height: 40px;
    padding: var(--wui-spacing-xs) var(--wui-spacing-1xs) var(--wui-spacing-xs)
      var(--wui-spacing-xs);
    min-width: 95px;
    border-radius: var(--FULL, 1000px);
    border: 1px solid var(--wui-gray-glass-002);
    background: var(--wui-gray-glass-002);
    cursor: pointer;
  }

  .currency-container > wui-image {
    height: 24px;
    width: 24px;
    border-radius: 50%;
  }
`;var __decorate$9=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mInputCurrency=class extends r$7{constructor(){var Y;super(),this.unsubscribe=[],this.type="Token",this.value=0,this.currencies=[],this.selectedCurrency=(Y=this.currencies)==null?void 0:Y[0],this.currencyImages=AssetController.state.currencyImages,this.tokenImages=AssetController.state.tokenImages,this.unsubscribe.push(OnRampController.subscribeKey("purchaseCurrency",ne=>{!ne||this.type==="Fiat"||(this.selectedCurrency=this.formatPurchaseCurrency(ne))}),OnRampController.subscribeKey("paymentCurrency",ne=>{!ne||this.type==="Token"||(this.selectedCurrency=this.formatPaymentCurrency(ne))}),OnRampController.subscribe(ne=>{this.type==="Fiat"?this.currencies=ne.purchaseCurrencies.map(this.formatPurchaseCurrency):this.currencies=ne.paymentCurrencies.map(this.formatPaymentCurrency)}),AssetController.subscribe(ne=>{this.currencyImages={...ne.currencyImages},this.tokenImages={...ne.tokenImages}}))}firstUpdated(){OnRampController.getAvailableCurrencies()}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}render(){var fe;const Y=((fe=this.selectedCurrency)==null?void 0:fe.symbol)||"",ne=this.currencyImages[Y]||this.tokenImages[Y];return x$4` <wui-input-text type="number" size="lg" value=${this.value}>
      ${this.selectedCurrency?x$4` <wui-flex
            class="currency-container"
            justifyContent="space-between"
            alignItems="center"
            gap="xxs"
            @click=${()=>ModalController.open({view:`OnRamp${this.type}Select`})}
          >
            <wui-image src=${o$5(ne)}></wui-image>
            <wui-text color="fg-100"> ${this.selectedCurrency.symbol} </wui-text>
          </wui-flex>`:x$4`<wui-loading-spinner></wui-loading-spinner>`}
    </wui-input-text>`}formatPaymentCurrency(Y){return{name:Y.id,symbol:Y.id}}formatPurchaseCurrency(Y){return{name:Y.name,symbol:Y.symbol}}};W3mInputCurrency.styles=styles$5;__decorate$9([n$8({type:String})],W3mInputCurrency.prototype,"type",void 0);__decorate$9([n$8({type:Number})],W3mInputCurrency.prototype,"value",void 0);__decorate$9([r$5()],W3mInputCurrency.prototype,"currencies",void 0);__decorate$9([r$5()],W3mInputCurrency.prototype,"selectedCurrency",void 0);__decorate$9([r$5()],W3mInputCurrency.prototype,"currencyImages",void 0);__decorate$9([r$5()],W3mInputCurrency.prototype,"tokenImages",void 0);W3mInputCurrency=__decorate$9([customElement("w3m-swap-input")],W3mInputCurrency);const styles$4=i$7`
  wui-flex {
    background-color: var(--wui-gray-glass-005);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
  }
`;var __decorate$8=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mLegalFooter=class extends r$7{render(){const{termsConditionsUrl:Y,privacyPolicyUrl:ne}=OptionsController.state;return!Y&&!ne?null:x$4`
      <wui-flex .padding=${["m","s","s","s"]} justifyContent="center">
        <wui-text color="fg-250" variant="small-400" align="center">
          By connecting your wallet, you agree to our <br />
          ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:Y,privacyPolicyUrl:ne}=OptionsController.state;return Y&&ne?"and":""}termsTemplate(){const{termsConditionsUrl:Y}=OptionsController.state;return Y?x$4`<a href=${Y}>Terms of Service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:Y}=OptionsController.state;return Y?x$4`<a href=${Y}>Privacy Policy</a>`:null}};W3mLegalFooter.styles=[styles$4];W3mLegalFooter=__decorate$8([customElement("w3m-legal-footer")],W3mLegalFooter);const styles$3=i$7`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var __decorate$7=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mMobileDownloadLinks=class extends r$7{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:Y,app_store:ne,play_store:fe,chrome_store:ye,homepage:me}=this.wallet,be=CoreHelperUtil.isMobile(),we=CoreHelperUtil.isIos(),Ee=CoreHelperUtil.isAndroid(),xe=[ne,fe,me,ye].filter(Boolean).length>1,Se=UiHelperUtil.getTruncateString({string:Y,charsStart:12,charsEnd:0,truncate:"end"});return xe&&!be?x$4`
        <wui-cta-button
          label=${`Don't have ${Se}?`}
          buttonLabel="Get"
          @click=${()=>RouterController.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!xe&&me?x$4`
        <wui-cta-button
          label=${`Don't have ${Se}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:ne&&we?x$4`
        <wui-cta-button
          label=${`Don't have ${Se}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:fe&&Ee?x$4`
        <wui-cta-button
          label=${`Don't have ${Se}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){var Y;(Y=this.wallet)!=null&&Y.app_store&&CoreHelperUtil.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var Y;(Y=this.wallet)!=null&&Y.play_store&&CoreHelperUtil.openHref(this.wallet.play_store,"_blank")}onHomePage(){var Y;(Y=this.wallet)!=null&&Y.homepage&&CoreHelperUtil.openHref(this.wallet.homepage,"_blank")}};W3mMobileDownloadLinks.styles=[styles$3];__decorate$7([n$8({type:Object})],W3mMobileDownloadLinks.prototype,"wallet",void 0);W3mMobileDownloadLinks=__decorate$7([customElement("w3m-mobile-download-links")],W3mMobileDownloadLinks);const styles$2=i$7`
  wui-flex {
    border-top: 1px solid var(--wui-gray-glass-005);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-3xs);
  }
`;var __decorate$6=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mOnRampProvidersFooter=class extends r$7{render(){const{termsConditionsUrl:Y,privacyPolicyUrl:ne}=OptionsController.state;return!Y&&!ne?null:x$4`
      <wui-flex
        .padding=${["m","s","s","s"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="s"
      >
        <wui-text color="fg-250" variant="small-400" align="center">
          We work with the best providers to fit your buyer needs, region, and to get you the lowest
          fees
        </wui-text>

        ${this.whatIsBuyTemplate()}
      </wui-flex>
    `}whatIsBuyTemplate(){return x$4` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
      What is Buy
    </wui-link>`}onWhatIsBuy(){RouterController.push("WhatIsABuy")}};W3mOnRampProvidersFooter.styles=[styles$2];W3mOnRampProvidersFooter=__decorate$6([customElement("w3m-onramp-providers-footer")],W3mOnRampProvidersFooter);const styles$1=i$7`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var __decorate$5=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};const presets={success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let W3mSnackBar=class extends r$7{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=SnackController.state.open,this.unsubscribe.push(SnackController.subscribeKey("open",Y=>{this.open=Y,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(Y=>Y())}render(){const{message:Y,variant:ne}=SnackController.state,fe=presets[ne];return x$4`
      <wui-snackbar
        message=${Y}
        backgroundColor=${fe.backgroundColor}
        iconColor=${fe.iconColor}
        icon=${fe.icon}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout=setTimeout(()=>SnackController.hide(),2500)):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};W3mSnackBar.styles=styles$1;__decorate$5([r$5()],W3mSnackBar.prototype,"open",void 0);W3mSnackBar=__decorate$5([customElement("w3m-snackbar")],W3mSnackBar);const styles=i$7`
  wui-separator {
    margin: var(--wui-spacing-s) calc(var(--wui-spacing-s) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }

  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }

  wui-icon-link,
  wui-loading-spinner {
    position: absolute;
    top: 21px;
    transform: translateY(-50%);
  }

  wui-icon-link {
    right: var(--wui-spacing-xs);
  }

  wui-loading-spinner {
    right: var(--wui-spacing-m);
  }

  .betaBanner {
    padding: 10px 12px 10px 10px;
    border-radius: var(--wui-border-radius-s);
    background: var(--wui-accent-glass-010);
    margin-bottom: var(--wui-spacing-s);
  }
`;var __decorate$4=function(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me};let W3mEmailLoginWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.formRef=e$3(),this.connectors=ConnectorController.state.connectors,this.email="",this.loading=!1,this.error="",this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Y=>this.connectors=Y))}disconnectedCallback(){this.unsubscribe.forEach(Y=>Y())}firstUpdated(){var Y;(Y=this.formRef.value)==null||Y.addEventListener("keydown",ne=>{ne.key==="Enter"&&this.onSubmitEmail(ne)})}render(){const Y=this.connectors.length>1;return this.connectors.find(fe=>fe.type==="EMAIL")?x$4`
      ${this.betaWarningTemplate()}
      <form ${n$6(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
        <wui-email-input
          @focus=${this.onFocusEvent.bind(this)}
          .disabled=${this.loading}
          @inputChange=${this.onEmailInputChange.bind(this)}
          .errorMessage=${this.error}
        >
        </wui-email-input>

        ${this.submitButtonTemplate()}${this.loadingTemplate()}
        <input type="submit" hidden />
      </form>

      ${Y?x$4`<wui-separator text="or"></wui-separator>`:null}
    `:null}betaWarningTemplate(){return x$4`
          <wui-flex class="betaBanner" gap="xs" alignItems="center" justifyContent="center">
            <wui-text variant="small-400" color="accent-100">Email login is in beta</wui-text>
          </wui-flex>
        `}submitButtonTemplate(){return!this.loading&&this.email.length>3?x$4`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitEmail.bind(this)}
          >
          </wui-icon-link>
        `:null}loadingTemplate(){return this.loading?x$4`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:null}onEmailInputChange(Y){this.email=Y.detail,this.error=""}async onSubmitEmail(Y){try{if(this.loading)return;this.loading=!0,Y.preventDefault();const ne=ConnectorController.getEmailConnector();if(!ne)throw new Error("w3m-email-login-widget: Email connector not found");const{action:fe}=await ne.provider.connectEmail({email:this.email});EventsController.sendEvent({type:"track",event:"EMAIL_SUBMITTED"}),fe==="VERIFY_OTP"?(EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),RouterController.push("EmailVerifyOtp",{email:this.email})):fe==="VERIFY_DEVICE"&&RouterController.push("EmailVerifyDevice",{email:this.email})}catch(ne){const fe=CoreHelperUtil.parseError(ne);fe!=null&&fe.includes("Invalid email")?this.error="Invalid email. Try again.":SnackController.showError(ne)}finally{this.loading=!1}}onFocusEvent(){EventsController.sendEvent({type:"track",event:"EMAIL_LOGIN_SELECTED"})}};W3mEmailLoginWidget.styles=styles;__decorate$4([r$5()],W3mEmailLoginWidget.prototype,"connectors",void 0);__decorate$4([r$5()],W3mEmailLoginWidget.prototype,"email",void 0);__decorate$4([r$5()],W3mEmailLoginWidget.prototype,"loading",void 0);__decorate$4([r$5()],W3mEmailLoginWidget.prototype,"error",void 0);W3mEmailLoginWidget=__decorate$4([customElement("w3m-email-login-widget")],W3mEmailLoginWidget);let isInitialized=!1;class Web3ModalScaffold{constructor(Y){this.initPromise=void 0,this.setIsConnected=ne=>{AccountController.setIsConnected(ne)},this.setCaipAddress=ne=>{AccountController.setCaipAddress(ne)},this.setBalance=(ne,fe)=>{AccountController.setBalance(ne,fe)},this.setProfileName=ne=>{AccountController.setProfileName(ne)},this.setProfileImage=ne=>{AccountController.setProfileImage(ne)},this.resetAccount=()=>{AccountController.resetAccount()},this.setCaipNetwork=ne=>{NetworkController.setCaipNetwork(ne)},this.getCaipNetwork=()=>NetworkController.state.caipNetwork,this.setRequestedCaipNetworks=ne=>{NetworkController.setRequestedCaipNetworks(ne)},this.getApprovedCaipNetworksData=()=>NetworkController.getApprovedCaipNetworksData(),this.resetNetwork=()=>{NetworkController.resetNetwork()},this.setConnectors=ne=>{ConnectorController.setConnectors(ne)},this.addConnector=ne=>{ConnectorController.addConnector(ne)},this.getConnectors=()=>ConnectorController.getConnectors(),this.resetWcConnection=()=>{ConnectionController.resetWcConnection()},this.fetchIdentity=ne=>BlockchainApiController.fetchIdentity(ne),this.setAddressExplorerUrl=ne=>{AccountController.setAddressExplorerUrl(ne)},this.setSIWENonce=ne=>{SIWEController.setNonce(ne)},this.setSIWESession=ne=>{SIWEController.setSession(ne)},this.setSIWEStatus=ne=>{SIWEController.setStatus(ne)},this.setSIWEMessage=ne=>{SIWEController.setMessage(ne)},this.initControllers(Y),this.initOrContinue()}async open(Y){await this.initOrContinue(),ModalController.open(Y)}async close(){await this.initOrContinue(),ModalController.close()}setLoading(Y){ModalController.setLoading(Y)}getThemeMode(){return ThemeController.state.themeMode}getThemeVariables(){return ThemeController.state.themeVariables}setThemeMode(Y){ThemeController.setThemeMode(Y),setColorTheme(ThemeController.state.themeMode)}setThemeVariables(Y){ThemeController.setThemeVariables(Y),setThemeVariables(ThemeController.state.themeVariables)}subscribeTheme(Y){return ThemeController.subscribe(Y)}getState(){return{...PublicStateController.state}}subscribeState(Y){return PublicStateController.subscribe(Y)}showErrorMessage(Y){SnackController.showError(Y)}showSuccessMessage(Y){SnackController.showSuccess(Y)}getEvent(){return{...EventsController.state}}subscribeEvents(Y){return EventsController.subscribe(Y)}subscribeSIWEState(Y){return SIWEController.subscribe(Y)}initControllers(Y){if(NetworkController.setClient(Y.networkControllerClient),NetworkController.setDefaultCaipNetwork(Y.defaultChain),OptionsController.setProjectId(Y.projectId),OptionsController.setAllWallets(Y.allWallets),OptionsController.setIncludeWalletIds(Y.includeWalletIds),OptionsController.setExcludeWalletIds(Y.excludeWalletIds),OptionsController.setFeaturedWalletIds(Y.featuredWalletIds),OptionsController.setTokens(Y.tokens),OptionsController.setTermsConditionsUrl(Y.termsConditionsUrl),OptionsController.setPrivacyPolicyUrl(Y.privacyPolicyUrl),OptionsController.setCustomWallets(Y.customWallets),OptionsController.setEnableAnalytics(Y.enableAnalytics),OptionsController.setSdkVersion(Y._sdkVersion),ConnectionController.setClient(Y.connectionControllerClient),Y.siweControllerClient){const ne=Y.siweControllerClient;SIWEController.setSIWEClient(ne)}Y.metadata&&OptionsController.setMetadata(Y.metadata),Y.themeMode&&ThemeController.setThemeMode(Y.themeMode),Y.themeVariables&&ThemeController.setThemeVariables(Y.themeVariables),Y.enableOnramp&&OptionsController.setOnrampEnabled(!!Y.enableOnramp)}async initOrContinue(){return!this.initPromise&&!isInitialized&&CoreHelperUtil.isClient()&&(isInitialized=!0,this.initPromise=new Promise(async Y=>{await Promise.all([__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0,import.meta.url),__vitePreload(()=>Promise.resolve().then(()=>index),void 0,import.meta.url)]);const ne=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",ne),Y()})),this.initPromise}}const ConstantsUtil={WALLET_CONNECT_CONNECTOR_ID:"walletConnect",INJECTED_CONNECTOR_ID:"injected",COINBASE_CONNECTOR_ID:"coinbaseWallet",COINBASE_SDK_CONNECTOR_ID:"coinbaseWalletSDK",SAFE_CONNECTOR_ID:"safe",LEDGER_CONNECTOR_ID:"ledger",EIP6963_CONNECTOR_ID:"eip6963",EMAIL_CONNECTOR_ID:"w3mEmail",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",VERSION:"4.0.10"},PresetsUtil={ConnectorExplorerIds:{[ConstantsUtil.COINBASE_CONNECTOR_ID]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ConstantsUtil.SAFE_CONNECTOR_ID]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ConstantsUtil.LEDGER_CONNECTOR_ID]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927"},EIP155NetworkImageIds:{1:"692ed6ba-e569-459a-556a-776476829e00",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00"},ConnectorImageIds:{[ConstantsUtil.COINBASE_CONNECTOR_ID]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ConstantsUtil.COINBASE_SDK_CONNECTOR_ID]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ConstantsUtil.SAFE_CONNECTOR_ID]:"461db637-8616-43ce-035a-d89b8a1d5800",[ConstantsUtil.LEDGER_CONNECTOR_ID]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ConstantsUtil.INJECTED_CONNECTOR_ID]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ConstantsUtil.INJECTED_CONNECTOR_ID]:"Browser Wallet",[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID]:"WalletConnect",[ConstantsUtil.COINBASE_CONNECTOR_ID]:"Coinbase",[ConstantsUtil.COINBASE_SDK_CONNECTOR_ID]:"Coinbase",[ConstantsUtil.LEDGER_CONNECTOR_ID]:"Ledger",[ConstantsUtil.SAFE_CONNECTOR_ID]:"Safe"},ConnectorTypesMap:{[ConstantsUtil.INJECTED_CONNECTOR_ID]:"INJECTED",[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID]:"WALLET_CONNECT",[ConstantsUtil.EIP6963_CONNECTOR_ID]:"ANNOUNCED",[ConstantsUtil.EMAIL_CONNECTOR_ID]:"EMAIL"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},HelpersUtil={caipNetworkIdToNumber(se){return se?Number(se.split(":")[1]):void 0},getCaipTokens(se){if(!se)return;const Y={};return Object.entries(se).forEach(([ne,fe])=>{Y[`${ConstantsUtil.EIP155}:${ne}`]=fe}),Y}};var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var se=typeof Reflect=="object"?Reflect:null,Y=se&&typeof se.apply=="function"?se.apply:function(Rn,An,$n){return Function.prototype.apply.call(Rn,An,$n)},ne;se&&typeof se.ownKeys=="function"?ne=se.ownKeys:Object.getOwnPropertySymbols?ne=function(Rn){return Object.getOwnPropertyNames(Rn).concat(Object.getOwnPropertySymbols(Rn))}:ne=function(Rn){return Object.getOwnPropertyNames(Rn)};function fe(En){console&&console.warn&&console.warn(En)}var ye=Number.isNaN||function(Rn){return Rn!==Rn};function me(){me.init.call(this)}events.exports=me,events.exports.once=jr,me.EventEmitter=me,me.prototype._events=void 0,me.prototype._eventsCount=0,me.prototype._maxListeners=void 0;var be=10;function we(En){if(typeof En!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof En)}Object.defineProperty(me,"defaultMaxListeners",{enumerable:!0,get:function(){return be},set:function(En){if(typeof En!="number"||En<0||ye(En))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+En+".");be=En}}),me.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},me.prototype.setMaxListeners=function(Rn){if(typeof Rn!="number"||Rn<0||ye(Rn))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Rn+".");return this._maxListeners=Rn,this};function Ee(En){return En._maxListeners===void 0?me.defaultMaxListeners:En._maxListeners}me.prototype.getMaxListeners=function(){return Ee(this)},me.prototype.emit=function(Rn){for(var An=[],$n=1;$n<arguments.length;$n++)An.push(arguments[$n]);var Tn=Rn==="error",ti=this._events;if(ti!==void 0)Tn=Tn&&ti.error===void 0;else if(!Tn)return!1;if(Tn){var ai;if(An.length>0&&(ai=An[0]),ai instanceof Error)throw ai;var On=new Error("Unhandled error."+(ai?" ("+ai.message+")":""));throw On.context=ai,On}var Sn=ti[Rn];if(Sn===void 0)return!1;if(typeof Sn=="function")Y(Sn,this,An);else for(var Zr=Sn.length,Oe=kr(Sn,Zr),$n=0;$n<Zr;++$n)Y(Oe[$n],this,An);return!0};function xe(En,Rn,An,$n){var Tn,ti,ai;if(we(An),ti=En._events,ti===void 0?(ti=En._events=Object.create(null),En._eventsCount=0):(ti.newListener!==void 0&&(En.emit("newListener",Rn,An.listener?An.listener:An),ti=En._events),ai=ti[Rn]),ai===void 0)ai=ti[Rn]=An,++En._eventsCount;else if(typeof ai=="function"?ai=ti[Rn]=$n?[An,ai]:[ai,An]:$n?ai.unshift(An):ai.push(An),Tn=Ee(En),Tn>0&&ai.length>Tn&&!ai.warned){ai.warned=!0;var On=new Error("Possible EventEmitter memory leak detected. "+ai.length+" "+String(Rn)+" listeners added. Use emitter.setMaxListeners() to increase limit");On.name="MaxListenersExceededWarning",On.emitter=En,On.type=Rn,On.count=ai.length,fe(On)}return En}me.prototype.addListener=function(Rn,An){return xe(this,Rn,An,!1)},me.prototype.on=me.prototype.addListener,me.prototype.prependListener=function(Rn,An){return xe(this,Rn,An,!0)};function Se(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ie(En,Rn,An){var $n={fired:!1,wrapFn:void 0,target:En,type:Rn,listener:An},Tn=Se.bind($n);return Tn.listener=An,$n.wrapFn=Tn,Tn}me.prototype.once=function(Rn,An){return we(An),this.on(Rn,Ie(this,Rn,An)),this},me.prototype.prependOnceListener=function(Rn,An){return we(An),this.prependListener(Rn,Ie(this,Rn,An)),this},me.prototype.removeListener=function(Rn,An){var $n,Tn,ti,ai,On;if(we(An),Tn=this._events,Tn===void 0)return this;if($n=Tn[Rn],$n===void 0)return this;if($n===An||$n.listener===An)--this._eventsCount===0?this._events=Object.create(null):(delete Tn[Rn],Tn.removeListener&&this.emit("removeListener",Rn,$n.listener||An));else if(typeof $n!="function"){for(ti=-1,ai=$n.length-1;ai>=0;ai--)if($n[ai]===An||$n[ai].listener===An){On=$n[ai].listener,ti=ai;break}if(ti<0)return this;ti===0?$n.shift():Wr($n,ti),$n.length===1&&(Tn[Rn]=$n[0]),Tn.removeListener!==void 0&&this.emit("removeListener",Rn,On||An)}return this},me.prototype.off=me.prototype.removeListener,me.prototype.removeAllListeners=function(Rn){var An,$n,Tn;if($n=this._events,$n===void 0)return this;if($n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$n[Rn]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $n[Rn]),this;if(arguments.length===0){var ti=Object.keys($n),ai;for(Tn=0;Tn<ti.length;++Tn)ai=ti[Tn],ai!=="removeListener"&&this.removeAllListeners(ai);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(An=$n[Rn],typeof An=="function")this.removeListener(Rn,An);else if(An!==void 0)for(Tn=An.length-1;Tn>=0;Tn--)this.removeListener(Rn,An[Tn]);return this};function fr(En,Rn,An){var $n=En._events;if($n===void 0)return[];var Tn=$n[Rn];return Tn===void 0?[]:typeof Tn=="function"?An?[Tn.listener||Tn]:[Tn]:An?Gr(Tn):kr(Tn,Tn.length)}me.prototype.listeners=function(Rn){return fr(this,Rn,!0)},me.prototype.rawListeners=function(Rn){return fr(this,Rn,!1)},me.listenerCount=function(En,Rn){return typeof En.listenerCount=="function"?En.listenerCount(Rn):br.call(En,Rn)},me.prototype.listenerCount=br;function br(En){var Rn=this._events;if(Rn!==void 0){var An=Rn[En];if(typeof An=="function")return 1;if(An!==void 0)return An.length}return 0}me.prototype.eventNames=function(){return this._eventsCount>0?ne(this._events):[]};function kr(En,Rn){for(var An=new Array(Rn),$n=0;$n<Rn;++$n)An[$n]=En[$n];return An}function Wr(En,Rn){for(;Rn+1<En.length;Rn++)En[Rn]=En[Rn+1];En.pop()}function Gr(En){for(var Rn=new Array(En.length),An=0;An<Rn.length;++An)Rn[An]=En[An].listener||En[An];return Rn}function jr(En,Rn){return new Promise(function(An,$n){function Tn(ai){En.removeListener(Rn,ti),$n(ai)}function ti(){typeof En.removeListener=="function"&&En.removeListener("error",Tn),An([].slice.call(arguments))}wn(En,Rn,ti,{once:!0}),Rn!=="error"&&Qr(En,Tn,{once:!0})})}function Qr(En,Rn,An){typeof En.on=="function"&&wn(En,"error",Rn,An)}function wn(En,Rn,An,$n){if(typeof En.on=="function")$n.once?En.once(Rn,An):En.on(Rn,An);else if(typeof En.addEventListener=="function")En.addEventListener(Rn,function Tn(ti){$n.once&&En.removeEventListener(Rn,Tn),An(ti)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof En)}return events.exports}var eventsExports=requireEvents();const Ug=getDefaultExportFromCjs(eventsExports);var chacha20poly1305={},chacha={},binary={},int={},hasRequiredInt;function requireInt(){return hasRequiredInt||(hasRequiredInt=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});function Y(we,Ee){var xe=we>>>16&65535,Se=we&65535,Ie=Ee>>>16&65535,fr=Ee&65535;return Se*fr+(xe*fr+Se*Ie<<16>>>0)|0}se.mul=Math.imul||Y;function ne(we,Ee){return we+Ee|0}se.add=ne;function fe(we,Ee){return we-Ee|0}se.sub=fe;function ye(we,Ee){return we<<Ee|we>>>32-Ee}se.rotl=ye;function me(we,Ee){return we<<32-Ee|we>>>Ee}se.rotr=me;function be(we){return typeof we=="number"&&isFinite(we)&&Math.floor(we)===we}se.isInteger=Number.isInteger||be,se.MAX_SAFE_INTEGER=9007199254740991,se.isSafeInteger=function(we){return se.isInteger(we)&&we>=-se.MAX_SAFE_INTEGER&&we<=se.MAX_SAFE_INTEGER}}(int)),int}var hasRequiredBinary;function requireBinary(){if(hasRequiredBinary)return binary;hasRequiredBinary=1,Object.defineProperty(binary,"__esModule",{value:!0});var se=requireInt();function Y(wr,qr){return qr===void 0&&(qr=0),(wr[qr+0]<<8|wr[qr+1])<<16>>16}binary.readInt16BE=Y;function ne(wr,qr){return qr===void 0&&(qr=0),(wr[qr+0]<<8|wr[qr+1])>>>0}binary.readUint16BE=ne;function fe(wr,qr){return qr===void 0&&(qr=0),(wr[qr+1]<<8|wr[qr])<<16>>16}binary.readInt16LE=fe;function ye(wr,qr){return qr===void 0&&(qr=0),(wr[qr+1]<<8|wr[qr])>>>0}binary.readUint16LE=ye;function me(wr,qr,Vr){return qr===void 0&&(qr=new Uint8Array(2)),Vr===void 0&&(Vr=0),qr[Vr+0]=wr>>>8,qr[Vr+1]=wr>>>0,qr}binary.writeUint16BE=me,binary.writeInt16BE=me;function be(wr,qr,Vr){return qr===void 0&&(qr=new Uint8Array(2)),Vr===void 0&&(Vr=0),qr[Vr+0]=wr>>>0,qr[Vr+1]=wr>>>8,qr}binary.writeUint16LE=be,binary.writeInt16LE=be;function we(wr,qr){return qr===void 0&&(qr=0),wr[qr]<<24|wr[qr+1]<<16|wr[qr+2]<<8|wr[qr+3]}binary.readInt32BE=we;function Ee(wr,qr){return qr===void 0&&(qr=0),(wr[qr]<<24|wr[qr+1]<<16|wr[qr+2]<<8|wr[qr+3])>>>0}binary.readUint32BE=Ee;function xe(wr,qr){return qr===void 0&&(qr=0),wr[qr+3]<<24|wr[qr+2]<<16|wr[qr+1]<<8|wr[qr]}binary.readInt32LE=xe;function Se(wr,qr){return qr===void 0&&(qr=0),(wr[qr+3]<<24|wr[qr+2]<<16|wr[qr+1]<<8|wr[qr])>>>0}binary.readUint32LE=Se;function Ie(wr,qr,Vr){return qr===void 0&&(qr=new Uint8Array(4)),Vr===void 0&&(Vr=0),qr[Vr+0]=wr>>>24,qr[Vr+1]=wr>>>16,qr[Vr+2]=wr>>>8,qr[Vr+3]=wr>>>0,qr}binary.writeUint32BE=Ie,binary.writeInt32BE=Ie;function fr(wr,qr,Vr){return qr===void 0&&(qr=new Uint8Array(4)),Vr===void 0&&(Vr=0),qr[Vr+0]=wr>>>0,qr[Vr+1]=wr>>>8,qr[Vr+2]=wr>>>16,qr[Vr+3]=wr>>>24,qr}binary.writeUint32LE=fr,binary.writeInt32LE=fr;function br(wr,qr){qr===void 0&&(qr=0);var Vr=we(wr,qr),Jr=we(wr,qr+4);return Vr*4294967296+Jr-(Jr>>31)*4294967296}binary.readInt64BE=br;function kr(wr,qr){qr===void 0&&(qr=0);var Vr=Ee(wr,qr),Jr=Ee(wr,qr+4);return Vr*4294967296+Jr}binary.readUint64BE=kr;function Wr(wr,qr){qr===void 0&&(qr=0);var Vr=xe(wr,qr),Jr=xe(wr,qr+4);return Jr*4294967296+Vr-(Vr>>31)*4294967296}binary.readInt64LE=Wr;function Gr(wr,qr){qr===void 0&&(qr=0);var Vr=Se(wr,qr),Jr=Se(wr,qr+4);return Jr*4294967296+Vr}binary.readUint64LE=Gr;function jr(wr,qr,Vr){return qr===void 0&&(qr=new Uint8Array(8)),Vr===void 0&&(Vr=0),Ie(wr/4294967296>>>0,qr,Vr),Ie(wr>>>0,qr,Vr+4),qr}binary.writeUint64BE=jr,binary.writeInt64BE=jr;function Qr(wr,qr,Vr){return qr===void 0&&(qr=new Uint8Array(8)),Vr===void 0&&(Vr=0),fr(wr>>>0,qr,Vr),fr(wr/4294967296>>>0,qr,Vr+4),qr}binary.writeUint64LE=Qr,binary.writeInt64LE=Qr;function wn(wr,qr,Vr){if(Vr===void 0&&(Vr=0),wr%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(wr/8>qr.length-Vr)throw new Error("readUintBE: array is too short for the given bitLength");for(var Jr=0,Xr=1,Kr=wr/8+Vr-1;Kr>=Vr;Kr--)Jr+=qr[Kr]*Xr,Xr*=256;return Jr}binary.readUintBE=wn;function En(wr,qr,Vr){if(Vr===void 0&&(Vr=0),wr%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(wr/8>qr.length-Vr)throw new Error("readUintLE: array is too short for the given bitLength");for(var Jr=0,Xr=1,Kr=Vr;Kr<Vr+wr/8;Kr++)Jr+=qr[Kr]*Xr,Xr*=256;return Jr}binary.readUintLE=En;function Rn(wr,qr,Vr,Jr){if(Vr===void 0&&(Vr=new Uint8Array(wr/8)),Jr===void 0&&(Jr=0),wr%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!se.isSafeInteger(qr))throw new Error("writeUintBE value must be an integer");for(var Xr=1,Kr=wr/8+Jr-1;Kr>=Jr;Kr--)Vr[Kr]=qr/Xr&255,Xr*=256;return Vr}binary.writeUintBE=Rn;function An(wr,qr,Vr,Jr){if(Vr===void 0&&(Vr=new Uint8Array(wr/8)),Jr===void 0&&(Jr=0),wr%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!se.isSafeInteger(qr))throw new Error("writeUintLE value must be an integer");for(var Xr=1,Kr=Jr;Kr<Jr+wr/8;Kr++)Vr[Kr]=qr/Xr&255,Xr*=256;return Vr}binary.writeUintLE=An;function $n(wr,qr){qr===void 0&&(qr=0);var Vr=new DataView(wr.buffer,wr.byteOffset,wr.byteLength);return Vr.getFloat32(qr)}binary.readFloat32BE=$n;function Tn(wr,qr){qr===void 0&&(qr=0);var Vr=new DataView(wr.buffer,wr.byteOffset,wr.byteLength);return Vr.getFloat32(qr,!0)}binary.readFloat32LE=Tn;function ti(wr,qr){qr===void 0&&(qr=0);var Vr=new DataView(wr.buffer,wr.byteOffset,wr.byteLength);return Vr.getFloat64(qr)}binary.readFloat64BE=ti;function ai(wr,qr){qr===void 0&&(qr=0);var Vr=new DataView(wr.buffer,wr.byteOffset,wr.byteLength);return Vr.getFloat64(qr,!0)}binary.readFloat64LE=ai;function On(wr,qr,Vr){qr===void 0&&(qr=new Uint8Array(4)),Vr===void 0&&(Vr=0);var Jr=new DataView(qr.buffer,qr.byteOffset,qr.byteLength);return Jr.setFloat32(Vr,wr),qr}binary.writeFloat32BE=On;function Sn(wr,qr,Vr){qr===void 0&&(qr=new Uint8Array(4)),Vr===void 0&&(Vr=0);var Jr=new DataView(qr.buffer,qr.byteOffset,qr.byteLength);return Jr.setFloat32(Vr,wr,!0),qr}binary.writeFloat32LE=Sn;function Zr(wr,qr,Vr){qr===void 0&&(qr=new Uint8Array(8)),Vr===void 0&&(Vr=0);var Jr=new DataView(qr.buffer,qr.byteOffset,qr.byteLength);return Jr.setFloat64(Vr,wr),qr}binary.writeFloat64BE=Zr;function Oe(wr,qr,Vr){qr===void 0&&(qr=new Uint8Array(8)),Vr===void 0&&(Vr=0);var Jr=new DataView(qr.buffer,qr.byteOffset,qr.byteLength);return Jr.setFloat64(Vr,wr,!0),qr}return binary.writeFloat64LE=Oe,binary}var wipe={},hasRequiredWipe;function requireWipe(){if(hasRequiredWipe)return wipe;hasRequiredWipe=1,Object.defineProperty(wipe,"__esModule",{value:!0});function se(Y){for(var ne=0;ne<Y.length;ne++)Y[ne]=0;return Y}return wipe.wipe=se,wipe}var hasRequiredChacha;function requireChacha(){if(hasRequiredChacha)return chacha;hasRequiredChacha=1,Object.defineProperty(chacha,"__esModule",{value:!0});var se=requireBinary(),Y=requireWipe(),ne=20;function fe(we,Ee,xe){for(var Se=1634760805,Ie=857760878,fr=2036477234,br=1797285236,kr=xe[3]<<24|xe[2]<<16|xe[1]<<8|xe[0],Wr=xe[7]<<24|xe[6]<<16|xe[5]<<8|xe[4],Gr=xe[11]<<24|xe[10]<<16|xe[9]<<8|xe[8],jr=xe[15]<<24|xe[14]<<16|xe[13]<<8|xe[12],Qr=xe[19]<<24|xe[18]<<16|xe[17]<<8|xe[16],wn=xe[23]<<24|xe[22]<<16|xe[21]<<8|xe[20],En=xe[27]<<24|xe[26]<<16|xe[25]<<8|xe[24],Rn=xe[31]<<24|xe[30]<<16|xe[29]<<8|xe[28],An=Ee[3]<<24|Ee[2]<<16|Ee[1]<<8|Ee[0],$n=Ee[7]<<24|Ee[6]<<16|Ee[5]<<8|Ee[4],Tn=Ee[11]<<24|Ee[10]<<16|Ee[9]<<8|Ee[8],ti=Ee[15]<<24|Ee[14]<<16|Ee[13]<<8|Ee[12],ai=Se,On=Ie,Sn=fr,Zr=br,Oe=kr,wr=Wr,qr=Gr,Vr=jr,Jr=Qr,Xr=wn,Kr=En,Yr=Rn,Br=An,_n=$n,ii=Tn,ni=ti,si=0;si<ne;si+=2)ai=ai+Oe|0,Br^=ai,Br=Br>>>16|Br<<16,Jr=Jr+Br|0,Oe^=Jr,Oe=Oe>>>20|Oe<<12,On=On+wr|0,_n^=On,_n=_n>>>16|_n<<16,Xr=Xr+_n|0,wr^=Xr,wr=wr>>>20|wr<<12,Sn=Sn+qr|0,ii^=Sn,ii=ii>>>16|ii<<16,Kr=Kr+ii|0,qr^=Kr,qr=qr>>>20|qr<<12,Zr=Zr+Vr|0,ni^=Zr,ni=ni>>>16|ni<<16,Yr=Yr+ni|0,Vr^=Yr,Vr=Vr>>>20|Vr<<12,Sn=Sn+qr|0,ii^=Sn,ii=ii>>>24|ii<<8,Kr=Kr+ii|0,qr^=Kr,qr=qr>>>25|qr<<7,Zr=Zr+Vr|0,ni^=Zr,ni=ni>>>24|ni<<8,Yr=Yr+ni|0,Vr^=Yr,Vr=Vr>>>25|Vr<<7,On=On+wr|0,_n^=On,_n=_n>>>24|_n<<8,Xr=Xr+_n|0,wr^=Xr,wr=wr>>>25|wr<<7,ai=ai+Oe|0,Br^=ai,Br=Br>>>24|Br<<8,Jr=Jr+Br|0,Oe^=Jr,Oe=Oe>>>25|Oe<<7,ai=ai+wr|0,ni^=ai,ni=ni>>>16|ni<<16,Kr=Kr+ni|0,wr^=Kr,wr=wr>>>20|wr<<12,On=On+qr|0,Br^=On,Br=Br>>>16|Br<<16,Yr=Yr+Br|0,qr^=Yr,qr=qr>>>20|qr<<12,Sn=Sn+Vr|0,_n^=Sn,_n=_n>>>16|_n<<16,Jr=Jr+_n|0,Vr^=Jr,Vr=Vr>>>20|Vr<<12,Zr=Zr+Oe|0,ii^=Zr,ii=ii>>>16|ii<<16,Xr=Xr+ii|0,Oe^=Xr,Oe=Oe>>>20|Oe<<12,Sn=Sn+Vr|0,_n^=Sn,_n=_n>>>24|_n<<8,Jr=Jr+_n|0,Vr^=Jr,Vr=Vr>>>25|Vr<<7,Zr=Zr+Oe|0,ii^=Zr,ii=ii>>>24|ii<<8,Xr=Xr+ii|0,Oe^=Xr,Oe=Oe>>>25|Oe<<7,On=On+qr|0,Br^=On,Br=Br>>>24|Br<<8,Yr=Yr+Br|0,qr^=Yr,qr=qr>>>25|qr<<7,ai=ai+wr|0,ni^=ai,ni=ni>>>24|ni<<8,Kr=Kr+ni|0,wr^=Kr,wr=wr>>>25|wr<<7;se.writeUint32LE(ai+Se|0,we,0),se.writeUint32LE(On+Ie|0,we,4),se.writeUint32LE(Sn+fr|0,we,8),se.writeUint32LE(Zr+br|0,we,12),se.writeUint32LE(Oe+kr|0,we,16),se.writeUint32LE(wr+Wr|0,we,20),se.writeUint32LE(qr+Gr|0,we,24),se.writeUint32LE(Vr+jr|0,we,28),se.writeUint32LE(Jr+Qr|0,we,32),se.writeUint32LE(Xr+wn|0,we,36),se.writeUint32LE(Kr+En|0,we,40),se.writeUint32LE(Yr+Rn|0,we,44),se.writeUint32LE(Br+An|0,we,48),se.writeUint32LE(_n+$n|0,we,52),se.writeUint32LE(ii+Tn|0,we,56),se.writeUint32LE(ni+ti|0,we,60)}function ye(we,Ee,xe,Se,Ie){if(Ie===void 0&&(Ie=0),we.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(Se.length<xe.length)throw new Error("ChaCha: destination is shorter than source");var fr,br;if(Ie===0){if(Ee.length!==8&&Ee.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");fr=new Uint8Array(16),br=fr.length-Ee.length,fr.set(Ee,br)}else{if(Ee.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");fr=Ee,br=Ie}for(var kr=new Uint8Array(64),Wr=0;Wr<xe.length;Wr+=64){fe(kr,fr,we);for(var Gr=Wr;Gr<Wr+64&&Gr<xe.length;Gr++)Se[Gr]=xe[Gr]^kr[Gr-Wr];be(fr,0,br)}return Y.wipe(kr),Ie===0&&Y.wipe(fr),Se}chacha.streamXOR=ye;function me(we,Ee,xe,Se){return Se===void 0&&(Se=0),Y.wipe(xe),ye(we,Ee,xe,xe,Se)}chacha.stream=me;function be(we,Ee,xe){for(var Se=1;xe--;)Se=Se+(we[Ee]&255)|0,we[Ee]=Se&255,Se>>>=8,Ee++;if(Se>0)throw new Error("ChaCha: counter overflow")}return chacha}var poly1305={},constantTime={},hasRequiredConstantTime;function requireConstantTime(){if(hasRequiredConstantTime)return constantTime;hasRequiredConstantTime=1,Object.defineProperty(constantTime,"__esModule",{value:!0});function se(ye,me,be){return~(ye-1)&me|ye-1&be}constantTime.select=se;function Y(ye,me){return(ye|0)-(me|0)-1>>>31&1}constantTime.lessOrEqual=Y;function ne(ye,me){if(ye.length!==me.length)return 0;for(var be=0,we=0;we<ye.length;we++)be|=ye[we]^me[we];return 1&be-1>>>8}constantTime.compare=ne;function fe(ye,me){return ye.length===0||me.length===0?!1:ne(ye,me)!==0}return constantTime.equal=fe,constantTime}var hasRequiredPoly1305;function requirePoly1305(){return hasRequiredPoly1305||(hasRequiredPoly1305=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});var Y=requireConstantTime(),ne=requireWipe();se.DIGEST_LENGTH=16;var fe=function(){function be(we){this.digestLength=se.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var Ee=we[0]|we[1]<<8;this._r[0]=Ee&8191;var xe=we[2]|we[3]<<8;this._r[1]=(Ee>>>13|xe<<3)&8191;var Se=we[4]|we[5]<<8;this._r[2]=(xe>>>10|Se<<6)&7939;var Ie=we[6]|we[7]<<8;this._r[3]=(Se>>>7|Ie<<9)&8191;var fr=we[8]|we[9]<<8;this._r[4]=(Ie>>>4|fr<<12)&255,this._r[5]=fr>>>1&8190;var br=we[10]|we[11]<<8;this._r[6]=(fr>>>14|br<<2)&8191;var kr=we[12]|we[13]<<8;this._r[7]=(br>>>11|kr<<5)&8065;var Wr=we[14]|we[15]<<8;this._r[8]=(kr>>>8|Wr<<8)&8191,this._r[9]=Wr>>>5&127,this._pad[0]=we[16]|we[17]<<8,this._pad[1]=we[18]|we[19]<<8,this._pad[2]=we[20]|we[21]<<8,this._pad[3]=we[22]|we[23]<<8,this._pad[4]=we[24]|we[25]<<8,this._pad[5]=we[26]|we[27]<<8,this._pad[6]=we[28]|we[29]<<8,this._pad[7]=we[30]|we[31]<<8}return be.prototype._blocks=function(we,Ee,xe){for(var Se=this._fin?0:2048,Ie=this._h[0],fr=this._h[1],br=this._h[2],kr=this._h[3],Wr=this._h[4],Gr=this._h[5],jr=this._h[6],Qr=this._h[7],wn=this._h[8],En=this._h[9],Rn=this._r[0],An=this._r[1],$n=this._r[2],Tn=this._r[3],ti=this._r[4],ai=this._r[5],On=this._r[6],Sn=this._r[7],Zr=this._r[8],Oe=this._r[9];xe>=16;){var wr=we[Ee+0]|we[Ee+1]<<8;Ie+=wr&8191;var qr=we[Ee+2]|we[Ee+3]<<8;fr+=(wr>>>13|qr<<3)&8191;var Vr=we[Ee+4]|we[Ee+5]<<8;br+=(qr>>>10|Vr<<6)&8191;var Jr=we[Ee+6]|we[Ee+7]<<8;kr+=(Vr>>>7|Jr<<9)&8191;var Xr=we[Ee+8]|we[Ee+9]<<8;Wr+=(Jr>>>4|Xr<<12)&8191,Gr+=Xr>>>1&8191;var Kr=we[Ee+10]|we[Ee+11]<<8;jr+=(Xr>>>14|Kr<<2)&8191;var Yr=we[Ee+12]|we[Ee+13]<<8;Qr+=(Kr>>>11|Yr<<5)&8191;var Br=we[Ee+14]|we[Ee+15]<<8;wn+=(Yr>>>8|Br<<8)&8191,En+=Br>>>5|Se;var _n=0,ii=_n;ii+=Ie*Rn,ii+=fr*(5*Oe),ii+=br*(5*Zr),ii+=kr*(5*Sn),ii+=Wr*(5*On),_n=ii>>>13,ii&=8191,ii+=Gr*(5*ai),ii+=jr*(5*ti),ii+=Qr*(5*Tn),ii+=wn*(5*$n),ii+=En*(5*An),_n+=ii>>>13,ii&=8191;var ni=_n;ni+=Ie*An,ni+=fr*Rn,ni+=br*(5*Oe),ni+=kr*(5*Zr),ni+=Wr*(5*Sn),_n=ni>>>13,ni&=8191,ni+=Gr*(5*On),ni+=jr*(5*ai),ni+=Qr*(5*ti),ni+=wn*(5*Tn),ni+=En*(5*$n),_n+=ni>>>13,ni&=8191;var si=_n;si+=Ie*$n,si+=fr*An,si+=br*Rn,si+=kr*(5*Oe),si+=Wr*(5*Zr),_n=si>>>13,si&=8191,si+=Gr*(5*Sn),si+=jr*(5*On),si+=Qr*(5*ai),si+=wn*(5*ti),si+=En*(5*Tn),_n+=si>>>13,si&=8191;var Nn=_n;Nn+=Ie*Tn,Nn+=fr*$n,Nn+=br*An,Nn+=kr*Rn,Nn+=Wr*(5*Oe),_n=Nn>>>13,Nn&=8191,Nn+=Gr*(5*Zr),Nn+=jr*(5*Sn),Nn+=Qr*(5*On),Nn+=wn*(5*ai),Nn+=En*(5*ti),_n+=Nn>>>13,Nn&=8191;var jn=_n;jn+=Ie*ti,jn+=fr*Tn,jn+=br*$n,jn+=kr*An,jn+=Wr*Rn,_n=jn>>>13,jn&=8191,jn+=Gr*(5*Oe),jn+=jr*(5*Zr),jn+=Qr*(5*Sn),jn+=wn*(5*On),jn+=En*(5*ai),_n+=jn>>>13,jn&=8191;var ei=_n;ei+=Ie*ai,ei+=fr*ti,ei+=br*Tn,ei+=kr*$n,ei+=Wr*An,_n=ei>>>13,ei&=8191,ei+=Gr*Rn,ei+=jr*(5*Oe),ei+=Qr*(5*Zr),ei+=wn*(5*Sn),ei+=En*(5*On),_n+=ei>>>13,ei&=8191;var Pn=_n;Pn+=Ie*On,Pn+=fr*ai,Pn+=br*ti,Pn+=kr*Tn,Pn+=Wr*$n,_n=Pn>>>13,Pn&=8191,Pn+=Gr*An,Pn+=jr*Rn,Pn+=Qr*(5*Oe),Pn+=wn*(5*Zr),Pn+=En*(5*Sn),_n+=Pn>>>13,Pn&=8191;var zn=_n;zn+=Ie*Sn,zn+=fr*On,zn+=br*ai,zn+=kr*ti,zn+=Wr*Tn,_n=zn>>>13,zn&=8191,zn+=Gr*$n,zn+=jr*An,zn+=Qr*Rn,zn+=wn*(5*Oe),zn+=En*(5*Zr),_n+=zn>>>13,zn&=8191;var ri=_n;ri+=Ie*Zr,ri+=fr*Sn,ri+=br*On,ri+=kr*ai,ri+=Wr*ti,_n=ri>>>13,ri&=8191,ri+=Gr*Tn,ri+=jr*$n,ri+=Qr*An,ri+=wn*Rn,ri+=En*(5*Oe),_n+=ri>>>13,ri&=8191;var hi=_n;hi+=Ie*Oe,hi+=fr*Zr,hi+=br*Sn,hi+=kr*On,hi+=Wr*ai,_n=hi>>>13,hi&=8191,hi+=Gr*ti,hi+=jr*Tn,hi+=Qr*$n,hi+=wn*An,hi+=En*Rn,_n+=hi>>>13,hi&=8191,_n=(_n<<2)+_n|0,_n=_n+ii|0,ii=_n&8191,_n=_n>>>13,ni+=_n,Ie=ii,fr=ni,br=si,kr=Nn,Wr=jn,Gr=ei,jr=Pn,Qr=zn,wn=ri,En=hi,Ee+=16,xe-=16}this._h[0]=Ie,this._h[1]=fr,this._h[2]=br,this._h[3]=kr,this._h[4]=Wr,this._h[5]=Gr,this._h[6]=jr,this._h[7]=Qr,this._h[8]=wn,this._h[9]=En},be.prototype.finish=function(we,Ee){Ee===void 0&&(Ee=0);var xe=new Uint16Array(10),Se,Ie,fr,br;if(this._leftover){for(br=this._leftover,this._buffer[br++]=1;br<16;br++)this._buffer[br]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(Se=this._h[1]>>>13,this._h[1]&=8191,br=2;br<10;br++)this._h[br]+=Se,Se=this._h[br]>>>13,this._h[br]&=8191;for(this._h[0]+=Se*5,Se=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=Se,Se=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=Se,xe[0]=this._h[0]+5,Se=xe[0]>>>13,xe[0]&=8191,br=1;br<10;br++)xe[br]=this._h[br]+Se,Se=xe[br]>>>13,xe[br]&=8191;for(xe[9]-=8192,Ie=(Se^1)-1,br=0;br<10;br++)xe[br]&=Ie;for(Ie=~Ie,br=0;br<10;br++)this._h[br]=this._h[br]&Ie|xe[br];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,fr=this._h[0]+this._pad[0],this._h[0]=fr&65535,br=1;br<8;br++)fr=(this._h[br]+this._pad[br]|0)+(fr>>>16)|0,this._h[br]=fr&65535;return we[Ee+0]=this._h[0]>>>0,we[Ee+1]=this._h[0]>>>8,we[Ee+2]=this._h[1]>>>0,we[Ee+3]=this._h[1]>>>8,we[Ee+4]=this._h[2]>>>0,we[Ee+5]=this._h[2]>>>8,we[Ee+6]=this._h[3]>>>0,we[Ee+7]=this._h[3]>>>8,we[Ee+8]=this._h[4]>>>0,we[Ee+9]=this._h[4]>>>8,we[Ee+10]=this._h[5]>>>0,we[Ee+11]=this._h[5]>>>8,we[Ee+12]=this._h[6]>>>0,we[Ee+13]=this._h[6]>>>8,we[Ee+14]=this._h[7]>>>0,we[Ee+15]=this._h[7]>>>8,this._finished=!0,this},be.prototype.update=function(we){var Ee=0,xe=we.length,Se;if(this._leftover){Se=16-this._leftover,Se>xe&&(Se=xe);for(var Ie=0;Ie<Se;Ie++)this._buffer[this._leftover+Ie]=we[Ee+Ie];if(xe-=Se,Ee+=Se,this._leftover+=Se,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(xe>=16&&(Se=xe-xe%16,this._blocks(we,Ee,Se),Ee+=Se,xe-=Se),xe){for(var Ie=0;Ie<xe;Ie++)this._buffer[this._leftover+Ie]=we[Ee+Ie];this._leftover+=xe}return this},be.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var we=new Uint8Array(16);return this.finish(we),we},be.prototype.clean=function(){return ne.wipe(this._buffer),ne.wipe(this._r),ne.wipe(this._h),ne.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},be}();se.Poly1305=fe;function ye(be,we){var Ee=new fe(be);Ee.update(we);var xe=Ee.digest();return Ee.clean(),xe}se.oneTimeAuth=ye;function me(be,we){return be.length!==se.DIGEST_LENGTH||we.length!==se.DIGEST_LENGTH?!1:Y.equal(be,we)}se.equal=me}(poly1305)),poly1305}var hasRequiredChacha20poly1305;function requireChacha20poly1305(){return hasRequiredChacha20poly1305||(hasRequiredChacha20poly1305=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});var Y=requireChacha(),ne=requirePoly1305(),fe=requireWipe(),ye=requireBinary(),me=requireConstantTime();se.KEY_LENGTH=32,se.NONCE_LENGTH=12,se.TAG_LENGTH=16;var be=new Uint8Array(16),we=function(){function Ee(xe){if(this.nonceLength=se.NONCE_LENGTH,this.tagLength=se.TAG_LENGTH,xe.length!==se.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(xe)}return Ee.prototype.seal=function(xe,Se,Ie,fr){if(xe.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var br=new Uint8Array(16);br.set(xe,br.length-xe.length);var kr=new Uint8Array(32);Y.stream(this._key,br,kr,4);var Wr=Se.length+this.tagLength,Gr;if(fr){if(fr.length!==Wr)throw new Error("ChaCha20Poly1305: incorrect destination length");Gr=fr}else Gr=new Uint8Array(Wr);return Y.streamXOR(this._key,br,Se,Gr,4),this._authenticate(Gr.subarray(Gr.length-this.tagLength,Gr.length),kr,Gr.subarray(0,Gr.length-this.tagLength),Ie),fe.wipe(br),Gr},Ee.prototype.open=function(xe,Se,Ie,fr){if(xe.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(Se.length<this.tagLength)return null;var br=new Uint8Array(16);br.set(xe,br.length-xe.length);var kr=new Uint8Array(32);Y.stream(this._key,br,kr,4);var Wr=new Uint8Array(this.tagLength);if(this._authenticate(Wr,kr,Se.subarray(0,Se.length-this.tagLength),Ie),!me.equal(Wr,Se.subarray(Se.length-this.tagLength,Se.length)))return null;var Gr=Se.length-this.tagLength,jr;if(fr){if(fr.length!==Gr)throw new Error("ChaCha20Poly1305: incorrect destination length");jr=fr}else jr=new Uint8Array(Gr);return Y.streamXOR(this._key,br,Se.subarray(0,Se.length-this.tagLength),jr,4),fe.wipe(br),jr},Ee.prototype.clean=function(){return fe.wipe(this._key),this},Ee.prototype._authenticate=function(xe,Se,Ie,fr){var br=new ne.Poly1305(Se);fr&&(br.update(fr),fr.length%16>0&&br.update(be.subarray(fr.length%16))),br.update(Ie),Ie.length%16>0&&br.update(be.subarray(Ie.length%16));var kr=new Uint8Array(8);fr&&ye.writeUint64LE(fr.length,kr),br.update(kr),ye.writeUint64LE(Ie.length,kr),br.update(kr);for(var Wr=br.digest(),Gr=0;Gr<Wr.length;Gr++)xe[Gr]=Wr[Gr];br.clean(),fe.wipe(Wr),fe.wipe(kr)},Ee}();se.ChaCha20Poly1305=we}(chacha20poly1305)),chacha20poly1305}var chacha20poly1305Exports=requireChacha20poly1305(),hkdf={},hmac$1={},hash$2={},hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$2;hasRequiredHash$1=1,Object.defineProperty(hash$2,"__esModule",{value:!0});function se(Y){return typeof Y.saveState<"u"&&typeof Y.restoreState<"u"&&typeof Y.cleanSavedState<"u"}return hash$2.isSerializableHash=se,hash$2}var hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac$1;hasRequiredHmac=1,Object.defineProperty(hmac$1,"__esModule",{value:!0});var se=requireHash$1(),Y=requireConstantTime(),ne=requireWipe(),fe=function(){function me(be,we){this._finished=!1,this._inner=new be,this._outer=new be,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var Ee=new Uint8Array(this.blockSize);we.length>this.blockSize?this._inner.update(we).finish(Ee).clean():Ee.set(we);for(var xe=0;xe<Ee.length;xe++)Ee[xe]^=54;this._inner.update(Ee);for(var xe=0;xe<Ee.length;xe++)Ee[xe]^=106;this._outer.update(Ee),se.isSerializableHash(this._inner)&&se.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ne.wipe(Ee)}return me.prototype.reset=function(){if(!se.isSerializableHash(this._inner)||!se.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},me.prototype.clean=function(){se.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),se.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},me.prototype.update=function(be){return this._inner.update(be),this},me.prototype.finish=function(be){return this._finished?(this._outer.finish(be),this):(this._inner.finish(be),this._outer.update(be.subarray(0,this.digestLength)).finish(be),this._finished=!0,this)},me.prototype.digest=function(){var be=new Uint8Array(this.digestLength);return this.finish(be),be},me.prototype.saveState=function(){if(!se.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},me.prototype.restoreState=function(be){if(!se.isSerializableHash(this._inner)||!se.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(be),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},me.prototype.cleanSavedState=function(be){if(!se.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(be)},me}();hmac$1.HMAC=fe;function ye(me,be,we){var Ee=new fe(me,be);Ee.update(we);var xe=Ee.digest();return Ee.clean(),xe}return hmac$1.hmac=ye,hmac$1.equal=Y.equal,hmac$1}var hasRequiredHkdf;function requireHkdf(){if(hasRequiredHkdf)return hkdf;hasRequiredHkdf=1,Object.defineProperty(hkdf,"__esModule",{value:!0});var se=requireHmac(),Y=requireWipe(),ne=function(){function fe(ye,me,be,we){be===void 0&&(be=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=ye,this._info=we;var Ee=se.hmac(this._hash,be,me);this._hmac=new se.HMAC(ye,Ee),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return fe.prototype._fillBuffer=function(){this._counter[0]++;var ye=this._counter[0];if(ye===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),ye>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},fe.prototype.expand=function(ye){for(var me=new Uint8Array(ye),be=0;be<me.length;be++)this._bufpos===this._buffer.length&&this._fillBuffer(),me[be]=this._buffer[this._bufpos++];return me},fe.prototype.clean=function(){this._hmac.clean(),Y.wipe(this._buffer),Y.wipe(this._counter),this._bufpos=0},fe}();return hkdf.HKDF=ne,hkdf}var hkdfExports=requireHkdf(),random={},system={},browser$f={},hasRequiredBrowser$f;function requireBrowser$f(){if(hasRequiredBrowser$f)return browser$f;hasRequiredBrowser$f=1,Object.defineProperty(browser$f,"__esModule",{value:!0}),browser$f.BrowserRandomSource=void 0;const se=65536;class Y{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const fe=typeof self<"u"?self.crypto||self.msCrypto:null;fe&&fe.getRandomValues!==void 0&&(this._crypto=fe,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(fe){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const ye=new Uint8Array(fe);for(let me=0;me<ye.length;me+=se)this._crypto.getRandomValues(ye.subarray(me,me+Math.min(ye.length-me,se)));return ye}}return browser$f.BrowserRandomSource=Y,browser$f}function commonjsRequire(se){throw new Error('Could not dynamically require "'+se+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$1={},cryptoBrowserify={},browser$e={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(se,Y){var ne=requireDist$5(),fe=ne.Buffer;function ye(be,we){for(var Ee in be)we[Ee]=be[Ee]}fe.from&&fe.alloc&&fe.allocUnsafe&&fe.allocUnsafeSlow?se.exports=ne:(ye(ne,Y),Y.Buffer=me);function me(be,we,Ee){return fe(be,we,Ee)}me.prototype=Object.create(fe.prototype),ye(fe,me),me.from=function(be,we,Ee){if(typeof be=="number")throw new TypeError("Argument must not be a number");return fe(be,we,Ee)},me.alloc=function(be,we,Ee){if(typeof be!="number")throw new TypeError("Argument must be a number");var xe=fe(be);return we!==void 0?typeof Ee=="string"?xe.fill(we,Ee):xe.fill(we):xe.fill(0),xe},me.allocUnsafe=function(be){if(typeof be!="number")throw new TypeError("Argument must be a number");return fe(be)},me.allocUnsafeSlow=function(be){if(typeof be!="number")throw new TypeError("Argument must be a number");return ne.SlowBuffer(be)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$e;function requireBrowser$e(){if(hasRequiredBrowser$e)return browser$e.exports;hasRequiredBrowser$e=1;var se=65536,Y=4294967295;function ne(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var fe=requireSafeBuffer$1().Buffer,ye=commonjsGlobal.crypto||commonjsGlobal.msCrypto;ye&&ye.getRandomValues?browser$e.exports=me:browser$e.exports=ne;function me(be,we){if(be>Y)throw new RangeError("requested too many random bytes");var Ee=fe.allocUnsafe(be);if(be>0)if(be>se)for(var xe=0;xe<be;xe+=se)ye.getRandomValues(Ee.slice(xe,xe+se));else ye.getRandomValues(Ee);return typeof we=="function"?process$1.nextTick(function(){we(null,Ee)}):Ee}return browser$e.exports}var readableBrowser$1={exports:{}},streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$3={},types$2={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var Y={},ne=Symbol("test"),fe=Object(ne);if(typeof ne=="string"||Object.prototype.toString.call(ne)!=="[object Symbol]"||Object.prototype.toString.call(fe)!=="[object Symbol]")return!1;var ye=42;Y[ne]=ye;for(var me in Y)return!1;if(typeof Object.keys=="function"&&Object.keys(Y).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(Y).length!==0)return!1;var be=Object.getOwnPropertySymbols(Y);if(be.length!==1||be[0]!==ne||!Object.prototype.propertyIsEnumerable.call(Y,ne))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var we=Object.getOwnPropertyDescriptor(Y,ne);if(we.value!==ye||we.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var se=requireShams$1();return shams=function(){return se()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range$1,hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,range$1=RangeError),range$1}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type$2,hasRequiredType$1;function requireType$1(){return hasRequiredType$1||(hasRequiredType$1=1,type$2=TypeError),type$2}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max$1,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max$1=Math.max),max$1}var min$1,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min$1=Math.min),min$1}var pow$1,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow$1=Math.pow),pow$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var se=requireGOPD();if(se)try{se([],"length")}catch{se=null}return gopd=se,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var se=Object.defineProperty||!1;if(se)try{se({},"a",{value:1})}catch{se=!1}return esDefineProperty=se,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var se=typeof Symbol<"u"&&Symbol,Y=requireShams$1();return hasSymbols=function(){return typeof se!="function"||typeof Symbol!="function"||typeof se("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Y()},hasSymbols}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var se="Function.prototype.bind called on incompatible ",Y=Object.prototype.toString,ne=Math.max,fe="[object Function]",ye=function(Ee,xe){for(var Se=[],Ie=0;Ie<Ee.length;Ie+=1)Se[Ie]=Ee[Ie];for(var fr=0;fr<xe.length;fr+=1)Se[fr+Ee.length]=xe[fr];return Se},me=function(Ee,xe){for(var Se=[],Ie=xe,fr=0;Ie<Ee.length;Ie+=1,fr+=1)Se[fr]=Ee[Ie];return Se},be=function(we,Ee){for(var xe="",Se=0;Se<we.length;Se+=1)xe+=we[Se],Se+1<we.length&&(xe+=Ee);return xe};return implementation=function(Ee){var xe=this;if(typeof xe!="function"||Y.apply(xe)!==fe)throw new TypeError(se+xe);for(var Se=me(arguments,1),Ie,fr=function(){if(this instanceof Ie){var jr=xe.apply(this,ye(Se,arguments));return Object(jr)===jr?jr:this}return xe.apply(Ee,ye(Se,arguments))},br=ne(0,xe.length-Se.length),kr=[],Wr=0;Wr<br;Wr++)kr[Wr]="$"+Wr;if(Ie=Function("binder","return function ("+be(kr,",")+"){ return binder.apply(this,arguments); }")(fr),xe.prototype){var Gr=function(){};Gr.prototype=xe.prototype,Ie.prototype=new Gr,Gr.prototype=null}return Ie},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var se=requireImplementation();return functionBind=Function.prototype.bind||se,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var se=requireFunctionBind(),Y=requireFunctionApply(),ne=requireFunctionCall(),fe=requireReflectApply();return actualApply=fe||se.call(ne,Y),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var se=requireFunctionBind(),Y=requireType$1(),ne=requireFunctionCall(),fe=requireActualApply();return callBindApplyHelpers=function(me){if(me.length<1||typeof me[0]!="function")throw new Y("a function is required");return fe(se,ne,me)},callBindApplyHelpers}var get$1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$1;hasRequiredGet=1;var se=requireCallBindApplyHelpers(),Y=requireGopd(),ne;try{ne=[].__proto__===Array.prototype}catch(be){if(!be||typeof be!="object"||!("code"in be)||be.code!=="ERR_PROTO_ACCESS")throw be}var fe=!!ne&&Y&&Y(Object.prototype,"__proto__"),ye=Object,me=ye.getPrototypeOf;return get$1=fe&&typeof fe.get=="function"?se([fe.get]):typeof me=="function"?function(we){return me(we==null?we:ye(we))}:!1,get$1}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var se=Function.prototype.call,Y=Object.prototype.hasOwnProperty,ne=requireFunctionBind();return hasown=ne.call(se,Y),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var se,Y=requireEsObjectAtoms(),ne=requireEsErrors(),fe=require_eval(),ye=requireRange$1(),me=requireRef(),be=requireSyntax(),we=requireType$1(),Ee=requireUri(),xe=requireAbs(),Se=requireFloor(),Ie=requireMax(),fr=requireMin(),br=requirePow(),kr=Function,Wr=function(si){try{return kr('"use strict"; return ('+si+").constructor;")()}catch{}},Gr=requireGopd(),jr=requireEsDefineProperty(),Qr=function(){throw new we},wn=Gr?function(){try{return arguments.callee,Qr}catch{try{return Gr(arguments,"callee").get}catch{return Qr}}}():Qr,En=requireHasSymbols()(),Rn=requireGet(),An=typeof Reflect=="function"&&Reflect.getPrototypeOf||Y.getPrototypeOf||Rn,$n=requireFunctionApply(),Tn=requireFunctionCall(),ti={},ai=typeof Uint8Array>"u"||!An?se:An(Uint8Array),On={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?se:ArrayBuffer,"%ArrayIteratorPrototype%":En&&An?An([][Symbol.iterator]()):se,"%AsyncFromSyncIteratorPrototype%":se,"%AsyncFunction%":ti,"%AsyncGenerator%":ti,"%AsyncGeneratorFunction%":ti,"%AsyncIteratorPrototype%":ti,"%Atomics%":typeof Atomics>"u"?se:Atomics,"%BigInt%":typeof BigInt>"u"?se:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?se:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?se:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ne,"%eval%":eval,"%EvalError%":fe,"%Float32Array%":typeof Float32Array>"u"?se:Float32Array,"%Float64Array%":typeof Float64Array>"u"?se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?se:FinalizationRegistry,"%Function%":kr,"%GeneratorFunction%":ti,"%Int8Array%":typeof Int8Array>"u"?se:Int8Array,"%Int16Array%":typeof Int16Array>"u"?se:Int16Array,"%Int32Array%":typeof Int32Array>"u"?se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":En&&An?An(An([][Symbol.iterator]())):se,"%JSON%":typeof JSON=="object"?JSON:se,"%Map%":typeof Map>"u"?se:Map,"%MapIteratorPrototype%":typeof Map>"u"||!En||!An?se:An(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Y,"%Object.getOwnPropertyDescriptor%":Gr,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?se:Promise,"%Proxy%":typeof Proxy>"u"?se:Proxy,"%RangeError%":ye,"%ReferenceError%":me,"%Reflect%":typeof Reflect>"u"?se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?se:Set,"%SetIteratorPrototype%":typeof Set>"u"||!En||!An?se:An(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":En&&An?An(""[Symbol.iterator]()):se,"%Symbol%":En?Symbol:se,"%SyntaxError%":be,"%ThrowTypeError%":wn,"%TypedArray%":ai,"%TypeError%":we,"%Uint8Array%":typeof Uint8Array>"u"?se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?se:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?se:Uint32Array,"%URIError%":Ee,"%WeakMap%":typeof WeakMap>"u"?se:WeakMap,"%WeakRef%":typeof WeakRef>"u"?se:WeakRef,"%WeakSet%":typeof WeakSet>"u"?se:WeakSet,"%Function.prototype.call%":Tn,"%Function.prototype.apply%":$n,"%Object.defineProperty%":jr,"%Math.abs%":xe,"%Math.floor%":Se,"%Math.max%":Ie,"%Math.min%":fr,"%Math.pow%":br};if(An)try{null.error}catch(si){var Sn=An(An(si));On["%Error.prototype%"]=Sn}var Zr=function si(Nn){var jn;if(Nn==="%AsyncFunction%")jn=Wr("async function () {}");else if(Nn==="%GeneratorFunction%")jn=Wr("function* () {}");else if(Nn==="%AsyncGeneratorFunction%")jn=Wr("async function* () {}");else if(Nn==="%AsyncGenerator%"){var ei=si("%AsyncGeneratorFunction%");ei&&(jn=ei.prototype)}else if(Nn==="%AsyncIteratorPrototype%"){var Pn=si("%AsyncGenerator%");Pn&&An&&(jn=An(Pn.prototype))}return On[Nn]=jn,jn},Oe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wr=requireFunctionBind(),qr=requireHasown(),Vr=wr.call(Tn,Array.prototype.concat),Jr=wr.call($n,Array.prototype.splice),Xr=wr.call(Tn,String.prototype.replace),Kr=wr.call(Tn,String.prototype.slice),Yr=wr.call(Tn,RegExp.prototype.exec),Br=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_n=/\\(\\)?/g,ii=function(Nn){var jn=Kr(Nn,0,1),ei=Kr(Nn,-1);if(jn==="%"&&ei!=="%")throw new be("invalid intrinsic syntax, expected closing `%`");if(ei==="%"&&jn!=="%")throw new be("invalid intrinsic syntax, expected opening `%`");var Pn=[];return Xr(Nn,Br,function(zn,ri,hi,mi){Pn[Pn.length]=hi?Xr(mi,_n,"$1"):ri||zn}),Pn},ni=function(Nn,jn){var ei=Nn,Pn;if(qr(Oe,ei)&&(Pn=Oe[ei],ei="%"+Pn[0]+"%"),qr(On,ei)){var zn=On[ei];if(zn===ti&&(zn=Zr(ei)),typeof zn>"u"&&!jn)throw new we("intrinsic "+Nn+" exists, but is not available. Please file an issue!");return{alias:Pn,name:ei,value:zn}}throw new be("intrinsic "+Nn+" does not exist!")};return getIntrinsic=function(Nn,jn){if(typeof Nn!="string"||Nn.length===0)throw new we("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof jn!="boolean")throw new we('"allowMissing" argument must be a boolean');if(Yr(/^%?[^%]*%?$/,Nn)===null)throw new be("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ei=ii(Nn),Pn=ei.length>0?ei[0]:"",zn=ni("%"+Pn+"%",jn),ri=zn.name,hi=zn.value,mi=!1,$i=zn.alias;$i&&(Pn=$i[0],Jr(ei,Vr([0,1],$i)));for(var Ti=1,xi=!0;Ti<ei.length;Ti+=1){var Ri=ei[Ti],vi=Kr(Ri,0,1),Pi=Kr(Ri,-1);if((vi==='"'||vi==="'"||vi==="`"||Pi==='"'||Pi==="'"||Pi==="`")&&vi!==Pi)throw new be("property names with quotes must have matching quotes");if((Ri==="constructor"||!xi)&&(mi=!0),Pn+="."+Ri,ri="%"+Pn+"%",qr(On,ri))hi=On[ri];else if(hi!=null){if(!(Ri in hi)){if(!jn)throw new we("base intrinsic for "+Nn+" exists, but the property is not available.");return}if(Gr&&Ti+1>=ei.length){var Ei=Gr(hi,Ri);xi=!!Ei,xi&&"get"in Ei&&!("originalValue"in Ei.get)?hi=Ei.get:hi=hi[Ri]}else xi=qr(hi,Ri),hi=hi[Ri];xi&&!mi&&(On[ri]=hi)}}return hi},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var se=requireGetIntrinsic(),Y=requireCallBindApplyHelpers(),ne=Y([se("%String.prototype.indexOf%")]);return callBound=function(ye,me){var be=se(ye,!!me);return typeof be=="function"&&ne(ye,".prototype.")>-1?Y([be]):be},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var se=requireShams()(),Y=requireCallBound(),ne=Y("Object.prototype.toString"),fe=function(we){return se&&we&&typeof we=="object"&&Symbol.toStringTag in we?!1:ne(we)==="[object Arguments]"},ye=function(we){return fe(we)?!0:we!==null&&typeof we=="object"&&"length"in we&&typeof we.length=="number"&&we.length>=0&&ne(we)!=="[object Array]"&&"callee"in we&&ne(we.callee)==="[object Function]"},me=function(){return fe(arguments)}();return fe.isLegacyArguments=ye,isArguments=me?fe:ye,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var se=Object.prototype.toString,Y=Function.prototype.toString,ne=/^\s*(?:function)?\*/,fe=requireShams()(),ye=Object.getPrototypeOf,me=function(){if(!fe)return!1;try{return Function("return function*() {}")()}catch{}},be;return isGeneratorFunction=function(Ee){if(typeof Ee!="function")return!1;if(ne.test(Y.call(Ee)))return!0;if(!fe){var xe=se.call(Ee);return xe==="[object GeneratorFunction]"}if(!ye)return!1;if(typeof be>"u"){var Se=me();be=Se?ye(Se):!1}return ye(Ee)===be},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var se=Function.prototype.toString,Y=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ne,fe;if(typeof Y=="function"&&typeof Object.defineProperty=="function")try{ne=Object.defineProperty({},"length",{get:function(){throw fe}}),fe={},Y(function(){throw 42},null,ne)}catch(Qr){Qr!==fe&&(Y=null)}else Y=null;var ye=/^\s*class\b/,me=function(wn){try{var En=se.call(wn);return ye.test(En)}catch{return!1}},be=function(wn){try{return me(wn)?!1:(se.call(wn),!0)}catch{return!1}},we=Object.prototype.toString,Ee="[object Object]",xe="[object Function]",Se="[object GeneratorFunction]",Ie="[object HTMLAllCollection]",fr="[object HTML document.all class]",br="[object HTMLCollection]",kr=typeof Symbol=="function"&&!!Symbol.toStringTag,Wr=!(0 in[,]),Gr=function(){return!1};if(typeof document=="object"){var jr=document.all;we.call(jr)===we.call(document.all)&&(Gr=function(wn){if((Wr||!wn)&&(typeof wn>"u"||typeof wn=="object"))try{var En=we.call(wn);return(En===Ie||En===fr||En===br||En===Ee)&&wn("")==null}catch{}return!1})}return isCallable=Y?function(wn){if(Gr(wn))return!0;if(!wn||typeof wn!="function"&&typeof wn!="object")return!1;try{Y(wn,null,ne)}catch(En){if(En!==fe)return!1}return!me(wn)&&be(wn)}:function(wn){if(Gr(wn))return!0;if(!wn||typeof wn!="function"&&typeof wn!="object")return!1;if(kr)return be(wn);if(me(wn))return!1;var En=we.call(wn);return En!==xe&&En!==Se&&!/^\[object HTML/.test(En)?!1:be(wn)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var se=requireIsCallable(),Y=Object.prototype.toString,ne=Object.prototype.hasOwnProperty,fe=function(Ee,xe,Se){for(var Ie=0,fr=Ee.length;Ie<fr;Ie++)ne.call(Ee,Ie)&&(Se==null?xe(Ee[Ie],Ie,Ee):xe.call(Se,Ee[Ie],Ie,Ee))},ye=function(Ee,xe,Se){for(var Ie=0,fr=Ee.length;Ie<fr;Ie++)Se==null?xe(Ee.charAt(Ie),Ie,Ee):xe.call(Se,Ee.charAt(Ie),Ie,Ee)},me=function(Ee,xe,Se){for(var Ie in Ee)ne.call(Ee,Ie)&&(Se==null?xe(Ee[Ie],Ie,Ee):xe.call(Se,Ee[Ie],Ie,Ee))},be=function(Ee,xe,Se){if(!se(xe))throw new TypeError("iterator must be a function");var Ie;arguments.length>=3&&(Ie=Se),Y.call(Ee)==="[object Array]"?fe(Ee,xe,Ie):typeof Ee=="string"?ye(Ee,xe,Ie):me(Ee,xe,Ie)};return forEach_1=be,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var se=requirePossibleTypedArrayNames(),Y=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var fe=[],ye=0;ye<se.length;ye++)typeof Y[se[ye]]=="function"&&(fe[fe.length]=se[ye]);return fe},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var se=requireEsDefineProperty(),Y=requireSyntax(),ne=requireType$1(),fe=requireGopd();return defineDataProperty=function(me,be,we){if(!me||typeof me!="object"&&typeof me!="function")throw new ne("`obj` must be an object or a function`");if(typeof be!="string"&&typeof be!="symbol")throw new ne("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ne("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ne("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ne("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ne("`loose`, if provided, must be a boolean");var Ee=arguments.length>3?arguments[3]:null,xe=arguments.length>4?arguments[4]:null,Se=arguments.length>5?arguments[5]:null,Ie=arguments.length>6?arguments[6]:!1,fr=!!fe&&fe(me,be);if(se)se(me,be,{configurable:Se===null&&fr?fr.configurable:!Se,enumerable:Ee===null&&fr?fr.enumerable:!Ee,value:we,writable:xe===null&&fr?fr.writable:!xe});else if(Ie||!Ee&&!xe&&!Se)me[be]=we;else throw new Y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var se=requireEsDefineProperty(),Y=function(){return!!se};return Y.hasArrayLengthDefineBug=function(){if(!se)return null;try{return se([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=Y,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var se=requireGetIntrinsic(),Y=requireDefineDataProperty(),ne=requireHasPropertyDescriptors()(),fe=requireGopd(),ye=requireType$1(),me=se("%Math.floor%");return setFunctionLength=function(we,Ee){if(typeof we!="function")throw new ye("`fn` is not a function");if(typeof Ee!="number"||Ee<0||Ee>4294967295||me(Ee)!==Ee)throw new ye("`length` must be a positive 32-bit integer");var xe=arguments.length>2&&!!arguments[2],Se=!0,Ie=!0;if("length"in we&&fe){var fr=fe(we,"length");fr&&!fr.configurable&&(Se=!1),fr&&!fr.writable&&(Ie=!1)}return(Se||Ie||!xe)&&(ne?Y(we,"length",Ee,!0,!0):Y(we,"length",Ee)),we},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var se=requireFunctionBind(),Y=requireFunctionApply(),ne=requireActualApply();return applyBind=function(){return ne(se,Y,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(se){var Y=requireSetFunctionLength(),ne=requireEsDefineProperty(),fe=requireCallBindApplyHelpers(),ye=requireApplyBind();se.exports=function(be){var we=fe(arguments),Ee=be.length-(arguments.length-1);return Y(we,1+(Ee>0?Ee:0),!0)},ne?ne(se.exports,"apply",{value:ye}):se.exports.apply=ye}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var se=requireForEach(),Y=requireAvailableTypedArrays(),ne=requireCallBind(),fe=requireCallBound(),ye=requireGopd(),me=fe("Object.prototype.toString"),be=requireShams()(),we=typeof globalThis>"u"?commonjsGlobal:globalThis,Ee=Y(),xe=fe("String.prototype.slice"),Se=Object.getPrototypeOf,Ie=fe("Array.prototype.indexOf",!0)||function(Gr,jr){for(var Qr=0;Qr<Gr.length;Qr+=1)if(Gr[Qr]===jr)return Qr;return-1},fr={__proto__:null};be&&ye&&Se?se(Ee,function(Wr){var Gr=new we[Wr];if(Symbol.toStringTag in Gr){var jr=Se(Gr),Qr=ye(jr,Symbol.toStringTag);if(!Qr){var wn=Se(jr);Qr=ye(wn,Symbol.toStringTag)}fr["$"+Wr]=ne(Qr.get)}}):se(Ee,function(Wr){var Gr=new we[Wr],jr=Gr.slice||Gr.set;jr&&(fr["$"+Wr]=ne(jr))});var br=function(Gr){var jr=!1;return se(fr,function(Qr,wn){if(!jr)try{"$"+Qr(Gr)===wn&&(jr=xe(wn,1))}catch{}}),jr},kr=function(Gr){var jr=!1;return se(fr,function(Qr,wn){if(!jr)try{Qr(Gr),jr=xe(wn,1)}catch{}}),jr};return whichTypedArray=function(Gr){if(!Gr||typeof Gr!="object")return!1;if(!be){var jr=xe(me(Gr),8,-1);return Ie(Ee,jr)>-1?jr:jr!=="Object"?!1:kr(Gr)}return ye?br(Gr):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var se=requireWhichTypedArray();return isTypedArray=function(ne){return!!se(ne)},isTypedArray}var hasRequiredTypes$2;function requireTypes$2(){return hasRequiredTypes$2||(hasRequiredTypes$2=1,function(se){var Y=requireIsArguments(),ne=requireIsGeneratorFunction(),fe=requireWhichTypedArray(),ye=requireIsTypedArray();function me(vi){return vi.call.bind(vi)}var be=typeof BigInt<"u",we=typeof Symbol<"u",Ee=me(Object.prototype.toString),xe=me(Number.prototype.valueOf),Se=me(String.prototype.valueOf),Ie=me(Boolean.prototype.valueOf);if(be)var fr=me(BigInt.prototype.valueOf);if(we)var br=me(Symbol.prototype.valueOf);function kr(vi,Pi){if(typeof vi!="object")return!1;try{return Pi(vi),!0}catch{return!1}}se.isArgumentsObject=Y,se.isGeneratorFunction=ne,se.isTypedArray=ye;function Wr(vi){return typeof Promise<"u"&&vi instanceof Promise||vi!==null&&typeof vi=="object"&&typeof vi.then=="function"&&typeof vi.catch=="function"}se.isPromise=Wr;function Gr(vi){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(vi):ye(vi)||_n(vi)}se.isArrayBufferView=Gr;function jr(vi){return fe(vi)==="Uint8Array"}se.isUint8Array=jr;function Qr(vi){return fe(vi)==="Uint8ClampedArray"}se.isUint8ClampedArray=Qr;function wn(vi){return fe(vi)==="Uint16Array"}se.isUint16Array=wn;function En(vi){return fe(vi)==="Uint32Array"}se.isUint32Array=En;function Rn(vi){return fe(vi)==="Int8Array"}se.isInt8Array=Rn;function An(vi){return fe(vi)==="Int16Array"}se.isInt16Array=An;function $n(vi){return fe(vi)==="Int32Array"}se.isInt32Array=$n;function Tn(vi){return fe(vi)==="Float32Array"}se.isFloat32Array=Tn;function ti(vi){return fe(vi)==="Float64Array"}se.isFloat64Array=ti;function ai(vi){return fe(vi)==="BigInt64Array"}se.isBigInt64Array=ai;function On(vi){return fe(vi)==="BigUint64Array"}se.isBigUint64Array=On;function Sn(vi){return Ee(vi)==="[object Map]"}Sn.working=typeof Map<"u"&&Sn(new Map);function Zr(vi){return typeof Map>"u"?!1:Sn.working?Sn(vi):vi instanceof Map}se.isMap=Zr;function Oe(vi){return Ee(vi)==="[object Set]"}Oe.working=typeof Set<"u"&&Oe(new Set);function wr(vi){return typeof Set>"u"?!1:Oe.working?Oe(vi):vi instanceof Set}se.isSet=wr;function qr(vi){return Ee(vi)==="[object WeakMap]"}qr.working=typeof WeakMap<"u"&&qr(new WeakMap);function Vr(vi){return typeof WeakMap>"u"?!1:qr.working?qr(vi):vi instanceof WeakMap}se.isWeakMap=Vr;function Jr(vi){return Ee(vi)==="[object WeakSet]"}Jr.working=typeof WeakSet<"u"&&Jr(new WeakSet);function Xr(vi){return Jr(vi)}se.isWeakSet=Xr;function Kr(vi){return Ee(vi)==="[object ArrayBuffer]"}Kr.working=typeof ArrayBuffer<"u"&&Kr(new ArrayBuffer);function Yr(vi){return typeof ArrayBuffer>"u"?!1:Kr.working?Kr(vi):vi instanceof ArrayBuffer}se.isArrayBuffer=Yr;function Br(vi){return Ee(vi)==="[object DataView]"}Br.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Br(new DataView(new ArrayBuffer(1),0,1));function _n(vi){return typeof DataView>"u"?!1:Br.working?Br(vi):vi instanceof DataView}se.isDataView=_n;var ii=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ni(vi){return Ee(vi)==="[object SharedArrayBuffer]"}function si(vi){return typeof ii>"u"?!1:(typeof ni.working>"u"&&(ni.working=ni(new ii)),ni.working?ni(vi):vi instanceof ii)}se.isSharedArrayBuffer=si;function Nn(vi){return Ee(vi)==="[object AsyncFunction]"}se.isAsyncFunction=Nn;function jn(vi){return Ee(vi)==="[object Map Iterator]"}se.isMapIterator=jn;function ei(vi){return Ee(vi)==="[object Set Iterator]"}se.isSetIterator=ei;function Pn(vi){return Ee(vi)==="[object Generator]"}se.isGeneratorObject=Pn;function zn(vi){return Ee(vi)==="[object WebAssembly.Module]"}se.isWebAssemblyCompiledModule=zn;function ri(vi){return kr(vi,xe)}se.isNumberObject=ri;function hi(vi){return kr(vi,Se)}se.isStringObject=hi;function mi(vi){return kr(vi,Ie)}se.isBooleanObject=mi;function $i(vi){return be&&kr(vi,fr)}se.isBigIntObject=$i;function Ti(vi){return we&&kr(vi,br)}se.isSymbolObject=Ti;function xi(vi){return ri(vi)||hi(vi)||mi(vi)||$i(vi)||Ti(vi)}se.isBoxedPrimitive=xi;function Ri(vi){return typeof Uint8Array<"u"&&(Yr(vi)||si(vi))}se.isAnyArrayBuffer=Ri,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(vi){Object.defineProperty(se,vi,{enumerable:!1,value:function(){throw new Error(vi+" is not supported in userland")}})})}(types$2)),types$2}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(Y){return Y&&typeof Y=="object"&&typeof Y.copy=="function"&&typeof Y.fill=="function"&&typeof Y.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$3;function requireUtil$3(){return hasRequiredUtil$3||(hasRequiredUtil$3=1,function(se){var Y={},ne=Object.getOwnPropertyDescriptors||function(ii){for(var ni=Object.keys(ii),si={},Nn=0;Nn<ni.length;Nn++)si[ni[Nn]]=Object.getOwnPropertyDescriptor(ii,ni[Nn]);return si},fe=/%[sdj%]/g;se.format=function(_n){if(!An(_n)){for(var ii=[],ni=0;ni<arguments.length;ni++)ii.push(we(arguments[ni]));return ii.join(" ")}for(var ni=1,si=arguments,Nn=si.length,jn=String(_n).replace(fe,function(Pn){if(Pn==="%%")return"%";if(ni>=Nn)return Pn;switch(Pn){case"%s":return String(si[ni++]);case"%d":return Number(si[ni++]);case"%j":try{return JSON.stringify(si[ni++])}catch{return"[Circular]"}default:return Pn}}),ei=si[ni];ni<Nn;ei=si[++ni])wn(ei)||!ai(ei)?jn+=" "+ei:jn+=" "+we(ei);return jn},se.deprecate=function(_n,ii){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return _n;if(typeof process$1>"u")return function(){return se.deprecate(_n,ii).apply(this,arguments)};var ni=!1;function si(){if(!ni){if(process$1.throwDeprecation)throw new Error(ii);process$1.traceDeprecation?console.trace(ii):console.error(ii),ni=!0}return _n.apply(this,arguments)}return si};var ye={},me=/^$/;if(Y.NODE_DEBUG){var be=Y.NODE_DEBUG;be=be.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),me=new RegExp("^"+be+"$","i")}se.debuglog=function(_n){if(_n=_n.toUpperCase(),!ye[_n])if(me.test(_n)){var ii=process$1.pid;ye[_n]=function(){var ni=se.format.apply(se,arguments);console.error("%s %d: %s",_n,ii,ni)}}else ye[_n]=function(){};return ye[_n]};function we(_n,ii){var ni={seen:[],stylize:xe};return arguments.length>=3&&(ni.depth=arguments[2]),arguments.length>=4&&(ni.colors=arguments[3]),Qr(ii)?ni.showHidden=ii:ii&&se._extend(ni,ii),Tn(ni.showHidden)&&(ni.showHidden=!1),Tn(ni.depth)&&(ni.depth=2),Tn(ni.colors)&&(ni.colors=!1),Tn(ni.customInspect)&&(ni.customInspect=!0),ni.colors&&(ni.stylize=Ee),Ie(ni,_n,ni.depth)}se.inspect=we,we.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},we.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Ee(_n,ii){var ni=we.styles[ii];return ni?"\x1B["+we.colors[ni][0]+"m"+_n+"\x1B["+we.colors[ni][1]+"m":_n}function xe(_n,ii){return _n}function Se(_n){var ii={};return _n.forEach(function(ni,si){ii[ni]=!0}),ii}function Ie(_n,ii,ni){if(_n.customInspect&&ii&&Zr(ii.inspect)&&ii.inspect!==se.inspect&&!(ii.constructor&&ii.constructor.prototype===ii)){var si=ii.inspect(ni,_n);return An(si)||(si=Ie(_n,si,ni)),si}var Nn=fr(_n,ii);if(Nn)return Nn;var jn=Object.keys(ii),ei=Se(jn);if(_n.showHidden&&(jn=Object.getOwnPropertyNames(ii)),Sn(ii)&&(jn.indexOf("message")>=0||jn.indexOf("description")>=0))return br(ii);if(jn.length===0){if(Zr(ii)){var Pn=ii.name?": "+ii.name:"";return _n.stylize("[Function"+Pn+"]","special")}if(ti(ii))return _n.stylize(RegExp.prototype.toString.call(ii),"regexp");if(On(ii))return _n.stylize(Date.prototype.toString.call(ii),"date");if(Sn(ii))return br(ii)}var zn="",ri=!1,hi=["{","}"];if(jr(ii)&&(ri=!0,hi=["[","]"]),Zr(ii)){var mi=ii.name?": "+ii.name:"";zn=" [Function"+mi+"]"}if(ti(ii)&&(zn=" "+RegExp.prototype.toString.call(ii)),On(ii)&&(zn=" "+Date.prototype.toUTCString.call(ii)),Sn(ii)&&(zn=" "+br(ii)),jn.length===0&&(!ri||ii.length==0))return hi[0]+zn+hi[1];if(ni<0)return ti(ii)?_n.stylize(RegExp.prototype.toString.call(ii),"regexp"):_n.stylize("[Object]","special");_n.seen.push(ii);var $i;return ri?$i=kr(_n,ii,ni,ei,jn):$i=jn.map(function(Ti){return Wr(_n,ii,ni,ei,Ti,ri)}),_n.seen.pop(),Gr($i,zn,hi)}function fr(_n,ii){if(Tn(ii))return _n.stylize("undefined","undefined");if(An(ii)){var ni="'"+JSON.stringify(ii).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return _n.stylize(ni,"string")}if(Rn(ii))return _n.stylize(""+ii,"number");if(Qr(ii))return _n.stylize(""+ii,"boolean");if(wn(ii))return _n.stylize("null","null")}function br(_n){return"["+Error.prototype.toString.call(_n)+"]"}function kr(_n,ii,ni,si,Nn){for(var jn=[],ei=0,Pn=ii.length;ei<Pn;++ei)Xr(ii,String(ei))?jn.push(Wr(_n,ii,ni,si,String(ei),!0)):jn.push("");return Nn.forEach(function(zn){zn.match(/^\d+$/)||jn.push(Wr(_n,ii,ni,si,zn,!0))}),jn}function Wr(_n,ii,ni,si,Nn,jn){var ei,Pn,zn;if(zn=Object.getOwnPropertyDescriptor(ii,Nn)||{value:ii[Nn]},zn.get?zn.set?Pn=_n.stylize("[Getter/Setter]","special"):Pn=_n.stylize("[Getter]","special"):zn.set&&(Pn=_n.stylize("[Setter]","special")),Xr(si,Nn)||(ei="["+Nn+"]"),Pn||(_n.seen.indexOf(zn.value)<0?(wn(ni)?Pn=Ie(_n,zn.value,null):Pn=Ie(_n,zn.value,ni-1),Pn.indexOf(`
`)>-1&&(jn?Pn=Pn.split(`
`).map(function(ri){return"  "+ri}).join(`
`).slice(2):Pn=`
`+Pn.split(`
`).map(function(ri){return"   "+ri}).join(`
`))):Pn=_n.stylize("[Circular]","special")),Tn(ei)){if(jn&&Nn.match(/^\d+$/))return Pn;ei=JSON.stringify(""+Nn),ei.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ei=ei.slice(1,-1),ei=_n.stylize(ei,"name")):(ei=ei.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ei=_n.stylize(ei,"string"))}return ei+": "+Pn}function Gr(_n,ii,ni){var si=_n.reduce(function(Nn,jn){return jn.indexOf(`
`)>=0,Nn+jn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return si>60?ni[0]+(ii===""?"":ii+`
 `)+" "+_n.join(`,
  `)+" "+ni[1]:ni[0]+ii+" "+_n.join(", ")+" "+ni[1]}se.types=requireTypes$2();function jr(_n){return Array.isArray(_n)}se.isArray=jr;function Qr(_n){return typeof _n=="boolean"}se.isBoolean=Qr;function wn(_n){return _n===null}se.isNull=wn;function En(_n){return _n==null}se.isNullOrUndefined=En;function Rn(_n){return typeof _n=="number"}se.isNumber=Rn;function An(_n){return typeof _n=="string"}se.isString=An;function $n(_n){return typeof _n=="symbol"}se.isSymbol=$n;function Tn(_n){return _n===void 0}se.isUndefined=Tn;function ti(_n){return ai(_n)&&wr(_n)==="[object RegExp]"}se.isRegExp=ti,se.types.isRegExp=ti;function ai(_n){return typeof _n=="object"&&_n!==null}se.isObject=ai;function On(_n){return ai(_n)&&wr(_n)==="[object Date]"}se.isDate=On,se.types.isDate=On;function Sn(_n){return ai(_n)&&(wr(_n)==="[object Error]"||_n instanceof Error)}se.isError=Sn,se.types.isNativeError=Sn;function Zr(_n){return typeof _n=="function"}se.isFunction=Zr;function Oe(_n){return _n===null||typeof _n=="boolean"||typeof _n=="number"||typeof _n=="string"||typeof _n=="symbol"||typeof _n>"u"}se.isPrimitive=Oe,se.isBuffer=requireIsBufferBrowser();function wr(_n){return Object.prototype.toString.call(_n)}function qr(_n){return _n<10?"0"+_n.toString(10):_n.toString(10)}var Vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Jr(){var _n=new Date,ii=[qr(_n.getHours()),qr(_n.getMinutes()),qr(_n.getSeconds())].join(":");return[_n.getDate(),Vr[_n.getMonth()],ii].join(" ")}se.log=function(){console.log("%s - %s",Jr(),se.format.apply(se,arguments))},se.inherits=requireInherits_browser(),se._extend=function(_n,ii){if(!ii||!ai(ii))return _n;for(var ni=Object.keys(ii),si=ni.length;si--;)_n[ni[si]]=ii[ni[si]];return _n};function Xr(_n,ii){return Object.prototype.hasOwnProperty.call(_n,ii)}var Kr=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;se.promisify=function(ii){if(typeof ii!="function")throw new TypeError('The "original" argument must be of type Function');if(Kr&&ii[Kr]){var ni=ii[Kr];if(typeof ni!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ni,Kr,{value:ni,enumerable:!1,writable:!1,configurable:!0}),ni}function ni(){for(var si,Nn,jn=new Promise(function(zn,ri){si=zn,Nn=ri}),ei=[],Pn=0;Pn<arguments.length;Pn++)ei.push(arguments[Pn]);ei.push(function(zn,ri){zn?Nn(zn):si(ri)});try{ii.apply(this,ei)}catch(zn){Nn(zn)}return jn}return Object.setPrototypeOf(ni,Object.getPrototypeOf(ii)),Kr&&Object.defineProperty(ni,Kr,{value:ni,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ni,ne(ii))},se.promisify.custom=Kr;function Yr(_n,ii){if(!_n){var ni=new Error("Promise was rejected with a falsy value");ni.reason=_n,_n=ni}return ii(_n)}function Br(_n){if(typeof _n!="function")throw new TypeError('The "original" argument must be of type Function');function ii(){for(var ni=[],si=0;si<arguments.length;si++)ni.push(arguments[si]);var Nn=ni.pop();if(typeof Nn!="function")throw new TypeError("The last argument must be of type Function");var jn=this,ei=function(){return Nn.apply(jn,arguments)};_n.apply(this,ni).then(function(Pn){process$1.nextTick(ei.bind(null,null,Pn))},function(Pn){process$1.nextTick(Yr.bind(null,Pn,ei))})}return Object.setPrototypeOf(ii,Object.getPrototypeOf(_n)),Object.defineProperties(ii,ne(_n)),ii}se.callbackify=Br}(util$3)),util$3}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function se(kr,Wr){var Gr=Object.keys(kr);if(Object.getOwnPropertySymbols){var jr=Object.getOwnPropertySymbols(kr);Wr&&(jr=jr.filter(function(Qr){return Object.getOwnPropertyDescriptor(kr,Qr).enumerable})),Gr.push.apply(Gr,jr)}return Gr}function Y(kr){for(var Wr=1;Wr<arguments.length;Wr++){var Gr=arguments[Wr]!=null?arguments[Wr]:{};Wr%2?se(Object(Gr),!0).forEach(function(jr){ne(kr,jr,Gr[jr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kr,Object.getOwnPropertyDescriptors(Gr)):se(Object(Gr)).forEach(function(jr){Object.defineProperty(kr,jr,Object.getOwnPropertyDescriptor(Gr,jr))})}return kr}function ne(kr,Wr,Gr){return Wr=be(Wr),Wr in kr?Object.defineProperty(kr,Wr,{value:Gr,enumerable:!0,configurable:!0,writable:!0}):kr[Wr]=Gr,kr}function fe(kr,Wr){if(!(kr instanceof Wr))throw new TypeError("Cannot call a class as a function")}function ye(kr,Wr){for(var Gr=0;Gr<Wr.length;Gr++){var jr=Wr[Gr];jr.enumerable=jr.enumerable||!1,jr.configurable=!0,"value"in jr&&(jr.writable=!0),Object.defineProperty(kr,be(jr.key),jr)}}function me(kr,Wr,Gr){return ye(kr.prototype,Wr),Object.defineProperty(kr,"prototype",{writable:!1}),kr}function be(kr){var Wr=we(kr,"string");return typeof Wr=="symbol"?Wr:String(Wr)}function we(kr,Wr){if(typeof kr!="object"||kr===null)return kr;var Gr=kr[Symbol.toPrimitive];if(Gr!==void 0){var jr=Gr.call(kr,Wr);if(typeof jr!="object")return jr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(kr)}var Ee=requireDist$5(),xe=Ee.Buffer,Se=requireUtil$3(),Ie=Se.inspect,fr=Ie&&Ie.custom||"inspect";function br(kr,Wr,Gr){xe.prototype.copy.call(kr,Wr,Gr)}return buffer_list=function(){function kr(){fe(this,kr),this.head=null,this.tail=null,this.length=0}return me(kr,[{key:"push",value:function(Gr){var jr={data:Gr,next:null};this.length>0?this.tail.next=jr:this.head=jr,this.tail=jr,++this.length}},{key:"unshift",value:function(Gr){var jr={data:Gr,next:this.head};this.length===0&&(this.tail=jr),this.head=jr,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Gr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Gr}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Gr){if(this.length===0)return"";for(var jr=this.head,Qr=""+jr.data;jr=jr.next;)Qr+=Gr+jr.data;return Qr}},{key:"concat",value:function(Gr){if(this.length===0)return xe.alloc(0);for(var jr=xe.allocUnsafe(Gr>>>0),Qr=this.head,wn=0;Qr;)br(Qr.data,jr,wn),wn+=Qr.data.length,Qr=Qr.next;return jr}},{key:"consume",value:function(Gr,jr){var Qr;return Gr<this.head.data.length?(Qr=this.head.data.slice(0,Gr),this.head.data=this.head.data.slice(Gr)):Gr===this.head.data.length?Qr=this.shift():Qr=jr?this._getString(Gr):this._getBuffer(Gr),Qr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Gr){var jr=this.head,Qr=1,wn=jr.data;for(Gr-=wn.length;jr=jr.next;){var En=jr.data,Rn=Gr>En.length?En.length:Gr;if(Rn===En.length?wn+=En:wn+=En.slice(0,Gr),Gr-=Rn,Gr===0){Rn===En.length?(++Qr,jr.next?this.head=jr.next:this.head=this.tail=null):(this.head=jr,jr.data=En.slice(Rn));break}++Qr}return this.length-=Qr,wn}},{key:"_getBuffer",value:function(Gr){var jr=xe.allocUnsafe(Gr),Qr=this.head,wn=1;for(Qr.data.copy(jr),Gr-=Qr.data.length;Qr=Qr.next;){var En=Qr.data,Rn=Gr>En.length?En.length:Gr;if(En.copy(jr,jr.length-Gr,0,Rn),Gr-=Rn,Gr===0){Rn===En.length?(++wn,Qr.next?this.head=Qr.next:this.head=this.tail=null):(this.head=Qr,Qr.data=En.slice(Rn));break}++wn}return this.length-=wn,jr}},{key:fr,value:function(Gr,jr){return Ie(this,Y(Y({},jr),{},{depth:0,customInspect:!1}))}}]),kr}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function se(be,we){var Ee=this,xe=this._readableState&&this._readableState.destroyed,Se=this._writableState&&this._writableState.destroyed;return xe||Se?(we?we(be):be&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(ye,this,be)):process$1.nextTick(ye,this,be)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(be||null,function(Ie){!we&&Ie?Ee._writableState?Ee._writableState.errorEmitted?process$1.nextTick(ne,Ee):(Ee._writableState.errorEmitted=!0,process$1.nextTick(Y,Ee,Ie)):process$1.nextTick(Y,Ee,Ie):we?(process$1.nextTick(ne,Ee),we(Ie)):process$1.nextTick(ne,Ee)}),this)}function Y(be,we){ye(be,we),ne(be)}function ne(be){be._writableState&&!be._writableState.emitClose||be._readableState&&!be._readableState.emitClose||be.emit("close")}function fe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ye(be,we){be.emit("error",we)}function me(be,we){var Ee=be._readableState,xe=be._writableState;Ee&&Ee.autoDestroy||xe&&xe.autoDestroy?be.destroy(we):be.emit("error",we)}return destroy_1$1={destroy:se,undestroy:fe,errorOrDestroy:me},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function se(we,Ee){we.prototype=Object.create(Ee.prototype),we.prototype.constructor=we,we.__proto__=Ee}var Y={};function ne(we,Ee,xe){xe||(xe=Error);function Se(fr,br,kr){return typeof Ee=="string"?Ee:Ee(fr,br,kr)}var Ie=function(fr){se(br,fr);function br(kr,Wr,Gr){return fr.call(this,Se(kr,Wr,Gr))||this}return br}(xe);Ie.prototype.name=xe.name,Ie.prototype.code=we,Y[we]=Ie}function fe(we,Ee){if(Array.isArray(we)){var xe=we.length;return we=we.map(function(Se){return String(Se)}),xe>2?"one of ".concat(Ee," ").concat(we.slice(0,xe-1).join(", "),", or ")+we[xe-1]:xe===2?"one of ".concat(Ee," ").concat(we[0]," or ").concat(we[1]):"of ".concat(Ee," ").concat(we[0])}else return"of ".concat(Ee," ").concat(String(we))}function ye(we,Ee,xe){return we.substr(0,Ee.length)===Ee}function me(we,Ee,xe){return(xe===void 0||xe>we.length)&&(xe=we.length),we.substring(xe-Ee.length,xe)===Ee}function be(we,Ee,xe){return typeof xe!="number"&&(xe=0),xe+Ee.length>we.length?!1:we.indexOf(Ee,xe)!==-1}return ne("ERR_INVALID_OPT_VALUE",function(we,Ee){return'The value "'+Ee+'" is invalid for option "'+we+'"'},TypeError),ne("ERR_INVALID_ARG_TYPE",function(we,Ee,xe){var Se;typeof Ee=="string"&&ye(Ee,"not ")?(Se="must not be",Ee=Ee.replace(/^not /,"")):Se="must be";var Ie;if(me(we," argument"))Ie="The ".concat(we," ").concat(Se," ").concat(fe(Ee,"type"));else{var fr=be(we,".")?"property":"argument";Ie='The "'.concat(we,'" ').concat(fr," ").concat(Se," ").concat(fe(Ee,"type"))}return Ie+=". Received type ".concat(typeof xe),Ie},TypeError),ne("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ne("ERR_METHOD_NOT_IMPLEMENTED",function(we){return"The "+we+" method is not implemented"}),ne("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ne("ERR_STREAM_DESTROYED",function(we){return"Cannot call "+we+" after a stream was destroyed"}),ne("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ne("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ne("ERR_STREAM_WRITE_AFTER_END","write after end"),ne("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ne("ERR_UNKNOWN_ENCODING",function(we){return"Unknown encoding: "+we},TypeError),ne("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=Y,errorsBrowser}var state$1,hasRequiredState;function requireState(){if(hasRequiredState)return state$1;hasRequiredState=1;var se=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function Y(fe,ye,me){return fe.highWaterMark!=null?fe.highWaterMark:ye?fe[me]:null}function ne(fe,ye,me,be){var we=Y(ye,be,me);if(we!=null){if(!(isFinite(we)&&Math.floor(we)===we)||we<0){var Ee=be?me:"highWaterMark";throw new se(Ee,we)}return Math.floor(we)}return fe.objectMode?16:16*1024}return state$1={getHighWaterMark:ne},state$1}var browser$d,hasRequiredBrowser$d;function requireBrowser$d(){if(hasRequiredBrowser$d)return browser$d;hasRequiredBrowser$d=1,browser$d=se;function se(ne,fe){if(Y("noDeprecation"))return ne;var ye=!1;function me(){if(!ye){if(Y("throwDeprecation"))throw new Error(fe);Y("traceDeprecation")?console.trace(fe):console.warn(fe),ye=!0}return ne.apply(this,arguments)}return me}function Y(ne){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var fe=commonjsGlobal.localStorage[ne];return fe==null?!1:String(fe).toLowerCase()==="true"}return browser$d}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Tn;function se(si){var Nn=this;this.next=null,this.entry=null,this.finish=function(){ni(Nn,si)}}var Y;Tn.WritableState=An;var ne={deprecate:requireBrowser$d()},fe=requireStreamBrowser$1(),ye=requireDist$5().Buffer,me=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function be(si){return ye.from(si)}function we(si){return ye.isBuffer(si)||si instanceof me}var Ee=requireDestroy$1(),xe=requireState(),Se=xe.getHighWaterMark,Ie=requireErrorsBrowser().codes,fr=Ie.ERR_INVALID_ARG_TYPE,br=Ie.ERR_METHOD_NOT_IMPLEMENTED,kr=Ie.ERR_MULTIPLE_CALLBACK,Wr=Ie.ERR_STREAM_CANNOT_PIPE,Gr=Ie.ERR_STREAM_DESTROYED,jr=Ie.ERR_STREAM_NULL_VALUES,Qr=Ie.ERR_STREAM_WRITE_AFTER_END,wn=Ie.ERR_UNKNOWN_ENCODING,En=Ee.errorOrDestroy;requireInherits_browser()(Tn,fe);function Rn(){}function An(si,Nn,jn){Y=Y||require_stream_duplex$1(),si=si||{},typeof jn!="boolean"&&(jn=Nn instanceof Y),this.objectMode=!!si.objectMode,jn&&(this.objectMode=this.objectMode||!!si.writableObjectMode),this.highWaterMark=Se(this,si,"writableHighWaterMark",jn),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ei=si.decodeStrings===!1;this.decodeStrings=!ei,this.defaultEncoding=si.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pn){qr(Nn,Pn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=si.emitClose!==!1,this.autoDestroy=!!si.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new se(this)}An.prototype.getBuffer=function(){for(var Nn=this.bufferedRequest,jn=[];Nn;)jn.push(Nn),Nn=Nn.next;return jn},function(){try{Object.defineProperty(An.prototype,"buffer",{get:ne.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $n;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($n=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tn,Symbol.hasInstance,{value:function(Nn){return $n.call(this,Nn)?!0:this!==Tn?!1:Nn&&Nn._writableState instanceof An}})):$n=function(Nn){return Nn instanceof this};function Tn(si){Y=Y||require_stream_duplex$1();var Nn=this instanceof Y;if(!Nn&&!$n.call(Tn,this))return new Tn(si);this._writableState=new An(si,this,Nn),this.writable=!0,si&&(typeof si.write=="function"&&(this._write=si.write),typeof si.writev=="function"&&(this._writev=si.writev),typeof si.destroy=="function"&&(this._destroy=si.destroy),typeof si.final=="function"&&(this._final=si.final)),fe.call(this)}Tn.prototype.pipe=function(){En(this,new Wr)};function ti(si,Nn){var jn=new Qr;En(si,jn),process$1.nextTick(Nn,jn)}function ai(si,Nn,jn,ei){var Pn;return jn===null?Pn=new jr:typeof jn!="string"&&!Nn.objectMode&&(Pn=new fr("chunk",["string","Buffer"],jn)),Pn?(En(si,Pn),process$1.nextTick(ei,Pn),!1):!0}Tn.prototype.write=function(si,Nn,jn){var ei=this._writableState,Pn=!1,zn=!ei.objectMode&&we(si);return zn&&!ye.isBuffer(si)&&(si=be(si)),typeof Nn=="function"&&(jn=Nn,Nn=null),zn?Nn="buffer":Nn||(Nn=ei.defaultEncoding),typeof jn!="function"&&(jn=Rn),ei.ending?ti(this,jn):(zn||ai(this,ei,si,jn))&&(ei.pendingcb++,Pn=Sn(this,ei,zn,si,Nn,jn)),Pn},Tn.prototype.cork=function(){this._writableState.corked++},Tn.prototype.uncork=function(){var si=this._writableState;si.corked&&(si.corked--,!si.writing&&!si.corked&&!si.bufferProcessing&&si.bufferedRequest&&Xr(this,si))},Tn.prototype.setDefaultEncoding=function(Nn){if(typeof Nn=="string"&&(Nn=Nn.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Nn+"").toLowerCase())>-1))throw new wn(Nn);return this._writableState.defaultEncoding=Nn,this},Object.defineProperty(Tn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function On(si,Nn,jn){return!si.objectMode&&si.decodeStrings!==!1&&typeof Nn=="string"&&(Nn=ye.from(Nn,jn)),Nn}Object.defineProperty(Tn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Sn(si,Nn,jn,ei,Pn,zn){if(!jn){var ri=On(Nn,ei,Pn);ei!==ri&&(jn=!0,Pn="buffer",ei=ri)}var hi=Nn.objectMode?1:ei.length;Nn.length+=hi;var mi=Nn.length<Nn.highWaterMark;if(mi||(Nn.needDrain=!0),Nn.writing||Nn.corked){var $i=Nn.lastBufferedRequest;Nn.lastBufferedRequest={chunk:ei,encoding:Pn,isBuf:jn,callback:zn,next:null},$i?$i.next=Nn.lastBufferedRequest:Nn.bufferedRequest=Nn.lastBufferedRequest,Nn.bufferedRequestCount+=1}else Zr(si,Nn,!1,hi,ei,Pn,zn);return mi}function Zr(si,Nn,jn,ei,Pn,zn,ri){Nn.writelen=ei,Nn.writecb=ri,Nn.writing=!0,Nn.sync=!0,Nn.destroyed?Nn.onwrite(new Gr("write")):jn?si._writev(Pn,Nn.onwrite):si._write(Pn,zn,Nn.onwrite),Nn.sync=!1}function Oe(si,Nn,jn,ei,Pn){--Nn.pendingcb,jn?(process$1.nextTick(Pn,ei),process$1.nextTick(_n,si,Nn),si._writableState.errorEmitted=!0,En(si,ei)):(Pn(ei),si._writableState.errorEmitted=!0,En(si,ei),_n(si,Nn))}function wr(si){si.writing=!1,si.writecb=null,si.length-=si.writelen,si.writelen=0}function qr(si,Nn){var jn=si._writableState,ei=jn.sync,Pn=jn.writecb;if(typeof Pn!="function")throw new kr;if(wr(jn),Nn)Oe(si,jn,ei,Nn,Pn);else{var zn=Kr(jn)||si.destroyed;!zn&&!jn.corked&&!jn.bufferProcessing&&jn.bufferedRequest&&Xr(si,jn),ei?process$1.nextTick(Vr,si,jn,zn,Pn):Vr(si,jn,zn,Pn)}}function Vr(si,Nn,jn,ei){jn||Jr(si,Nn),Nn.pendingcb--,ei(),_n(si,Nn)}function Jr(si,Nn){Nn.length===0&&Nn.needDrain&&(Nn.needDrain=!1,si.emit("drain"))}function Xr(si,Nn){Nn.bufferProcessing=!0;var jn=Nn.bufferedRequest;if(si._writev&&jn&&jn.next){var ei=Nn.bufferedRequestCount,Pn=new Array(ei),zn=Nn.corkedRequestsFree;zn.entry=jn;for(var ri=0,hi=!0;jn;)Pn[ri]=jn,jn.isBuf||(hi=!1),jn=jn.next,ri+=1;Pn.allBuffers=hi,Zr(si,Nn,!0,Nn.length,Pn,"",zn.finish),Nn.pendingcb++,Nn.lastBufferedRequest=null,zn.next?(Nn.corkedRequestsFree=zn.next,zn.next=null):Nn.corkedRequestsFree=new se(Nn),Nn.bufferedRequestCount=0}else{for(;jn;){var mi=jn.chunk,$i=jn.encoding,Ti=jn.callback,xi=Nn.objectMode?1:mi.length;if(Zr(si,Nn,!1,xi,mi,$i,Ti),jn=jn.next,Nn.bufferedRequestCount--,Nn.writing)break}jn===null&&(Nn.lastBufferedRequest=null)}Nn.bufferedRequest=jn,Nn.bufferProcessing=!1}Tn.prototype._write=function(si,Nn,jn){jn(new br("_write()"))},Tn.prototype._writev=null,Tn.prototype.end=function(si,Nn,jn){var ei=this._writableState;return typeof si=="function"?(jn=si,si=null,Nn=null):typeof Nn=="function"&&(jn=Nn,Nn=null),si!=null&&this.write(si,Nn),ei.corked&&(ei.corked=1,this.uncork()),ei.ending||ii(this,ei,jn),this},Object.defineProperty(Tn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Kr(si){return si.ending&&si.length===0&&si.bufferedRequest===null&&!si.finished&&!si.writing}function Yr(si,Nn){si._final(function(jn){Nn.pendingcb--,jn&&En(si,jn),Nn.prefinished=!0,si.emit("prefinish"),_n(si,Nn)})}function Br(si,Nn){!Nn.prefinished&&!Nn.finalCalled&&(typeof si._final=="function"&&!Nn.destroyed?(Nn.pendingcb++,Nn.finalCalled=!0,process$1.nextTick(Yr,si,Nn)):(Nn.prefinished=!0,si.emit("prefinish")))}function _n(si,Nn){var jn=Kr(Nn);if(jn&&(Br(si,Nn),Nn.pendingcb===0&&(Nn.finished=!0,si.emit("finish"),Nn.autoDestroy))){var ei=si._readableState;(!ei||ei.autoDestroy&&ei.endEmitted)&&si.destroy()}return jn}function ii(si,Nn,jn){Nn.ending=!0,_n(si,Nn),jn&&(Nn.finished?process$1.nextTick(jn):si.once("finish",jn)),Nn.ended=!0,si.writable=!1}function ni(si,Nn,jn){var ei=si.entry;for(si.entry=null;ei;){var Pn=ei.callback;Nn.pendingcb--,Pn(jn),ei=ei.next}Nn.corkedRequestsFree.next=si}return Object.defineProperty(Tn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Nn){this._writableState&&(this._writableState.destroyed=Nn)}}),Tn.prototype.destroy=Ee.destroy,Tn.prototype._undestroy=Ee.undestroy,Tn.prototype._destroy=function(si,Nn){Nn(si)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var se=Object.keys||function(xe){var Se=[];for(var Ie in xe)Se.push(Ie);return Se};_stream_duplex$1=be;var Y=require_stream_readable$1(),ne=require_stream_writable$1();requireInherits_browser()(be,Y);for(var fe=se(ne.prototype),ye=0;ye<fe.length;ye++){var me=fe[ye];be.prototype[me]||(be.prototype[me]=ne.prototype[me])}function be(xe){if(!(this instanceof be))return new be(xe);Y.call(this,xe),ne.call(this,xe),this.allowHalfOpen=!0,xe&&(xe.readable===!1&&(this.readable=!1),xe.writable===!1&&(this.writable=!1),xe.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",we)))}Object.defineProperty(be.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(be.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(be.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function we(){this._writableState.ended||process$1.nextTick(Ee,this)}function Ee(xe){xe.end()}return Object.defineProperty(be.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Se){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Se,this._writableState.destroyed=Se)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var se=requireSafeBuffer$1().Buffer,Y=se.isEncoding||function(jr){switch(jr=""+jr,jr&&jr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ne(jr){if(!jr)return"utf8";for(var Qr;;)switch(jr){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return jr;default:if(Qr)return;jr=(""+jr).toLowerCase(),Qr=!0}}function fe(jr){var Qr=ne(jr);if(typeof Qr!="string"&&(se.isEncoding===Y||!Y(jr)))throw new Error("Unknown encoding: "+jr);return Qr||jr}string_decoder.StringDecoder=ye;function ye(jr){this.encoding=fe(jr);var Qr;switch(this.encoding){case"utf16le":this.text=Ie,this.end=fr,Qr=4;break;case"utf8":this.fillLast=Ee,Qr=4;break;case"base64":this.text=br,this.end=kr,Qr=3;break;default:this.write=Wr,this.end=Gr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=se.allocUnsafe(Qr)}ye.prototype.write=function(jr){if(jr.length===0)return"";var Qr,wn;if(this.lastNeed){if(Qr=this.fillLast(jr),Qr===void 0)return"";wn=this.lastNeed,this.lastNeed=0}else wn=0;return wn<jr.length?Qr?Qr+this.text(jr,wn):this.text(jr,wn):Qr||""},ye.prototype.end=Se,ye.prototype.text=xe,ye.prototype.fillLast=function(jr){if(this.lastNeed<=jr.length)return jr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);jr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,jr.length),this.lastNeed-=jr.length};function me(jr){return jr<=127?0:jr>>5===6?2:jr>>4===14?3:jr>>3===30?4:jr>>6===2?-1:-2}function be(jr,Qr,wn){var En=Qr.length-1;if(En<wn)return 0;var Rn=me(Qr[En]);return Rn>=0?(Rn>0&&(jr.lastNeed=Rn-1),Rn):--En<wn||Rn===-2?0:(Rn=me(Qr[En]),Rn>=0?(Rn>0&&(jr.lastNeed=Rn-2),Rn):--En<wn||Rn===-2?0:(Rn=me(Qr[En]),Rn>=0?(Rn>0&&(Rn===2?Rn=0:jr.lastNeed=Rn-3),Rn):0))}function we(jr,Qr,wn){if((Qr[0]&192)!==128)return jr.lastNeed=0,"�";if(jr.lastNeed>1&&Qr.length>1){if((Qr[1]&192)!==128)return jr.lastNeed=1,"�";if(jr.lastNeed>2&&Qr.length>2&&(Qr[2]&192)!==128)return jr.lastNeed=2,"�"}}function Ee(jr){var Qr=this.lastTotal-this.lastNeed,wn=we(this,jr);if(wn!==void 0)return wn;if(this.lastNeed<=jr.length)return jr.copy(this.lastChar,Qr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);jr.copy(this.lastChar,Qr,0,jr.length),this.lastNeed-=jr.length}function xe(jr,Qr){var wn=be(this,jr,Qr);if(!this.lastNeed)return jr.toString("utf8",Qr);this.lastTotal=wn;var En=jr.length-(wn-this.lastNeed);return jr.copy(this.lastChar,0,En),jr.toString("utf8",Qr,En)}function Se(jr){var Qr=jr&&jr.length?this.write(jr):"";return this.lastNeed?Qr+"�":Qr}function Ie(jr,Qr){if((jr.length-Qr)%2===0){var wn=jr.toString("utf16le",Qr);if(wn){var En=wn.charCodeAt(wn.length-1);if(En>=55296&&En<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=jr[jr.length-2],this.lastChar[1]=jr[jr.length-1],wn.slice(0,-1)}return wn}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=jr[jr.length-1],jr.toString("utf16le",Qr,jr.length-1)}function fr(jr){var Qr=jr&&jr.length?this.write(jr):"";if(this.lastNeed){var wn=this.lastTotal-this.lastNeed;return Qr+this.lastChar.toString("utf16le",0,wn)}return Qr}function br(jr,Qr){var wn=(jr.length-Qr)%3;return wn===0?jr.toString("base64",Qr):(this.lastNeed=3-wn,this.lastTotal=3,wn===1?this.lastChar[0]=jr[jr.length-1]:(this.lastChar[0]=jr[jr.length-2],this.lastChar[1]=jr[jr.length-1]),jr.toString("base64",Qr,jr.length-wn))}function kr(jr){var Qr=jr&&jr.length?this.write(jr):"";return this.lastNeed?Qr+this.lastChar.toString("base64",0,3-this.lastNeed):Qr}function Wr(jr){return jr.toString(this.encoding)}function Gr(jr){return jr&&jr.length?this.write(jr):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var se=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function Y(me){var be=!1;return function(){if(!be){be=!0;for(var we=arguments.length,Ee=new Array(we),xe=0;xe<we;xe++)Ee[xe]=arguments[xe];me.apply(this,Ee)}}}function ne(){}function fe(me){return me.setHeader&&typeof me.abort=="function"}function ye(me,be,we){if(typeof be=="function")return ye(me,null,be);be||(be={}),we=Y(we||ne);var Ee=be.readable||be.readable!==!1&&me.readable,xe=be.writable||be.writable!==!1&&me.writable,Se=function(){me.writable||fr()},Ie=me._writableState&&me._writableState.finished,fr=function(){xe=!1,Ie=!0,Ee||we.call(me)},br=me._readableState&&me._readableState.endEmitted,kr=function(){Ee=!1,br=!0,xe||we.call(me)},Wr=function(wn){we.call(me,wn)},Gr=function(){var wn;if(Ee&&!br)return(!me._readableState||!me._readableState.ended)&&(wn=new se),we.call(me,wn);if(xe&&!Ie)return(!me._writableState||!me._writableState.ended)&&(wn=new se),we.call(me,wn)},jr=function(){me.req.on("finish",fr)};return fe(me)?(me.on("complete",fr),me.on("abort",Gr),me.req?jr():me.on("request",jr)):xe&&!me._writableState&&(me.on("end",Se),me.on("close",Se)),me.on("end",kr),me.on("finish",fr),be.error!==!1&&me.on("error",Wr),me.on("close",Gr),function(){me.removeListener("complete",fr),me.removeListener("abort",Gr),me.removeListener("request",jr),me.req&&me.req.removeListener("finish",fr),me.removeListener("end",Se),me.removeListener("close",Se),me.removeListener("finish",fr),me.removeListener("end",kr),me.removeListener("error",Wr),me.removeListener("close",Gr)}}return endOfStream=ye,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var se;function Y(wn,En,Rn){return En=ne(En),En in wn?Object.defineProperty(wn,En,{value:Rn,enumerable:!0,configurable:!0,writable:!0}):wn[En]=Rn,wn}function ne(wn){var En=fe(wn,"string");return typeof En=="symbol"?En:String(En)}function fe(wn,En){if(typeof wn!="object"||wn===null)return wn;var Rn=wn[Symbol.toPrimitive];if(Rn!==void 0){var An=Rn.call(wn,En||"default");if(typeof An!="object")return An;throw new TypeError("@@toPrimitive must return a primitive value.")}return(En==="string"?String:Number)(wn)}var ye=requireEndOfStream(),me=Symbol("lastResolve"),be=Symbol("lastReject"),we=Symbol("error"),Ee=Symbol("ended"),xe=Symbol("lastPromise"),Se=Symbol("handlePromise"),Ie=Symbol("stream");function fr(wn,En){return{value:wn,done:En}}function br(wn){var En=wn[me];if(En!==null){var Rn=wn[Ie].read();Rn!==null&&(wn[xe]=null,wn[me]=null,wn[be]=null,En(fr(Rn,!1)))}}function kr(wn){process$1.nextTick(br,wn)}function Wr(wn,En){return function(Rn,An){wn.then(function(){if(En[Ee]){Rn(fr(void 0,!0));return}En[Se](Rn,An)},An)}}var Gr=Object.getPrototypeOf(function(){}),jr=Object.setPrototypeOf((se={get stream(){return this[Ie]},next:function(){var En=this,Rn=this[we];if(Rn!==null)return Promise.reject(Rn);if(this[Ee])return Promise.resolve(fr(void 0,!0));if(this[Ie].destroyed)return new Promise(function(ti,ai){process$1.nextTick(function(){En[we]?ai(En[we]):ti(fr(void 0,!0))})});var An=this[xe],$n;if(An)$n=new Promise(Wr(An,this));else{var Tn=this[Ie].read();if(Tn!==null)return Promise.resolve(fr(Tn,!1));$n=new Promise(this[Se])}return this[xe]=$n,$n}},Y(se,Symbol.asyncIterator,function(){return this}),Y(se,"return",function(){var En=this;return new Promise(function(Rn,An){En[Ie].destroy(null,function($n){if($n){An($n);return}Rn(fr(void 0,!0))})})}),se),Gr),Qr=function(En){var Rn,An=Object.create(jr,(Rn={},Y(Rn,Ie,{value:En,writable:!0}),Y(Rn,me,{value:null,writable:!0}),Y(Rn,be,{value:null,writable:!0}),Y(Rn,we,{value:null,writable:!0}),Y(Rn,Ee,{value:En._readableState.endEmitted,writable:!0}),Y(Rn,Se,{value:function(Tn,ti){var ai=An[Ie].read();ai?(An[xe]=null,An[me]=null,An[be]=null,Tn(fr(ai,!1))):(An[me]=Tn,An[be]=ti)},writable:!0}),Rn));return An[xe]=null,ye(En,function($n){if($n&&$n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Tn=An[be];Tn!==null&&(An[xe]=null,An[me]=null,An[be]=null,Tn($n)),An[we]=$n;return}var ti=An[me];ti!==null&&(An[xe]=null,An[me]=null,An[be]=null,ti(fr(void 0,!0))),An[Ee]=!0}),En.on("readable",kr.bind(null,An)),An};return async_iterator=Qr,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=ti;var se;ti.ReadableState=Tn,requireEvents().EventEmitter;var Y=function(ri,hi){return ri.listeners(hi).length},ne=requireStreamBrowser$1(),fe=requireDist$5().Buffer,ye=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function me(zn){return fe.from(zn)}function be(zn){return fe.isBuffer(zn)||zn instanceof ye}var we=requireUtil$3(),Ee;we&&we.debuglog?Ee=we.debuglog("stream"):Ee=function(){};var xe=requireBuffer_list(),Se=requireDestroy$1(),Ie=requireState(),fr=Ie.getHighWaterMark,br=requireErrorsBrowser().codes,kr=br.ERR_INVALID_ARG_TYPE,Wr=br.ERR_STREAM_PUSH_AFTER_EOF,Gr=br.ERR_METHOD_NOT_IMPLEMENTED,jr=br.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Qr,wn,En;requireInherits_browser()(ti,ne);var Rn=Se.errorOrDestroy,An=["error","close","destroy","pause","resume"];function $n(zn,ri,hi){if(typeof zn.prependListener=="function")return zn.prependListener(ri,hi);!zn._events||!zn._events[ri]?zn.on(ri,hi):Array.isArray(zn._events[ri])?zn._events[ri].unshift(hi):zn._events[ri]=[hi,zn._events[ri]]}function Tn(zn,ri,hi){se=se||require_stream_duplex$1(),zn=zn||{},typeof hi!="boolean"&&(hi=ri instanceof se),this.objectMode=!!zn.objectMode,hi&&(this.objectMode=this.objectMode||!!zn.readableObjectMode),this.highWaterMark=fr(this,zn,"readableHighWaterMark",hi),this.buffer=new xe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=zn.emitClose!==!1,this.autoDestroy=!!zn.autoDestroy,this.destroyed=!1,this.defaultEncoding=zn.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,zn.encoding&&(Qr||(Qr=requireString_decoder().StringDecoder),this.decoder=new Qr(zn.encoding),this.encoding=zn.encoding)}function ti(zn){if(se=se||require_stream_duplex$1(),!(this instanceof ti))return new ti(zn);var ri=this instanceof se;this._readableState=new Tn(zn,this,ri),this.readable=!0,zn&&(typeof zn.read=="function"&&(this._read=zn.read),typeof zn.destroy=="function"&&(this._destroy=zn.destroy)),ne.call(this)}Object.defineProperty(ti.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ri){this._readableState&&(this._readableState.destroyed=ri)}}),ti.prototype.destroy=Se.destroy,ti.prototype._undestroy=Se.undestroy,ti.prototype._destroy=function(zn,ri){ri(zn)},ti.prototype.push=function(zn,ri){var hi=this._readableState,mi;return hi.objectMode?mi=!0:typeof zn=="string"&&(ri=ri||hi.defaultEncoding,ri!==hi.encoding&&(zn=fe.from(zn,ri),ri=""),mi=!0),ai(this,zn,ri,!1,mi)},ti.prototype.unshift=function(zn){return ai(this,zn,null,!0,!1)};function ai(zn,ri,hi,mi,$i){Ee("readableAddChunk",ri);var Ti=zn._readableState;if(ri===null)Ti.reading=!1,qr(zn,Ti);else{var xi;if($i||(xi=Sn(Ti,ri)),xi)Rn(zn,xi);else if(Ti.objectMode||ri&&ri.length>0)if(typeof ri!="string"&&!Ti.objectMode&&Object.getPrototypeOf(ri)!==fe.prototype&&(ri=me(ri)),mi)Ti.endEmitted?Rn(zn,new jr):On(zn,Ti,ri,!0);else if(Ti.ended)Rn(zn,new Wr);else{if(Ti.destroyed)return!1;Ti.reading=!1,Ti.decoder&&!hi?(ri=Ti.decoder.write(ri),Ti.objectMode||ri.length!==0?On(zn,Ti,ri,!1):Xr(zn,Ti)):On(zn,Ti,ri,!1)}else mi||(Ti.reading=!1,Xr(zn,Ti))}return!Ti.ended&&(Ti.length<Ti.highWaterMark||Ti.length===0)}function On(zn,ri,hi,mi){ri.flowing&&ri.length===0&&!ri.sync?(ri.awaitDrain=0,zn.emit("data",hi)):(ri.length+=ri.objectMode?1:hi.length,mi?ri.buffer.unshift(hi):ri.buffer.push(hi),ri.needReadable&&Vr(zn)),Xr(zn,ri)}function Sn(zn,ri){var hi;return!be(ri)&&typeof ri!="string"&&ri!==void 0&&!zn.objectMode&&(hi=new kr("chunk",["string","Buffer","Uint8Array"],ri)),hi}ti.prototype.isPaused=function(){return this._readableState.flowing===!1},ti.prototype.setEncoding=function(zn){Qr||(Qr=requireString_decoder().StringDecoder);var ri=new Qr(zn);this._readableState.decoder=ri,this._readableState.encoding=this._readableState.decoder.encoding;for(var hi=this._readableState.buffer.head,mi="";hi!==null;)mi+=ri.write(hi.data),hi=hi.next;return this._readableState.buffer.clear(),mi!==""&&this._readableState.buffer.push(mi),this._readableState.length=mi.length,this};var Zr=1073741824;function Oe(zn){return zn>=Zr?zn=Zr:(zn--,zn|=zn>>>1,zn|=zn>>>2,zn|=zn>>>4,zn|=zn>>>8,zn|=zn>>>16,zn++),zn}function wr(zn,ri){return zn<=0||ri.length===0&&ri.ended?0:ri.objectMode?1:zn!==zn?ri.flowing&&ri.length?ri.buffer.head.data.length:ri.length:(zn>ri.highWaterMark&&(ri.highWaterMark=Oe(zn)),zn<=ri.length?zn:ri.ended?ri.length:(ri.needReadable=!0,0))}ti.prototype.read=function(zn){Ee("read",zn),zn=parseInt(zn,10);var ri=this._readableState,hi=zn;if(zn!==0&&(ri.emittedReadable=!1),zn===0&&ri.needReadable&&((ri.highWaterMark!==0?ri.length>=ri.highWaterMark:ri.length>0)||ri.ended))return Ee("read: emitReadable",ri.length,ri.ended),ri.length===0&&ri.ended?jn(this):Vr(this),null;if(zn=wr(zn,ri),zn===0&&ri.ended)return ri.length===0&&jn(this),null;var mi=ri.needReadable;Ee("need readable",mi),(ri.length===0||ri.length-zn<ri.highWaterMark)&&(mi=!0,Ee("length less than watermark",mi)),ri.ended||ri.reading?(mi=!1,Ee("reading or ended",mi)):mi&&(Ee("do read"),ri.reading=!0,ri.sync=!0,ri.length===0&&(ri.needReadable=!0),this._read(ri.highWaterMark),ri.sync=!1,ri.reading||(zn=wr(hi,ri)));var $i;return zn>0?$i=Nn(zn,ri):$i=null,$i===null?(ri.needReadable=ri.length<=ri.highWaterMark,zn=0):(ri.length-=zn,ri.awaitDrain=0),ri.length===0&&(ri.ended||(ri.needReadable=!0),hi!==zn&&ri.ended&&jn(this)),$i!==null&&this.emit("data",$i),$i};function qr(zn,ri){if(Ee("onEofChunk"),!ri.ended){if(ri.decoder){var hi=ri.decoder.end();hi&&hi.length&&(ri.buffer.push(hi),ri.length+=ri.objectMode?1:hi.length)}ri.ended=!0,ri.sync?Vr(zn):(ri.needReadable=!1,ri.emittedReadable||(ri.emittedReadable=!0,Jr(zn)))}}function Vr(zn){var ri=zn._readableState;Ee("emitReadable",ri.needReadable,ri.emittedReadable),ri.needReadable=!1,ri.emittedReadable||(Ee("emitReadable",ri.flowing),ri.emittedReadable=!0,process$1.nextTick(Jr,zn))}function Jr(zn){var ri=zn._readableState;Ee("emitReadable_",ri.destroyed,ri.length,ri.ended),!ri.destroyed&&(ri.length||ri.ended)&&(zn.emit("readable"),ri.emittedReadable=!1),ri.needReadable=!ri.flowing&&!ri.ended&&ri.length<=ri.highWaterMark,si(zn)}function Xr(zn,ri){ri.readingMore||(ri.readingMore=!0,process$1.nextTick(Kr,zn,ri))}function Kr(zn,ri){for(;!ri.reading&&!ri.ended&&(ri.length<ri.highWaterMark||ri.flowing&&ri.length===0);){var hi=ri.length;if(Ee("maybeReadMore read 0"),zn.read(0),hi===ri.length)break}ri.readingMore=!1}ti.prototype._read=function(zn){Rn(this,new Gr("_read()"))},ti.prototype.pipe=function(zn,ri){var hi=this,mi=this._readableState;switch(mi.pipesCount){case 0:mi.pipes=zn;break;case 1:mi.pipes=[mi.pipes,zn];break;default:mi.pipes.push(zn);break}mi.pipesCount+=1,Ee("pipe count=%d opts=%j",mi.pipesCount,ri);var $i=(!ri||ri.end!==!1)&&zn!==process$1.stdout&&zn!==process$1.stderr,Ti=$i?Ri:Bi;mi.endEmitted?process$1.nextTick(Ti):hi.once("end",Ti),zn.on("unpipe",xi);function xi(Ci,ma){Ee("onunpipe"),Ci===hi&&ma&&ma.hasUnpiped===!1&&(ma.hasUnpiped=!0,Ei())}function Ri(){Ee("onend"),zn.end()}var vi=Yr(hi);zn.on("drain",vi);var Pi=!1;function Ei(){Ee("cleanup"),zn.removeListener("close",Ai),zn.removeListener("finish",ga),zn.removeListener("drain",vi),zn.removeListener("error",Ni),zn.removeListener("unpipe",xi),hi.removeListener("end",Ri),hi.removeListener("end",Bi),hi.removeListener("data",ha),Pi=!0,mi.awaitDrain&&(!zn._writableState||zn._writableState.needDrain)&&vi()}hi.on("data",ha);function ha(Ci){Ee("ondata");var ma=zn.write(Ci);Ee("dest.write",ma),ma===!1&&((mi.pipesCount===1&&mi.pipes===zn||mi.pipesCount>1&&Pn(mi.pipes,zn)!==-1)&&!Pi&&(Ee("false write response, pause",mi.awaitDrain),mi.awaitDrain++),hi.pause())}function Ni(Ci){Ee("onerror",Ci),Bi(),zn.removeListener("error",Ni),Y(zn,"error")===0&&Rn(zn,Ci)}$n(zn,"error",Ni);function Ai(){zn.removeListener("finish",ga),Bi()}zn.once("close",Ai);function ga(){Ee("onfinish"),zn.removeListener("close",Ai),Bi()}zn.once("finish",ga);function Bi(){Ee("unpipe"),hi.unpipe(zn)}return zn.emit("pipe",hi),mi.flowing||(Ee("pipe resume"),hi.resume()),zn};function Yr(zn){return function(){var hi=zn._readableState;Ee("pipeOnDrain",hi.awaitDrain),hi.awaitDrain&&hi.awaitDrain--,hi.awaitDrain===0&&Y(zn,"data")&&(hi.flowing=!0,si(zn))}}ti.prototype.unpipe=function(zn){var ri=this._readableState,hi={hasUnpiped:!1};if(ri.pipesCount===0)return this;if(ri.pipesCount===1)return zn&&zn!==ri.pipes?this:(zn||(zn=ri.pipes),ri.pipes=null,ri.pipesCount=0,ri.flowing=!1,zn&&zn.emit("unpipe",this,hi),this);if(!zn){var mi=ri.pipes,$i=ri.pipesCount;ri.pipes=null,ri.pipesCount=0,ri.flowing=!1;for(var Ti=0;Ti<$i;Ti++)mi[Ti].emit("unpipe",this,{hasUnpiped:!1});return this}var xi=Pn(ri.pipes,zn);return xi===-1?this:(ri.pipes.splice(xi,1),ri.pipesCount-=1,ri.pipesCount===1&&(ri.pipes=ri.pipes[0]),zn.emit("unpipe",this,hi),this)},ti.prototype.on=function(zn,ri){var hi=ne.prototype.on.call(this,zn,ri),mi=this._readableState;return zn==="data"?(mi.readableListening=this.listenerCount("readable")>0,mi.flowing!==!1&&this.resume()):zn==="readable"&&!mi.endEmitted&&!mi.readableListening&&(mi.readableListening=mi.needReadable=!0,mi.flowing=!1,mi.emittedReadable=!1,Ee("on readable",mi.length,mi.reading),mi.length?Vr(this):mi.reading||process$1.nextTick(_n,this)),hi},ti.prototype.addListener=ti.prototype.on,ti.prototype.removeListener=function(zn,ri){var hi=ne.prototype.removeListener.call(this,zn,ri);return zn==="readable"&&process$1.nextTick(Br,this),hi},ti.prototype.removeAllListeners=function(zn){var ri=ne.prototype.removeAllListeners.apply(this,arguments);return(zn==="readable"||zn===void 0)&&process$1.nextTick(Br,this),ri};function Br(zn){var ri=zn._readableState;ri.readableListening=zn.listenerCount("readable")>0,ri.resumeScheduled&&!ri.paused?ri.flowing=!0:zn.listenerCount("data")>0&&zn.resume()}function _n(zn){Ee("readable nexttick read 0"),zn.read(0)}ti.prototype.resume=function(){var zn=this._readableState;return zn.flowing||(Ee("resume"),zn.flowing=!zn.readableListening,ii(this,zn)),zn.paused=!1,this};function ii(zn,ri){ri.resumeScheduled||(ri.resumeScheduled=!0,process$1.nextTick(ni,zn,ri))}function ni(zn,ri){Ee("resume",ri.reading),ri.reading||zn.read(0),ri.resumeScheduled=!1,zn.emit("resume"),si(zn),ri.flowing&&!ri.reading&&zn.read(0)}ti.prototype.pause=function(){return Ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function si(zn){var ri=zn._readableState;for(Ee("flow",ri.flowing);ri.flowing&&zn.read()!==null;);}ti.prototype.wrap=function(zn){var ri=this,hi=this._readableState,mi=!1;zn.on("end",function(){if(Ee("wrapped end"),hi.decoder&&!hi.ended){var xi=hi.decoder.end();xi&&xi.length&&ri.push(xi)}ri.push(null)}),zn.on("data",function(xi){if(Ee("wrapped data"),hi.decoder&&(xi=hi.decoder.write(xi)),!(hi.objectMode&&xi==null)&&!(!hi.objectMode&&(!xi||!xi.length))){var Ri=ri.push(xi);Ri||(mi=!0,zn.pause())}});for(var $i in zn)this[$i]===void 0&&typeof zn[$i]=="function"&&(this[$i]=function(Ri){return function(){return zn[Ri].apply(zn,arguments)}}($i));for(var Ti=0;Ti<An.length;Ti++)zn.on(An[Ti],this.emit.bind(this,An[Ti]));return this._read=function(xi){Ee("wrapped _read",xi),mi&&(mi=!1,zn.resume())},this},typeof Symbol=="function"&&(ti.prototype[Symbol.asyncIterator]=function(){return wn===void 0&&(wn=requireAsync_iterator()),wn(this)}),Object.defineProperty(ti.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ti.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ti.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ri){this._readableState&&(this._readableState.flowing=ri)}}),ti._fromList=Nn,Object.defineProperty(ti.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Nn(zn,ri){if(ri.length===0)return null;var hi;return ri.objectMode?hi=ri.buffer.shift():!zn||zn>=ri.length?(ri.decoder?hi=ri.buffer.join(""):ri.buffer.length===1?hi=ri.buffer.first():hi=ri.buffer.concat(ri.length),ri.buffer.clear()):hi=ri.buffer.consume(zn,ri.decoder),hi}function jn(zn){var ri=zn._readableState;Ee("endReadable",ri.endEmitted),ri.endEmitted||(ri.ended=!0,process$1.nextTick(ei,ri,zn))}function ei(zn,ri){if(Ee("endReadableNT",zn.endEmitted,zn.length),!zn.endEmitted&&zn.length===0&&(zn.endEmitted=!0,ri.readable=!1,ri.emit("end"),zn.autoDestroy)){var hi=ri._writableState;(!hi||hi.autoDestroy&&hi.finished)&&ri.destroy()}}typeof Symbol=="function"&&(ti.from=function(zn,ri){return En===void 0&&(En=requireFromBrowser()),En(ti,zn,ri)});function Pn(zn,ri){for(var hi=0,mi=zn.length;hi<mi;hi++)if(zn[hi]===ri)return hi;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=we;var se=requireErrorsBrowser().codes,Y=se.ERR_METHOD_NOT_IMPLEMENTED,ne=se.ERR_MULTIPLE_CALLBACK,fe=se.ERR_TRANSFORM_ALREADY_TRANSFORMING,ye=se.ERR_TRANSFORM_WITH_LENGTH_0,me=require_stream_duplex$1();requireInherits_browser()(we,me);function be(Se,Ie){var fr=this._transformState;fr.transforming=!1;var br=fr.writecb;if(br===null)return this.emit("error",new ne);fr.writechunk=null,fr.writecb=null,Ie!=null&&this.push(Ie),br(Se);var kr=this._readableState;kr.reading=!1,(kr.needReadable||kr.length<kr.highWaterMark)&&this._read(kr.highWaterMark)}function we(Se){if(!(this instanceof we))return new we(Se);me.call(this,Se),this._transformState={afterTransform:be.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Se&&(typeof Se.transform=="function"&&(this._transform=Se.transform),typeof Se.flush=="function"&&(this._flush=Se.flush)),this.on("prefinish",Ee)}function Ee(){var Se=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(Ie,fr){xe(Se,Ie,fr)}):xe(this,null,null)}we.prototype.push=function(Se,Ie){return this._transformState.needTransform=!1,me.prototype.push.call(this,Se,Ie)},we.prototype._transform=function(Se,Ie,fr){fr(new Y("_transform()"))},we.prototype._write=function(Se,Ie,fr){var br=this._transformState;if(br.writecb=fr,br.writechunk=Se,br.writeencoding=Ie,!br.transforming){var kr=this._readableState;(br.needTransform||kr.needReadable||kr.length<kr.highWaterMark)&&this._read(kr.highWaterMark)}},we.prototype._read=function(Se){var Ie=this._transformState;Ie.writechunk!==null&&!Ie.transforming?(Ie.transforming=!0,this._transform(Ie.writechunk,Ie.writeencoding,Ie.afterTransform)):Ie.needTransform=!0},we.prototype._destroy=function(Se,Ie){me.prototype._destroy.call(this,Se,function(fr){Ie(fr)})};function xe(Se,Ie,fr){if(Ie)return Se.emit("error",Ie);if(fr!=null&&Se.push(fr),Se._writableState.length)throw new ye;if(Se._transformState.transforming)throw new fe;return Se.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=Y;var se=require_stream_transform$1();requireInherits_browser()(Y,se);function Y(ne){if(!(this instanceof Y))return new Y(ne);se.call(this,ne)}return Y.prototype._transform=function(ne,fe,ye){ye(null,ne)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var se;function Y(fr){var br=!1;return function(){br||(br=!0,fr.apply(void 0,arguments))}}var ne=requireErrorsBrowser().codes,fe=ne.ERR_MISSING_ARGS,ye=ne.ERR_STREAM_DESTROYED;function me(fr){if(fr)throw fr}function be(fr){return fr.setHeader&&typeof fr.abort=="function"}function we(fr,br,kr,Wr){Wr=Y(Wr);var Gr=!1;fr.on("close",function(){Gr=!0}),se===void 0&&(se=requireEndOfStream()),se(fr,{readable:br,writable:kr},function(Qr){if(Qr)return Wr(Qr);Gr=!0,Wr()});var jr=!1;return function(Qr){if(!Gr&&!jr){if(jr=!0,be(fr))return fr.abort();if(typeof fr.destroy=="function")return fr.destroy();Wr(Qr||new ye("pipe"))}}}function Ee(fr){fr()}function xe(fr,br){return fr.pipe(br)}function Se(fr){return!fr.length||typeof fr[fr.length-1]!="function"?me:fr.pop()}function Ie(){for(var fr=arguments.length,br=new Array(fr),kr=0;kr<fr;kr++)br[kr]=arguments[kr];var Wr=Se(br);if(Array.isArray(br[0])&&(br=br[0]),br.length<2)throw new fe("streams");var Gr,jr=br.map(function(Qr,wn){var En=wn<br.length-1,Rn=wn>0;return we(Qr,En,Rn,function(An){Gr||(Gr=An),An&&jr.forEach(Ee),!En&&(jr.forEach(Ee),Wr(Gr))})});return br.reduce(xe)}return pipeline_1=Ie,pipeline_1}var hasRequiredReadableBrowser$1;function requireReadableBrowser$1(){return hasRequiredReadableBrowser$1||(hasRequiredReadableBrowser$1=1,function(se,Y){Y=se.exports=require_stream_readable$1(),Y.Stream=Y,Y.Readable=Y,Y.Writable=require_stream_writable$1(),Y.Duplex=require_stream_duplex$1(),Y.Transform=require_stream_transform$1(),Y.PassThrough=require_stream_passthrough$1(),Y.finished=requireEndOfStream(),Y.pipeline=requirePipeline()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var se=requireSafeBuffer$1().Buffer,Y=requireReadableBrowser$1().Transform,ne=requireInherits_browser();function fe(me,be){if(!se.isBuffer(me)&&typeof me!="string")throw new TypeError(be+" must be a string or a buffer")}function ye(me){Y.call(this),this._block=se.allocUnsafe(me),this._blockSize=me,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return ne(ye,Y),ye.prototype._transform=function(me,be,we){var Ee=null;try{this.update(me,be)}catch(xe){Ee=xe}we(Ee)},ye.prototype._flush=function(me){var be=null;try{this.push(this.digest())}catch(we){be=we}me(be)},ye.prototype.update=function(me,be){if(fe(me,"Data"),this._finalized)throw new Error("Digest already called");se.isBuffer(me)||(me=se.from(me,be));for(var we=this._block,Ee=0;this._blockOffset+me.length-Ee>=this._blockSize;){for(var xe=this._blockOffset;xe<this._blockSize;)we[xe++]=me[Ee++];this._update(),this._blockOffset=0}for(;Ee<me.length;)we[this._blockOffset++]=me[Ee++];for(var Se=0,Ie=me.length*8;Ie>0;++Se)this._length[Se]+=Ie,Ie=this._length[Se]/4294967296|0,Ie>0&&(this._length[Se]-=4294967296*Ie);return this},ye.prototype._update=function(){throw new Error("_update is not implemented")},ye.prototype.digest=function(me){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var be=this._digest();me!==void 0&&(be=be.toString(me)),this._block.fill(0),this._blockOffset=0;for(var we=0;we<4;++we)this._length[we]=0;return be},ye.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=ye,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var se=requireInherits_browser(),Y=requireHashBase$1(),ne=requireSafeBuffer$1().Buffer,fe=new Array(16);function ye(){Y.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}se(ye,Y),ye.prototype._update=function(){for(var Se=fe,Ie=0;Ie<16;++Ie)Se[Ie]=this._block.readInt32LE(Ie*4);var fr=this._a,br=this._b,kr=this._c,Wr=this._d;fr=be(fr,br,kr,Wr,Se[0],3614090360,7),Wr=be(Wr,fr,br,kr,Se[1],3905402710,12),kr=be(kr,Wr,fr,br,Se[2],606105819,17),br=be(br,kr,Wr,fr,Se[3],3250441966,22),fr=be(fr,br,kr,Wr,Se[4],4118548399,7),Wr=be(Wr,fr,br,kr,Se[5],1200080426,12),kr=be(kr,Wr,fr,br,Se[6],2821735955,17),br=be(br,kr,Wr,fr,Se[7],4249261313,22),fr=be(fr,br,kr,Wr,Se[8],1770035416,7),Wr=be(Wr,fr,br,kr,Se[9],2336552879,12),kr=be(kr,Wr,fr,br,Se[10],4294925233,17),br=be(br,kr,Wr,fr,Se[11],2304563134,22),fr=be(fr,br,kr,Wr,Se[12],1804603682,7),Wr=be(Wr,fr,br,kr,Se[13],4254626195,12),kr=be(kr,Wr,fr,br,Se[14],2792965006,17),br=be(br,kr,Wr,fr,Se[15],1236535329,22),fr=we(fr,br,kr,Wr,Se[1],4129170786,5),Wr=we(Wr,fr,br,kr,Se[6],3225465664,9),kr=we(kr,Wr,fr,br,Se[11],643717713,14),br=we(br,kr,Wr,fr,Se[0],3921069994,20),fr=we(fr,br,kr,Wr,Se[5],3593408605,5),Wr=we(Wr,fr,br,kr,Se[10],38016083,9),kr=we(kr,Wr,fr,br,Se[15],3634488961,14),br=we(br,kr,Wr,fr,Se[4],3889429448,20),fr=we(fr,br,kr,Wr,Se[9],568446438,5),Wr=we(Wr,fr,br,kr,Se[14],3275163606,9),kr=we(kr,Wr,fr,br,Se[3],4107603335,14),br=we(br,kr,Wr,fr,Se[8],1163531501,20),fr=we(fr,br,kr,Wr,Se[13],2850285829,5),Wr=we(Wr,fr,br,kr,Se[2],4243563512,9),kr=we(kr,Wr,fr,br,Se[7],1735328473,14),br=we(br,kr,Wr,fr,Se[12],2368359562,20),fr=Ee(fr,br,kr,Wr,Se[5],4294588738,4),Wr=Ee(Wr,fr,br,kr,Se[8],2272392833,11),kr=Ee(kr,Wr,fr,br,Se[11],1839030562,16),br=Ee(br,kr,Wr,fr,Se[14],4259657740,23),fr=Ee(fr,br,kr,Wr,Se[1],2763975236,4),Wr=Ee(Wr,fr,br,kr,Se[4],1272893353,11),kr=Ee(kr,Wr,fr,br,Se[7],4139469664,16),br=Ee(br,kr,Wr,fr,Se[10],3200236656,23),fr=Ee(fr,br,kr,Wr,Se[13],681279174,4),Wr=Ee(Wr,fr,br,kr,Se[0],3936430074,11),kr=Ee(kr,Wr,fr,br,Se[3],3572445317,16),br=Ee(br,kr,Wr,fr,Se[6],76029189,23),fr=Ee(fr,br,kr,Wr,Se[9],3654602809,4),Wr=Ee(Wr,fr,br,kr,Se[12],3873151461,11),kr=Ee(kr,Wr,fr,br,Se[15],530742520,16),br=Ee(br,kr,Wr,fr,Se[2],3299628645,23),fr=xe(fr,br,kr,Wr,Se[0],4096336452,6),Wr=xe(Wr,fr,br,kr,Se[7],1126891415,10),kr=xe(kr,Wr,fr,br,Se[14],2878612391,15),br=xe(br,kr,Wr,fr,Se[5],4237533241,21),fr=xe(fr,br,kr,Wr,Se[12],1700485571,6),Wr=xe(Wr,fr,br,kr,Se[3],2399980690,10),kr=xe(kr,Wr,fr,br,Se[10],4293915773,15),br=xe(br,kr,Wr,fr,Se[1],2240044497,21),fr=xe(fr,br,kr,Wr,Se[8],1873313359,6),Wr=xe(Wr,fr,br,kr,Se[15],4264355552,10),kr=xe(kr,Wr,fr,br,Se[6],2734768916,15),br=xe(br,kr,Wr,fr,Se[13],1309151649,21),fr=xe(fr,br,kr,Wr,Se[4],4149444226,6),Wr=xe(Wr,fr,br,kr,Se[11],3174756917,10),kr=xe(kr,Wr,fr,br,Se[2],718787259,15),br=xe(br,kr,Wr,fr,Se[9],3951481745,21),this._a=this._a+fr|0,this._b=this._b+br|0,this._c=this._c+kr|0,this._d=this._d+Wr|0},ye.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Se=ne.allocUnsafe(16);return Se.writeInt32LE(this._a,0),Se.writeInt32LE(this._b,4),Se.writeInt32LE(this._c,8),Se.writeInt32LE(this._d,12),Se};function me(Se,Ie){return Se<<Ie|Se>>>32-Ie}function be(Se,Ie,fr,br,kr,Wr,Gr){return me(Se+(Ie&fr|~Ie&br)+kr+Wr|0,Gr)+Ie|0}function we(Se,Ie,fr,br,kr,Wr,Gr){return me(Se+(Ie&br|fr&~br)+kr+Wr|0,Gr)+Ie|0}function Ee(Se,Ie,fr,br,kr,Wr,Gr){return me(Se+(Ie^fr^br)+kr+Wr|0,Gr)+Ie|0}function xe(Se,Ie,fr,br,kr,Wr,Gr){return me(Se+(fr^(Ie|~br))+kr+Wr|0,Gr)+Ie|0}return md5_js=ye,md5_js}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var se=requireSafeBuffer$1().Buffer,Y=requireReadableBrowser$1().Transform,ne=requireInherits_browser();function fe(me,be){if(!se.isBuffer(me)&&typeof me!="string")throw new TypeError(be+" must be a string or a buffer")}function ye(me){Y.call(this),this._block=se.allocUnsafe(me),this._blockSize=me,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return ne(ye,Y),ye.prototype._transform=function(me,be,we){var Ee=null;try{this.update(me,be)}catch(xe){Ee=xe}we(Ee)},ye.prototype._flush=function(me){var be=null;try{this.push(this.digest())}catch(we){be=we}me(be)},ye.prototype.update=function(me,be){if(fe(me,"Data"),this._finalized)throw new Error("Digest already called");se.isBuffer(me)||(me=se.from(me,be));for(var we=this._block,Ee=0;this._blockOffset+me.length-Ee>=this._blockSize;){for(var xe=this._blockOffset;xe<this._blockSize;)we[xe++]=me[Ee++];this._update(),this._blockOffset=0}for(;Ee<me.length;)we[this._blockOffset++]=me[Ee++];for(var Se=0,Ie=me.length*8;Ie>0;++Se)this._length[Se]+=Ie,Ie=this._length[Se]/4294967296|0,Ie>0&&(this._length[Se]-=4294967296*Ie);return this},ye.prototype._update=function(){throw new Error("_update is not implemented")},ye.prototype.digest=function(me){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var be=this._digest();me!==void 0&&(be=be.toString(me)),this._block.fill(0),this._blockOffset=0;for(var we=0;we<4;++we)this._length[we]=0;return be},ye.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=ye,hashBase}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var se=requireDist$5().Buffer,Y=requireInherits_browser(),ne=requireHashBase(),fe=new Array(16),ye=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],me=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],be=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],we=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ee=[0,1518500249,1859775393,2400959708,2840853838],xe=[1352829926,1548603684,1836072691,2053994217,0];function Se(){ne.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Y(Se,ne),Se.prototype._update=function(){for(var jr=fe,Qr=0;Qr<16;++Qr)jr[Qr]=this._block.readInt32LE(Qr*4);for(var wn=this._a|0,En=this._b|0,Rn=this._c|0,An=this._d|0,$n=this._e|0,Tn=this._a|0,ti=this._b|0,ai=this._c|0,On=this._d|0,Sn=this._e|0,Zr=0;Zr<80;Zr+=1){var Oe,wr;Zr<16?(Oe=fr(wn,En,Rn,An,$n,jr[ye[Zr]],Ee[0],be[Zr]),wr=Gr(Tn,ti,ai,On,Sn,jr[me[Zr]],xe[0],we[Zr])):Zr<32?(Oe=br(wn,En,Rn,An,$n,jr[ye[Zr]],Ee[1],be[Zr]),wr=Wr(Tn,ti,ai,On,Sn,jr[me[Zr]],xe[1],we[Zr])):Zr<48?(Oe=kr(wn,En,Rn,An,$n,jr[ye[Zr]],Ee[2],be[Zr]),wr=kr(Tn,ti,ai,On,Sn,jr[me[Zr]],xe[2],we[Zr])):Zr<64?(Oe=Wr(wn,En,Rn,An,$n,jr[ye[Zr]],Ee[3],be[Zr]),wr=br(Tn,ti,ai,On,Sn,jr[me[Zr]],xe[3],we[Zr])):(Oe=Gr(wn,En,Rn,An,$n,jr[ye[Zr]],Ee[4],be[Zr]),wr=fr(Tn,ti,ai,On,Sn,jr[me[Zr]],xe[4],we[Zr])),wn=$n,$n=An,An=Ie(Rn,10),Rn=En,En=Oe,Tn=Sn,Sn=On,On=Ie(ai,10),ai=ti,ti=wr}var qr=this._b+Rn+On|0;this._b=this._c+An+Sn|0,this._c=this._d+$n+Tn|0,this._d=this._e+wn+ti|0,this._e=this._a+En+ai|0,this._a=qr},Se.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var jr=se.alloc?se.alloc(20):new se(20);return jr.writeInt32LE(this._a,0),jr.writeInt32LE(this._b,4),jr.writeInt32LE(this._c,8),jr.writeInt32LE(this._d,12),jr.writeInt32LE(this._e,16),jr};function Ie(jr,Qr){return jr<<Qr|jr>>>32-Qr}function fr(jr,Qr,wn,En,Rn,An,$n,Tn){return Ie(jr+(Qr^wn^En)+An+$n|0,Tn)+Rn|0}function br(jr,Qr,wn,En,Rn,An,$n,Tn){return Ie(jr+(Qr&wn|~Qr&En)+An+$n|0,Tn)+Rn|0}function kr(jr,Qr,wn,En,Rn,An,$n,Tn){return Ie(jr+((Qr|~wn)^En)+An+$n|0,Tn)+Rn|0}function Wr(jr,Qr,wn,En,Rn,An,$n,Tn){return Ie(jr+(Qr&En|wn&~En)+An+$n|0,Tn)+Rn|0}function Gr(jr,Qr,wn,En,Rn,An,$n,Tn){return Ie(jr+(Qr^(wn|~En))+An+$n|0,Tn)+Rn|0}return ripemd160=Se,ripemd160}var sha_js={exports:{}},hash$1,hasRequiredHash;function requireHash(){if(hasRequiredHash)return hash$1;hasRequiredHash=1;var se=requireSafeBuffer$1().Buffer;function Y(ne,fe){this._block=se.alloc(ne),this._finalSize=fe,this._blockSize=ne,this._len=0}return Y.prototype.update=function(ne,fe){typeof ne=="string"&&(fe=fe||"utf8",ne=se.from(ne,fe));for(var ye=this._block,me=this._blockSize,be=ne.length,we=this._len,Ee=0;Ee<be;){for(var xe=we%me,Se=Math.min(be-Ee,me-xe),Ie=0;Ie<Se;Ie++)ye[xe+Ie]=ne[Ee+Ie];we+=Se,Ee+=Se,we%me===0&&this._update(ye)}return this._len+=be,this},Y.prototype.digest=function(ne){var fe=this._len%this._blockSize;this._block[fe]=128,this._block.fill(0,fe+1),fe>=this._finalSize&&(this._update(this._block),this._block.fill(0));var ye=this._len*8;if(ye<=4294967295)this._block.writeUInt32BE(ye,this._blockSize-4);else{var me=(ye&4294967295)>>>0,be=(ye-me)/4294967296;this._block.writeUInt32BE(be,this._blockSize-8),this._block.writeUInt32BE(me,this._blockSize-4)}this._update(this._block);var we=this._hash();return ne?we.toString(ne):we},Y.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=Y,hash$1}var sha,hasRequiredSha;function requireSha(){if(hasRequiredSha)return sha;hasRequiredSha=1;var se=requireInherits_browser(),Y=requireHash(),ne=requireSafeBuffer$1().Buffer,fe=[1518500249,1859775393,-1894007588,-899497514],ye=new Array(80);function me(){this.init(),this._w=ye,Y.call(this,64,56)}se(me,Y),me.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function be(xe){return xe<<5|xe>>>27}function we(xe){return xe<<30|xe>>>2}function Ee(xe,Se,Ie,fr){return xe===0?Se&Ie|~Se&fr:xe===2?Se&Ie|Se&fr|Ie&fr:Se^Ie^fr}return me.prototype._update=function(xe){for(var Se=this._w,Ie=this._a|0,fr=this._b|0,br=this._c|0,kr=this._d|0,Wr=this._e|0,Gr=0;Gr<16;++Gr)Se[Gr]=xe.readInt32BE(Gr*4);for(;Gr<80;++Gr)Se[Gr]=Se[Gr-3]^Se[Gr-8]^Se[Gr-14]^Se[Gr-16];for(var jr=0;jr<80;++jr){var Qr=~~(jr/20),wn=be(Ie)+Ee(Qr,fr,br,kr)+Wr+Se[jr]+fe[Qr]|0;Wr=kr,kr=br,br=we(fr),fr=Ie,Ie=wn}this._a=Ie+this._a|0,this._b=fr+this._b|0,this._c=br+this._c|0,this._d=kr+this._d|0,this._e=Wr+this._e|0},me.prototype._hash=function(){var xe=ne.allocUnsafe(20);return xe.writeInt32BE(this._a|0,0),xe.writeInt32BE(this._b|0,4),xe.writeInt32BE(this._c|0,8),xe.writeInt32BE(this._d|0,12),xe.writeInt32BE(this._e|0,16),xe},sha=me,sha}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var se=requireInherits_browser(),Y=requireHash(),ne=requireSafeBuffer$1().Buffer,fe=[1518500249,1859775393,-1894007588,-899497514],ye=new Array(80);function me(){this.init(),this._w=ye,Y.call(this,64,56)}se(me,Y),me.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function be(Se){return Se<<1|Se>>>31}function we(Se){return Se<<5|Se>>>27}function Ee(Se){return Se<<30|Se>>>2}function xe(Se,Ie,fr,br){return Se===0?Ie&fr|~Ie&br:Se===2?Ie&fr|Ie&br|fr&br:Ie^fr^br}return me.prototype._update=function(Se){for(var Ie=this._w,fr=this._a|0,br=this._b|0,kr=this._c|0,Wr=this._d|0,Gr=this._e|0,jr=0;jr<16;++jr)Ie[jr]=Se.readInt32BE(jr*4);for(;jr<80;++jr)Ie[jr]=be(Ie[jr-3]^Ie[jr-8]^Ie[jr-14]^Ie[jr-16]);for(var Qr=0;Qr<80;++Qr){var wn=~~(Qr/20),En=we(fr)+xe(wn,br,kr,Wr)+Gr+Ie[Qr]+fe[wn]|0;Gr=Wr,Wr=kr,kr=Ee(br),br=fr,fr=En}this._a=fr+this._a|0,this._b=br+this._b|0,this._c=kr+this._c|0,this._d=Wr+this._d|0,this._e=Gr+this._e|0},me.prototype._hash=function(){var Se=ne.allocUnsafe(20);return Se.writeInt32BE(this._a|0,0),Se.writeInt32BE(this._b|0,4),Se.writeInt32BE(this._c|0,8),Se.writeInt32BE(this._d|0,12),Se.writeInt32BE(this._e|0,16),Se},sha1=me,sha1}var sha256$7,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$7;hasRequiredSha256$1=1;var se=requireInherits_browser(),Y=requireHash(),ne=requireSafeBuffer$1().Buffer,fe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ye=new Array(64);function me(){this.init(),this._w=ye,Y.call(this,64,56)}se(me,Y),me.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function be(fr,br,kr){return kr^fr&(br^kr)}function we(fr,br,kr){return fr&br|kr&(fr|br)}function Ee(fr){return(fr>>>2|fr<<30)^(fr>>>13|fr<<19)^(fr>>>22|fr<<10)}function xe(fr){return(fr>>>6|fr<<26)^(fr>>>11|fr<<21)^(fr>>>25|fr<<7)}function Se(fr){return(fr>>>7|fr<<25)^(fr>>>18|fr<<14)^fr>>>3}function Ie(fr){return(fr>>>17|fr<<15)^(fr>>>19|fr<<13)^fr>>>10}return me.prototype._update=function(fr){for(var br=this._w,kr=this._a|0,Wr=this._b|0,Gr=this._c|0,jr=this._d|0,Qr=this._e|0,wn=this._f|0,En=this._g|0,Rn=this._h|0,An=0;An<16;++An)br[An]=fr.readInt32BE(An*4);for(;An<64;++An)br[An]=Ie(br[An-2])+br[An-7]+Se(br[An-15])+br[An-16]|0;for(var $n=0;$n<64;++$n){var Tn=Rn+xe(Qr)+be(Qr,wn,En)+fe[$n]+br[$n]|0,ti=Ee(kr)+we(kr,Wr,Gr)|0;Rn=En,En=wn,wn=Qr,Qr=jr+Tn|0,jr=Gr,Gr=Wr,Wr=kr,kr=Tn+ti|0}this._a=kr+this._a|0,this._b=Wr+this._b|0,this._c=Gr+this._c|0,this._d=jr+this._d|0,this._e=Qr+this._e|0,this._f=wn+this._f|0,this._g=En+this._g|0,this._h=Rn+this._h|0},me.prototype._hash=function(){var fr=ne.allocUnsafe(32);return fr.writeInt32BE(this._a,0),fr.writeInt32BE(this._b,4),fr.writeInt32BE(this._c,8),fr.writeInt32BE(this._d,12),fr.writeInt32BE(this._e,16),fr.writeInt32BE(this._f,20),fr.writeInt32BE(this._g,24),fr.writeInt32BE(this._h,28),fr},sha256$7=me,sha256$7}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var se=requireInherits_browser(),Y=requireSha256$1(),ne=requireHash(),fe=requireSafeBuffer$1().Buffer,ye=new Array(64);function me(){this.init(),this._w=ye,ne.call(this,64,56)}return se(me,Y),me.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},me.prototype._hash=function(){var be=fe.allocUnsafe(28);return be.writeInt32BE(this._a,0),be.writeInt32BE(this._b,4),be.writeInt32BE(this._c,8),be.writeInt32BE(this._d,12),be.writeInt32BE(this._e,16),be.writeInt32BE(this._f,20),be.writeInt32BE(this._g,24),be},sha224$1=me,sha224$1}var sha512$4,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$4;hasRequiredSha512$1=1;var se=requireInherits_browser(),Y=requireHash(),ne=requireSafeBuffer$1().Buffer,fe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ye=new Array(160);function me(){this.init(),this._w=ye,Y.call(this,128,112)}se(me,Y),me.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function be(Wr,Gr,jr){return jr^Wr&(Gr^jr)}function we(Wr,Gr,jr){return Wr&Gr|jr&(Wr|Gr)}function Ee(Wr,Gr){return(Wr>>>28|Gr<<4)^(Gr>>>2|Wr<<30)^(Gr>>>7|Wr<<25)}function xe(Wr,Gr){return(Wr>>>14|Gr<<18)^(Wr>>>18|Gr<<14)^(Gr>>>9|Wr<<23)}function Se(Wr,Gr){return(Wr>>>1|Gr<<31)^(Wr>>>8|Gr<<24)^Wr>>>7}function Ie(Wr,Gr){return(Wr>>>1|Gr<<31)^(Wr>>>8|Gr<<24)^(Wr>>>7|Gr<<25)}function fr(Wr,Gr){return(Wr>>>19|Gr<<13)^(Gr>>>29|Wr<<3)^Wr>>>6}function br(Wr,Gr){return(Wr>>>19|Gr<<13)^(Gr>>>29|Wr<<3)^(Wr>>>6|Gr<<26)}function kr(Wr,Gr){return Wr>>>0<Gr>>>0?1:0}return me.prototype._update=function(Wr){for(var Gr=this._w,jr=this._ah|0,Qr=this._bh|0,wn=this._ch|0,En=this._dh|0,Rn=this._eh|0,An=this._fh|0,$n=this._gh|0,Tn=this._hh|0,ti=this._al|0,ai=this._bl|0,On=this._cl|0,Sn=this._dl|0,Zr=this._el|0,Oe=this._fl|0,wr=this._gl|0,qr=this._hl|0,Vr=0;Vr<32;Vr+=2)Gr[Vr]=Wr.readInt32BE(Vr*4),Gr[Vr+1]=Wr.readInt32BE(Vr*4+4);for(;Vr<160;Vr+=2){var Jr=Gr[Vr-30],Xr=Gr[Vr-15*2+1],Kr=Se(Jr,Xr),Yr=Ie(Xr,Jr);Jr=Gr[Vr-2*2],Xr=Gr[Vr-2*2+1];var Br=fr(Jr,Xr),_n=br(Xr,Jr),ii=Gr[Vr-7*2],ni=Gr[Vr-7*2+1],si=Gr[Vr-16*2],Nn=Gr[Vr-16*2+1],jn=Yr+ni|0,ei=Kr+ii+kr(jn,Yr)|0;jn=jn+_n|0,ei=ei+Br+kr(jn,_n)|0,jn=jn+Nn|0,ei=ei+si+kr(jn,Nn)|0,Gr[Vr]=ei,Gr[Vr+1]=jn}for(var Pn=0;Pn<160;Pn+=2){ei=Gr[Pn],jn=Gr[Pn+1];var zn=we(jr,Qr,wn),ri=we(ti,ai,On),hi=Ee(jr,ti),mi=Ee(ti,jr),$i=xe(Rn,Zr),Ti=xe(Zr,Rn),xi=fe[Pn],Ri=fe[Pn+1],vi=be(Rn,An,$n),Pi=be(Zr,Oe,wr),Ei=qr+Ti|0,ha=Tn+$i+kr(Ei,qr)|0;Ei=Ei+Pi|0,ha=ha+vi+kr(Ei,Pi)|0,Ei=Ei+Ri|0,ha=ha+xi+kr(Ei,Ri)|0,Ei=Ei+jn|0,ha=ha+ei+kr(Ei,jn)|0;var Ni=mi+ri|0,Ai=hi+zn+kr(Ni,mi)|0;Tn=$n,qr=wr,$n=An,wr=Oe,An=Rn,Oe=Zr,Zr=Sn+Ei|0,Rn=En+ha+kr(Zr,Sn)|0,En=wn,Sn=On,wn=Qr,On=ai,Qr=jr,ai=ti,ti=Ei+Ni|0,jr=ha+Ai+kr(ti,Ei)|0}this._al=this._al+ti|0,this._bl=this._bl+ai|0,this._cl=this._cl+On|0,this._dl=this._dl+Sn|0,this._el=this._el+Zr|0,this._fl=this._fl+Oe|0,this._gl=this._gl+wr|0,this._hl=this._hl+qr|0,this._ah=this._ah+jr+kr(this._al,ti)|0,this._bh=this._bh+Qr+kr(this._bl,ai)|0,this._ch=this._ch+wn+kr(this._cl,On)|0,this._dh=this._dh+En+kr(this._dl,Sn)|0,this._eh=this._eh+Rn+kr(this._el,Zr)|0,this._fh=this._fh+An+kr(this._fl,Oe)|0,this._gh=this._gh+$n+kr(this._gl,wr)|0,this._hh=this._hh+Tn+kr(this._hl,qr)|0},me.prototype._hash=function(){var Wr=ne.allocUnsafe(64);function Gr(jr,Qr,wn){Wr.writeInt32BE(jr,wn),Wr.writeInt32BE(Qr,wn+4)}return Gr(this._ah,this._al,0),Gr(this._bh,this._bl,8),Gr(this._ch,this._cl,16),Gr(this._dh,this._dl,24),Gr(this._eh,this._el,32),Gr(this._fh,this._fl,40),Gr(this._gh,this._gl,48),Gr(this._hh,this._hl,56),Wr},sha512$4=me,sha512$4}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var se=requireInherits_browser(),Y=requireSha512$1(),ne=requireHash(),fe=requireSafeBuffer$1().Buffer,ye=new Array(160);function me(){this.init(),this._w=ye,ne.call(this,128,112)}return se(me,Y),me.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},me.prototype._hash=function(){var be=fe.allocUnsafe(48);function we(Ee,xe,Se){be.writeInt32BE(Ee,Se),be.writeInt32BE(xe,Se+4)}return we(this._ah,this._al,0),we(this._bh,this._bl,8),we(this._ch,this._cl,16),we(this._dh,this._dl,24),we(this._eh,this._el,32),we(this._fh,this._fl,40),be},sha384$1=me,sha384$1}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var se=sha_js.exports=function(ne){ne=ne.toLowerCase();var fe=se[ne];if(!fe)throw new Error(ne+" is not supported (we accept pull requests)");return new fe};return se.sha=requireSha(),se.sha1=requireSha1(),se.sha224=requireSha224(),se.sha256=requireSha256$1(),se.sha384=requireSha384(),se.sha512=requireSha512$1(),sha_js.exports}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=ne;var se=requireEvents().EventEmitter,Y=requireInherits_browser();Y(ne,se),ne.Readable=require_stream_readable$1(),ne.Writable=require_stream_writable$1(),ne.Duplex=require_stream_duplex$1(),ne.Transform=require_stream_transform$1(),ne.PassThrough=require_stream_passthrough$1(),ne.finished=requireEndOfStream(),ne.pipeline=requirePipeline(),ne.Stream=ne;function ne(){se.call(this)}return ne.prototype.pipe=function(fe,ye){var me=this;function be(br){fe.writable&&fe.write(br)===!1&&me.pause&&me.pause()}me.on("data",be);function we(){me.readable&&me.resume&&me.resume()}fe.on("drain",we),!fe._isStdio&&(!ye||ye.end!==!1)&&(me.on("end",xe),me.on("close",Se));var Ee=!1;function xe(){Ee||(Ee=!0,fe.end())}function Se(){Ee||(Ee=!0,typeof fe.destroy=="function"&&fe.destroy())}function Ie(br){if(fr(),se.listenerCount(this,"error")===0)throw br}me.on("error",Ie),fe.on("error",Ie);function fr(){me.removeListener("data",be),fe.removeListener("drain",we),me.removeListener("end",xe),me.removeListener("close",Se),me.removeListener("error",Ie),fe.removeListener("error",Ie),me.removeListener("end",fr),me.removeListener("close",fr),fe.removeListener("close",fr)}return me.on("end",fr),me.on("close",fr),fe.on("close",fr),fe.emit("pipe",me),fe},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var se=requireSafeBuffer$1().Buffer,Y=requireStreamBrowserify().Transform,ne=requireString_decoder().StringDecoder,fe=requireInherits_browser();function ye(Ee){Y.call(this),this.hashMode=typeof Ee=="string",this.hashMode?this[Ee]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}fe(ye,Y);var me=typeof Uint8Array<"u",be=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(se.prototype instanceof Uint8Array||se.TYPED_ARRAY_SUPPORT);function we(Ee,xe){if(Ee instanceof se)return Ee;if(typeof Ee=="string")return se.from(Ee,xe);if(be&&ArrayBuffer.isView(Ee)){if(Ee.byteLength===0)return se.alloc(0);var Se=se.from(Ee.buffer,Ee.byteOffset,Ee.byteLength);if(Se.byteLength===Ee.byteLength)return Se}if(me&&Ee instanceof Uint8Array||se.isBuffer(Ee)&&Ee.constructor&&typeof Ee.constructor.isBuffer=="function"&&Ee.constructor.isBuffer(Ee))return se.from(Ee);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return ye.prototype.update=function(Ee,xe,Se){var Ie=we(Ee,xe),fr=this._update(Ie);return this.hashMode?this:(Se&&(fr=this._toString(fr,Se)),fr)},ye.prototype.setAutoPadding=function(){},ye.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},ye.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},ye.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},ye.prototype._transform=function(Ee,xe,Se){var Ie;try{this.hashMode?this._update(Ee):this.push(this._update(Ee))}catch(fr){Ie=fr}finally{Se(Ie)}},ye.prototype._flush=function(Ee){var xe;try{this.push(this.__final())}catch(Se){xe=Se}Ee(xe)},ye.prototype._finalOrDigest=function(Ee){var xe=this.__final()||se.alloc(0);return Ee&&(xe=this._toString(xe,Ee,!0)),xe},ye.prototype._toString=function(Ee,xe,Se){if(this._decoder||(this._decoder=new ne(xe),this._encoding=xe),this._encoding!==xe)throw new Error("can’t switch encodings");var Ie=this._decoder.write(Ee);return Se&&(Ie+=this._decoder.end()),Ie},cipherBase=ye,cipherBase}var browser$c,hasRequiredBrowser$c;function requireBrowser$c(){if(hasRequiredBrowser$c)return browser$c;hasRequiredBrowser$c=1;var se=requireInherits_browser(),Y=requireMd5_js(),ne=requireRipemd160(),fe=requireSha_js(),ye=requireCipherBase();function me(be){ye.call(this,"digest"),this._hash=be}return se(me,ye),me.prototype._update=function(be){this._hash.update(be)},me.prototype._final=function(){return this._hash.digest()},browser$c=function(we){return we=we.toLowerCase(),we==="md5"?new Y:we==="rmd160"||we==="ripemd160"?new ne:new me(fe(we))},browser$c}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var se=requireInherits_browser(),Y=requireSafeBuffer$1().Buffer,ne=requireCipherBase(),fe=Y.alloc(128),ye=64;function me(be,we){ne.call(this,"digest"),typeof we=="string"&&(we=Y.from(we)),this._alg=be,this._key=we,we.length>ye?we=be(we):we.length<ye&&(we=Y.concat([we,fe],ye));for(var Ee=this._ipad=Y.allocUnsafe(ye),xe=this._opad=Y.allocUnsafe(ye),Se=0;Se<ye;Se++)Ee[Se]=we[Se]^54,xe[Se]=we[Se]^92;this._hash=[Ee]}return se(me,ne),me.prototype._update=function(be){this._hash.push(be)},me.prototype._final=function(){var be=this._alg(Y.concat(this._hash));return this._alg(Y.concat([this._opad,be]))},legacy=me,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var se=requireMd5_js();return md5=function(Y){return new se().update(Y).digest()},md5}var browser$b,hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b;hasRequiredBrowser$b=1;var se=requireInherits_browser(),Y=requireLegacy(),ne=requireCipherBase(),fe=requireSafeBuffer$1().Buffer,ye=requireMd5(),me=requireRipemd160(),be=requireSha_js(),we=fe.alloc(128);function Ee(xe,Se){ne.call(this,"digest"),typeof Se=="string"&&(Se=fe.from(Se));var Ie=xe==="sha512"||xe==="sha384"?128:64;if(this._alg=xe,this._key=Se,Se.length>Ie){var fr=xe==="rmd160"?new me:be(xe);Se=fr.update(Se).digest()}else Se.length<Ie&&(Se=fe.concat([Se,we],Ie));for(var br=this._ipad=fe.allocUnsafe(Ie),kr=this._opad=fe.allocUnsafe(Ie),Wr=0;Wr<Ie;Wr++)br[Wr]=Se[Wr]^54,kr[Wr]=Se[Wr]^92;this._hash=xe==="rmd160"?new me:be(xe),this._hash.update(br)}return se(Ee,ne),Ee.prototype._update=function(xe){this._hash.update(xe)},Ee.prototype._final=function(){var xe=this._hash.digest(),Se=this._alg==="rmd160"?new me:be(this._alg);return Se.update(this._opad).update(xe).digest()},browser$b=function(Se,Ie){return Se=Se.toLowerCase(),Se==="rmd160"||Se==="ripemd160"?new Ee("rmd160",Ie):Se==="md5"?new Y(ye,Ie):new Ee(Se,Ie)},browser$b}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$6={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$3={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$6,sha224,sha384,sha512:sha512$3,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$a={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var se=Math.pow(2,30)-1;return precondition=function(Y,ne){if(typeof Y!="number")throw new TypeError("Iterations not a number");if(Y<0)throw new TypeError("Bad iterations");if(typeof ne!="number")throw new TypeError("Key length not a number");if(ne<0||ne>se||ne!==ne)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var se;if(commonjsGlobal.process&&commonjsGlobal.process.browser)se="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var Y=parseInt(process$1.version.split(".")[0].slice(1),10);se=Y>=6?"utf-8":"binary"}else se="utf-8";return defaultEncoding_1=se,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var se=requireSafeBuffer$1().Buffer;return toBuffer=function(Y,ne,fe){if(se.isBuffer(Y))return Y;if(typeof Y=="string")return se.from(Y,ne);if(ArrayBuffer.isView(Y))return se.from(Y.buffer);throw new TypeError(fe+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var se=requireMd5(),Y=requireRipemd160(),ne=requireSha_js(),fe=requireSafeBuffer$1().Buffer,ye=requirePrecondition(),me=requireDefaultEncoding(),be=requireToBuffer(),we=fe.alloc(128),Ee={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function xe(fr,br,kr){var Wr=Se(fr),Gr=fr==="sha512"||fr==="sha384"?128:64;br.length>Gr?br=Wr(br):br.length<Gr&&(br=fe.concat([br,we],Gr));for(var jr=fe.allocUnsafe(Gr+Ee[fr]),Qr=fe.allocUnsafe(Gr+Ee[fr]),wn=0;wn<Gr;wn++)jr[wn]=br[wn]^54,Qr[wn]=br[wn]^92;var En=fe.allocUnsafe(Gr+kr+4);jr.copy(En,0,0,Gr),this.ipad1=En,this.ipad2=jr,this.opad=Qr,this.alg=fr,this.blocksize=Gr,this.hash=Wr,this.size=Ee[fr]}xe.prototype.run=function(fr,br){fr.copy(br,this.blocksize);var kr=this.hash(br);return kr.copy(this.opad,this.blocksize),this.hash(this.opad)};function Se(fr){function br(Wr){return ne(fr).update(Wr).digest()}function kr(Wr){return new Y().update(Wr).digest()}return fr==="rmd160"||fr==="ripemd160"?kr:fr==="md5"?se:br}function Ie(fr,br,kr,Wr,Gr){ye(kr,Wr),fr=be(fr,me,"Password"),br=be(br,me,"Salt"),Gr=Gr||"sha1";var jr=new xe(Gr,fr,br.length),Qr=fe.allocUnsafe(Wr),wn=fe.allocUnsafe(br.length+4);br.copy(wn,0,0,br.length);for(var En=0,Rn=Ee[Gr],An=Math.ceil(Wr/Rn),$n=1;$n<=An;$n++){wn.writeUInt32BE($n,br.length);for(var Tn=jr.run(wn,jr.ipad1),ti=Tn,ai=1;ai<kr;ai++){ti=jr.run(ti,jr.ipad2);for(var On=0;On<Rn;On++)Tn[On]^=ti[On]}Tn.copy(Qr,En),En+=Rn}return Qr}return syncBrowser=Ie,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var se=requireSafeBuffer$1().Buffer,Y=requirePrecondition(),ne=requireDefaultEncoding(),fe=requireSyncBrowser(),ye=requireToBuffer(),me,be=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,we={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Ee=[];function xe(kr){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!be||!be.importKey||!be.deriveBits)return Promise.resolve(!1);if(Ee[kr]!==void 0)return Ee[kr];me=me||se.alloc(8);var Wr=fr(me,me,10,128,kr).then(function(){return!0}).catch(function(){return!1});return Ee[kr]=Wr,Wr}var Se;function Ie(){return Se||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?Se=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?Se=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?Se=commonjsGlobal.setImmediate:Se=commonjsGlobal.setTimeout,Se)}function fr(kr,Wr,Gr,jr,Qr){return be.importKey("raw",kr,{name:"PBKDF2"},!1,["deriveBits"]).then(function(wn){return be.deriveBits({name:"PBKDF2",salt:Wr,iterations:Gr,hash:{name:Qr}},wn,jr<<3)}).then(function(wn){return se.from(wn)})}function br(kr,Wr){kr.then(function(Gr){Ie()(function(){Wr(null,Gr)})},function(Gr){Ie()(function(){Wr(Gr)})})}return async=function(kr,Wr,Gr,jr,Qr,wn){typeof Qr=="function"&&(wn=Qr,Qr=void 0),Qr=Qr||"sha1";var En=we[Qr.toLowerCase()];if(!En||typeof commonjsGlobal.Promise!="function"){Ie()(function(){var Rn;try{Rn=fe(kr,Wr,Gr,jr,Qr)}catch(An){return wn(An)}wn(null,Rn)});return}if(Y(Gr,jr),kr=ye(kr,ne,"Password"),Wr=ye(Wr,ne,"Salt"),typeof wn!="function")throw new Error("No callback provided to pbkdf2");br(xe(En).then(function(Rn){return Rn?fr(kr,Wr,Gr,jr,En):fe(kr,Wr,Gr,jr,Qr)}),wn)},async}var hasRequiredBrowser$a;function requireBrowser$a(){return hasRequiredBrowser$a||(hasRequiredBrowser$a=1,browser$a.pbkdf2=requireAsync(),browser$a.pbkdf2Sync=requireSyncBrowser()),browser$a}var browser$9={},des$1={},utils$5={},hasRequiredUtils$5;function requireUtils$5(){if(hasRequiredUtils$5)return utils$5;hasRequiredUtils$5=1,utils$5.readUInt32BE=function(ye,me){var be=ye[0+me]<<24|ye[1+me]<<16|ye[2+me]<<8|ye[3+me];return be>>>0},utils$5.writeUInt32BE=function(ye,me,be){ye[0+be]=me>>>24,ye[1+be]=me>>>16&255,ye[2+be]=me>>>8&255,ye[3+be]=me&255},utils$5.ip=function(ye,me,be,we){for(var Ee=0,xe=0,Se=6;Se>=0;Se-=2){for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=me>>>Ie+Se&1;for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=ye>>>Ie+Se&1}for(var Se=6;Se>=0;Se-=2){for(var Ie=1;Ie<=25;Ie+=8)xe<<=1,xe|=me>>>Ie+Se&1;for(var Ie=1;Ie<=25;Ie+=8)xe<<=1,xe|=ye>>>Ie+Se&1}be[we+0]=Ee>>>0,be[we+1]=xe>>>0},utils$5.rip=function(ye,me,be,we){for(var Ee=0,xe=0,Se=0;Se<4;Se++)for(var Ie=24;Ie>=0;Ie-=8)Ee<<=1,Ee|=me>>>Ie+Se&1,Ee<<=1,Ee|=ye>>>Ie+Se&1;for(var Se=4;Se<8;Se++)for(var Ie=24;Ie>=0;Ie-=8)xe<<=1,xe|=me>>>Ie+Se&1,xe<<=1,xe|=ye>>>Ie+Se&1;be[we+0]=Ee>>>0,be[we+1]=xe>>>0},utils$5.pc1=function(ye,me,be,we){for(var Ee=0,xe=0,Se=7;Se>=5;Se--){for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=me>>Ie+Se&1;for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=ye>>Ie+Se&1}for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=me>>Ie+Se&1;for(var Se=1;Se<=3;Se++){for(var Ie=0;Ie<=24;Ie+=8)xe<<=1,xe|=me>>Ie+Se&1;for(var Ie=0;Ie<=24;Ie+=8)xe<<=1,xe|=ye>>Ie+Se&1}for(var Ie=0;Ie<=24;Ie+=8)xe<<=1,xe|=ye>>Ie+Se&1;be[we+0]=Ee>>>0,be[we+1]=xe>>>0},utils$5.r28shl=function(ye,me){return ye<<me&268435455|ye>>>28-me};var se=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$5.pc2=function(ye,me,be,we){for(var Ee=0,xe=0,Se=se.length>>>1,Ie=0;Ie<Se;Ie++)Ee<<=1,Ee|=ye>>>se[Ie]&1;for(var Ie=Se;Ie<se.length;Ie++)xe<<=1,xe|=me>>>se[Ie]&1;be[we+0]=Ee>>>0,be[we+1]=xe>>>0},utils$5.expand=function(ye,me,be){var we=0,Ee=0;we=(ye&1)<<5|ye>>>27;for(var xe=23;xe>=15;xe-=4)we<<=6,we|=ye>>>xe&63;for(var xe=11;xe>=3;xe-=4)Ee|=ye>>>xe&63,Ee<<=6;Ee|=(ye&31)<<1|ye>>>31,me[be+0]=we>>>0,me[be+1]=Ee>>>0};var Y=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$5.substitute=function(ye,me){for(var be=0,we=0;we<4;we++){var Ee=ye>>>18-we*6&63,xe=Y[we*64+Ee];be<<=4,be|=xe}for(var we=0;we<4;we++){var Ee=me>>>18-we*6&63,xe=Y[4*64+we*64+Ee];be<<=4,be|=xe}return be>>>0};var ne=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$5.permute=function(ye){for(var me=0,be=0;be<ne.length;be++)me<<=1,me|=ye>>>ne[be]&1;return me>>>0},utils$5.padSplit=function(ye,me,be){for(var we=ye.toString(2);we.length<me;)we="0"+we;for(var Ee=[],xe=0;xe<me;xe+=be)Ee.push(we.slice(xe,xe+be));return Ee.join(" ")},utils$5}var cipher,hasRequiredCipher$1;function requireCipher$1(){if(hasRequiredCipher$1)return cipher;hasRequiredCipher$1=1;var se=requireMinimalisticAssert();function Y(ne){this.options=ne,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=ne.padding!==!1}return cipher=Y,Y.prototype._init=function(){},Y.prototype.update=function(fe){return fe.length===0?[]:this.type==="decrypt"?this._updateDecrypt(fe):this._updateEncrypt(fe)},Y.prototype._buffer=function(fe,ye){for(var me=Math.min(this.buffer.length-this.bufferOff,fe.length-ye),be=0;be<me;be++)this.buffer[this.bufferOff+be]=fe[ye+be];return this.bufferOff+=me,me},Y.prototype._flushBuffer=function(fe,ye){return this._update(this.buffer,0,fe,ye),this.bufferOff=0,this.blockSize},Y.prototype._updateEncrypt=function(fe){var ye=0,me=0,be=(this.bufferOff+fe.length)/this.blockSize|0,we=new Array(be*this.blockSize);this.bufferOff!==0&&(ye+=this._buffer(fe,ye),this.bufferOff===this.buffer.length&&(me+=this._flushBuffer(we,me)));for(var Ee=fe.length-(fe.length-ye)%this.blockSize;ye<Ee;ye+=this.blockSize)this._update(fe,ye,we,me),me+=this.blockSize;for(;ye<fe.length;ye++,this.bufferOff++)this.buffer[this.bufferOff]=fe[ye];return we},Y.prototype._updateDecrypt=function(fe){for(var ye=0,me=0,be=Math.ceil((this.bufferOff+fe.length)/this.blockSize)-1,we=new Array(be*this.blockSize);be>0;be--)ye+=this._buffer(fe,ye),me+=this._flushBuffer(we,me);return ye+=this._buffer(fe,ye),we},Y.prototype.final=function(fe){var ye;fe&&(ye=this.update(fe));var me;return this.type==="encrypt"?me=this._finalEncrypt():me=this._finalDecrypt(),ye?ye.concat(me):me},Y.prototype._pad=function(fe,ye){if(ye===0)return!1;for(;ye<fe.length;)fe[ye++]=0;return!0},Y.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var fe=new Array(this.blockSize);return this._update(this.buffer,0,fe,0),fe},Y.prototype._unpad=function(fe){return fe},Y.prototype._finalDecrypt=function(){se.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var fe=new Array(this.blockSize);return this._flushBuffer(fe,0),this._unpad(fe)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var se=requireMinimalisticAssert(),Y=requireInherits_browser(),ne=requireUtils$5(),fe=requireCipher$1();function ye(){this.tmp=new Array(2),this.keys=null}function me(we){fe.call(this,we);var Ee=new ye;this._desState=Ee,this.deriveKeys(Ee,we.key)}Y(me,fe),des=me,me.create=function(Ee){return new me(Ee)};var be=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return me.prototype.deriveKeys=function(Ee,xe){Ee.keys=new Array(16*2),se.equal(xe.length,this.blockSize,"Invalid key length");var Se=ne.readUInt32BE(xe,0),Ie=ne.readUInt32BE(xe,4);ne.pc1(Se,Ie,Ee.tmp,0),Se=Ee.tmp[0],Ie=Ee.tmp[1];for(var fr=0;fr<Ee.keys.length;fr+=2){var br=be[fr>>>1];Se=ne.r28shl(Se,br),Ie=ne.r28shl(Ie,br),ne.pc2(Se,Ie,Ee.keys,fr)}},me.prototype._update=function(Ee,xe,Se,Ie){var fr=this._desState,br=ne.readUInt32BE(Ee,xe),kr=ne.readUInt32BE(Ee,xe+4);ne.ip(br,kr,fr.tmp,0),br=fr.tmp[0],kr=fr.tmp[1],this.type==="encrypt"?this._encrypt(fr,br,kr,fr.tmp,0):this._decrypt(fr,br,kr,fr.tmp,0),br=fr.tmp[0],kr=fr.tmp[1],ne.writeUInt32BE(Se,br,Ie),ne.writeUInt32BE(Se,kr,Ie+4)},me.prototype._pad=function(Ee,xe){if(this.padding===!1)return!1;for(var Se=Ee.length-xe,Ie=xe;Ie<Ee.length;Ie++)Ee[Ie]=Se;return!0},me.prototype._unpad=function(Ee){if(this.padding===!1)return Ee;for(var xe=Ee[Ee.length-1],Se=Ee.length-xe;Se<Ee.length;Se++)se.equal(Ee[Se],xe);return Ee.slice(0,Ee.length-xe)},me.prototype._encrypt=function(Ee,xe,Se,Ie,fr){for(var br=xe,kr=Se,Wr=0;Wr<Ee.keys.length;Wr+=2){var Gr=Ee.keys[Wr],jr=Ee.keys[Wr+1];ne.expand(kr,Ee.tmp,0),Gr^=Ee.tmp[0],jr^=Ee.tmp[1];var Qr=ne.substitute(Gr,jr),wn=ne.permute(Qr),En=kr;kr=(br^wn)>>>0,br=En}ne.rip(kr,br,Ie,fr)},me.prototype._decrypt=function(Ee,xe,Se,Ie,fr){for(var br=Se,kr=xe,Wr=Ee.keys.length-2;Wr>=0;Wr-=2){var Gr=Ee.keys[Wr],jr=Ee.keys[Wr+1];ne.expand(br,Ee.tmp,0),Gr^=Ee.tmp[0],jr^=Ee.tmp[1];var Qr=ne.substitute(Gr,jr),wn=ne.permute(Qr),En=br;br=(kr^wn)>>>0,kr=En}ne.rip(br,kr,Ie,fr)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var se=requireMinimalisticAssert(),Y=requireInherits_browser(),ne={};function fe(me){se.equal(me.length,8,"Invalid IV length"),this.iv=new Array(8);for(var be=0;be<this.iv.length;be++)this.iv[be]=me[be]}function ye(me){function be(Se){me.call(this,Se),this._cbcInit()}Y(be,me);for(var we=Object.keys(ne),Ee=0;Ee<we.length;Ee++){var xe=we[Ee];be.prototype[xe]=ne[xe]}return be.create=function(Ie){return new be(Ie)},be}return cbc$1.instantiate=ye,ne._cbcInit=function(){var be=new fe(this.options.iv);this._cbcState=be},ne._update=function(be,we,Ee,xe){var Se=this._cbcState,Ie=this.constructor.super_.prototype,fr=Se.iv;if(this.type==="encrypt"){for(var br=0;br<this.blockSize;br++)fr[br]^=be[we+br];Ie._update.call(this,fr,0,Ee,xe);for(var br=0;br<this.blockSize;br++)fr[br]=Ee[xe+br]}else{Ie._update.call(this,be,we,Ee,xe);for(var br=0;br<this.blockSize;br++)Ee[xe+br]^=fr[br];for(var br=0;br<this.blockSize;br++)fr[br]=be[we+br]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var se=requireMinimalisticAssert(),Y=requireInherits_browser(),ne=requireCipher$1(),fe=requireDes$1();function ye(be,we){se.equal(we.length,24,"Invalid key length");var Ee=we.slice(0,8),xe=we.slice(8,16),Se=we.slice(16,24);be==="encrypt"?this.ciphers=[fe.create({type:"encrypt",key:Ee}),fe.create({type:"decrypt",key:xe}),fe.create({type:"encrypt",key:Se})]:this.ciphers=[fe.create({type:"decrypt",key:Se}),fe.create({type:"encrypt",key:xe}),fe.create({type:"decrypt",key:Ee})]}function me(be){ne.call(this,be);var we=new ye(this.type,this.options.key);this._edeState=we}return Y(me,ne),ede=me,me.create=function(we){return new me(we)},me.prototype._update=function(we,Ee,xe,Se){var Ie=this._edeState;Ie.ciphers[0]._update(we,Ee,xe,Se),Ie.ciphers[1]._update(xe,Se,xe,Se),Ie.ciphers[2]._update(xe,Se,xe,Se)},me.prototype._pad=fe.prototype._pad,me.prototype._unpad=fe.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$5(),des$1.Cipher=requireCipher$1(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var se=requireCipherBase(),Y=requireDes(),ne=requireInherits_browser(),fe=requireSafeBuffer$1().Buffer,ye={"des-ede3-cbc":Y.CBC.instantiate(Y.EDE),"des-ede3":Y.EDE,"des-ede-cbc":Y.CBC.instantiate(Y.EDE),"des-ede":Y.EDE,"des-cbc":Y.CBC.instantiate(Y.DES),"des-ecb":Y.DES};ye.des=ye["des-cbc"],ye.des3=ye["des-ede3-cbc"],browserifyDes=me,ne(me,se);function me(be){se.call(this);var we=be.mode.toLowerCase(),Ee=ye[we],xe;be.decrypt?xe="decrypt":xe="encrypt";var Se=be.key;fe.isBuffer(Se)||(Se=fe.from(Se)),(we==="des-ede"||we==="des-ede-cbc")&&(Se=fe.concat([Se,Se.slice(0,8)]));var Ie=be.iv;fe.isBuffer(Ie)||(Ie=fe.from(Ie)),this._des=Ee.create({key:Se,iv:Ie,type:xe})}return me.prototype._update=function(be){return fe.from(this._des.update(be))},me.prototype._final=function(){return fe.from(this._des.final())},browserifyDes}var browser$8={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(se,Y){return se._cipher.encryptBlock(Y)},ecb.decrypt=function(se,Y){return se._cipher.decryptBlock(Y)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(Y,ne){for(var fe=Math.min(Y.length,ne.length),ye=new Buffer(fe),me=0;me<fe;++me)ye[me]=Y[me]^ne[me];return ye}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var se=requireBufferXor();return cbc.encrypt=function(Y,ne){var fe=se(ne,Y._prev);return Y._prev=Y._cipher.encryptBlock(fe),Y._prev},cbc.decrypt=function(Y,ne){var fe=Y._prev;Y._prev=ne;var ye=Y._cipher.decryptBlock(ne);return se(ye,fe)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var se=requireSafeBuffer$1().Buffer,Y=requireBufferXor();function ne(fe,ye,me){var be=ye.length,we=Y(ye,fe._cache);return fe._cache=fe._cache.slice(be),fe._prev=se.concat([fe._prev,me?ye:we]),we}return cfb.encrypt=function(fe,ye,me){for(var be=se.allocUnsafe(0),we;ye.length;)if(fe._cache.length===0&&(fe._cache=fe._cipher.encryptBlock(fe._prev),fe._prev=se.allocUnsafe(0)),fe._cache.length<=ye.length)we=fe._cache.length,be=se.concat([be,ne(fe,ye.slice(0,we),me)]),ye=ye.slice(we);else{be=se.concat([be,ne(fe,ye,me)]);break}return be},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var se=requireSafeBuffer$1().Buffer;function Y(ne,fe,ye){var me=ne._cipher.encryptBlock(ne._prev),be=me[0]^fe;return ne._prev=se.concat([ne._prev.slice(1),se.from([ye?fe:be])]),be}return cfb8.encrypt=function(ne,fe,ye){for(var me=fe.length,be=se.allocUnsafe(me),we=-1;++we<me;)be[we]=Y(ne,fe[we],ye);return be},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var se=requireSafeBuffer$1().Buffer;function Y(fe,ye,me){for(var be,we=-1,Ee=8,xe=0,Se,Ie;++we<Ee;)be=fe._cipher.encryptBlock(fe._prev),Se=ye&1<<7-we?128:0,Ie=be[0]^Se,xe+=(Ie&128)>>we%8,fe._prev=ne(fe._prev,me?Se:Ie);return xe}function ne(fe,ye){var me=fe.length,be=-1,we=se.allocUnsafe(fe.length);for(fe=se.concat([fe,se.from([ye])]);++be<me;)we[be]=fe[be]<<1|fe[be+1]>>7;return we}return cfb1.encrypt=function(fe,ye,me){for(var be=ye.length,we=se.allocUnsafe(be),Ee=-1;++Ee<be;)we[Ee]=Y(fe,ye[Ee],me);return we},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var se=requireBufferXor();function Y(ne){return ne._prev=ne._cipher.encryptBlock(ne._prev),ne._prev}return ofb.encrypt=function(ne,fe){for(;ne._cache.length<fe.length;)ne._cache=Buffer.concat([ne._cache,Y(ne)]);var ye=ne._cache.slice(0,fe.length);return ne._cache=ne._cache.slice(fe.length),se(fe,ye)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function se(Y){for(var ne=Y.length,fe;ne--;)if(fe=Y.readUInt8(ne),fe===255)Y.writeUInt8(0,ne);else{fe++,Y.writeUInt8(fe,ne);break}}return incr32_1=se,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var se=requireBufferXor(),Y=requireSafeBuffer$1().Buffer,ne=requireIncr32();function fe(me){var be=me._cipher.encryptBlockRaw(me._prev);return ne(me._prev),be}var ye=16;return ctr.encrypt=function(me,be){var we=Math.ceil(be.length/ye),Ee=me._cache.length;me._cache=Y.concat([me._cache,Y.allocUnsafe(we*ye)]);for(var xe=0;xe<we;xe++){var Se=fe(me),Ie=Ee+xe*ye;me._cache.writeUInt32BE(Se[0],Ie+0),me._cache.writeUInt32BE(Se[1],Ie+4),me._cache.writeUInt32BE(Se[2],Ie+8),me._cache.writeUInt32BE(Se[3],Ie+12)}var fr=me._cache.slice(0,be.length);return me._cache=me._cache.slice(be.length),se(be,fr)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$1={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var se={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},Y=require$$2$1;for(var ne in Y)Y[ne].module=se[Y[ne].mode];return modes_1=Y,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var se=requireSafeBuffer$1().Buffer;function Y(we){se.isBuffer(we)||(we=se.from(we));for(var Ee=we.length/4|0,xe=new Array(Ee),Se=0;Se<Ee;Se++)xe[Se]=we.readUInt32BE(Se*4);return xe}function ne(we){for(var Ee=0;Ee<we.length;we++)we[Ee]=0}function fe(we,Ee,xe,Se,Ie){for(var fr=xe[0],br=xe[1],kr=xe[2],Wr=xe[3],Gr=we[0]^Ee[0],jr=we[1]^Ee[1],Qr=we[2]^Ee[2],wn=we[3]^Ee[3],En,Rn,An,$n,Tn=4,ti=1;ti<Ie;ti++)En=fr[Gr>>>24]^br[jr>>>16&255]^kr[Qr>>>8&255]^Wr[wn&255]^Ee[Tn++],Rn=fr[jr>>>24]^br[Qr>>>16&255]^kr[wn>>>8&255]^Wr[Gr&255]^Ee[Tn++],An=fr[Qr>>>24]^br[wn>>>16&255]^kr[Gr>>>8&255]^Wr[jr&255]^Ee[Tn++],$n=fr[wn>>>24]^br[Gr>>>16&255]^kr[jr>>>8&255]^Wr[Qr&255]^Ee[Tn++],Gr=En,jr=Rn,Qr=An,wn=$n;return En=(Se[Gr>>>24]<<24|Se[jr>>>16&255]<<16|Se[Qr>>>8&255]<<8|Se[wn&255])^Ee[Tn++],Rn=(Se[jr>>>24]<<24|Se[Qr>>>16&255]<<16|Se[wn>>>8&255]<<8|Se[Gr&255])^Ee[Tn++],An=(Se[Qr>>>24]<<24|Se[wn>>>16&255]<<16|Se[Gr>>>8&255]<<8|Se[jr&255])^Ee[Tn++],$n=(Se[wn>>>24]<<24|Se[Gr>>>16&255]<<16|Se[jr>>>8&255]<<8|Se[Qr&255])^Ee[Tn++],En=En>>>0,Rn=Rn>>>0,An=An>>>0,$n=$n>>>0,[En,Rn,An,$n]}var ye=[0,1,2,4,8,16,32,64,128,27,54],me=function(){for(var we=new Array(256),Ee=0;Ee<256;Ee++)Ee<128?we[Ee]=Ee<<1:we[Ee]=Ee<<1^283;for(var xe=[],Se=[],Ie=[[],[],[],[]],fr=[[],[],[],[]],br=0,kr=0,Wr=0;Wr<256;++Wr){var Gr=kr^kr<<1^kr<<2^kr<<3^kr<<4;Gr=Gr>>>8^Gr&255^99,xe[br]=Gr,Se[Gr]=br;var jr=we[br],Qr=we[jr],wn=we[Qr],En=we[Gr]*257^Gr*16843008;Ie[0][br]=En<<24|En>>>8,Ie[1][br]=En<<16|En>>>16,Ie[2][br]=En<<8|En>>>24,Ie[3][br]=En,En=wn*16843009^Qr*65537^jr*257^br*16843008,fr[0][Gr]=En<<24|En>>>8,fr[1][Gr]=En<<16|En>>>16,fr[2][Gr]=En<<8|En>>>24,fr[3][Gr]=En,br===0?br=kr=1:(br=jr^we[we[we[wn^jr]]],kr^=we[we[kr]])}return{SBOX:xe,INV_SBOX:Se,SUB_MIX:Ie,INV_SUB_MIX:fr}}();function be(we){this._key=Y(we),this._reset()}return be.blockSize=4*4,be.keySize=256/8,be.prototype.blockSize=be.blockSize,be.prototype.keySize=be.keySize,be.prototype._reset=function(){for(var we=this._key,Ee=we.length,xe=Ee+6,Se=(xe+1)*4,Ie=[],fr=0;fr<Ee;fr++)Ie[fr]=we[fr];for(fr=Ee;fr<Se;fr++){var br=Ie[fr-1];fr%Ee===0?(br=br<<8|br>>>24,br=me.SBOX[br>>>24]<<24|me.SBOX[br>>>16&255]<<16|me.SBOX[br>>>8&255]<<8|me.SBOX[br&255],br^=ye[fr/Ee|0]<<24):Ee>6&&fr%Ee===4&&(br=me.SBOX[br>>>24]<<24|me.SBOX[br>>>16&255]<<16|me.SBOX[br>>>8&255]<<8|me.SBOX[br&255]),Ie[fr]=Ie[fr-Ee]^br}for(var kr=[],Wr=0;Wr<Se;Wr++){var Gr=Se-Wr,jr=Ie[Gr-(Wr%4?0:4)];Wr<4||Gr<=4?kr[Wr]=jr:kr[Wr]=me.INV_SUB_MIX[0][me.SBOX[jr>>>24]]^me.INV_SUB_MIX[1][me.SBOX[jr>>>16&255]]^me.INV_SUB_MIX[2][me.SBOX[jr>>>8&255]]^me.INV_SUB_MIX[3][me.SBOX[jr&255]]}this._nRounds=xe,this._keySchedule=Ie,this._invKeySchedule=kr},be.prototype.encryptBlockRaw=function(we){return we=Y(we),fe(we,this._keySchedule,me.SUB_MIX,me.SBOX,this._nRounds)},be.prototype.encryptBlock=function(we){var Ee=this.encryptBlockRaw(we),xe=se.allocUnsafe(16);return xe.writeUInt32BE(Ee[0],0),xe.writeUInt32BE(Ee[1],4),xe.writeUInt32BE(Ee[2],8),xe.writeUInt32BE(Ee[3],12),xe},be.prototype.decryptBlock=function(we){we=Y(we);var Ee=we[1];we[1]=we[3],we[3]=Ee;var xe=fe(we,this._invKeySchedule,me.INV_SUB_MIX,me.INV_SBOX,this._nRounds),Se=se.allocUnsafe(16);return Se.writeUInt32BE(xe[0],0),Se.writeUInt32BE(xe[3],4),Se.writeUInt32BE(xe[2],8),Se.writeUInt32BE(xe[1],12),Se},be.prototype.scrub=function(){ne(this._keySchedule),ne(this._invKeySchedule),ne(this._key)},aes.AES=be,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var se=requireSafeBuffer$1().Buffer,Y=se.alloc(16,0);function ne(me){return[me.readUInt32BE(0),me.readUInt32BE(4),me.readUInt32BE(8),me.readUInt32BE(12)]}function fe(me){var be=se.allocUnsafe(16);return be.writeUInt32BE(me[0]>>>0,0),be.writeUInt32BE(me[1]>>>0,4),be.writeUInt32BE(me[2]>>>0,8),be.writeUInt32BE(me[3]>>>0,12),be}function ye(me){this.h=me,this.state=se.alloc(16,0),this.cache=se.allocUnsafe(0)}return ye.prototype.ghash=function(me){for(var be=-1;++be<me.length;)this.state[be]^=me[be];this._multiply()},ye.prototype._multiply=function(){for(var me=ne(this.h),be=[0,0,0,0],we,Ee,xe,Se=-1;++Se<128;){for(Ee=(this.state[~~(Se/8)]&1<<7-Se%8)!==0,Ee&&(be[0]^=me[0],be[1]^=me[1],be[2]^=me[2],be[3]^=me[3]),xe=(me[3]&1)!==0,we=3;we>0;we--)me[we]=me[we]>>>1|(me[we-1]&1)<<31;me[0]=me[0]>>>1,xe&&(me[0]=me[0]^225<<24)}this.state=fe(be)},ye.prototype.update=function(me){this.cache=se.concat([this.cache,me]);for(var be;this.cache.length>=16;)be=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(be)},ye.prototype.final=function(me,be){return this.cache.length&&this.ghash(se.concat([this.cache,Y],16)),this.ghash(fe([0,me,0,be])),this.state},ghash=ye,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var se=requireAes(),Y=requireSafeBuffer$1().Buffer,ne=requireCipherBase(),fe=requireInherits_browser(),ye=requireGhash(),me=requireBufferXor(),be=requireIncr32();function we(Se,Ie){var fr=0;Se.length!==Ie.length&&fr++;for(var br=Math.min(Se.length,Ie.length),kr=0;kr<br;++kr)fr+=Se[kr]^Ie[kr];return fr}function Ee(Se,Ie,fr){if(Ie.length===12)return Se._finID=Y.concat([Ie,Y.from([0,0,0,1])]),Y.concat([Ie,Y.from([0,0,0,2])]);var br=new ye(fr),kr=Ie.length,Wr=kr%16;br.update(Ie),Wr&&(Wr=16-Wr,br.update(Y.alloc(Wr,0))),br.update(Y.alloc(8,0));var Gr=kr*8,jr=Y.alloc(8);jr.writeUIntBE(Gr,0,8),br.update(jr),Se._finID=br.state;var Qr=Y.from(Se._finID);return be(Qr),Qr}function xe(Se,Ie,fr,br){ne.call(this);var kr=Y.alloc(4,0);this._cipher=new se.AES(Ie);var Wr=this._cipher.encryptBlock(kr);this._ghash=new ye(Wr),fr=Ee(this,fr,Wr),this._prev=Y.from(fr),this._cache=Y.allocUnsafe(0),this._secCache=Y.allocUnsafe(0),this._decrypt=br,this._alen=0,this._len=0,this._mode=Se,this._authTag=null,this._called=!1}return fe(xe,ne),xe.prototype._update=function(Se){if(!this._called&&this._alen){var Ie=16-this._alen%16;Ie<16&&(Ie=Y.alloc(Ie,0),this._ghash.update(Ie))}this._called=!0;var fr=this._mode.encrypt(this,Se);return this._decrypt?this._ghash.update(Se):this._ghash.update(fr),this._len+=Se.length,fr},xe.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Se=me(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&we(Se,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Se,this._cipher.scrub()},xe.prototype.getAuthTag=function(){if(this._decrypt||!Y.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},xe.prototype.setAuthTag=function(Ie){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Ie},xe.prototype.setAAD=function(Ie){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Ie),this._alen+=Ie.length},authCipher=xe,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var se=requireAes(),Y=requireSafeBuffer$1().Buffer,ne=requireCipherBase(),fe=requireInherits_browser();function ye(me,be,we,Ee){ne.call(this),this._cipher=new se.AES(be),this._prev=Y.from(we),this._cache=Y.allocUnsafe(0),this._secCache=Y.allocUnsafe(0),this._decrypt=Ee,this._mode=me}return fe(ye,ne),ye.prototype._update=function(me){return this._mode.encrypt(this,me,this._decrypt)},ye.prototype._final=function(){this._cipher.scrub()},streamCipher=ye,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var se=requireSafeBuffer$1().Buffer,Y=requireMd5_js();function ne(fe,ye,me,be){if(se.isBuffer(fe)||(fe=se.from(fe,"binary")),ye&&(se.isBuffer(ye)||(ye=se.from(ye,"binary")),ye.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var we=me/8,Ee=se.alloc(we),xe=se.alloc(be||0),Se=se.alloc(0);we>0||be>0;){var Ie=new Y;Ie.update(Se),Ie.update(fe),ye&&Ie.update(ye),Se=Ie.digest();var fr=0;if(we>0){var br=Ee.length-we;fr=Math.min(we,Se.length),Se.copy(Ee,br,0,fr),we-=fr}if(fr<Se.length&&be>0){var kr=xe.length-be,Wr=Math.min(be,Se.length-fr);Se.copy(xe,kr,fr,fr+Wr),be-=Wr}}return Se.fill(0),{key:Ee,iv:xe}}return evp_bytestokey=ne,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var se=requireModes$1(),Y=requireAuthCipher(),ne=requireSafeBuffer$1().Buffer,fe=requireStreamCipher(),ye=requireCipherBase(),me=requireAes(),be=requireEvp_bytestokey(),we=requireInherits_browser();function Ee(br,kr,Wr){ye.call(this),this._cache=new Se,this._cipher=new me.AES(kr),this._prev=ne.from(Wr),this._mode=br,this._autopadding=!0}we(Ee,ye),Ee.prototype._update=function(br){this._cache.add(br);for(var kr,Wr,Gr=[];kr=this._cache.get();)Wr=this._mode.encrypt(this,kr),Gr.push(Wr);return ne.concat(Gr)};var xe=ne.alloc(16,16);Ee.prototype._final=function(){var br=this._cache.flush();if(this._autopadding)return br=this._mode.encrypt(this,br),this._cipher.scrub(),br;if(!br.equals(xe))throw this._cipher.scrub(),new Error("data not multiple of block length")},Ee.prototype.setAutoPadding=function(br){return this._autopadding=!!br,this};function Se(){this.cache=ne.allocUnsafe(0)}Se.prototype.add=function(br){this.cache=ne.concat([this.cache,br])},Se.prototype.get=function(){if(this.cache.length>15){var br=this.cache.slice(0,16);return this.cache=this.cache.slice(16),br}return null},Se.prototype.flush=function(){for(var br=16-this.cache.length,kr=ne.allocUnsafe(br),Wr=-1;++Wr<br;)kr.writeUInt8(br,Wr);return ne.concat([this.cache,kr])};function Ie(br,kr,Wr){var Gr=se[br.toLowerCase()];if(!Gr)throw new TypeError("invalid suite type");if(typeof kr=="string"&&(kr=ne.from(kr)),kr.length!==Gr.key/8)throw new TypeError("invalid key length "+kr.length);if(typeof Wr=="string"&&(Wr=ne.from(Wr)),Gr.mode!=="GCM"&&Wr.length!==Gr.iv)throw new TypeError("invalid iv length "+Wr.length);return Gr.type==="stream"?new fe(Gr.module,kr,Wr):Gr.type==="auth"?new Y(Gr.module,kr,Wr):new Ee(Gr.module,kr,Wr)}function fr(br,kr){var Wr=se[br.toLowerCase()];if(!Wr)throw new TypeError("invalid suite type");var Gr=be(kr,!1,Wr.key,Wr.iv);return Ie(br,Gr.key,Gr.iv)}return encrypter.createCipheriv=Ie,encrypter.createCipher=fr,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var se=requireAuthCipher(),Y=requireSafeBuffer$1().Buffer,ne=requireModes$1(),fe=requireStreamCipher(),ye=requireCipherBase(),me=requireAes(),be=requireEvp_bytestokey(),we=requireInherits_browser();function Ee(br,kr,Wr){ye.call(this),this._cache=new xe,this._last=void 0,this._cipher=new me.AES(kr),this._prev=Y.from(Wr),this._mode=br,this._autopadding=!0}we(Ee,ye),Ee.prototype._update=function(br){this._cache.add(br);for(var kr,Wr,Gr=[];kr=this._cache.get(this._autopadding);)Wr=this._mode.decrypt(this,kr),Gr.push(Wr);return Y.concat(Gr)},Ee.prototype._final=function(){var br=this._cache.flush();if(this._autopadding)return Se(this._mode.decrypt(this,br));if(br)throw new Error("data not multiple of block length")},Ee.prototype.setAutoPadding=function(br){return this._autopadding=!!br,this};function xe(){this.cache=Y.allocUnsafe(0)}xe.prototype.add=function(br){this.cache=Y.concat([this.cache,br])},xe.prototype.get=function(br){var kr;if(br){if(this.cache.length>16)return kr=this.cache.slice(0,16),this.cache=this.cache.slice(16),kr}else if(this.cache.length>=16)return kr=this.cache.slice(0,16),this.cache=this.cache.slice(16),kr;return null},xe.prototype.flush=function(){if(this.cache.length)return this.cache};function Se(br){var kr=br[15];if(kr<1||kr>16)throw new Error("unable to decrypt data");for(var Wr=-1;++Wr<kr;)if(br[Wr+(16-kr)]!==kr)throw new Error("unable to decrypt data");if(kr!==16)return br.slice(0,16-kr)}function Ie(br,kr,Wr){var Gr=ne[br.toLowerCase()];if(!Gr)throw new TypeError("invalid suite type");if(typeof Wr=="string"&&(Wr=Y.from(Wr)),Gr.mode!=="GCM"&&Wr.length!==Gr.iv)throw new TypeError("invalid iv length "+Wr.length);if(typeof kr=="string"&&(kr=Y.from(kr)),kr.length!==Gr.key/8)throw new TypeError("invalid key length "+kr.length);return Gr.type==="stream"?new fe(Gr.module,kr,Wr,!0):Gr.type==="auth"?new se(Gr.module,kr,Wr,!0):new Ee(Gr.module,kr,Wr)}function fr(br,kr){var Wr=ne[br.toLowerCase()];if(!Wr)throw new TypeError("invalid suite type");var Gr=be(kr,!1,Wr.key,Wr.iv);return Ie(br,Gr.key,Gr.iv)}return decrypter.createDecipher=fr,decrypter.createDecipheriv=Ie,decrypter}var hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$8;hasRequiredBrowser$9=1;var se=requireEncrypter(),Y=requireDecrypter(),ne=require$$2$1;function fe(){return Object.keys(ne)}return browser$8.createCipher=browser$8.Cipher=se.createCipher,browser$8.createCipheriv=browser$8.Cipheriv=se.createCipheriv,browser$8.createDecipher=browser$8.Decipher=Y.createDecipher,browser$8.createDecipheriv=browser$8.Decipheriv=Y.createDecipheriv,browser$8.listCiphers=browser$8.getCiphers=fe,browser$8}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(se){se["des-ecb"]={key:8,iv:0},se["des-cbc"]=se.des={key:8,iv:8},se["des-ede3-cbc"]=se.des3={key:24,iv:8},se["des-ede3"]={key:24,iv:0},se["des-ede-cbc"]={key:16,iv:8},se["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$9;hasRequiredBrowser$8=1;var se=requireBrowserifyDes(),Y=requireBrowser$9(),ne=requireModes$1(),fe=requireModes(),ye=requireEvp_bytestokey();function me(Se,Ie){Se=Se.toLowerCase();var fr,br;if(ne[Se])fr=ne[Se].key,br=ne[Se].iv;else if(fe[Se])fr=fe[Se].key*8,br=fe[Se].iv;else throw new TypeError("invalid suite type");var kr=ye(Ie,!1,fr,br);return we(Se,kr.key,kr.iv)}function be(Se,Ie){Se=Se.toLowerCase();var fr,br;if(ne[Se])fr=ne[Se].key,br=ne[Se].iv;else if(fe[Se])fr=fe[Se].key*8,br=fe[Se].iv;else throw new TypeError("invalid suite type");var kr=ye(Ie,!1,fr,br);return Ee(Se,kr.key,kr.iv)}function we(Se,Ie,fr){if(Se=Se.toLowerCase(),ne[Se])return Y.createCipheriv(Se,Ie,fr);if(fe[Se])return new se({key:Ie,iv:fr,mode:Se});throw new TypeError("invalid suite type")}function Ee(Se,Ie,fr){if(Se=Se.toLowerCase(),ne[Se])return Y.createDecipheriv(Se,Ie,fr);if(fe[Se])return new se({key:Ie,iv:fr,mode:Se,decrypt:!0});throw new TypeError("invalid suite type")}function xe(){return Object.keys(fe).concat(Y.getCiphers())}return browser$9.createCipher=browser$9.Cipher=me,browser$9.createCipheriv=browser$9.Cipheriv=we,browser$9.createDecipher=browser$9.Decipher=be,browser$9.createDecipheriv=browser$9.Decipheriv=Ee,browser$9.listCiphers=browser$9.getCiphers=xe,browser$9}var browser$7={},bn$7={exports:{}},bn$6=bn$7.exports,hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(se){(function(Y,ne){function fe(On,Sn){if(!On)throw new Error(Sn||"Assertion failed")}function ye(On,Sn){On.super_=Sn;var Zr=function(){};Zr.prototype=Sn.prototype,On.prototype=new Zr,On.prototype.constructor=On}function me(On,Sn,Zr){if(me.isBN(On))return On;this.negative=0,this.words=null,this.length=0,this.red=null,On!==null&&((Sn==="le"||Sn==="be")&&(Zr=Sn,Sn=10),this._init(On||0,Sn||10,Zr||"be"))}typeof Y=="object"?Y.exports=me:ne.BN=me,me.BN=me,me.wordSize=26;var be;try{typeof window<"u"&&typeof window.Buffer<"u"?be=window.Buffer:be=requireDist$5().Buffer}catch{}me.isBN=function(Sn){return Sn instanceof me?!0:Sn!==null&&typeof Sn=="object"&&Sn.constructor.wordSize===me.wordSize&&Array.isArray(Sn.words)},me.max=function(Sn,Zr){return Sn.cmp(Zr)>0?Sn:Zr},me.min=function(Sn,Zr){return Sn.cmp(Zr)<0?Sn:Zr},me.prototype._init=function(Sn,Zr,Oe){if(typeof Sn=="number")return this._initNumber(Sn,Zr,Oe);if(typeof Sn=="object")return this._initArray(Sn,Zr,Oe);Zr==="hex"&&(Zr=16),fe(Zr===(Zr|0)&&Zr>=2&&Zr<=36),Sn=Sn.toString().replace(/\s+/g,"");var wr=0;Sn[0]==="-"&&(wr++,this.negative=1),wr<Sn.length&&(Zr===16?this._parseHex(Sn,wr,Oe):(this._parseBase(Sn,Zr,wr),Oe==="le"&&this._initArray(this.toArray(),Zr,Oe)))},me.prototype._initNumber=function(Sn,Zr,Oe){Sn<0&&(this.negative=1,Sn=-Sn),Sn<67108864?(this.words=[Sn&67108863],this.length=1):Sn<4503599627370496?(this.words=[Sn&67108863,Sn/67108864&67108863],this.length=2):(fe(Sn<9007199254740992),this.words=[Sn&67108863,Sn/67108864&67108863,1],this.length=3),Oe==="le"&&this._initArray(this.toArray(),Zr,Oe)},me.prototype._initArray=function(Sn,Zr,Oe){if(fe(typeof Sn.length=="number"),Sn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Sn.length/3),this.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)this.words[wr]=0;var qr,Vr,Jr=0;if(Oe==="be")for(wr=Sn.length-1,qr=0;wr>=0;wr-=3)Vr=Sn[wr]|Sn[wr-1]<<8|Sn[wr-2]<<16,this.words[qr]|=Vr<<Jr&67108863,this.words[qr+1]=Vr>>>26-Jr&67108863,Jr+=24,Jr>=26&&(Jr-=26,qr++);else if(Oe==="le")for(wr=0,qr=0;wr<Sn.length;wr+=3)Vr=Sn[wr]|Sn[wr+1]<<8|Sn[wr+2]<<16,this.words[qr]|=Vr<<Jr&67108863,this.words[qr+1]=Vr>>>26-Jr&67108863,Jr+=24,Jr>=26&&(Jr-=26,qr++);return this.strip()};function we(On,Sn){var Zr=On.charCodeAt(Sn);return Zr>=65&&Zr<=70?Zr-55:Zr>=97&&Zr<=102?Zr-87:Zr-48&15}function Ee(On,Sn,Zr){var Oe=we(On,Zr);return Zr-1>=Sn&&(Oe|=we(On,Zr-1)<<4),Oe}me.prototype._parseHex=function(Sn,Zr,Oe){this.length=Math.ceil((Sn.length-Zr)/6),this.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)this.words[wr]=0;var qr=0,Vr=0,Jr;if(Oe==="be")for(wr=Sn.length-1;wr>=Zr;wr-=2)Jr=Ee(Sn,Zr,wr)<<qr,this.words[Vr]|=Jr&67108863,qr>=18?(qr-=18,Vr+=1,this.words[Vr]|=Jr>>>26):qr+=8;else{var Xr=Sn.length-Zr;for(wr=Xr%2===0?Zr+1:Zr;wr<Sn.length;wr+=2)Jr=Ee(Sn,Zr,wr)<<qr,this.words[Vr]|=Jr&67108863,qr>=18?(qr-=18,Vr+=1,this.words[Vr]|=Jr>>>26):qr+=8}this.strip()};function xe(On,Sn,Zr,Oe){for(var wr=0,qr=Math.min(On.length,Zr),Vr=Sn;Vr<qr;Vr++){var Jr=On.charCodeAt(Vr)-48;wr*=Oe,Jr>=49?wr+=Jr-49+10:Jr>=17?wr+=Jr-17+10:wr+=Jr}return wr}me.prototype._parseBase=function(Sn,Zr,Oe){this.words=[0],this.length=1;for(var wr=0,qr=1;qr<=67108863;qr*=Zr)wr++;wr--,qr=qr/Zr|0;for(var Vr=Sn.length-Oe,Jr=Vr%wr,Xr=Math.min(Vr,Vr-Jr)+Oe,Kr=0,Yr=Oe;Yr<Xr;Yr+=wr)Kr=xe(Sn,Yr,Yr+wr,Zr),this.imuln(qr),this.words[0]+Kr<67108864?this.words[0]+=Kr:this._iaddn(Kr);if(Jr!==0){var Br=1;for(Kr=xe(Sn,Yr,Sn.length,Zr),Yr=0;Yr<Jr;Yr++)Br*=Zr;this.imuln(Br),this.words[0]+Kr<67108864?this.words[0]+=Kr:this._iaddn(Kr)}this.strip()},me.prototype.copy=function(Sn){Sn.words=new Array(this.length);for(var Zr=0;Zr<this.length;Zr++)Sn.words[Zr]=this.words[Zr];Sn.length=this.length,Sn.negative=this.negative,Sn.red=this.red},me.prototype.clone=function(){var Sn=new me(null);return this.copy(Sn),Sn},me.prototype._expand=function(Sn){for(;this.length<Sn;)this.words[this.length++]=0;return this},me.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},me.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},me.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Se=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ie=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],fr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];me.prototype.toString=function(Sn,Zr){Sn=Sn||10,Zr=Zr|0||1;var Oe;if(Sn===16||Sn==="hex"){Oe="";for(var wr=0,qr=0,Vr=0;Vr<this.length;Vr++){var Jr=this.words[Vr],Xr=((Jr<<wr|qr)&16777215).toString(16);qr=Jr>>>24-wr&16777215,wr+=2,wr>=26&&(wr-=26,Vr--),qr!==0||Vr!==this.length-1?Oe=Se[6-Xr.length]+Xr+Oe:Oe=Xr+Oe}for(qr!==0&&(Oe=qr.toString(16)+Oe);Oe.length%Zr!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}if(Sn===(Sn|0)&&Sn>=2&&Sn<=36){var Kr=Ie[Sn],Yr=fr[Sn];Oe="";var Br=this.clone();for(Br.negative=0;!Br.isZero();){var _n=Br.modn(Yr).toString(Sn);Br=Br.idivn(Yr),Br.isZero()?Oe=_n+Oe:Oe=Se[Kr-_n.length]+_n+Oe}for(this.isZero()&&(Oe="0"+Oe);Oe.length%Zr!==0;)Oe="0"+Oe;return this.negative!==0&&(Oe="-"+Oe),Oe}fe(!1,"Base should be between 2 and 36")},me.prototype.toNumber=function(){var Sn=this.words[0];return this.length===2?Sn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Sn+=4503599627370496+this.words[1]*67108864:this.length>2&&fe(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Sn:Sn},me.prototype.toJSON=function(){return this.toString(16)},me.prototype.toBuffer=function(Sn,Zr){return fe(typeof be<"u"),this.toArrayLike(be,Sn,Zr)},me.prototype.toArray=function(Sn,Zr){return this.toArrayLike(Array,Sn,Zr)},me.prototype.toArrayLike=function(Sn,Zr,Oe){var wr=this.byteLength(),qr=Oe||Math.max(1,wr);fe(wr<=qr,"byte array longer than desired length"),fe(qr>0,"Requested array length <= 0"),this.strip();var Vr=Zr==="le",Jr=new Sn(qr),Xr,Kr,Yr=this.clone();if(Vr){for(Kr=0;!Yr.isZero();Kr++)Xr=Yr.andln(255),Yr.iushrn(8),Jr[Kr]=Xr;for(;Kr<qr;Kr++)Jr[Kr]=0}else{for(Kr=0;Kr<qr-wr;Kr++)Jr[Kr]=0;for(Kr=0;!Yr.isZero();Kr++)Xr=Yr.andln(255),Yr.iushrn(8),Jr[qr-Kr-1]=Xr}return Jr},Math.clz32?me.prototype._countBits=function(Sn){return 32-Math.clz32(Sn)}:me.prototype._countBits=function(Sn){var Zr=Sn,Oe=0;return Zr>=4096&&(Oe+=13,Zr>>>=13),Zr>=64&&(Oe+=7,Zr>>>=7),Zr>=8&&(Oe+=4,Zr>>>=4),Zr>=2&&(Oe+=2,Zr>>>=2),Oe+Zr},me.prototype._zeroBits=function(Sn){if(Sn===0)return 26;var Zr=Sn,Oe=0;return Zr&8191||(Oe+=13,Zr>>>=13),Zr&127||(Oe+=7,Zr>>>=7),Zr&15||(Oe+=4,Zr>>>=4),Zr&3||(Oe+=2,Zr>>>=2),Zr&1||Oe++,Oe},me.prototype.bitLength=function(){var Sn=this.words[this.length-1],Zr=this._countBits(Sn);return(this.length-1)*26+Zr};function br(On){for(var Sn=new Array(On.bitLength()),Zr=0;Zr<Sn.length;Zr++){var Oe=Zr/26|0,wr=Zr%26;Sn[Zr]=(On.words[Oe]&1<<wr)>>>wr}return Sn}me.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Sn=0,Zr=0;Zr<this.length;Zr++){var Oe=this._zeroBits(this.words[Zr]);if(Sn+=Oe,Oe!==26)break}return Sn},me.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},me.prototype.toTwos=function(Sn){return this.negative!==0?this.abs().inotn(Sn).iaddn(1):this.clone()},me.prototype.fromTwos=function(Sn){return this.testn(Sn-1)?this.notn(Sn).iaddn(1).ineg():this.clone()},me.prototype.isNeg=function(){return this.negative!==0},me.prototype.neg=function(){return this.clone().ineg()},me.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},me.prototype.iuor=function(Sn){for(;this.length<Sn.length;)this.words[this.length++]=0;for(var Zr=0;Zr<Sn.length;Zr++)this.words[Zr]=this.words[Zr]|Sn.words[Zr];return this.strip()},me.prototype.ior=function(Sn){return fe((this.negative|Sn.negative)===0),this.iuor(Sn)},me.prototype.or=function(Sn){return this.length>Sn.length?this.clone().ior(Sn):Sn.clone().ior(this)},me.prototype.uor=function(Sn){return this.length>Sn.length?this.clone().iuor(Sn):Sn.clone().iuor(this)},me.prototype.iuand=function(Sn){var Zr;this.length>Sn.length?Zr=Sn:Zr=this;for(var Oe=0;Oe<Zr.length;Oe++)this.words[Oe]=this.words[Oe]&Sn.words[Oe];return this.length=Zr.length,this.strip()},me.prototype.iand=function(Sn){return fe((this.negative|Sn.negative)===0),this.iuand(Sn)},me.prototype.and=function(Sn){return this.length>Sn.length?this.clone().iand(Sn):Sn.clone().iand(this)},me.prototype.uand=function(Sn){return this.length>Sn.length?this.clone().iuand(Sn):Sn.clone().iuand(this)},me.prototype.iuxor=function(Sn){var Zr,Oe;this.length>Sn.length?(Zr=this,Oe=Sn):(Zr=Sn,Oe=this);for(var wr=0;wr<Oe.length;wr++)this.words[wr]=Zr.words[wr]^Oe.words[wr];if(this!==Zr)for(;wr<Zr.length;wr++)this.words[wr]=Zr.words[wr];return this.length=Zr.length,this.strip()},me.prototype.ixor=function(Sn){return fe((this.negative|Sn.negative)===0),this.iuxor(Sn)},me.prototype.xor=function(Sn){return this.length>Sn.length?this.clone().ixor(Sn):Sn.clone().ixor(this)},me.prototype.uxor=function(Sn){return this.length>Sn.length?this.clone().iuxor(Sn):Sn.clone().iuxor(this)},me.prototype.inotn=function(Sn){fe(typeof Sn=="number"&&Sn>=0);var Zr=Math.ceil(Sn/26)|0,Oe=Sn%26;this._expand(Zr),Oe>0&&Zr--;for(var wr=0;wr<Zr;wr++)this.words[wr]=~this.words[wr]&67108863;return Oe>0&&(this.words[wr]=~this.words[wr]&67108863>>26-Oe),this.strip()},me.prototype.notn=function(Sn){return this.clone().inotn(Sn)},me.prototype.setn=function(Sn,Zr){fe(typeof Sn=="number"&&Sn>=0);var Oe=Sn/26|0,wr=Sn%26;return this._expand(Oe+1),Zr?this.words[Oe]=this.words[Oe]|1<<wr:this.words[Oe]=this.words[Oe]&~(1<<wr),this.strip()},me.prototype.iadd=function(Sn){var Zr;if(this.negative!==0&&Sn.negative===0)return this.negative=0,Zr=this.isub(Sn),this.negative^=1,this._normSign();if(this.negative===0&&Sn.negative!==0)return Sn.negative=0,Zr=this.isub(Sn),Sn.negative=1,Zr._normSign();var Oe,wr;this.length>Sn.length?(Oe=this,wr=Sn):(Oe=Sn,wr=this);for(var qr=0,Vr=0;Vr<wr.length;Vr++)Zr=(Oe.words[Vr]|0)+(wr.words[Vr]|0)+qr,this.words[Vr]=Zr&67108863,qr=Zr>>>26;for(;qr!==0&&Vr<Oe.length;Vr++)Zr=(Oe.words[Vr]|0)+qr,this.words[Vr]=Zr&67108863,qr=Zr>>>26;if(this.length=Oe.length,qr!==0)this.words[this.length]=qr,this.length++;else if(Oe!==this)for(;Vr<Oe.length;Vr++)this.words[Vr]=Oe.words[Vr];return this},me.prototype.add=function(Sn){var Zr;return Sn.negative!==0&&this.negative===0?(Sn.negative=0,Zr=this.sub(Sn),Sn.negative^=1,Zr):Sn.negative===0&&this.negative!==0?(this.negative=0,Zr=Sn.sub(this),this.negative=1,Zr):this.length>Sn.length?this.clone().iadd(Sn):Sn.clone().iadd(this)},me.prototype.isub=function(Sn){if(Sn.negative!==0){Sn.negative=0;var Zr=this.iadd(Sn);return Sn.negative=1,Zr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Sn),this.negative=1,this._normSign();var Oe=this.cmp(Sn);if(Oe===0)return this.negative=0,this.length=1,this.words[0]=0,this;var wr,qr;Oe>0?(wr=this,qr=Sn):(wr=Sn,qr=this);for(var Vr=0,Jr=0;Jr<qr.length;Jr++)Zr=(wr.words[Jr]|0)-(qr.words[Jr]|0)+Vr,Vr=Zr>>26,this.words[Jr]=Zr&67108863;for(;Vr!==0&&Jr<wr.length;Jr++)Zr=(wr.words[Jr]|0)+Vr,Vr=Zr>>26,this.words[Jr]=Zr&67108863;if(Vr===0&&Jr<wr.length&&wr!==this)for(;Jr<wr.length;Jr++)this.words[Jr]=wr.words[Jr];return this.length=Math.max(this.length,Jr),wr!==this&&(this.negative=1),this.strip()},me.prototype.sub=function(Sn){return this.clone().isub(Sn)};function kr(On,Sn,Zr){Zr.negative=Sn.negative^On.negative;var Oe=On.length+Sn.length|0;Zr.length=Oe,Oe=Oe-1|0;var wr=On.words[0]|0,qr=Sn.words[0]|0,Vr=wr*qr,Jr=Vr&67108863,Xr=Vr/67108864|0;Zr.words[0]=Jr;for(var Kr=1;Kr<Oe;Kr++){for(var Yr=Xr>>>26,Br=Xr&67108863,_n=Math.min(Kr,Sn.length-1),ii=Math.max(0,Kr-On.length+1);ii<=_n;ii++){var ni=Kr-ii|0;wr=On.words[ni]|0,qr=Sn.words[ii]|0,Vr=wr*qr+Br,Yr+=Vr/67108864|0,Br=Vr&67108863}Zr.words[Kr]=Br|0,Xr=Yr|0}return Xr!==0?Zr.words[Kr]=Xr|0:Zr.length--,Zr.strip()}var Wr=function(Sn,Zr,Oe){var wr=Sn.words,qr=Zr.words,Vr=Oe.words,Jr=0,Xr,Kr,Yr,Br=wr[0]|0,_n=Br&8191,ii=Br>>>13,ni=wr[1]|0,si=ni&8191,Nn=ni>>>13,jn=wr[2]|0,ei=jn&8191,Pn=jn>>>13,zn=wr[3]|0,ri=zn&8191,hi=zn>>>13,mi=wr[4]|0,$i=mi&8191,Ti=mi>>>13,xi=wr[5]|0,Ri=xi&8191,vi=xi>>>13,Pi=wr[6]|0,Ei=Pi&8191,ha=Pi>>>13,Ni=wr[7]|0,Ai=Ni&8191,ga=Ni>>>13,Bi=wr[8]|0,Ci=Bi&8191,ma=Bi>>>13,Vi=wr[9]|0,Ii=Vi&8191,Pa=Vi>>>13,ra=qr[0]|0,Oi=ra&8191,Na=ra>>>13,na=qr[1]|0,ia=na&8191,Ga=na>>>13,wa=qr[2]|0,sa=wa&8191,Ka=wa>>>13,_a=qr[3]|0,ca=_a&8191,Da=_a>>>13,la=qr[4]|0,ji=la&8191,qa=la>>>13,ua=qr[5]|0,qi=ua&8191,Fa=ua>>>13,pa=qr[6]|0,zi=pa&8191,Wa=pa>>>13,fa=qr[7]|0,Ki=fa&8191,Ua=fa>>>13,oa=qr[8]|0,ea=oa&8191,ja=oa>>>13,Aa=qr[9]|0,da=Aa&8191,no=Aa>>>13;Oe.negative=Sn.negative^Zr.negative,Oe.length=19,Xr=Math.imul(_n,Oi),Kr=Math.imul(_n,Na),Kr=Kr+Math.imul(ii,Oi)|0,Yr=Math.imul(ii,Na);var va=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(va>>>26)|0,va&=67108863,Xr=Math.imul(si,Oi),Kr=Math.imul(si,Na),Kr=Kr+Math.imul(Nn,Oi)|0,Yr=Math.imul(Nn,Na),Xr=Xr+Math.imul(_n,ia)|0,Kr=Kr+Math.imul(_n,Ga)|0,Kr=Kr+Math.imul(ii,ia)|0,Yr=Yr+Math.imul(ii,Ga)|0;var Ca=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,Xr=Math.imul(ei,Oi),Kr=Math.imul(ei,Na),Kr=Kr+Math.imul(Pn,Oi)|0,Yr=Math.imul(Pn,Na),Xr=Xr+Math.imul(si,ia)|0,Kr=Kr+Math.imul(si,Ga)|0,Kr=Kr+Math.imul(Nn,ia)|0,Yr=Yr+Math.imul(Nn,Ga)|0,Xr=Xr+Math.imul(_n,sa)|0,Kr=Kr+Math.imul(_n,Ka)|0,Kr=Kr+Math.imul(ii,sa)|0,Yr=Yr+Math.imul(ii,Ka)|0;var Io=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Io>>>26)|0,Io&=67108863,Xr=Math.imul(ri,Oi),Kr=Math.imul(ri,Na),Kr=Kr+Math.imul(hi,Oi)|0,Yr=Math.imul(hi,Na),Xr=Xr+Math.imul(ei,ia)|0,Kr=Kr+Math.imul(ei,Ga)|0,Kr=Kr+Math.imul(Pn,ia)|0,Yr=Yr+Math.imul(Pn,Ga)|0,Xr=Xr+Math.imul(si,sa)|0,Kr=Kr+Math.imul(si,Ka)|0,Kr=Kr+Math.imul(Nn,sa)|0,Yr=Yr+Math.imul(Nn,Ka)|0,Xr=Xr+Math.imul(_n,ca)|0,Kr=Kr+Math.imul(_n,Da)|0,Kr=Kr+Math.imul(ii,ca)|0,Yr=Yr+Math.imul(ii,Da)|0;var Po=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Po>>>26)|0,Po&=67108863,Xr=Math.imul($i,Oi),Kr=Math.imul($i,Na),Kr=Kr+Math.imul(Ti,Oi)|0,Yr=Math.imul(Ti,Na),Xr=Xr+Math.imul(ri,ia)|0,Kr=Kr+Math.imul(ri,Ga)|0,Kr=Kr+Math.imul(hi,ia)|0,Yr=Yr+Math.imul(hi,Ga)|0,Xr=Xr+Math.imul(ei,sa)|0,Kr=Kr+Math.imul(ei,Ka)|0,Kr=Kr+Math.imul(Pn,sa)|0,Yr=Yr+Math.imul(Pn,Ka)|0,Xr=Xr+Math.imul(si,ca)|0,Kr=Kr+Math.imul(si,Da)|0,Kr=Kr+Math.imul(Nn,ca)|0,Yr=Yr+Math.imul(Nn,Da)|0,Xr=Xr+Math.imul(_n,ji)|0,Kr=Kr+Math.imul(_n,qa)|0,Kr=Kr+Math.imul(ii,ji)|0,Yr=Yr+Math.imul(ii,qa)|0;var To=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(To>>>26)|0,To&=67108863,Xr=Math.imul(Ri,Oi),Kr=Math.imul(Ri,Na),Kr=Kr+Math.imul(vi,Oi)|0,Yr=Math.imul(vi,Na),Xr=Xr+Math.imul($i,ia)|0,Kr=Kr+Math.imul($i,Ga)|0,Kr=Kr+Math.imul(Ti,ia)|0,Yr=Yr+Math.imul(Ti,Ga)|0,Xr=Xr+Math.imul(ri,sa)|0,Kr=Kr+Math.imul(ri,Ka)|0,Kr=Kr+Math.imul(hi,sa)|0,Yr=Yr+Math.imul(hi,Ka)|0,Xr=Xr+Math.imul(ei,ca)|0,Kr=Kr+Math.imul(ei,Da)|0,Kr=Kr+Math.imul(Pn,ca)|0,Yr=Yr+Math.imul(Pn,Da)|0,Xr=Xr+Math.imul(si,ji)|0,Kr=Kr+Math.imul(si,qa)|0,Kr=Kr+Math.imul(Nn,ji)|0,Yr=Yr+Math.imul(Nn,qa)|0,Xr=Xr+Math.imul(_n,qi)|0,Kr=Kr+Math.imul(_n,Fa)|0,Kr=Kr+Math.imul(ii,qi)|0,Yr=Yr+Math.imul(ii,Fa)|0;var No=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(No>>>26)|0,No&=67108863,Xr=Math.imul(Ei,Oi),Kr=Math.imul(Ei,Na),Kr=Kr+Math.imul(ha,Oi)|0,Yr=Math.imul(ha,Na),Xr=Xr+Math.imul(Ri,ia)|0,Kr=Kr+Math.imul(Ri,Ga)|0,Kr=Kr+Math.imul(vi,ia)|0,Yr=Yr+Math.imul(vi,Ga)|0,Xr=Xr+Math.imul($i,sa)|0,Kr=Kr+Math.imul($i,Ka)|0,Kr=Kr+Math.imul(Ti,sa)|0,Yr=Yr+Math.imul(Ti,Ka)|0,Xr=Xr+Math.imul(ri,ca)|0,Kr=Kr+Math.imul(ri,Da)|0,Kr=Kr+Math.imul(hi,ca)|0,Yr=Yr+Math.imul(hi,Da)|0,Xr=Xr+Math.imul(ei,ji)|0,Kr=Kr+Math.imul(ei,qa)|0,Kr=Kr+Math.imul(Pn,ji)|0,Yr=Yr+Math.imul(Pn,qa)|0,Xr=Xr+Math.imul(si,qi)|0,Kr=Kr+Math.imul(si,Fa)|0,Kr=Kr+Math.imul(Nn,qi)|0,Yr=Yr+Math.imul(Nn,Fa)|0,Xr=Xr+Math.imul(_n,zi)|0,Kr=Kr+Math.imul(_n,Wa)|0,Kr=Kr+Math.imul(ii,zi)|0,Yr=Yr+Math.imul(ii,Wa)|0;var ho=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(ho>>>26)|0,ho&=67108863,Xr=Math.imul(Ai,Oi),Kr=Math.imul(Ai,Na),Kr=Kr+Math.imul(ga,Oi)|0,Yr=Math.imul(ga,Na),Xr=Xr+Math.imul(Ei,ia)|0,Kr=Kr+Math.imul(Ei,Ga)|0,Kr=Kr+Math.imul(ha,ia)|0,Yr=Yr+Math.imul(ha,Ga)|0,Xr=Xr+Math.imul(Ri,sa)|0,Kr=Kr+Math.imul(Ri,Ka)|0,Kr=Kr+Math.imul(vi,sa)|0,Yr=Yr+Math.imul(vi,Ka)|0,Xr=Xr+Math.imul($i,ca)|0,Kr=Kr+Math.imul($i,Da)|0,Kr=Kr+Math.imul(Ti,ca)|0,Yr=Yr+Math.imul(Ti,Da)|0,Xr=Xr+Math.imul(ri,ji)|0,Kr=Kr+Math.imul(ri,qa)|0,Kr=Kr+Math.imul(hi,ji)|0,Yr=Yr+Math.imul(hi,qa)|0,Xr=Xr+Math.imul(ei,qi)|0,Kr=Kr+Math.imul(ei,Fa)|0,Kr=Kr+Math.imul(Pn,qi)|0,Yr=Yr+Math.imul(Pn,Fa)|0,Xr=Xr+Math.imul(si,zi)|0,Kr=Kr+Math.imul(si,Wa)|0,Kr=Kr+Math.imul(Nn,zi)|0,Yr=Yr+Math.imul(Nn,Wa)|0,Xr=Xr+Math.imul(_n,Ki)|0,Kr=Kr+Math.imul(_n,Ua)|0,Kr=Kr+Math.imul(ii,Ki)|0,Yr=Yr+Math.imul(ii,Ua)|0;var _o=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(_o>>>26)|0,_o&=67108863,Xr=Math.imul(Ci,Oi),Kr=Math.imul(Ci,Na),Kr=Kr+Math.imul(ma,Oi)|0,Yr=Math.imul(ma,Na),Xr=Xr+Math.imul(Ai,ia)|0,Kr=Kr+Math.imul(Ai,Ga)|0,Kr=Kr+Math.imul(ga,ia)|0,Yr=Yr+Math.imul(ga,Ga)|0,Xr=Xr+Math.imul(Ei,sa)|0,Kr=Kr+Math.imul(Ei,Ka)|0,Kr=Kr+Math.imul(ha,sa)|0,Yr=Yr+Math.imul(ha,Ka)|0,Xr=Xr+Math.imul(Ri,ca)|0,Kr=Kr+Math.imul(Ri,Da)|0,Kr=Kr+Math.imul(vi,ca)|0,Yr=Yr+Math.imul(vi,Da)|0,Xr=Xr+Math.imul($i,ji)|0,Kr=Kr+Math.imul($i,qa)|0,Kr=Kr+Math.imul(Ti,ji)|0,Yr=Yr+Math.imul(Ti,qa)|0,Xr=Xr+Math.imul(ri,qi)|0,Kr=Kr+Math.imul(ri,Fa)|0,Kr=Kr+Math.imul(hi,qi)|0,Yr=Yr+Math.imul(hi,Fa)|0,Xr=Xr+Math.imul(ei,zi)|0,Kr=Kr+Math.imul(ei,Wa)|0,Kr=Kr+Math.imul(Pn,zi)|0,Yr=Yr+Math.imul(Pn,Wa)|0,Xr=Xr+Math.imul(si,Ki)|0,Kr=Kr+Math.imul(si,Ua)|0,Kr=Kr+Math.imul(Nn,Ki)|0,Yr=Yr+Math.imul(Nn,Ua)|0,Xr=Xr+Math.imul(_n,ea)|0,Kr=Kr+Math.imul(_n,ja)|0,Kr=Kr+Math.imul(ii,ea)|0,Yr=Yr+Math.imul(ii,ja)|0;var ko=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(ko>>>26)|0,ko&=67108863,Xr=Math.imul(Ii,Oi),Kr=Math.imul(Ii,Na),Kr=Kr+Math.imul(Pa,Oi)|0,Yr=Math.imul(Pa,Na),Xr=Xr+Math.imul(Ci,ia)|0,Kr=Kr+Math.imul(Ci,Ga)|0,Kr=Kr+Math.imul(ma,ia)|0,Yr=Yr+Math.imul(ma,Ga)|0,Xr=Xr+Math.imul(Ai,sa)|0,Kr=Kr+Math.imul(Ai,Ka)|0,Kr=Kr+Math.imul(ga,sa)|0,Yr=Yr+Math.imul(ga,Ka)|0,Xr=Xr+Math.imul(Ei,ca)|0,Kr=Kr+Math.imul(Ei,Da)|0,Kr=Kr+Math.imul(ha,ca)|0,Yr=Yr+Math.imul(ha,Da)|0,Xr=Xr+Math.imul(Ri,ji)|0,Kr=Kr+Math.imul(Ri,qa)|0,Kr=Kr+Math.imul(vi,ji)|0,Yr=Yr+Math.imul(vi,qa)|0,Xr=Xr+Math.imul($i,qi)|0,Kr=Kr+Math.imul($i,Fa)|0,Kr=Kr+Math.imul(Ti,qi)|0,Yr=Yr+Math.imul(Ti,Fa)|0,Xr=Xr+Math.imul(ri,zi)|0,Kr=Kr+Math.imul(ri,Wa)|0,Kr=Kr+Math.imul(hi,zi)|0,Yr=Yr+Math.imul(hi,Wa)|0,Xr=Xr+Math.imul(ei,Ki)|0,Kr=Kr+Math.imul(ei,Ua)|0,Kr=Kr+Math.imul(Pn,Ki)|0,Yr=Yr+Math.imul(Pn,Ua)|0,Xr=Xr+Math.imul(si,ea)|0,Kr=Kr+Math.imul(si,ja)|0,Kr=Kr+Math.imul(Nn,ea)|0,Yr=Yr+Math.imul(Nn,ja)|0,Xr=Xr+Math.imul(_n,da)|0,Kr=Kr+Math.imul(_n,no)|0,Kr=Kr+Math.imul(ii,da)|0,Yr=Yr+Math.imul(ii,no)|0;var $o=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+($o>>>26)|0,$o&=67108863,Xr=Math.imul(Ii,ia),Kr=Math.imul(Ii,Ga),Kr=Kr+Math.imul(Pa,ia)|0,Yr=Math.imul(Pa,Ga),Xr=Xr+Math.imul(Ci,sa)|0,Kr=Kr+Math.imul(Ci,Ka)|0,Kr=Kr+Math.imul(ma,sa)|0,Yr=Yr+Math.imul(ma,Ka)|0,Xr=Xr+Math.imul(Ai,ca)|0,Kr=Kr+Math.imul(Ai,Da)|0,Kr=Kr+Math.imul(ga,ca)|0,Yr=Yr+Math.imul(ga,Da)|0,Xr=Xr+Math.imul(Ei,ji)|0,Kr=Kr+Math.imul(Ei,qa)|0,Kr=Kr+Math.imul(ha,ji)|0,Yr=Yr+Math.imul(ha,qa)|0,Xr=Xr+Math.imul(Ri,qi)|0,Kr=Kr+Math.imul(Ri,Fa)|0,Kr=Kr+Math.imul(vi,qi)|0,Yr=Yr+Math.imul(vi,Fa)|0,Xr=Xr+Math.imul($i,zi)|0,Kr=Kr+Math.imul($i,Wa)|0,Kr=Kr+Math.imul(Ti,zi)|0,Yr=Yr+Math.imul(Ti,Wa)|0,Xr=Xr+Math.imul(ri,Ki)|0,Kr=Kr+Math.imul(ri,Ua)|0,Kr=Kr+Math.imul(hi,Ki)|0,Yr=Yr+Math.imul(hi,Ua)|0,Xr=Xr+Math.imul(ei,ea)|0,Kr=Kr+Math.imul(ei,ja)|0,Kr=Kr+Math.imul(Pn,ea)|0,Yr=Yr+Math.imul(Pn,ja)|0,Xr=Xr+Math.imul(si,da)|0,Kr=Kr+Math.imul(si,no)|0,Kr=Kr+Math.imul(Nn,da)|0,Yr=Yr+Math.imul(Nn,no)|0;var Mo=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,Xr=Math.imul(Ii,sa),Kr=Math.imul(Ii,Ka),Kr=Kr+Math.imul(Pa,sa)|0,Yr=Math.imul(Pa,Ka),Xr=Xr+Math.imul(Ci,ca)|0,Kr=Kr+Math.imul(Ci,Da)|0,Kr=Kr+Math.imul(ma,ca)|0,Yr=Yr+Math.imul(ma,Da)|0,Xr=Xr+Math.imul(Ai,ji)|0,Kr=Kr+Math.imul(Ai,qa)|0,Kr=Kr+Math.imul(ga,ji)|0,Yr=Yr+Math.imul(ga,qa)|0,Xr=Xr+Math.imul(Ei,qi)|0,Kr=Kr+Math.imul(Ei,Fa)|0,Kr=Kr+Math.imul(ha,qi)|0,Yr=Yr+Math.imul(ha,Fa)|0,Xr=Xr+Math.imul(Ri,zi)|0,Kr=Kr+Math.imul(Ri,Wa)|0,Kr=Kr+Math.imul(vi,zi)|0,Yr=Yr+Math.imul(vi,Wa)|0,Xr=Xr+Math.imul($i,Ki)|0,Kr=Kr+Math.imul($i,Ua)|0,Kr=Kr+Math.imul(Ti,Ki)|0,Yr=Yr+Math.imul(Ti,Ua)|0,Xr=Xr+Math.imul(ri,ea)|0,Kr=Kr+Math.imul(ri,ja)|0,Kr=Kr+Math.imul(hi,ea)|0,Yr=Yr+Math.imul(hi,ja)|0,Xr=Xr+Math.imul(ei,da)|0,Kr=Kr+Math.imul(ei,no)|0,Kr=Kr+Math.imul(Pn,da)|0,Yr=Yr+Math.imul(Pn,no)|0;var Oo=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,Xr=Math.imul(Ii,ca),Kr=Math.imul(Ii,Da),Kr=Kr+Math.imul(Pa,ca)|0,Yr=Math.imul(Pa,Da),Xr=Xr+Math.imul(Ci,ji)|0,Kr=Kr+Math.imul(Ci,qa)|0,Kr=Kr+Math.imul(ma,ji)|0,Yr=Yr+Math.imul(ma,qa)|0,Xr=Xr+Math.imul(Ai,qi)|0,Kr=Kr+Math.imul(Ai,Fa)|0,Kr=Kr+Math.imul(ga,qi)|0,Yr=Yr+Math.imul(ga,Fa)|0,Xr=Xr+Math.imul(Ei,zi)|0,Kr=Kr+Math.imul(Ei,Wa)|0,Kr=Kr+Math.imul(ha,zi)|0,Yr=Yr+Math.imul(ha,Wa)|0,Xr=Xr+Math.imul(Ri,Ki)|0,Kr=Kr+Math.imul(Ri,Ua)|0,Kr=Kr+Math.imul(vi,Ki)|0,Yr=Yr+Math.imul(vi,Ua)|0,Xr=Xr+Math.imul($i,ea)|0,Kr=Kr+Math.imul($i,ja)|0,Kr=Kr+Math.imul(Ti,ea)|0,Yr=Yr+Math.imul(Ti,ja)|0,Xr=Xr+Math.imul(ri,da)|0,Kr=Kr+Math.imul(ri,no)|0,Kr=Kr+Math.imul(hi,da)|0,Yr=Yr+Math.imul(hi,no)|0;var Eo=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,Xr=Math.imul(Ii,ji),Kr=Math.imul(Ii,qa),Kr=Kr+Math.imul(Pa,ji)|0,Yr=Math.imul(Pa,qa),Xr=Xr+Math.imul(Ci,qi)|0,Kr=Kr+Math.imul(Ci,Fa)|0,Kr=Kr+Math.imul(ma,qi)|0,Yr=Yr+Math.imul(ma,Fa)|0,Xr=Xr+Math.imul(Ai,zi)|0,Kr=Kr+Math.imul(Ai,Wa)|0,Kr=Kr+Math.imul(ga,zi)|0,Yr=Yr+Math.imul(ga,Wa)|0,Xr=Xr+Math.imul(Ei,Ki)|0,Kr=Kr+Math.imul(Ei,Ua)|0,Kr=Kr+Math.imul(ha,Ki)|0,Yr=Yr+Math.imul(ha,Ua)|0,Xr=Xr+Math.imul(Ri,ea)|0,Kr=Kr+Math.imul(Ri,ja)|0,Kr=Kr+Math.imul(vi,ea)|0,Yr=Yr+Math.imul(vi,ja)|0,Xr=Xr+Math.imul($i,da)|0,Kr=Kr+Math.imul($i,no)|0,Kr=Kr+Math.imul(Ti,da)|0,Yr=Yr+Math.imul(Ti,no)|0;var So=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(So>>>26)|0,So&=67108863,Xr=Math.imul(Ii,qi),Kr=Math.imul(Ii,Fa),Kr=Kr+Math.imul(Pa,qi)|0,Yr=Math.imul(Pa,Fa),Xr=Xr+Math.imul(Ci,zi)|0,Kr=Kr+Math.imul(Ci,Wa)|0,Kr=Kr+Math.imul(ma,zi)|0,Yr=Yr+Math.imul(ma,Wa)|0,Xr=Xr+Math.imul(Ai,Ki)|0,Kr=Kr+Math.imul(Ai,Ua)|0,Kr=Kr+Math.imul(ga,Ki)|0,Yr=Yr+Math.imul(ga,Ua)|0,Xr=Xr+Math.imul(Ei,ea)|0,Kr=Kr+Math.imul(Ei,ja)|0,Kr=Kr+Math.imul(ha,ea)|0,Yr=Yr+Math.imul(ha,ja)|0,Xr=Xr+Math.imul(Ri,da)|0,Kr=Kr+Math.imul(Ri,no)|0,Kr=Kr+Math.imul(vi,da)|0,Yr=Yr+Math.imul(vi,no)|0;var Ao=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,Xr=Math.imul(Ii,zi),Kr=Math.imul(Ii,Wa),Kr=Kr+Math.imul(Pa,zi)|0,Yr=Math.imul(Pa,Wa),Xr=Xr+Math.imul(Ci,Ki)|0,Kr=Kr+Math.imul(Ci,Ua)|0,Kr=Kr+Math.imul(ma,Ki)|0,Yr=Yr+Math.imul(ma,Ua)|0,Xr=Xr+Math.imul(Ai,ea)|0,Kr=Kr+Math.imul(Ai,ja)|0,Kr=Kr+Math.imul(ga,ea)|0,Yr=Yr+Math.imul(ga,ja)|0,Xr=Xr+Math.imul(Ei,da)|0,Kr=Kr+Math.imul(Ei,no)|0,Kr=Kr+Math.imul(ha,da)|0,Yr=Yr+Math.imul(ha,no)|0;var co=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(co>>>26)|0,co&=67108863,Xr=Math.imul(Ii,Ki),Kr=Math.imul(Ii,Ua),Kr=Kr+Math.imul(Pa,Ki)|0,Yr=Math.imul(Pa,Ua),Xr=Xr+Math.imul(Ci,ea)|0,Kr=Kr+Math.imul(Ci,ja)|0,Kr=Kr+Math.imul(ma,ea)|0,Yr=Yr+Math.imul(ma,ja)|0,Xr=Xr+Math.imul(Ai,da)|0,Kr=Kr+Math.imul(Ai,no)|0,Kr=Kr+Math.imul(ga,da)|0,Yr=Yr+Math.imul(ga,no)|0;var Bo=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,Xr=Math.imul(Ii,ea),Kr=Math.imul(Ii,ja),Kr=Kr+Math.imul(Pa,ea)|0,Yr=Math.imul(Pa,ja),Xr=Xr+Math.imul(Ci,da)|0,Kr=Kr+Math.imul(Ci,no)|0,Kr=Kr+Math.imul(ma,da)|0,Yr=Yr+Math.imul(ma,no)|0;var Ho=(Jr+Xr|0)+((Kr&8191)<<13)|0;Jr=(Yr+(Kr>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,Xr=Math.imul(Ii,da),Kr=Math.imul(Ii,no),Kr=Kr+Math.imul(Pa,da)|0,Yr=Math.imul(Pa,no);var zo=(Jr+Xr|0)+((Kr&8191)<<13)|0;return Jr=(Yr+(Kr>>>13)|0)+(zo>>>26)|0,zo&=67108863,Vr[0]=va,Vr[1]=Ca,Vr[2]=Io,Vr[3]=Po,Vr[4]=To,Vr[5]=No,Vr[6]=ho,Vr[7]=_o,Vr[8]=ko,Vr[9]=$o,Vr[10]=Mo,Vr[11]=Oo,Vr[12]=Eo,Vr[13]=So,Vr[14]=Ao,Vr[15]=co,Vr[16]=Bo,Vr[17]=Ho,Vr[18]=zo,Jr!==0&&(Vr[19]=Jr,Oe.length++),Oe};Math.imul||(Wr=kr);function Gr(On,Sn,Zr){Zr.negative=Sn.negative^On.negative,Zr.length=On.length+Sn.length;for(var Oe=0,wr=0,qr=0;qr<Zr.length-1;qr++){var Vr=wr;wr=0;for(var Jr=Oe&67108863,Xr=Math.min(qr,Sn.length-1),Kr=Math.max(0,qr-On.length+1);Kr<=Xr;Kr++){var Yr=qr-Kr,Br=On.words[Yr]|0,_n=Sn.words[Kr]|0,ii=Br*_n,ni=ii&67108863;Vr=Vr+(ii/67108864|0)|0,ni=ni+Jr|0,Jr=ni&67108863,Vr=Vr+(ni>>>26)|0,wr+=Vr>>>26,Vr&=67108863}Zr.words[qr]=Jr,Oe=Vr,Vr=wr}return Oe!==0?Zr.words[qr]=Oe:Zr.length--,Zr.strip()}function jr(On,Sn,Zr){var Oe=new Qr;return Oe.mulp(On,Sn,Zr)}me.prototype.mulTo=function(Sn,Zr){var Oe,wr=this.length+Sn.length;return this.length===10&&Sn.length===10?Oe=Wr(this,Sn,Zr):wr<63?Oe=kr(this,Sn,Zr):wr<1024?Oe=Gr(this,Sn,Zr):Oe=jr(this,Sn,Zr),Oe};function Qr(On,Sn){this.x=On,this.y=Sn}Qr.prototype.makeRBT=function(Sn){for(var Zr=new Array(Sn),Oe=me.prototype._countBits(Sn)-1,wr=0;wr<Sn;wr++)Zr[wr]=this.revBin(wr,Oe,Sn);return Zr},Qr.prototype.revBin=function(Sn,Zr,Oe){if(Sn===0||Sn===Oe-1)return Sn;for(var wr=0,qr=0;qr<Zr;qr++)wr|=(Sn&1)<<Zr-qr-1,Sn>>=1;return wr},Qr.prototype.permute=function(Sn,Zr,Oe,wr,qr,Vr){for(var Jr=0;Jr<Vr;Jr++)wr[Jr]=Zr[Sn[Jr]],qr[Jr]=Oe[Sn[Jr]]},Qr.prototype.transform=function(Sn,Zr,Oe,wr,qr,Vr){this.permute(Vr,Sn,Zr,Oe,wr,qr);for(var Jr=1;Jr<qr;Jr<<=1)for(var Xr=Jr<<1,Kr=Math.cos(2*Math.PI/Xr),Yr=Math.sin(2*Math.PI/Xr),Br=0;Br<qr;Br+=Xr)for(var _n=Kr,ii=Yr,ni=0;ni<Jr;ni++){var si=Oe[Br+ni],Nn=wr[Br+ni],jn=Oe[Br+ni+Jr],ei=wr[Br+ni+Jr],Pn=_n*jn-ii*ei;ei=_n*ei+ii*jn,jn=Pn,Oe[Br+ni]=si+jn,wr[Br+ni]=Nn+ei,Oe[Br+ni+Jr]=si-jn,wr[Br+ni+Jr]=Nn-ei,ni!==Xr&&(Pn=Kr*_n-Yr*ii,ii=Kr*ii+Yr*_n,_n=Pn)}},Qr.prototype.guessLen13b=function(Sn,Zr){var Oe=Math.max(Zr,Sn)|1,wr=Oe&1,qr=0;for(Oe=Oe/2|0;Oe;Oe=Oe>>>1)qr++;return 1<<qr+1+wr},Qr.prototype.conjugate=function(Sn,Zr,Oe){if(!(Oe<=1))for(var wr=0;wr<Oe/2;wr++){var qr=Sn[wr];Sn[wr]=Sn[Oe-wr-1],Sn[Oe-wr-1]=qr,qr=Zr[wr],Zr[wr]=-Zr[Oe-wr-1],Zr[Oe-wr-1]=-qr}},Qr.prototype.normalize13b=function(Sn,Zr){for(var Oe=0,wr=0;wr<Zr/2;wr++){var qr=Math.round(Sn[2*wr+1]/Zr)*8192+Math.round(Sn[2*wr]/Zr)+Oe;Sn[wr]=qr&67108863,qr<67108864?Oe=0:Oe=qr/67108864|0}return Sn},Qr.prototype.convert13b=function(Sn,Zr,Oe,wr){for(var qr=0,Vr=0;Vr<Zr;Vr++)qr=qr+(Sn[Vr]|0),Oe[2*Vr]=qr&8191,qr=qr>>>13,Oe[2*Vr+1]=qr&8191,qr=qr>>>13;for(Vr=2*Zr;Vr<wr;++Vr)Oe[Vr]=0;fe(qr===0),fe((qr&-8192)===0)},Qr.prototype.stub=function(Sn){for(var Zr=new Array(Sn),Oe=0;Oe<Sn;Oe++)Zr[Oe]=0;return Zr},Qr.prototype.mulp=function(Sn,Zr,Oe){var wr=2*this.guessLen13b(Sn.length,Zr.length),qr=this.makeRBT(wr),Vr=this.stub(wr),Jr=new Array(wr),Xr=new Array(wr),Kr=new Array(wr),Yr=new Array(wr),Br=new Array(wr),_n=new Array(wr),ii=Oe.words;ii.length=wr,this.convert13b(Sn.words,Sn.length,Jr,wr),this.convert13b(Zr.words,Zr.length,Yr,wr),this.transform(Jr,Vr,Xr,Kr,wr,qr),this.transform(Yr,Vr,Br,_n,wr,qr);for(var ni=0;ni<wr;ni++){var si=Xr[ni]*Br[ni]-Kr[ni]*_n[ni];Kr[ni]=Xr[ni]*_n[ni]+Kr[ni]*Br[ni],Xr[ni]=si}return this.conjugate(Xr,Kr,wr),this.transform(Xr,Kr,ii,Vr,wr,qr),this.conjugate(ii,Vr,wr),this.normalize13b(ii,wr),Oe.negative=Sn.negative^Zr.negative,Oe.length=Sn.length+Zr.length,Oe.strip()},me.prototype.mul=function(Sn){var Zr=new me(null);return Zr.words=new Array(this.length+Sn.length),this.mulTo(Sn,Zr)},me.prototype.mulf=function(Sn){var Zr=new me(null);return Zr.words=new Array(this.length+Sn.length),jr(this,Sn,Zr)},me.prototype.imul=function(Sn){return this.clone().mulTo(Sn,this)},me.prototype.imuln=function(Sn){fe(typeof Sn=="number"),fe(Sn<67108864);for(var Zr=0,Oe=0;Oe<this.length;Oe++){var wr=(this.words[Oe]|0)*Sn,qr=(wr&67108863)+(Zr&67108863);Zr>>=26,Zr+=wr/67108864|0,Zr+=qr>>>26,this.words[Oe]=qr&67108863}return Zr!==0&&(this.words[Oe]=Zr,this.length++),this},me.prototype.muln=function(Sn){return this.clone().imuln(Sn)},me.prototype.sqr=function(){return this.mul(this)},me.prototype.isqr=function(){return this.imul(this.clone())},me.prototype.pow=function(Sn){var Zr=br(Sn);if(Zr.length===0)return new me(1);for(var Oe=this,wr=0;wr<Zr.length&&Zr[wr]===0;wr++,Oe=Oe.sqr());if(++wr<Zr.length)for(var qr=Oe.sqr();wr<Zr.length;wr++,qr=qr.sqr())Zr[wr]!==0&&(Oe=Oe.mul(qr));return Oe},me.prototype.iushln=function(Sn){fe(typeof Sn=="number"&&Sn>=0);var Zr=Sn%26,Oe=(Sn-Zr)/26,wr=67108863>>>26-Zr<<26-Zr,qr;if(Zr!==0){var Vr=0;for(qr=0;qr<this.length;qr++){var Jr=this.words[qr]&wr,Xr=(this.words[qr]|0)-Jr<<Zr;this.words[qr]=Xr|Vr,Vr=Jr>>>26-Zr}Vr&&(this.words[qr]=Vr,this.length++)}if(Oe!==0){for(qr=this.length-1;qr>=0;qr--)this.words[qr+Oe]=this.words[qr];for(qr=0;qr<Oe;qr++)this.words[qr]=0;this.length+=Oe}return this.strip()},me.prototype.ishln=function(Sn){return fe(this.negative===0),this.iushln(Sn)},me.prototype.iushrn=function(Sn,Zr,Oe){fe(typeof Sn=="number"&&Sn>=0);var wr;Zr?wr=(Zr-Zr%26)/26:wr=0;var qr=Sn%26,Vr=Math.min((Sn-qr)/26,this.length),Jr=67108863^67108863>>>qr<<qr,Xr=Oe;if(wr-=Vr,wr=Math.max(0,wr),Xr){for(var Kr=0;Kr<Vr;Kr++)Xr.words[Kr]=this.words[Kr];Xr.length=Vr}if(Vr!==0)if(this.length>Vr)for(this.length-=Vr,Kr=0;Kr<this.length;Kr++)this.words[Kr]=this.words[Kr+Vr];else this.words[0]=0,this.length=1;var Yr=0;for(Kr=this.length-1;Kr>=0&&(Yr!==0||Kr>=wr);Kr--){var Br=this.words[Kr]|0;this.words[Kr]=Yr<<26-qr|Br>>>qr,Yr=Br&Jr}return Xr&&Yr!==0&&(Xr.words[Xr.length++]=Yr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},me.prototype.ishrn=function(Sn,Zr,Oe){return fe(this.negative===0),this.iushrn(Sn,Zr,Oe)},me.prototype.shln=function(Sn){return this.clone().ishln(Sn)},me.prototype.ushln=function(Sn){return this.clone().iushln(Sn)},me.prototype.shrn=function(Sn){return this.clone().ishrn(Sn)},me.prototype.ushrn=function(Sn){return this.clone().iushrn(Sn)},me.prototype.testn=function(Sn){fe(typeof Sn=="number"&&Sn>=0);var Zr=Sn%26,Oe=(Sn-Zr)/26,wr=1<<Zr;if(this.length<=Oe)return!1;var qr=this.words[Oe];return!!(qr&wr)},me.prototype.imaskn=function(Sn){fe(typeof Sn=="number"&&Sn>=0);var Zr=Sn%26,Oe=(Sn-Zr)/26;if(fe(this.negative===0,"imaskn works only with positive numbers"),this.length<=Oe)return this;if(Zr!==0&&Oe++,this.length=Math.min(Oe,this.length),Zr!==0){var wr=67108863^67108863>>>Zr<<Zr;this.words[this.length-1]&=wr}return this.strip()},me.prototype.maskn=function(Sn){return this.clone().imaskn(Sn)},me.prototype.iaddn=function(Sn){return fe(typeof Sn=="number"),fe(Sn<67108864),Sn<0?this.isubn(-Sn):this.negative!==0?this.length===1&&(this.words[0]|0)<Sn?(this.words[0]=Sn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Sn),this.negative=1,this):this._iaddn(Sn)},me.prototype._iaddn=function(Sn){this.words[0]+=Sn;for(var Zr=0;Zr<this.length&&this.words[Zr]>=67108864;Zr++)this.words[Zr]-=67108864,Zr===this.length-1?this.words[Zr+1]=1:this.words[Zr+1]++;return this.length=Math.max(this.length,Zr+1),this},me.prototype.isubn=function(Sn){if(fe(typeof Sn=="number"),fe(Sn<67108864),Sn<0)return this.iaddn(-Sn);if(this.negative!==0)return this.negative=0,this.iaddn(Sn),this.negative=1,this;if(this.words[0]-=Sn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Zr=0;Zr<this.length&&this.words[Zr]<0;Zr++)this.words[Zr]+=67108864,this.words[Zr+1]-=1;return this.strip()},me.prototype.addn=function(Sn){return this.clone().iaddn(Sn)},me.prototype.subn=function(Sn){return this.clone().isubn(Sn)},me.prototype.iabs=function(){return this.negative=0,this},me.prototype.abs=function(){return this.clone().iabs()},me.prototype._ishlnsubmul=function(Sn,Zr,Oe){var wr=Sn.length+Oe,qr;this._expand(wr);var Vr,Jr=0;for(qr=0;qr<Sn.length;qr++){Vr=(this.words[qr+Oe]|0)+Jr;var Xr=(Sn.words[qr]|0)*Zr;Vr-=Xr&67108863,Jr=(Vr>>26)-(Xr/67108864|0),this.words[qr+Oe]=Vr&67108863}for(;qr<this.length-Oe;qr++)Vr=(this.words[qr+Oe]|0)+Jr,Jr=Vr>>26,this.words[qr+Oe]=Vr&67108863;if(Jr===0)return this.strip();for(fe(Jr===-1),Jr=0,qr=0;qr<this.length;qr++)Vr=-(this.words[qr]|0)+Jr,Jr=Vr>>26,this.words[qr]=Vr&67108863;return this.negative=1,this.strip()},me.prototype._wordDiv=function(Sn,Zr){var Oe=this.length-Sn.length,wr=this.clone(),qr=Sn,Vr=qr.words[qr.length-1]|0,Jr=this._countBits(Vr);Oe=26-Jr,Oe!==0&&(qr=qr.ushln(Oe),wr.iushln(Oe),Vr=qr.words[qr.length-1]|0);var Xr=wr.length-qr.length,Kr;if(Zr!=="mod"){Kr=new me(null),Kr.length=Xr+1,Kr.words=new Array(Kr.length);for(var Yr=0;Yr<Kr.length;Yr++)Kr.words[Yr]=0}var Br=wr.clone()._ishlnsubmul(qr,1,Xr);Br.negative===0&&(wr=Br,Kr&&(Kr.words[Xr]=1));for(var _n=Xr-1;_n>=0;_n--){var ii=(wr.words[qr.length+_n]|0)*67108864+(wr.words[qr.length+_n-1]|0);for(ii=Math.min(ii/Vr|0,67108863),wr._ishlnsubmul(qr,ii,_n);wr.negative!==0;)ii--,wr.negative=0,wr._ishlnsubmul(qr,1,_n),wr.isZero()||(wr.negative^=1);Kr&&(Kr.words[_n]=ii)}return Kr&&Kr.strip(),wr.strip(),Zr!=="div"&&Oe!==0&&wr.iushrn(Oe),{div:Kr||null,mod:wr}},me.prototype.divmod=function(Sn,Zr,Oe){if(fe(!Sn.isZero()),this.isZero())return{div:new me(0),mod:new me(0)};var wr,qr,Vr;return this.negative!==0&&Sn.negative===0?(Vr=this.neg().divmod(Sn,Zr),Zr!=="mod"&&(wr=Vr.div.neg()),Zr!=="div"&&(qr=Vr.mod.neg(),Oe&&qr.negative!==0&&qr.iadd(Sn)),{div:wr,mod:qr}):this.negative===0&&Sn.negative!==0?(Vr=this.divmod(Sn.neg(),Zr),Zr!=="mod"&&(wr=Vr.div.neg()),{div:wr,mod:Vr.mod}):this.negative&Sn.negative?(Vr=this.neg().divmod(Sn.neg(),Zr),Zr!=="div"&&(qr=Vr.mod.neg(),Oe&&qr.negative!==0&&qr.isub(Sn)),{div:Vr.div,mod:qr}):Sn.length>this.length||this.cmp(Sn)<0?{div:new me(0),mod:this}:Sn.length===1?Zr==="div"?{div:this.divn(Sn.words[0]),mod:null}:Zr==="mod"?{div:null,mod:new me(this.modn(Sn.words[0]))}:{div:this.divn(Sn.words[0]),mod:new me(this.modn(Sn.words[0]))}:this._wordDiv(Sn,Zr)},me.prototype.div=function(Sn){return this.divmod(Sn,"div",!1).div},me.prototype.mod=function(Sn){return this.divmod(Sn,"mod",!1).mod},me.prototype.umod=function(Sn){return this.divmod(Sn,"mod",!0).mod},me.prototype.divRound=function(Sn){var Zr=this.divmod(Sn);if(Zr.mod.isZero())return Zr.div;var Oe=Zr.div.negative!==0?Zr.mod.isub(Sn):Zr.mod,wr=Sn.ushrn(1),qr=Sn.andln(1),Vr=Oe.cmp(wr);return Vr<0||qr===1&&Vr===0?Zr.div:Zr.div.negative!==0?Zr.div.isubn(1):Zr.div.iaddn(1)},me.prototype.modn=function(Sn){fe(Sn<=67108863);for(var Zr=(1<<26)%Sn,Oe=0,wr=this.length-1;wr>=0;wr--)Oe=(Zr*Oe+(this.words[wr]|0))%Sn;return Oe},me.prototype.idivn=function(Sn){fe(Sn<=67108863);for(var Zr=0,Oe=this.length-1;Oe>=0;Oe--){var wr=(this.words[Oe]|0)+Zr*67108864;this.words[Oe]=wr/Sn|0,Zr=wr%Sn}return this.strip()},me.prototype.divn=function(Sn){return this.clone().idivn(Sn)},me.prototype.egcd=function(Sn){fe(Sn.negative===0),fe(!Sn.isZero());var Zr=this,Oe=Sn.clone();Zr.negative!==0?Zr=Zr.umod(Sn):Zr=Zr.clone();for(var wr=new me(1),qr=new me(0),Vr=new me(0),Jr=new me(1),Xr=0;Zr.isEven()&&Oe.isEven();)Zr.iushrn(1),Oe.iushrn(1),++Xr;for(var Kr=Oe.clone(),Yr=Zr.clone();!Zr.isZero();){for(var Br=0,_n=1;!(Zr.words[0]&_n)&&Br<26;++Br,_n<<=1);if(Br>0)for(Zr.iushrn(Br);Br-- >0;)(wr.isOdd()||qr.isOdd())&&(wr.iadd(Kr),qr.isub(Yr)),wr.iushrn(1),qr.iushrn(1);for(var ii=0,ni=1;!(Oe.words[0]&ni)&&ii<26;++ii,ni<<=1);if(ii>0)for(Oe.iushrn(ii);ii-- >0;)(Vr.isOdd()||Jr.isOdd())&&(Vr.iadd(Kr),Jr.isub(Yr)),Vr.iushrn(1),Jr.iushrn(1);Zr.cmp(Oe)>=0?(Zr.isub(Oe),wr.isub(Vr),qr.isub(Jr)):(Oe.isub(Zr),Vr.isub(wr),Jr.isub(qr))}return{a:Vr,b:Jr,gcd:Oe.iushln(Xr)}},me.prototype._invmp=function(Sn){fe(Sn.negative===0),fe(!Sn.isZero());var Zr=this,Oe=Sn.clone();Zr.negative!==0?Zr=Zr.umod(Sn):Zr=Zr.clone();for(var wr=new me(1),qr=new me(0),Vr=Oe.clone();Zr.cmpn(1)>0&&Oe.cmpn(1)>0;){for(var Jr=0,Xr=1;!(Zr.words[0]&Xr)&&Jr<26;++Jr,Xr<<=1);if(Jr>0)for(Zr.iushrn(Jr);Jr-- >0;)wr.isOdd()&&wr.iadd(Vr),wr.iushrn(1);for(var Kr=0,Yr=1;!(Oe.words[0]&Yr)&&Kr<26;++Kr,Yr<<=1);if(Kr>0)for(Oe.iushrn(Kr);Kr-- >0;)qr.isOdd()&&qr.iadd(Vr),qr.iushrn(1);Zr.cmp(Oe)>=0?(Zr.isub(Oe),wr.isub(qr)):(Oe.isub(Zr),qr.isub(wr))}var Br;return Zr.cmpn(1)===0?Br=wr:Br=qr,Br.cmpn(0)<0&&Br.iadd(Sn),Br},me.prototype.gcd=function(Sn){if(this.isZero())return Sn.abs();if(Sn.isZero())return this.abs();var Zr=this.clone(),Oe=Sn.clone();Zr.negative=0,Oe.negative=0;for(var wr=0;Zr.isEven()&&Oe.isEven();wr++)Zr.iushrn(1),Oe.iushrn(1);do{for(;Zr.isEven();)Zr.iushrn(1);for(;Oe.isEven();)Oe.iushrn(1);var qr=Zr.cmp(Oe);if(qr<0){var Vr=Zr;Zr=Oe,Oe=Vr}else if(qr===0||Oe.cmpn(1)===0)break;Zr.isub(Oe)}while(!0);return Oe.iushln(wr)},me.prototype.invm=function(Sn){return this.egcd(Sn).a.umod(Sn)},me.prototype.isEven=function(){return(this.words[0]&1)===0},me.prototype.isOdd=function(){return(this.words[0]&1)===1},me.prototype.andln=function(Sn){return this.words[0]&Sn},me.prototype.bincn=function(Sn){fe(typeof Sn=="number");var Zr=Sn%26,Oe=(Sn-Zr)/26,wr=1<<Zr;if(this.length<=Oe)return this._expand(Oe+1),this.words[Oe]|=wr,this;for(var qr=wr,Vr=Oe;qr!==0&&Vr<this.length;Vr++){var Jr=this.words[Vr]|0;Jr+=qr,qr=Jr>>>26,Jr&=67108863,this.words[Vr]=Jr}return qr!==0&&(this.words[Vr]=qr,this.length++),this},me.prototype.isZero=function(){return this.length===1&&this.words[0]===0},me.prototype.cmpn=function(Sn){var Zr=Sn<0;if(this.negative!==0&&!Zr)return-1;if(this.negative===0&&Zr)return 1;this.strip();var Oe;if(this.length>1)Oe=1;else{Zr&&(Sn=-Sn),fe(Sn<=67108863,"Number is too big");var wr=this.words[0]|0;Oe=wr===Sn?0:wr<Sn?-1:1}return this.negative!==0?-Oe|0:Oe},me.prototype.cmp=function(Sn){if(this.negative!==0&&Sn.negative===0)return-1;if(this.negative===0&&Sn.negative!==0)return 1;var Zr=this.ucmp(Sn);return this.negative!==0?-Zr|0:Zr},me.prototype.ucmp=function(Sn){if(this.length>Sn.length)return 1;if(this.length<Sn.length)return-1;for(var Zr=0,Oe=this.length-1;Oe>=0;Oe--){var wr=this.words[Oe]|0,qr=Sn.words[Oe]|0;if(wr!==qr){wr<qr?Zr=-1:wr>qr&&(Zr=1);break}}return Zr},me.prototype.gtn=function(Sn){return this.cmpn(Sn)===1},me.prototype.gt=function(Sn){return this.cmp(Sn)===1},me.prototype.gten=function(Sn){return this.cmpn(Sn)>=0},me.prototype.gte=function(Sn){return this.cmp(Sn)>=0},me.prototype.ltn=function(Sn){return this.cmpn(Sn)===-1},me.prototype.lt=function(Sn){return this.cmp(Sn)===-1},me.prototype.lten=function(Sn){return this.cmpn(Sn)<=0},me.prototype.lte=function(Sn){return this.cmp(Sn)<=0},me.prototype.eqn=function(Sn){return this.cmpn(Sn)===0},me.prototype.eq=function(Sn){return this.cmp(Sn)===0},me.red=function(Sn){return new ti(Sn)},me.prototype.toRed=function(Sn){return fe(!this.red,"Already a number in reduction context"),fe(this.negative===0,"red works only with positives"),Sn.convertTo(this)._forceRed(Sn)},me.prototype.fromRed=function(){return fe(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},me.prototype._forceRed=function(Sn){return this.red=Sn,this},me.prototype.forceRed=function(Sn){return fe(!this.red,"Already a number in reduction context"),this._forceRed(Sn)},me.prototype.redAdd=function(Sn){return fe(this.red,"redAdd works only with red numbers"),this.red.add(this,Sn)},me.prototype.redIAdd=function(Sn){return fe(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Sn)},me.prototype.redSub=function(Sn){return fe(this.red,"redSub works only with red numbers"),this.red.sub(this,Sn)},me.prototype.redISub=function(Sn){return fe(this.red,"redISub works only with red numbers"),this.red.isub(this,Sn)},me.prototype.redShl=function(Sn){return fe(this.red,"redShl works only with red numbers"),this.red.shl(this,Sn)},me.prototype.redMul=function(Sn){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.mul(this,Sn)},me.prototype.redIMul=function(Sn){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.imul(this,Sn)},me.prototype.redSqr=function(){return fe(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},me.prototype.redISqr=function(){return fe(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},me.prototype.redSqrt=function(){return fe(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},me.prototype.redInvm=function(){return fe(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},me.prototype.redNeg=function(){return fe(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},me.prototype.redPow=function(Sn){return fe(this.red&&!Sn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Sn)};var wn={k256:null,p224:null,p192:null,p25519:null};function En(On,Sn){this.name=On,this.p=new me(Sn,16),this.n=this.p.bitLength(),this.k=new me(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}En.prototype._tmp=function(){var Sn=new me(null);return Sn.words=new Array(Math.ceil(this.n/13)),Sn},En.prototype.ireduce=function(Sn){var Zr=Sn,Oe;do this.split(Zr,this.tmp),Zr=this.imulK(Zr),Zr=Zr.iadd(this.tmp),Oe=Zr.bitLength();while(Oe>this.n);var wr=Oe<this.n?-1:Zr.ucmp(this.p);return wr===0?(Zr.words[0]=0,Zr.length=1):wr>0?Zr.isub(this.p):Zr.strip!==void 0?Zr.strip():Zr._strip(),Zr},En.prototype.split=function(Sn,Zr){Sn.iushrn(this.n,0,Zr)},En.prototype.imulK=function(Sn){return Sn.imul(this.k)};function Rn(){En.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ye(Rn,En),Rn.prototype.split=function(Sn,Zr){for(var Oe=4194303,wr=Math.min(Sn.length,9),qr=0;qr<wr;qr++)Zr.words[qr]=Sn.words[qr];if(Zr.length=wr,Sn.length<=9){Sn.words[0]=0,Sn.length=1;return}var Vr=Sn.words[9];for(Zr.words[Zr.length++]=Vr&Oe,qr=10;qr<Sn.length;qr++){var Jr=Sn.words[qr]|0;Sn.words[qr-10]=(Jr&Oe)<<4|Vr>>>22,Vr=Jr}Vr>>>=22,Sn.words[qr-10]=Vr,Vr===0&&Sn.length>10?Sn.length-=10:Sn.length-=9},Rn.prototype.imulK=function(Sn){Sn.words[Sn.length]=0,Sn.words[Sn.length+1]=0,Sn.length+=2;for(var Zr=0,Oe=0;Oe<Sn.length;Oe++){var wr=Sn.words[Oe]|0;Zr+=wr*977,Sn.words[Oe]=Zr&67108863,Zr=wr*64+(Zr/67108864|0)}return Sn.words[Sn.length-1]===0&&(Sn.length--,Sn.words[Sn.length-1]===0&&Sn.length--),Sn};function An(){En.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ye(An,En);function $n(){En.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ye($n,En);function Tn(){En.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ye(Tn,En),Tn.prototype.imulK=function(Sn){for(var Zr=0,Oe=0;Oe<Sn.length;Oe++){var wr=(Sn.words[Oe]|0)*19+Zr,qr=wr&67108863;wr>>>=26,Sn.words[Oe]=qr,Zr=wr}return Zr!==0&&(Sn.words[Sn.length++]=Zr),Sn},me._prime=function(Sn){if(wn[Sn])return wn[Sn];var Zr;if(Sn==="k256")Zr=new Rn;else if(Sn==="p224")Zr=new An;else if(Sn==="p192")Zr=new $n;else if(Sn==="p25519")Zr=new Tn;else throw new Error("Unknown prime "+Sn);return wn[Sn]=Zr,Zr};function ti(On){if(typeof On=="string"){var Sn=me._prime(On);this.m=Sn.p,this.prime=Sn}else fe(On.gtn(1),"modulus must be greater than 1"),this.m=On,this.prime=null}ti.prototype._verify1=function(Sn){fe(Sn.negative===0,"red works only with positives"),fe(Sn.red,"red works only with red numbers")},ti.prototype._verify2=function(Sn,Zr){fe((Sn.negative|Zr.negative)===0,"red works only with positives"),fe(Sn.red&&Sn.red===Zr.red,"red works only with red numbers")},ti.prototype.imod=function(Sn){return this.prime?this.prime.ireduce(Sn)._forceRed(this):Sn.umod(this.m)._forceRed(this)},ti.prototype.neg=function(Sn){return Sn.isZero()?Sn.clone():this.m.sub(Sn)._forceRed(this)},ti.prototype.add=function(Sn,Zr){this._verify2(Sn,Zr);var Oe=Sn.add(Zr);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe._forceRed(this)},ti.prototype.iadd=function(Sn,Zr){this._verify2(Sn,Zr);var Oe=Sn.iadd(Zr);return Oe.cmp(this.m)>=0&&Oe.isub(this.m),Oe},ti.prototype.sub=function(Sn,Zr){this._verify2(Sn,Zr);var Oe=Sn.sub(Zr);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe._forceRed(this)},ti.prototype.isub=function(Sn,Zr){this._verify2(Sn,Zr);var Oe=Sn.isub(Zr);return Oe.cmpn(0)<0&&Oe.iadd(this.m),Oe},ti.prototype.shl=function(Sn,Zr){return this._verify1(Sn),this.imod(Sn.ushln(Zr))},ti.prototype.imul=function(Sn,Zr){return this._verify2(Sn,Zr),this.imod(Sn.imul(Zr))},ti.prototype.mul=function(Sn,Zr){return this._verify2(Sn,Zr),this.imod(Sn.mul(Zr))},ti.prototype.isqr=function(Sn){return this.imul(Sn,Sn.clone())},ti.prototype.sqr=function(Sn){return this.mul(Sn,Sn)},ti.prototype.sqrt=function(Sn){if(Sn.isZero())return Sn.clone();var Zr=this.m.andln(3);if(fe(Zr%2===1),Zr===3){var Oe=this.m.add(new me(1)).iushrn(2);return this.pow(Sn,Oe)}for(var wr=this.m.subn(1),qr=0;!wr.isZero()&&wr.andln(1)===0;)qr++,wr.iushrn(1);fe(!wr.isZero());var Vr=new me(1).toRed(this),Jr=Vr.redNeg(),Xr=this.m.subn(1).iushrn(1),Kr=this.m.bitLength();for(Kr=new me(2*Kr*Kr).toRed(this);this.pow(Kr,Xr).cmp(Jr)!==0;)Kr.redIAdd(Jr);for(var Yr=this.pow(Kr,wr),Br=this.pow(Sn,wr.addn(1).iushrn(1)),_n=this.pow(Sn,wr),ii=qr;_n.cmp(Vr)!==0;){for(var ni=_n,si=0;ni.cmp(Vr)!==0;si++)ni=ni.redSqr();fe(si<ii);var Nn=this.pow(Yr,new me(1).iushln(ii-si-1));Br=Br.redMul(Nn),Yr=Nn.redSqr(),_n=_n.redMul(Yr),ii=si}return Br},ti.prototype.invm=function(Sn){var Zr=Sn._invmp(this.m);return Zr.negative!==0?(Zr.negative=0,this.imod(Zr).redNeg()):this.imod(Zr)},ti.prototype.pow=function(Sn,Zr){if(Zr.isZero())return new me(1).toRed(this);if(Zr.cmpn(1)===0)return Sn.clone();var Oe=4,wr=new Array(1<<Oe);wr[0]=new me(1).toRed(this),wr[1]=Sn;for(var qr=2;qr<wr.length;qr++)wr[qr]=this.mul(wr[qr-1],Sn);var Vr=wr[0],Jr=0,Xr=0,Kr=Zr.bitLength()%26;for(Kr===0&&(Kr=26),qr=Zr.length-1;qr>=0;qr--){for(var Yr=Zr.words[qr],Br=Kr-1;Br>=0;Br--){var _n=Yr>>Br&1;if(Vr!==wr[0]&&(Vr=this.sqr(Vr)),_n===0&&Jr===0){Xr=0;continue}Jr<<=1,Jr|=_n,Xr++,!(Xr!==Oe&&(qr!==0||Br!==0))&&(Vr=this.mul(Vr,wr[Jr]),Xr=0,Jr=0)}Kr=26}return Vr},ti.prototype.convertTo=function(Sn){var Zr=Sn.umod(this.m);return Zr===Sn?Zr.clone():Zr},ti.prototype.convertFrom=function(Sn){var Zr=Sn.clone();return Zr.red=null,Zr},me.mont=function(Sn){return new ai(Sn)};function ai(On){ti.call(this,On),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new me(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ye(ai,ti),ai.prototype.convertTo=function(Sn){return this.imod(Sn.ushln(this.shift))},ai.prototype.convertFrom=function(Sn){var Zr=this.imod(Sn.mul(this.rinv));return Zr.red=null,Zr},ai.prototype.imul=function(Sn,Zr){if(Sn.isZero()||Zr.isZero())return Sn.words[0]=0,Sn.length=1,Sn;var Oe=Sn.imul(Zr),wr=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=Oe.isub(wr).iushrn(this.shift),Vr=qr;return qr.cmp(this.m)>=0?Vr=qr.isub(this.m):qr.cmpn(0)<0&&(Vr=qr.iadd(this.m)),Vr._forceRed(this)},ai.prototype.mul=function(Sn,Zr){if(Sn.isZero()||Zr.isZero())return new me(0)._forceRed(this);var Oe=Sn.mul(Zr),wr=Oe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),qr=Oe.isub(wr).iushrn(this.shift),Vr=qr;return qr.cmp(this.m)>=0?Vr=qr.isub(this.m):qr.cmpn(0)<0&&(Vr=qr.iadd(this.m)),Vr._forceRed(this)},ai.prototype.invm=function(Sn){var Zr=this.imod(Sn._invmp(this.m).mul(this.r2));return Zr._forceRed(this)}})(se,bn$6)}(bn$7)),bn$7.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var se;brorand.exports=function(ye){return se||(se=new Y(null)),se.generate(ye)};function Y(fe){this.rand=fe}if(brorand.exports.Rand=Y,Y.prototype.generate=function(ye){return this._rand(ye)},Y.prototype._rand=function(ye){if(this.rand.getBytes)return this.rand.getBytes(ye);for(var me=new Uint8Array(ye),be=0;be<me.length;be++)me[be]=this.rand.getByte();return me},typeof self=="object")self.crypto&&self.crypto.getRandomValues?Y.prototype._rand=function(ye){var me=new Uint8Array(ye);return self.crypto.getRandomValues(me),me}:self.msCrypto&&self.msCrypto.getRandomValues?Y.prototype._rand=function(ye){var me=new Uint8Array(ye);return self.msCrypto.getRandomValues(me),me}:typeof window=="object"&&(Y.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ne=requireCryptoBrowserify();if(typeof ne.randomBytes!="function")throw new Error("Not supported");Y.prototype._rand=function(ye){return ne.randomBytes(ye)}}catch{}return brorand.exports}var mr$1,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var se=requireBn$3(),Y=requireBrorand();function ne(fe){this.rand=fe||new Y.Rand}return mr$1=ne,ne.create=function(ye){return new ne(ye)},ne.prototype._randbelow=function(ye){var me=ye.bitLength(),be=Math.ceil(me/8);do var we=new se(this.rand.generate(be));while(we.cmp(ye)>=0);return we},ne.prototype._randrange=function(ye,me){var be=me.sub(ye);return ye.add(this._randbelow(be))},ne.prototype.test=function(ye,me,be){var we=ye.bitLength(),Ee=se.mont(ye),xe=new se(1).toRed(Ee);me||(me=Math.max(1,we/48|0));for(var Se=ye.subn(1),Ie=0;!Se.testn(Ie);Ie++);for(var fr=ye.shrn(Ie),br=Se.toRed(Ee),kr=!0;me>0;me--){var Wr=this._randrange(new se(2),Se);be&&be(Wr);var Gr=Wr.toRed(Ee).redPow(fr);if(!(Gr.cmp(xe)===0||Gr.cmp(br)===0)){for(var jr=1;jr<Ie;jr++){if(Gr=Gr.redSqr(),Gr.cmp(xe)===0)return!1;if(Gr.cmp(br)===0)break}if(jr===Ie)return!1}}return kr},ne.prototype.getDivisor=function(ye,me){var be=ye.bitLength(),we=se.mont(ye),Ee=new se(1).toRed(we);me||(me=Math.max(1,be/48|0));for(var xe=ye.subn(1),Se=0;!xe.testn(Se);Se++);for(var Ie=ye.shrn(Se),fr=xe.toRed(we);me>0;me--){var br=this._randrange(new se(2),xe),kr=ye.gcd(br);if(kr.cmpn(1)!==0)return kr;var Wr=br.toRed(we).redPow(Ie);if(!(Wr.cmp(Ee)===0||Wr.cmp(fr)===0)){for(var Gr=1;Gr<Se;Gr++){if(Wr=Wr.redSqr(),Wr.cmp(Ee)===0)return Wr.fromRed().subn(1).gcd(ye);if(Wr.cmp(fr)===0)break}if(Gr===Se)return Wr=Wr.redSqr(),Wr.fromRed().subn(1).gcd(ye)}}return!1},mr$1}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var se=requireBrowser$e();generatePrime=Gr,Gr.simpleSieve=kr,Gr.fermatTest=Wr;var Y=requireBn$3(),ne=new Y(24),fe=requireMr(),ye=new fe,me=new Y(1),be=new Y(2),we=new Y(5);new Y(16),new Y(8);var Ee=new Y(10),xe=new Y(3);new Y(7);var Se=new Y(11),Ie=new Y(4);new Y(12);var fr=null;function br(){if(fr!==null)return fr;var jr=1048576,Qr=[];Qr[0]=2;for(var wn=1,En=3;En<jr;En+=2){for(var Rn=Math.ceil(Math.sqrt(En)),An=0;An<wn&&Qr[An]<=Rn&&En%Qr[An]!==0;An++);wn!==An&&Qr[An]<=Rn||(Qr[wn++]=En)}return fr=Qr,Qr}function kr(jr){for(var Qr=br(),wn=0;wn<Qr.length;wn++)if(jr.modn(Qr[wn])===0)return jr.cmpn(Qr[wn])===0;return!0}function Wr(jr){var Qr=Y.mont(jr);return be.toRed(Qr).redPow(jr.subn(1)).fromRed().cmpn(1)===0}function Gr(jr,Qr){if(jr<16)return Qr===2||Qr===5?new Y([140,123]):new Y([140,39]);Qr=new Y(Qr);for(var wn,En;;){for(wn=new Y(se(Math.ceil(jr/8)));wn.bitLength()>jr;)wn.ishrn(1);if(wn.isEven()&&wn.iadd(me),wn.testn(1)||wn.iadd(be),Qr.cmp(be)){if(!Qr.cmp(we))for(;wn.mod(Ee).cmp(xe);)wn.iadd(Ie)}else for(;wn.mod(ne).cmp(Se);)wn.iadd(Ie);if(En=wn.shrn(1),kr(En)&&kr(wn)&&Wr(En)&&Wr(wn)&&ye.test(En)&&ye.test(wn))return wn}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$3={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var se=requireBn$3(),Y=requireMr(),ne=new Y,fe=new se(24),ye=new se(11),me=new se(10),be=new se(3),we=new se(7),Ee=requireGeneratePrime(),xe=requireBrowser$e();dh=kr;function Se(Gr,jr){return jr=jr||"utf8",Buffer.isBuffer(Gr)||(Gr=new Buffer(Gr,jr)),this._pub=new se(Gr),this}function Ie(Gr,jr){return jr=jr||"utf8",Buffer.isBuffer(Gr)||(Gr=new Buffer(Gr,jr)),this._priv=new se(Gr),this}var fr={};function br(Gr,jr){var Qr=jr.toString("hex"),wn=[Qr,Gr.toString(16)].join("_");if(wn in fr)return fr[wn];var En=0;if(Gr.isEven()||!Ee.simpleSieve||!Ee.fermatTest(Gr)||!ne.test(Gr))return En+=1,Qr==="02"||Qr==="05"?En+=8:En+=4,fr[wn]=En,En;ne.test(Gr.shrn(1))||(En+=2);var Rn;switch(Qr){case"02":Gr.mod(fe).cmp(ye)&&(En+=8);break;case"05":Rn=Gr.mod(me),Rn.cmp(be)&&Rn.cmp(we)&&(En+=8);break;default:En+=4}return fr[wn]=En,En}function kr(Gr,jr,Qr){this.setGenerator(jr),this.__prime=new se(Gr),this._prime=se.mont(this.__prime),this._primeLen=Gr.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Qr?(this.setPublicKey=Se,this.setPrivateKey=Ie):this._primeCode=8}Object.defineProperty(kr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=br(this.__prime,this.__gen)),this._primeCode}}),kr.prototype.generateKeys=function(){return this._priv||(this._priv=new se(xe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},kr.prototype.computeSecret=function(Gr){Gr=new se(Gr),Gr=Gr.toRed(this._prime);var jr=Gr.redPow(this._priv).fromRed(),Qr=new Buffer(jr.toArray()),wn=this.getPrime();if(Qr.length<wn.length){var En=new Buffer(wn.length-Qr.length);En.fill(0),Qr=Buffer.concat([En,Qr])}return Qr},kr.prototype.getPublicKey=function(jr){return Wr(this._pub,jr)},kr.prototype.getPrivateKey=function(jr){return Wr(this._priv,jr)},kr.prototype.getPrime=function(Gr){return Wr(this.__prime,Gr)},kr.prototype.getGenerator=function(Gr){return Wr(this._gen,Gr)},kr.prototype.setGenerator=function(Gr,jr){return jr=jr||"utf8",Buffer.isBuffer(Gr)||(Gr=new Buffer(Gr,jr)),this.__gen=Gr,this._gen=new se(Gr),this};function Wr(Gr,jr){var Qr=new Buffer(Gr.toArray());return jr?Qr.toString(jr):Qr}return dh}var hasRequiredBrowser$7;function requireBrowser$7(){if(hasRequiredBrowser$7)return browser$7;hasRequiredBrowser$7=1;var se=requireGeneratePrime(),Y=require$$1$3,ne=requireDh();function fe(be){var we=new Buffer(Y[be].prime,"hex"),Ee=new Buffer(Y[be].gen,"hex");return new ne(we,Ee)}var ye={binary:!0,hex:!0,base64:!0};function me(be,we,Ee,xe){return Buffer.isBuffer(we)||ye[we]===void 0?me(be,"binary",we,Ee):(we=we||"binary",xe=xe||"binary",Ee=Ee||new Buffer([2]),Buffer.isBuffer(Ee)||(Ee=new Buffer(Ee,xe)),typeof be=="number"?new ne(se(be,Ee),Ee,!0):(Buffer.isBuffer(be)||(be=new Buffer(be,we)),new ne(be,Ee,!0)))}return browser$7.DiffieHellmanGroup=browser$7.createDiffieHellmanGroup=browser$7.getDiffieHellman=fe,browser$7.createDiffieHellman=browser$7.DiffieHellman=me,browser$7}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:se}:processNextickArgs.exports=process$1;function se(Y,ne,fe,ye){if(typeof Y!="function")throw new TypeError('"callback" argument must be a function');var me=arguments.length,be,we;switch(me){case 0:case 1:return process$1.nextTick(Y);case 2:return process$1.nextTick(function(){Y.call(null,ne)});case 3:return process$1.nextTick(function(){Y.call(null,ne,fe)});case 4:return process$1.nextTick(function(){Y.call(null,ne,fe,ye)});default:for(be=new Array(me-1),we=0;we<be.length;)be[we++]=arguments[we];return process$1.nextTick(function(){Y.apply(null,be)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var se={}.toString;return isarray=Array.isArray||function(Y){return se.call(Y)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(se,Y){var ne=requireDist$5(),fe=ne.Buffer;function ye(be,we){for(var Ee in be)we[Ee]=be[Ee]}fe.from&&fe.alloc&&fe.allocUnsafe&&fe.allocUnsafeSlow?se.exports=ne:(ye(ne,Y),Y.Buffer=me);function me(be,we,Ee){return fe(be,we,Ee)}ye(fe,me),me.from=function(be,we,Ee){if(typeof be=="number")throw new TypeError("Argument must not be a number");return fe(be,we,Ee)},me.alloc=function(be,we,Ee){if(typeof be!="number")throw new TypeError("Argument must be a number");var xe=fe(be);return we!==void 0?typeof Ee=="string"?xe.fill(we,Ee):xe.fill(we):xe.fill(0),xe},me.allocUnsafe=function(be){if(typeof be!="number")throw new TypeError("Argument must be a number");return fe(be)},me.allocUnsafeSlow=function(be){if(typeof be!="number")throw new TypeError("Argument must be a number");return ne.SlowBuffer(be)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$2={},hasRequiredUtil$2;function requireUtil$2(){if(hasRequiredUtil$2)return util$2;hasRequiredUtil$2=1;function se(Wr){return Array.isArray?Array.isArray(Wr):kr(Wr)==="[object Array]"}util$2.isArray=se;function Y(Wr){return typeof Wr=="boolean"}util$2.isBoolean=Y;function ne(Wr){return Wr===null}util$2.isNull=ne;function fe(Wr){return Wr==null}util$2.isNullOrUndefined=fe;function ye(Wr){return typeof Wr=="number"}util$2.isNumber=ye;function me(Wr){return typeof Wr=="string"}util$2.isString=me;function be(Wr){return typeof Wr=="symbol"}util$2.isSymbol=be;function we(Wr){return Wr===void 0}util$2.isUndefined=we;function Ee(Wr){return kr(Wr)==="[object RegExp]"}util$2.isRegExp=Ee;function xe(Wr){return typeof Wr=="object"&&Wr!==null}util$2.isObject=xe;function Se(Wr){return kr(Wr)==="[object Date]"}util$2.isDate=Se;function Ie(Wr){return kr(Wr)==="[object Error]"||Wr instanceof Error}util$2.isError=Ie;function fr(Wr){return typeof Wr=="function"}util$2.isFunction=fr;function br(Wr){return Wr===null||typeof Wr=="boolean"||typeof Wr=="number"||typeof Wr=="string"||typeof Wr=="symbol"||typeof Wr>"u"}util$2.isPrimitive=br,util$2.isBuffer=requireDist$5().Buffer.isBuffer;function kr(Wr){return Object.prototype.toString.call(Wr)}return util$2}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(se){function Y(me,be){if(!(me instanceof be))throw new TypeError("Cannot call a class as a function")}var ne=requireSafeBuffer().Buffer,fe=requireUtil$3();function ye(me,be,we){me.copy(be,we)}se.exports=function(){function me(){Y(this,me),this.head=null,this.tail=null,this.length=0}return me.prototype.push=function(we){var Ee={data:we,next:null};this.length>0?this.tail.next=Ee:this.head=Ee,this.tail=Ee,++this.length},me.prototype.unshift=function(we){var Ee={data:we,next:this.head};this.length===0&&(this.tail=Ee),this.head=Ee,++this.length},me.prototype.shift=function(){if(this.length!==0){var we=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,we}},me.prototype.clear=function(){this.head=this.tail=null,this.length=0},me.prototype.join=function(we){if(this.length===0)return"";for(var Ee=this.head,xe=""+Ee.data;Ee=Ee.next;)xe+=we+Ee.data;return xe},me.prototype.concat=function(we){if(this.length===0)return ne.alloc(0);for(var Ee=ne.allocUnsafe(we>>>0),xe=this.head,Se=0;xe;)ye(xe.data,Ee,Se),Se+=xe.data.length,xe=xe.next;return Ee},me}(),fe&&fe.inspect&&fe.inspect.custom&&(se.exports.prototype[fe.inspect.custom]=function(){var me=fe.inspect({length:this.length});return this.constructor.name+" "+me})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var se=requireProcessNextickArgs();function Y(ye,me){var be=this,we=this._readableState&&this._readableState.destroyed,Ee=this._writableState&&this._writableState.destroyed;return we||Ee?(me?me(ye):ye&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,se.nextTick(fe,this,ye)):se.nextTick(fe,this,ye)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ye||null,function(xe){!me&&xe?be._writableState?be._writableState.errorEmitted||(be._writableState.errorEmitted=!0,se.nextTick(fe,be,xe)):se.nextTick(fe,be,xe):me&&me(xe)}),this)}function ne(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function fe(ye,me){ye.emit("error",me)}return destroy_1={destroy:Y,undestroy:ne},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var se=requireProcessNextickArgs();_stream_writable=Wr;function Y(Vr){var Jr=this;this.next=null,this.entry=null,this.finish=function(){qr(Jr,Vr)}}var ne=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:se.nextTick,fe;Wr.WritableState=br;var ye=Object.create(requireUtil$2());ye.inherits=requireInherits_browser();var me={deprecate:requireBrowser$d()},be=requireStreamBrowser(),we=requireSafeBuffer().Buffer,Ee=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function xe(Vr){return we.from(Vr)}function Se(Vr){return we.isBuffer(Vr)||Vr instanceof Ee}var Ie=requireDestroy();ye.inherits(Wr,be);function fr(){}function br(Vr,Jr){fe=fe||require_stream_duplex(),Vr=Vr||{};var Xr=Jr instanceof fe;this.objectMode=!!Vr.objectMode,Xr&&(this.objectMode=this.objectMode||!!Vr.writableObjectMode);var Kr=Vr.highWaterMark,Yr=Vr.writableHighWaterMark,Br=this.objectMode?16:16*1024;Kr||Kr===0?this.highWaterMark=Kr:Xr&&(Yr||Yr===0)?this.highWaterMark=Yr:this.highWaterMark=Br,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _n=Vr.decodeStrings===!1;this.decodeStrings=!_n,this.defaultEncoding=Vr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ii){$n(Jr,ii)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Y(this)}br.prototype.getBuffer=function(){for(var Jr=this.bufferedRequest,Xr=[];Jr;)Xr.push(Jr),Jr=Jr.next;return Xr},function(){try{Object.defineProperty(br.prototype,"buffer",{get:me.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var kr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(kr=Function.prototype[Symbol.hasInstance],Object.defineProperty(Wr,Symbol.hasInstance,{value:function(Vr){return kr.call(this,Vr)?!0:this!==Wr?!1:Vr&&Vr._writableState instanceof br}})):kr=function(Vr){return Vr instanceof this};function Wr(Vr){if(fe=fe||require_stream_duplex(),!kr.call(Wr,this)&&!(this instanceof fe))return new Wr(Vr);this._writableState=new br(Vr,this),this.writable=!0,Vr&&(typeof Vr.write=="function"&&(this._write=Vr.write),typeof Vr.writev=="function"&&(this._writev=Vr.writev),typeof Vr.destroy=="function"&&(this._destroy=Vr.destroy),typeof Vr.final=="function"&&(this._final=Vr.final)),be.call(this)}Wr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Gr(Vr,Jr){var Xr=new Error("write after end");Vr.emit("error",Xr),se.nextTick(Jr,Xr)}function jr(Vr,Jr,Xr,Kr){var Yr=!0,Br=!1;return Xr===null?Br=new TypeError("May not write null values to stream"):typeof Xr!="string"&&Xr!==void 0&&!Jr.objectMode&&(Br=new TypeError("Invalid non-string/buffer chunk")),Br&&(Vr.emit("error",Br),se.nextTick(Kr,Br),Yr=!1),Yr}Wr.prototype.write=function(Vr,Jr,Xr){var Kr=this._writableState,Yr=!1,Br=!Kr.objectMode&&Se(Vr);return Br&&!we.isBuffer(Vr)&&(Vr=xe(Vr)),typeof Jr=="function"&&(Xr=Jr,Jr=null),Br?Jr="buffer":Jr||(Jr=Kr.defaultEncoding),typeof Xr!="function"&&(Xr=fr),Kr.ended?Gr(this,Xr):(Br||jr(this,Kr,Vr,Xr))&&(Kr.pendingcb++,Yr=wn(this,Kr,Br,Vr,Jr,Xr)),Yr},Wr.prototype.cork=function(){var Vr=this._writableState;Vr.corked++},Wr.prototype.uncork=function(){var Vr=this._writableState;Vr.corked&&(Vr.corked--,!Vr.writing&&!Vr.corked&&!Vr.bufferProcessing&&Vr.bufferedRequest&&ai(this,Vr))},Wr.prototype.setDefaultEncoding=function(Jr){if(typeof Jr=="string"&&(Jr=Jr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Jr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Jr);return this._writableState.defaultEncoding=Jr,this};function Qr(Vr,Jr,Xr){return!Vr.objectMode&&Vr.decodeStrings!==!1&&typeof Jr=="string"&&(Jr=we.from(Jr,Xr)),Jr}Object.defineProperty(Wr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function wn(Vr,Jr,Xr,Kr,Yr,Br){if(!Xr){var _n=Qr(Jr,Kr,Yr);Kr!==_n&&(Xr=!0,Yr="buffer",Kr=_n)}var ii=Jr.objectMode?1:Kr.length;Jr.length+=ii;var ni=Jr.length<Jr.highWaterMark;if(ni||(Jr.needDrain=!0),Jr.writing||Jr.corked){var si=Jr.lastBufferedRequest;Jr.lastBufferedRequest={chunk:Kr,encoding:Yr,isBuf:Xr,callback:Br,next:null},si?si.next=Jr.lastBufferedRequest:Jr.bufferedRequest=Jr.lastBufferedRequest,Jr.bufferedRequestCount+=1}else En(Vr,Jr,!1,ii,Kr,Yr,Br);return ni}function En(Vr,Jr,Xr,Kr,Yr,Br,_n){Jr.writelen=Kr,Jr.writecb=_n,Jr.writing=!0,Jr.sync=!0,Xr?Vr._writev(Yr,Jr.onwrite):Vr._write(Yr,Br,Jr.onwrite),Jr.sync=!1}function Rn(Vr,Jr,Xr,Kr,Yr){--Jr.pendingcb,Xr?(se.nextTick(Yr,Kr),se.nextTick(Oe,Vr,Jr),Vr._writableState.errorEmitted=!0,Vr.emit("error",Kr)):(Yr(Kr),Vr._writableState.errorEmitted=!0,Vr.emit("error",Kr),Oe(Vr,Jr))}function An(Vr){Vr.writing=!1,Vr.writecb=null,Vr.length-=Vr.writelen,Vr.writelen=0}function $n(Vr,Jr){var Xr=Vr._writableState,Kr=Xr.sync,Yr=Xr.writecb;if(An(Xr),Jr)Rn(Vr,Xr,Kr,Jr,Yr);else{var Br=On(Xr);!Br&&!Xr.corked&&!Xr.bufferProcessing&&Xr.bufferedRequest&&ai(Vr,Xr),Kr?ne(Tn,Vr,Xr,Br,Yr):Tn(Vr,Xr,Br,Yr)}}function Tn(Vr,Jr,Xr,Kr){Xr||ti(Vr,Jr),Jr.pendingcb--,Kr(),Oe(Vr,Jr)}function ti(Vr,Jr){Jr.length===0&&Jr.needDrain&&(Jr.needDrain=!1,Vr.emit("drain"))}function ai(Vr,Jr){Jr.bufferProcessing=!0;var Xr=Jr.bufferedRequest;if(Vr._writev&&Xr&&Xr.next){var Kr=Jr.bufferedRequestCount,Yr=new Array(Kr),Br=Jr.corkedRequestsFree;Br.entry=Xr;for(var _n=0,ii=!0;Xr;)Yr[_n]=Xr,Xr.isBuf||(ii=!1),Xr=Xr.next,_n+=1;Yr.allBuffers=ii,En(Vr,Jr,!0,Jr.length,Yr,"",Br.finish),Jr.pendingcb++,Jr.lastBufferedRequest=null,Br.next?(Jr.corkedRequestsFree=Br.next,Br.next=null):Jr.corkedRequestsFree=new Y(Jr),Jr.bufferedRequestCount=0}else{for(;Xr;){var ni=Xr.chunk,si=Xr.encoding,Nn=Xr.callback,jn=Jr.objectMode?1:ni.length;if(En(Vr,Jr,!1,jn,ni,si,Nn),Xr=Xr.next,Jr.bufferedRequestCount--,Jr.writing)break}Xr===null&&(Jr.lastBufferedRequest=null)}Jr.bufferedRequest=Xr,Jr.bufferProcessing=!1}Wr.prototype._write=function(Vr,Jr,Xr){Xr(new Error("_write() is not implemented"))},Wr.prototype._writev=null,Wr.prototype.end=function(Vr,Jr,Xr){var Kr=this._writableState;typeof Vr=="function"?(Xr=Vr,Vr=null,Jr=null):typeof Jr=="function"&&(Xr=Jr,Jr=null),Vr!=null&&this.write(Vr,Jr),Kr.corked&&(Kr.corked=1,this.uncork()),Kr.ending||wr(this,Kr,Xr)};function On(Vr){return Vr.ending&&Vr.length===0&&Vr.bufferedRequest===null&&!Vr.finished&&!Vr.writing}function Sn(Vr,Jr){Vr._final(function(Xr){Jr.pendingcb--,Xr&&Vr.emit("error",Xr),Jr.prefinished=!0,Vr.emit("prefinish"),Oe(Vr,Jr)})}function Zr(Vr,Jr){!Jr.prefinished&&!Jr.finalCalled&&(typeof Vr._final=="function"?(Jr.pendingcb++,Jr.finalCalled=!0,se.nextTick(Sn,Vr,Jr)):(Jr.prefinished=!0,Vr.emit("prefinish")))}function Oe(Vr,Jr){var Xr=On(Jr);return Xr&&(Zr(Vr,Jr),Jr.pendingcb===0&&(Jr.finished=!0,Vr.emit("finish"))),Xr}function wr(Vr,Jr,Xr){Jr.ending=!0,Oe(Vr,Jr),Xr&&(Jr.finished?se.nextTick(Xr):Vr.once("finish",Xr)),Jr.ended=!0,Vr.writable=!1}function qr(Vr,Jr,Xr){var Kr=Vr.entry;for(Vr.entry=null;Kr;){var Yr=Kr.callback;Jr.pendingcb--,Yr(Xr),Kr=Kr.next}Jr.corkedRequestsFree.next=Vr}return Object.defineProperty(Wr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Vr){this._writableState&&(this._writableState.destroyed=Vr)}}),Wr.prototype.destroy=Ie.destroy,Wr.prototype._undestroy=Ie.undestroy,Wr.prototype._destroy=function(Vr,Jr){this.end(),Jr(Vr)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var se=requireProcessNextickArgs(),Y=Object.keys||function(Ie){var fr=[];for(var br in Ie)fr.push(br);return fr};_stream_duplex=Ee;var ne=Object.create(requireUtil$2());ne.inherits=requireInherits_browser();var fe=require_stream_readable(),ye=require_stream_writable();ne.inherits(Ee,fe);for(var me=Y(ye.prototype),be=0;be<me.length;be++){var we=me[be];Ee.prototype[we]||(Ee.prototype[we]=ye.prototype[we])}function Ee(Ie){if(!(this instanceof Ee))return new Ee(Ie);fe.call(this,Ie),ye.call(this,Ie),Ie&&Ie.readable===!1&&(this.readable=!1),Ie&&Ie.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ie&&Ie.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",xe)}Object.defineProperty(Ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function xe(){this.allowHalfOpen||this._writableState.ended||se.nextTick(Se,this)}function Se(Ie){Ie.end()}return Object.defineProperty(Ee.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Ie){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Ie,this._writableState.destroyed=Ie)}}),Ee.prototype._destroy=function(Ie,fr){this.push(null),this.end(),se.nextTick(fr,Ie)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var se=requireProcessNextickArgs();_stream_readable=Qr;var Y=requireIsarray(),ne;Qr.ReadableState=jr,requireEvents().EventEmitter;var fe=function(Nn,jn){return Nn.listeners(jn).length},ye=requireStreamBrowser(),me=requireSafeBuffer().Buffer,be=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function we(Nn){return me.from(Nn)}function Ee(Nn){return me.isBuffer(Nn)||Nn instanceof be}var xe=Object.create(requireUtil$2());xe.inherits=requireInherits_browser();var Se=requireUtil$3(),Ie=void 0;Se&&Se.debuglog?Ie=Se.debuglog("stream"):Ie=function(){};var fr=requireBufferList(),br=requireDestroy(),kr;xe.inherits(Qr,ye);var Wr=["error","close","destroy","pause","resume"];function Gr(Nn,jn,ei){if(typeof Nn.prependListener=="function")return Nn.prependListener(jn,ei);!Nn._events||!Nn._events[jn]?Nn.on(jn,ei):Y(Nn._events[jn])?Nn._events[jn].unshift(ei):Nn._events[jn]=[ei,Nn._events[jn]]}function jr(Nn,jn){ne=ne||require_stream_duplex(),Nn=Nn||{};var ei=jn instanceof ne;this.objectMode=!!Nn.objectMode,ei&&(this.objectMode=this.objectMode||!!Nn.readableObjectMode);var Pn=Nn.highWaterMark,zn=Nn.readableHighWaterMark,ri=this.objectMode?16:16*1024;Pn||Pn===0?this.highWaterMark=Pn:ei&&(zn||zn===0)?this.highWaterMark=zn:this.highWaterMark=ri,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new fr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Nn.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Nn.encoding&&(kr||(kr=requireString_decoder().StringDecoder),this.decoder=new kr(Nn.encoding),this.encoding=Nn.encoding)}function Qr(Nn){if(ne=ne||require_stream_duplex(),!(this instanceof Qr))return new Qr(Nn);this._readableState=new jr(Nn,this),this.readable=!0,Nn&&(typeof Nn.read=="function"&&(this._read=Nn.read),typeof Nn.destroy=="function"&&(this._destroy=Nn.destroy)),ye.call(this)}Object.defineProperty(Qr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Nn){this._readableState&&(this._readableState.destroyed=Nn)}}),Qr.prototype.destroy=br.destroy,Qr.prototype._undestroy=br.undestroy,Qr.prototype._destroy=function(Nn,jn){this.push(null),jn(Nn)},Qr.prototype.push=function(Nn,jn){var ei=this._readableState,Pn;return ei.objectMode?Pn=!0:typeof Nn=="string"&&(jn=jn||ei.defaultEncoding,jn!==ei.encoding&&(Nn=me.from(Nn,jn),jn=""),Pn=!0),wn(this,Nn,jn,!1,Pn)},Qr.prototype.unshift=function(Nn){return wn(this,Nn,null,!0,!1)};function wn(Nn,jn,ei,Pn,zn){var ri=Nn._readableState;if(jn===null)ri.reading=!1,ai(Nn,ri);else{var hi;zn||(hi=Rn(ri,jn)),hi?Nn.emit("error",hi):ri.objectMode||jn&&jn.length>0?(typeof jn!="string"&&!ri.objectMode&&Object.getPrototypeOf(jn)!==me.prototype&&(jn=we(jn)),Pn?ri.endEmitted?Nn.emit("error",new Error("stream.unshift() after end event")):En(Nn,ri,jn,!0):ri.ended?Nn.emit("error",new Error("stream.push() after EOF")):(ri.reading=!1,ri.decoder&&!ei?(jn=ri.decoder.write(jn),ri.objectMode||jn.length!==0?En(Nn,ri,jn,!1):Zr(Nn,ri)):En(Nn,ri,jn,!1))):Pn||(ri.reading=!1)}return An(ri)}function En(Nn,jn,ei,Pn){jn.flowing&&jn.length===0&&!jn.sync?(Nn.emit("data",ei),Nn.read(0)):(jn.length+=jn.objectMode?1:ei.length,Pn?jn.buffer.unshift(ei):jn.buffer.push(ei),jn.needReadable&&On(Nn)),Zr(Nn,jn)}function Rn(Nn,jn){var ei;return!Ee(jn)&&typeof jn!="string"&&jn!==void 0&&!Nn.objectMode&&(ei=new TypeError("Invalid non-string/buffer chunk")),ei}function An(Nn){return!Nn.ended&&(Nn.needReadable||Nn.length<Nn.highWaterMark||Nn.length===0)}Qr.prototype.isPaused=function(){return this._readableState.flowing===!1},Qr.prototype.setEncoding=function(Nn){return kr||(kr=requireString_decoder().StringDecoder),this._readableState.decoder=new kr(Nn),this._readableState.encoding=Nn,this};var $n=8388608;function Tn(Nn){return Nn>=$n?Nn=$n:(Nn--,Nn|=Nn>>>1,Nn|=Nn>>>2,Nn|=Nn>>>4,Nn|=Nn>>>8,Nn|=Nn>>>16,Nn++),Nn}function ti(Nn,jn){return Nn<=0||jn.length===0&&jn.ended?0:jn.objectMode?1:Nn!==Nn?jn.flowing&&jn.length?jn.buffer.head.data.length:jn.length:(Nn>jn.highWaterMark&&(jn.highWaterMark=Tn(Nn)),Nn<=jn.length?Nn:jn.ended?jn.length:(jn.needReadable=!0,0))}Qr.prototype.read=function(Nn){Ie("read",Nn),Nn=parseInt(Nn,10);var jn=this._readableState,ei=Nn;if(Nn!==0&&(jn.emittedReadable=!1),Nn===0&&jn.needReadable&&(jn.length>=jn.highWaterMark||jn.ended))return Ie("read: emitReadable",jn.length,jn.ended),jn.length===0&&jn.ended?ii(this):On(this),null;if(Nn=ti(Nn,jn),Nn===0&&jn.ended)return jn.length===0&&ii(this),null;var Pn=jn.needReadable;Ie("need readable",Pn),(jn.length===0||jn.length-Nn<jn.highWaterMark)&&(Pn=!0,Ie("length less than watermark",Pn)),jn.ended||jn.reading?(Pn=!1,Ie("reading or ended",Pn)):Pn&&(Ie("do read"),jn.reading=!0,jn.sync=!0,jn.length===0&&(jn.needReadable=!0),this._read(jn.highWaterMark),jn.sync=!1,jn.reading||(Nn=ti(ei,jn)));var zn;return Nn>0?zn=Kr(Nn,jn):zn=null,zn===null?(jn.needReadable=!0,Nn=0):jn.length-=Nn,jn.length===0&&(jn.ended||(jn.needReadable=!0),ei!==Nn&&jn.ended&&ii(this)),zn!==null&&this.emit("data",zn),zn};function ai(Nn,jn){if(!jn.ended){if(jn.decoder){var ei=jn.decoder.end();ei&&ei.length&&(jn.buffer.push(ei),jn.length+=jn.objectMode?1:ei.length)}jn.ended=!0,On(Nn)}}function On(Nn){var jn=Nn._readableState;jn.needReadable=!1,jn.emittedReadable||(Ie("emitReadable",jn.flowing),jn.emittedReadable=!0,jn.sync?se.nextTick(Sn,Nn):Sn(Nn))}function Sn(Nn){Ie("emit readable"),Nn.emit("readable"),Xr(Nn)}function Zr(Nn,jn){jn.readingMore||(jn.readingMore=!0,se.nextTick(Oe,Nn,jn))}function Oe(Nn,jn){for(var ei=jn.length;!jn.reading&&!jn.flowing&&!jn.ended&&jn.length<jn.highWaterMark&&(Ie("maybeReadMore read 0"),Nn.read(0),ei!==jn.length);)ei=jn.length;jn.readingMore=!1}Qr.prototype._read=function(Nn){this.emit("error",new Error("_read() is not implemented"))},Qr.prototype.pipe=function(Nn,jn){var ei=this,Pn=this._readableState;switch(Pn.pipesCount){case 0:Pn.pipes=Nn;break;case 1:Pn.pipes=[Pn.pipes,Nn];break;default:Pn.pipes.push(Nn);break}Pn.pipesCount+=1,Ie("pipe count=%d opts=%j",Pn.pipesCount,jn);var zn=(!jn||jn.end!==!1)&&Nn!==process$1.stdout&&Nn!==process$1.stderr,ri=zn?mi:Ni;Pn.endEmitted?se.nextTick(ri):ei.once("end",ri),Nn.on("unpipe",hi);function hi(Ai,ga){Ie("onunpipe"),Ai===ei&&ga&&ga.hasUnpiped===!1&&(ga.hasUnpiped=!0,xi())}function mi(){Ie("onend"),Nn.end()}var $i=wr(ei);Nn.on("drain",$i);var Ti=!1;function xi(){Ie("cleanup"),Nn.removeListener("close",Ei),Nn.removeListener("finish",ha),Nn.removeListener("drain",$i),Nn.removeListener("error",Pi),Nn.removeListener("unpipe",hi),ei.removeListener("end",mi),ei.removeListener("end",Ni),ei.removeListener("data",vi),Ti=!0,Pn.awaitDrain&&(!Nn._writableState||Nn._writableState.needDrain)&&$i()}var Ri=!1;ei.on("data",vi);function vi(Ai){Ie("ondata"),Ri=!1;var ga=Nn.write(Ai);ga===!1&&!Ri&&((Pn.pipesCount===1&&Pn.pipes===Nn||Pn.pipesCount>1&&si(Pn.pipes,Nn)!==-1)&&!Ti&&(Ie("false write response, pause",Pn.awaitDrain),Pn.awaitDrain++,Ri=!0),ei.pause())}function Pi(Ai){Ie("onerror",Ai),Ni(),Nn.removeListener("error",Pi),fe(Nn,"error")===0&&Nn.emit("error",Ai)}Gr(Nn,"error",Pi);function Ei(){Nn.removeListener("finish",ha),Ni()}Nn.once("close",Ei);function ha(){Ie("onfinish"),Nn.removeListener("close",Ei),Ni()}Nn.once("finish",ha);function Ni(){Ie("unpipe"),ei.unpipe(Nn)}return Nn.emit("pipe",ei),Pn.flowing||(Ie("pipe resume"),ei.resume()),Nn};function wr(Nn){return function(){var jn=Nn._readableState;Ie("pipeOnDrain",jn.awaitDrain),jn.awaitDrain&&jn.awaitDrain--,jn.awaitDrain===0&&fe(Nn,"data")&&(jn.flowing=!0,Xr(Nn))}}Qr.prototype.unpipe=function(Nn){var jn=this._readableState,ei={hasUnpiped:!1};if(jn.pipesCount===0)return this;if(jn.pipesCount===1)return Nn&&Nn!==jn.pipes?this:(Nn||(Nn=jn.pipes),jn.pipes=null,jn.pipesCount=0,jn.flowing=!1,Nn&&Nn.emit("unpipe",this,ei),this);if(!Nn){var Pn=jn.pipes,zn=jn.pipesCount;jn.pipes=null,jn.pipesCount=0,jn.flowing=!1;for(var ri=0;ri<zn;ri++)Pn[ri].emit("unpipe",this,{hasUnpiped:!1});return this}var hi=si(jn.pipes,Nn);return hi===-1?this:(jn.pipes.splice(hi,1),jn.pipesCount-=1,jn.pipesCount===1&&(jn.pipes=jn.pipes[0]),Nn.emit("unpipe",this,ei),this)},Qr.prototype.on=function(Nn,jn){var ei=ye.prototype.on.call(this,Nn,jn);if(Nn==="data")this._readableState.flowing!==!1&&this.resume();else if(Nn==="readable"){var Pn=this._readableState;!Pn.endEmitted&&!Pn.readableListening&&(Pn.readableListening=Pn.needReadable=!0,Pn.emittedReadable=!1,Pn.reading?Pn.length&&On(this):se.nextTick(qr,this))}return ei},Qr.prototype.addListener=Qr.prototype.on;function qr(Nn){Ie("readable nexttick read 0"),Nn.read(0)}Qr.prototype.resume=function(){var Nn=this._readableState;return Nn.flowing||(Ie("resume"),Nn.flowing=!0,Vr(this,Nn)),this};function Vr(Nn,jn){jn.resumeScheduled||(jn.resumeScheduled=!0,se.nextTick(Jr,Nn,jn))}function Jr(Nn,jn){jn.reading||(Ie("resume read 0"),Nn.read(0)),jn.resumeScheduled=!1,jn.awaitDrain=0,Nn.emit("resume"),Xr(Nn),jn.flowing&&!jn.reading&&Nn.read(0)}Qr.prototype.pause=function(){return Ie("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Xr(Nn){var jn=Nn._readableState;for(Ie("flow",jn.flowing);jn.flowing&&Nn.read()!==null;);}Qr.prototype.wrap=function(Nn){var jn=this,ei=this._readableState,Pn=!1;Nn.on("end",function(){if(Ie("wrapped end"),ei.decoder&&!ei.ended){var hi=ei.decoder.end();hi&&hi.length&&jn.push(hi)}jn.push(null)}),Nn.on("data",function(hi){if(Ie("wrapped data"),ei.decoder&&(hi=ei.decoder.write(hi)),!(ei.objectMode&&hi==null)&&!(!ei.objectMode&&(!hi||!hi.length))){var mi=jn.push(hi);mi||(Pn=!0,Nn.pause())}});for(var zn in Nn)this[zn]===void 0&&typeof Nn[zn]=="function"&&(this[zn]=function(hi){return function(){return Nn[hi].apply(Nn,arguments)}}(zn));for(var ri=0;ri<Wr.length;ri++)Nn.on(Wr[ri],this.emit.bind(this,Wr[ri]));return this._read=function(hi){Ie("wrapped _read",hi),Pn&&(Pn=!1,Nn.resume())},this},Object.defineProperty(Qr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Qr._fromList=Kr;function Kr(Nn,jn){if(jn.length===0)return null;var ei;return jn.objectMode?ei=jn.buffer.shift():!Nn||Nn>=jn.length?(jn.decoder?ei=jn.buffer.join(""):jn.buffer.length===1?ei=jn.buffer.head.data:ei=jn.buffer.concat(jn.length),jn.buffer.clear()):ei=Yr(Nn,jn.buffer,jn.decoder),ei}function Yr(Nn,jn,ei){var Pn;return Nn<jn.head.data.length?(Pn=jn.head.data.slice(0,Nn),jn.head.data=jn.head.data.slice(Nn)):Nn===jn.head.data.length?Pn=jn.shift():Pn=ei?Br(Nn,jn):_n(Nn,jn),Pn}function Br(Nn,jn){var ei=jn.head,Pn=1,zn=ei.data;for(Nn-=zn.length;ei=ei.next;){var ri=ei.data,hi=Nn>ri.length?ri.length:Nn;if(hi===ri.length?zn+=ri:zn+=ri.slice(0,Nn),Nn-=hi,Nn===0){hi===ri.length?(++Pn,ei.next?jn.head=ei.next:jn.head=jn.tail=null):(jn.head=ei,ei.data=ri.slice(hi));break}++Pn}return jn.length-=Pn,zn}function _n(Nn,jn){var ei=me.allocUnsafe(Nn),Pn=jn.head,zn=1;for(Pn.data.copy(ei),Nn-=Pn.data.length;Pn=Pn.next;){var ri=Pn.data,hi=Nn>ri.length?ri.length:Nn;if(ri.copy(ei,ei.length-Nn,0,hi),Nn-=hi,Nn===0){hi===ri.length?(++zn,Pn.next?jn.head=Pn.next:jn.head=jn.tail=null):(jn.head=Pn,Pn.data=ri.slice(hi));break}++zn}return jn.length-=zn,ei}function ii(Nn){var jn=Nn._readableState;if(jn.length>0)throw new Error('"endReadable()" called on non-empty stream');jn.endEmitted||(jn.ended=!0,se.nextTick(ni,jn,Nn))}function ni(Nn,jn){!Nn.endEmitted&&Nn.length===0&&(Nn.endEmitted=!0,jn.readable=!1,jn.emit("end"))}function si(Nn,jn){for(var ei=0,Pn=Nn.length;ei<Pn;ei++)if(Nn[ei]===jn)return ei;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=fe;var se=require_stream_duplex(),Y=Object.create(requireUtil$2());Y.inherits=requireInherits_browser(),Y.inherits(fe,se);function ne(be,we){var Ee=this._transformState;Ee.transforming=!1;var xe=Ee.writecb;if(!xe)return this.emit("error",new Error("write callback called multiple times"));Ee.writechunk=null,Ee.writecb=null,we!=null&&this.push(we),xe(be);var Se=this._readableState;Se.reading=!1,(Se.needReadable||Se.length<Se.highWaterMark)&&this._read(Se.highWaterMark)}function fe(be){if(!(this instanceof fe))return new fe(be);se.call(this,be),this._transformState={afterTransform:ne.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,be&&(typeof be.transform=="function"&&(this._transform=be.transform),typeof be.flush=="function"&&(this._flush=be.flush)),this.on("prefinish",ye)}function ye(){var be=this;typeof this._flush=="function"?this._flush(function(we,Ee){me(be,we,Ee)}):me(this,null,null)}fe.prototype.push=function(be,we){return this._transformState.needTransform=!1,se.prototype.push.call(this,be,we)},fe.prototype._transform=function(be,we,Ee){throw new Error("_transform() is not implemented")},fe.prototype._write=function(be,we,Ee){var xe=this._transformState;if(xe.writecb=Ee,xe.writechunk=be,xe.writeencoding=we,!xe.transforming){var Se=this._readableState;(xe.needTransform||Se.needReadable||Se.length<Se.highWaterMark)&&this._read(Se.highWaterMark)}},fe.prototype._read=function(be){var we=this._transformState;we.writechunk!==null&&we.writecb&&!we.transforming?(we.transforming=!0,this._transform(we.writechunk,we.writeencoding,we.afterTransform)):we.needTransform=!0},fe.prototype._destroy=function(be,we){var Ee=this;se.prototype._destroy.call(this,be,function(xe){we(xe),Ee.emit("close")})};function me(be,we,Ee){if(we)return be.emit("error",we);if(Ee!=null&&be.push(Ee),be._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(be._transformState.transforming)throw new Error("Calling transform done when still transforming");return be.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=ne;var se=require_stream_transform(),Y=Object.create(requireUtil$2());Y.inherits=requireInherits_browser(),Y.inherits(ne,se);function ne(fe){if(!(this instanceof ne))return new ne(fe);se.call(this,fe)}return ne.prototype._transform=function(fe,ye,me){me(null,fe)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(se,Y){Y=se.exports=require_stream_readable(),Y.Stream=Y,Y.Readable=Y,Y.Writable=require_stream_writable(),Y.Duplex=require_stream_duplex(),Y.Transform=require_stream_transform(),Y.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$5={exports:{}},bn$4=bn$5.exports,hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(se){(function(Y,ne){function fe(Zr,Oe){if(!Zr)throw new Error(Oe||"Assertion failed")}function ye(Zr,Oe){Zr.super_=Oe;var wr=function(){};wr.prototype=Oe.prototype,Zr.prototype=new wr,Zr.prototype.constructor=Zr}function me(Zr,Oe,wr){if(me.isBN(Zr))return Zr;this.negative=0,this.words=null,this.length=0,this.red=null,Zr!==null&&((Oe==="le"||Oe==="be")&&(wr=Oe,Oe=10),this._init(Zr||0,Oe||10,wr||"be"))}typeof Y=="object"?Y.exports=me:ne.BN=me,me.BN=me,me.wordSize=26;var be;try{typeof window<"u"&&typeof window.Buffer<"u"?be=window.Buffer:be=requireDist$5().Buffer}catch{}me.isBN=function(Oe){return Oe instanceof me?!0:Oe!==null&&typeof Oe=="object"&&Oe.constructor.wordSize===me.wordSize&&Array.isArray(Oe.words)},me.max=function(Oe,wr){return Oe.cmp(wr)>0?Oe:wr},me.min=function(Oe,wr){return Oe.cmp(wr)<0?Oe:wr},me.prototype._init=function(Oe,wr,qr){if(typeof Oe=="number")return this._initNumber(Oe,wr,qr);if(typeof Oe=="object")return this._initArray(Oe,wr,qr);wr==="hex"&&(wr=16),fe(wr===(wr|0)&&wr>=2&&wr<=36),Oe=Oe.toString().replace(/\s+/g,"");var Vr=0;Oe[0]==="-"&&(Vr++,this.negative=1),Vr<Oe.length&&(wr===16?this._parseHex(Oe,Vr,qr):(this._parseBase(Oe,wr,Vr),qr==="le"&&this._initArray(this.toArray(),wr,qr)))},me.prototype._initNumber=function(Oe,wr,qr){Oe<0&&(this.negative=1,Oe=-Oe),Oe<67108864?(this.words=[Oe&67108863],this.length=1):Oe<4503599627370496?(this.words=[Oe&67108863,Oe/67108864&67108863],this.length=2):(fe(Oe<9007199254740992),this.words=[Oe&67108863,Oe/67108864&67108863,1],this.length=3),qr==="le"&&this._initArray(this.toArray(),wr,qr)},me.prototype._initArray=function(Oe,wr,qr){if(fe(typeof Oe.length=="number"),Oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Oe.length/3),this.words=new Array(this.length);for(var Vr=0;Vr<this.length;Vr++)this.words[Vr]=0;var Jr,Xr,Kr=0;if(qr==="be")for(Vr=Oe.length-1,Jr=0;Vr>=0;Vr-=3)Xr=Oe[Vr]|Oe[Vr-1]<<8|Oe[Vr-2]<<16,this.words[Jr]|=Xr<<Kr&67108863,this.words[Jr+1]=Xr>>>26-Kr&67108863,Kr+=24,Kr>=26&&(Kr-=26,Jr++);else if(qr==="le")for(Vr=0,Jr=0;Vr<Oe.length;Vr+=3)Xr=Oe[Vr]|Oe[Vr+1]<<8|Oe[Vr+2]<<16,this.words[Jr]|=Xr<<Kr&67108863,this.words[Jr+1]=Xr>>>26-Kr&67108863,Kr+=24,Kr>=26&&(Kr-=26,Jr++);return this._strip()};function we(Zr,Oe){var wr=Zr.charCodeAt(Oe);if(wr>=48&&wr<=57)return wr-48;if(wr>=65&&wr<=70)return wr-55;if(wr>=97&&wr<=102)return wr-87;fe(!1,"Invalid character in "+Zr)}function Ee(Zr,Oe,wr){var qr=we(Zr,wr);return wr-1>=Oe&&(qr|=we(Zr,wr-1)<<4),qr}me.prototype._parseHex=function(Oe,wr,qr){this.length=Math.ceil((Oe.length-wr)/6),this.words=new Array(this.length);for(var Vr=0;Vr<this.length;Vr++)this.words[Vr]=0;var Jr=0,Xr=0,Kr;if(qr==="be")for(Vr=Oe.length-1;Vr>=wr;Vr-=2)Kr=Ee(Oe,wr,Vr)<<Jr,this.words[Xr]|=Kr&67108863,Jr>=18?(Jr-=18,Xr+=1,this.words[Xr]|=Kr>>>26):Jr+=8;else{var Yr=Oe.length-wr;for(Vr=Yr%2===0?wr+1:wr;Vr<Oe.length;Vr+=2)Kr=Ee(Oe,wr,Vr)<<Jr,this.words[Xr]|=Kr&67108863,Jr>=18?(Jr-=18,Xr+=1,this.words[Xr]|=Kr>>>26):Jr+=8}this._strip()};function xe(Zr,Oe,wr,qr){for(var Vr=0,Jr=0,Xr=Math.min(Zr.length,wr),Kr=Oe;Kr<Xr;Kr++){var Yr=Zr.charCodeAt(Kr)-48;Vr*=qr,Yr>=49?Jr=Yr-49+10:Yr>=17?Jr=Yr-17+10:Jr=Yr,fe(Yr>=0&&Jr<qr,"Invalid character"),Vr+=Jr}return Vr}me.prototype._parseBase=function(Oe,wr,qr){this.words=[0],this.length=1;for(var Vr=0,Jr=1;Jr<=67108863;Jr*=wr)Vr++;Vr--,Jr=Jr/wr|0;for(var Xr=Oe.length-qr,Kr=Xr%Vr,Yr=Math.min(Xr,Xr-Kr)+qr,Br=0,_n=qr;_n<Yr;_n+=Vr)Br=xe(Oe,_n,_n+Vr,wr),this.imuln(Jr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br);if(Kr!==0){var ii=1;for(Br=xe(Oe,_n,Oe.length,wr),_n=0;_n<Kr;_n++)ii*=wr;this.imuln(ii),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br)}this._strip()},me.prototype.copy=function(Oe){Oe.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)Oe.words[wr]=this.words[wr];Oe.length=this.length,Oe.negative=this.negative,Oe.red=this.red};function Se(Zr,Oe){Zr.words=Oe.words,Zr.length=Oe.length,Zr.negative=Oe.negative,Zr.red=Oe.red}if(me.prototype._move=function(Oe){Se(Oe,this)},me.prototype.clone=function(){var Oe=new me(null);return this.copy(Oe),Oe},me.prototype._expand=function(Oe){for(;this.length<Oe;)this.words[this.length++]=0;return this},me.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},me.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{me.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ie}catch{me.prototype.inspect=Ie}else me.prototype.inspect=Ie;function Ie(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],br=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],kr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];me.prototype.toString=function(Oe,wr){Oe=Oe||10,wr=wr|0||1;var qr;if(Oe===16||Oe==="hex"){qr="";for(var Vr=0,Jr=0,Xr=0;Xr<this.length;Xr++){var Kr=this.words[Xr],Yr=((Kr<<Vr|Jr)&16777215).toString(16);Jr=Kr>>>24-Vr&16777215,Vr+=2,Vr>=26&&(Vr-=26,Xr--),Jr!==0||Xr!==this.length-1?qr=fr[6-Yr.length]+Yr+qr:qr=Yr+qr}for(Jr!==0&&(qr=Jr.toString(16)+qr);qr.length%wr!==0;)qr="0"+qr;return this.negative!==0&&(qr="-"+qr),qr}if(Oe===(Oe|0)&&Oe>=2&&Oe<=36){var Br=br[Oe],_n=kr[Oe];qr="";var ii=this.clone();for(ii.negative=0;!ii.isZero();){var ni=ii.modrn(_n).toString(Oe);ii=ii.idivn(_n),ii.isZero()?qr=ni+qr:qr=fr[Br-ni.length]+ni+qr}for(this.isZero()&&(qr="0"+qr);qr.length%wr!==0;)qr="0"+qr;return this.negative!==0&&(qr="-"+qr),qr}fe(!1,"Base should be between 2 and 36")},me.prototype.toNumber=function(){var Oe=this.words[0];return this.length===2?Oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Oe+=4503599627370496+this.words[1]*67108864:this.length>2&&fe(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Oe:Oe},me.prototype.toJSON=function(){return this.toString(16,2)},be&&(me.prototype.toBuffer=function(Oe,wr){return this.toArrayLike(be,Oe,wr)}),me.prototype.toArray=function(Oe,wr){return this.toArrayLike(Array,Oe,wr)};var Wr=function(Oe,wr){return Oe.allocUnsafe?Oe.allocUnsafe(wr):new Oe(wr)};me.prototype.toArrayLike=function(Oe,wr,qr){this._strip();var Vr=this.byteLength(),Jr=qr||Math.max(1,Vr);fe(Vr<=Jr,"byte array longer than desired length"),fe(Jr>0,"Requested array length <= 0");var Xr=Wr(Oe,Jr),Kr=wr==="le"?"LE":"BE";return this["_toArrayLike"+Kr](Xr,Vr),Xr},me.prototype._toArrayLikeLE=function(Oe,wr){for(var qr=0,Vr=0,Jr=0,Xr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]<<Xr|Vr;Oe[qr++]=Kr&255,qr<Oe.length&&(Oe[qr++]=Kr>>8&255),qr<Oe.length&&(Oe[qr++]=Kr>>16&255),Xr===6?(qr<Oe.length&&(Oe[qr++]=Kr>>24&255),Vr=0,Xr=0):(Vr=Kr>>>24,Xr+=2)}if(qr<Oe.length)for(Oe[qr++]=Vr;qr<Oe.length;)Oe[qr++]=0},me.prototype._toArrayLikeBE=function(Oe,wr){for(var qr=Oe.length-1,Vr=0,Jr=0,Xr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]<<Xr|Vr;Oe[qr--]=Kr&255,qr>=0&&(Oe[qr--]=Kr>>8&255),qr>=0&&(Oe[qr--]=Kr>>16&255),Xr===6?(qr>=0&&(Oe[qr--]=Kr>>24&255),Vr=0,Xr=0):(Vr=Kr>>>24,Xr+=2)}if(qr>=0)for(Oe[qr--]=Vr;qr>=0;)Oe[qr--]=0},Math.clz32?me.prototype._countBits=function(Oe){return 32-Math.clz32(Oe)}:me.prototype._countBits=function(Oe){var wr=Oe,qr=0;return wr>=4096&&(qr+=13,wr>>>=13),wr>=64&&(qr+=7,wr>>>=7),wr>=8&&(qr+=4,wr>>>=4),wr>=2&&(qr+=2,wr>>>=2),qr+wr},me.prototype._zeroBits=function(Oe){if(Oe===0)return 26;var wr=Oe,qr=0;return wr&8191||(qr+=13,wr>>>=13),wr&127||(qr+=7,wr>>>=7),wr&15||(qr+=4,wr>>>=4),wr&3||(qr+=2,wr>>>=2),wr&1||qr++,qr},me.prototype.bitLength=function(){var Oe=this.words[this.length-1],wr=this._countBits(Oe);return(this.length-1)*26+wr};function Gr(Zr){for(var Oe=new Array(Zr.bitLength()),wr=0;wr<Oe.length;wr++){var qr=wr/26|0,Vr=wr%26;Oe[wr]=Zr.words[qr]>>>Vr&1}return Oe}me.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Oe=0,wr=0;wr<this.length;wr++){var qr=this._zeroBits(this.words[wr]);if(Oe+=qr,qr!==26)break}return Oe},me.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},me.prototype.toTwos=function(Oe){return this.negative!==0?this.abs().inotn(Oe).iaddn(1):this.clone()},me.prototype.fromTwos=function(Oe){return this.testn(Oe-1)?this.notn(Oe).iaddn(1).ineg():this.clone()},me.prototype.isNeg=function(){return this.negative!==0},me.prototype.neg=function(){return this.clone().ineg()},me.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},me.prototype.iuor=function(Oe){for(;this.length<Oe.length;)this.words[this.length++]=0;for(var wr=0;wr<Oe.length;wr++)this.words[wr]=this.words[wr]|Oe.words[wr];return this._strip()},me.prototype.ior=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuor(Oe)},me.prototype.or=function(Oe){return this.length>Oe.length?this.clone().ior(Oe):Oe.clone().ior(this)},me.prototype.uor=function(Oe){return this.length>Oe.length?this.clone().iuor(Oe):Oe.clone().iuor(this)},me.prototype.iuand=function(Oe){var wr;this.length>Oe.length?wr=Oe:wr=this;for(var qr=0;qr<wr.length;qr++)this.words[qr]=this.words[qr]&Oe.words[qr];return this.length=wr.length,this._strip()},me.prototype.iand=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuand(Oe)},me.prototype.and=function(Oe){return this.length>Oe.length?this.clone().iand(Oe):Oe.clone().iand(this)},me.prototype.uand=function(Oe){return this.length>Oe.length?this.clone().iuand(Oe):Oe.clone().iuand(this)},me.prototype.iuxor=function(Oe){var wr,qr;this.length>Oe.length?(wr=this,qr=Oe):(wr=Oe,qr=this);for(var Vr=0;Vr<qr.length;Vr++)this.words[Vr]=wr.words[Vr]^qr.words[Vr];if(this!==wr)for(;Vr<wr.length;Vr++)this.words[Vr]=wr.words[Vr];return this.length=wr.length,this._strip()},me.prototype.ixor=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuxor(Oe)},me.prototype.xor=function(Oe){return this.length>Oe.length?this.clone().ixor(Oe):Oe.clone().ixor(this)},me.prototype.uxor=function(Oe){return this.length>Oe.length?this.clone().iuxor(Oe):Oe.clone().iuxor(this)},me.prototype.inotn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Math.ceil(Oe/26)|0,qr=Oe%26;this._expand(wr),qr>0&&wr--;for(var Vr=0;Vr<wr;Vr++)this.words[Vr]=~this.words[Vr]&67108863;return qr>0&&(this.words[Vr]=~this.words[Vr]&67108863>>26-qr),this._strip()},me.prototype.notn=function(Oe){return this.clone().inotn(Oe)},me.prototype.setn=function(Oe,wr){fe(typeof Oe=="number"&&Oe>=0);var qr=Oe/26|0,Vr=Oe%26;return this._expand(qr+1),wr?this.words[qr]=this.words[qr]|1<<Vr:this.words[qr]=this.words[qr]&~(1<<Vr),this._strip()},me.prototype.iadd=function(Oe){var wr;if(this.negative!==0&&Oe.negative===0)return this.negative=0,wr=this.isub(Oe),this.negative^=1,this._normSign();if(this.negative===0&&Oe.negative!==0)return Oe.negative=0,wr=this.isub(Oe),Oe.negative=1,wr._normSign();var qr,Vr;this.length>Oe.length?(qr=this,Vr=Oe):(qr=Oe,Vr=this);for(var Jr=0,Xr=0;Xr<Vr.length;Xr++)wr=(qr.words[Xr]|0)+(Vr.words[Xr]|0)+Jr,this.words[Xr]=wr&67108863,Jr=wr>>>26;for(;Jr!==0&&Xr<qr.length;Xr++)wr=(qr.words[Xr]|0)+Jr,this.words[Xr]=wr&67108863,Jr=wr>>>26;if(this.length=qr.length,Jr!==0)this.words[this.length]=Jr,this.length++;else if(qr!==this)for(;Xr<qr.length;Xr++)this.words[Xr]=qr.words[Xr];return this},me.prototype.add=function(Oe){var wr;return Oe.negative!==0&&this.negative===0?(Oe.negative=0,wr=this.sub(Oe),Oe.negative^=1,wr):Oe.negative===0&&this.negative!==0?(this.negative=0,wr=Oe.sub(this),this.negative=1,wr):this.length>Oe.length?this.clone().iadd(Oe):Oe.clone().iadd(this)},me.prototype.isub=function(Oe){if(Oe.negative!==0){Oe.negative=0;var wr=this.iadd(Oe);return Oe.negative=1,wr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Oe),this.negative=1,this._normSign();var qr=this.cmp(Oe);if(qr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Vr,Jr;qr>0?(Vr=this,Jr=Oe):(Vr=Oe,Jr=this);for(var Xr=0,Kr=0;Kr<Jr.length;Kr++)wr=(Vr.words[Kr]|0)-(Jr.words[Kr]|0)+Xr,Xr=wr>>26,this.words[Kr]=wr&67108863;for(;Xr!==0&&Kr<Vr.length;Kr++)wr=(Vr.words[Kr]|0)+Xr,Xr=wr>>26,this.words[Kr]=wr&67108863;if(Xr===0&&Kr<Vr.length&&Vr!==this)for(;Kr<Vr.length;Kr++)this.words[Kr]=Vr.words[Kr];return this.length=Math.max(this.length,Kr),Vr!==this&&(this.negative=1),this._strip()},me.prototype.sub=function(Oe){return this.clone().isub(Oe)};function jr(Zr,Oe,wr){wr.negative=Oe.negative^Zr.negative;var qr=Zr.length+Oe.length|0;wr.length=qr,qr=qr-1|0;var Vr=Zr.words[0]|0,Jr=Oe.words[0]|0,Xr=Vr*Jr,Kr=Xr&67108863,Yr=Xr/67108864|0;wr.words[0]=Kr;for(var Br=1;Br<qr;Br++){for(var _n=Yr>>>26,ii=Yr&67108863,ni=Math.min(Br,Oe.length-1),si=Math.max(0,Br-Zr.length+1);si<=ni;si++){var Nn=Br-si|0;Vr=Zr.words[Nn]|0,Jr=Oe.words[si]|0,Xr=Vr*Jr+ii,_n+=Xr/67108864|0,ii=Xr&67108863}wr.words[Br]=ii|0,Yr=_n|0}return Yr!==0?wr.words[Br]=Yr|0:wr.length--,wr._strip()}var Qr=function(Oe,wr,qr){var Vr=Oe.words,Jr=wr.words,Xr=qr.words,Kr=0,Yr,Br,_n,ii=Vr[0]|0,ni=ii&8191,si=ii>>>13,Nn=Vr[1]|0,jn=Nn&8191,ei=Nn>>>13,Pn=Vr[2]|0,zn=Pn&8191,ri=Pn>>>13,hi=Vr[3]|0,mi=hi&8191,$i=hi>>>13,Ti=Vr[4]|0,xi=Ti&8191,Ri=Ti>>>13,vi=Vr[5]|0,Pi=vi&8191,Ei=vi>>>13,ha=Vr[6]|0,Ni=ha&8191,Ai=ha>>>13,ga=Vr[7]|0,Bi=ga&8191,Ci=ga>>>13,ma=Vr[8]|0,Vi=ma&8191,Ii=ma>>>13,Pa=Vr[9]|0,ra=Pa&8191,Oi=Pa>>>13,Na=Jr[0]|0,na=Na&8191,ia=Na>>>13,Ga=Jr[1]|0,wa=Ga&8191,sa=Ga>>>13,Ka=Jr[2]|0,_a=Ka&8191,ca=Ka>>>13,Da=Jr[3]|0,la=Da&8191,ji=Da>>>13,qa=Jr[4]|0,ua=qa&8191,qi=qa>>>13,Fa=Jr[5]|0,pa=Fa&8191,zi=Fa>>>13,Wa=Jr[6]|0,fa=Wa&8191,Ki=Wa>>>13,Ua=Jr[7]|0,oa=Ua&8191,ea=Ua>>>13,ja=Jr[8]|0,Aa=ja&8191,da=ja>>>13,no=Jr[9]|0,va=no&8191,Ca=no>>>13;qr.negative=Oe.negative^wr.negative,qr.length=19,Yr=Math.imul(ni,na),Br=Math.imul(ni,ia),Br=Br+Math.imul(si,na)|0,_n=Math.imul(si,ia);var Io=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Io>>>26)|0,Io&=67108863,Yr=Math.imul(jn,na),Br=Math.imul(jn,ia),Br=Br+Math.imul(ei,na)|0,_n=Math.imul(ei,ia),Yr=Yr+Math.imul(ni,wa)|0,Br=Br+Math.imul(ni,sa)|0,Br=Br+Math.imul(si,wa)|0,_n=_n+Math.imul(si,sa)|0;var Po=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Po>>>26)|0,Po&=67108863,Yr=Math.imul(zn,na),Br=Math.imul(zn,ia),Br=Br+Math.imul(ri,na)|0,_n=Math.imul(ri,ia),Yr=Yr+Math.imul(jn,wa)|0,Br=Br+Math.imul(jn,sa)|0,Br=Br+Math.imul(ei,wa)|0,_n=_n+Math.imul(ei,sa)|0,Yr=Yr+Math.imul(ni,_a)|0,Br=Br+Math.imul(ni,ca)|0,Br=Br+Math.imul(si,_a)|0,_n=_n+Math.imul(si,ca)|0;var To=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(To>>>26)|0,To&=67108863,Yr=Math.imul(mi,na),Br=Math.imul(mi,ia),Br=Br+Math.imul($i,na)|0,_n=Math.imul($i,ia),Yr=Yr+Math.imul(zn,wa)|0,Br=Br+Math.imul(zn,sa)|0,Br=Br+Math.imul(ri,wa)|0,_n=_n+Math.imul(ri,sa)|0,Yr=Yr+Math.imul(jn,_a)|0,Br=Br+Math.imul(jn,ca)|0,Br=Br+Math.imul(ei,_a)|0,_n=_n+Math.imul(ei,ca)|0,Yr=Yr+Math.imul(ni,la)|0,Br=Br+Math.imul(ni,ji)|0,Br=Br+Math.imul(si,la)|0,_n=_n+Math.imul(si,ji)|0;var No=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(No>>>26)|0,No&=67108863,Yr=Math.imul(xi,na),Br=Math.imul(xi,ia),Br=Br+Math.imul(Ri,na)|0,_n=Math.imul(Ri,ia),Yr=Yr+Math.imul(mi,wa)|0,Br=Br+Math.imul(mi,sa)|0,Br=Br+Math.imul($i,wa)|0,_n=_n+Math.imul($i,sa)|0,Yr=Yr+Math.imul(zn,_a)|0,Br=Br+Math.imul(zn,ca)|0,Br=Br+Math.imul(ri,_a)|0,_n=_n+Math.imul(ri,ca)|0,Yr=Yr+Math.imul(jn,la)|0,Br=Br+Math.imul(jn,ji)|0,Br=Br+Math.imul(ei,la)|0,_n=_n+Math.imul(ei,ji)|0,Yr=Yr+Math.imul(ni,ua)|0,Br=Br+Math.imul(ni,qi)|0,Br=Br+Math.imul(si,ua)|0,_n=_n+Math.imul(si,qi)|0;var ho=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(ho>>>26)|0,ho&=67108863,Yr=Math.imul(Pi,na),Br=Math.imul(Pi,ia),Br=Br+Math.imul(Ei,na)|0,_n=Math.imul(Ei,ia),Yr=Yr+Math.imul(xi,wa)|0,Br=Br+Math.imul(xi,sa)|0,Br=Br+Math.imul(Ri,wa)|0,_n=_n+Math.imul(Ri,sa)|0,Yr=Yr+Math.imul(mi,_a)|0,Br=Br+Math.imul(mi,ca)|0,Br=Br+Math.imul($i,_a)|0,_n=_n+Math.imul($i,ca)|0,Yr=Yr+Math.imul(zn,la)|0,Br=Br+Math.imul(zn,ji)|0,Br=Br+Math.imul(ri,la)|0,_n=_n+Math.imul(ri,ji)|0,Yr=Yr+Math.imul(jn,ua)|0,Br=Br+Math.imul(jn,qi)|0,Br=Br+Math.imul(ei,ua)|0,_n=_n+Math.imul(ei,qi)|0,Yr=Yr+Math.imul(ni,pa)|0,Br=Br+Math.imul(ni,zi)|0,Br=Br+Math.imul(si,pa)|0,_n=_n+Math.imul(si,zi)|0;var _o=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(_o>>>26)|0,_o&=67108863,Yr=Math.imul(Ni,na),Br=Math.imul(Ni,ia),Br=Br+Math.imul(Ai,na)|0,_n=Math.imul(Ai,ia),Yr=Yr+Math.imul(Pi,wa)|0,Br=Br+Math.imul(Pi,sa)|0,Br=Br+Math.imul(Ei,wa)|0,_n=_n+Math.imul(Ei,sa)|0,Yr=Yr+Math.imul(xi,_a)|0,Br=Br+Math.imul(xi,ca)|0,Br=Br+Math.imul(Ri,_a)|0,_n=_n+Math.imul(Ri,ca)|0,Yr=Yr+Math.imul(mi,la)|0,Br=Br+Math.imul(mi,ji)|0,Br=Br+Math.imul($i,la)|0,_n=_n+Math.imul($i,ji)|0,Yr=Yr+Math.imul(zn,ua)|0,Br=Br+Math.imul(zn,qi)|0,Br=Br+Math.imul(ri,ua)|0,_n=_n+Math.imul(ri,qi)|0,Yr=Yr+Math.imul(jn,pa)|0,Br=Br+Math.imul(jn,zi)|0,Br=Br+Math.imul(ei,pa)|0,_n=_n+Math.imul(ei,zi)|0,Yr=Yr+Math.imul(ni,fa)|0,Br=Br+Math.imul(ni,Ki)|0,Br=Br+Math.imul(si,fa)|0,_n=_n+Math.imul(si,Ki)|0;var ko=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(ko>>>26)|0,ko&=67108863,Yr=Math.imul(Bi,na),Br=Math.imul(Bi,ia),Br=Br+Math.imul(Ci,na)|0,_n=Math.imul(Ci,ia),Yr=Yr+Math.imul(Ni,wa)|0,Br=Br+Math.imul(Ni,sa)|0,Br=Br+Math.imul(Ai,wa)|0,_n=_n+Math.imul(Ai,sa)|0,Yr=Yr+Math.imul(Pi,_a)|0,Br=Br+Math.imul(Pi,ca)|0,Br=Br+Math.imul(Ei,_a)|0,_n=_n+Math.imul(Ei,ca)|0,Yr=Yr+Math.imul(xi,la)|0,Br=Br+Math.imul(xi,ji)|0,Br=Br+Math.imul(Ri,la)|0,_n=_n+Math.imul(Ri,ji)|0,Yr=Yr+Math.imul(mi,ua)|0,Br=Br+Math.imul(mi,qi)|0,Br=Br+Math.imul($i,ua)|0,_n=_n+Math.imul($i,qi)|0,Yr=Yr+Math.imul(zn,pa)|0,Br=Br+Math.imul(zn,zi)|0,Br=Br+Math.imul(ri,pa)|0,_n=_n+Math.imul(ri,zi)|0,Yr=Yr+Math.imul(jn,fa)|0,Br=Br+Math.imul(jn,Ki)|0,Br=Br+Math.imul(ei,fa)|0,_n=_n+Math.imul(ei,Ki)|0,Yr=Yr+Math.imul(ni,oa)|0,Br=Br+Math.imul(ni,ea)|0,Br=Br+Math.imul(si,oa)|0,_n=_n+Math.imul(si,ea)|0;var $o=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+($o>>>26)|0,$o&=67108863,Yr=Math.imul(Vi,na),Br=Math.imul(Vi,ia),Br=Br+Math.imul(Ii,na)|0,_n=Math.imul(Ii,ia),Yr=Yr+Math.imul(Bi,wa)|0,Br=Br+Math.imul(Bi,sa)|0,Br=Br+Math.imul(Ci,wa)|0,_n=_n+Math.imul(Ci,sa)|0,Yr=Yr+Math.imul(Ni,_a)|0,Br=Br+Math.imul(Ni,ca)|0,Br=Br+Math.imul(Ai,_a)|0,_n=_n+Math.imul(Ai,ca)|0,Yr=Yr+Math.imul(Pi,la)|0,Br=Br+Math.imul(Pi,ji)|0,Br=Br+Math.imul(Ei,la)|0,_n=_n+Math.imul(Ei,ji)|0,Yr=Yr+Math.imul(xi,ua)|0,Br=Br+Math.imul(xi,qi)|0,Br=Br+Math.imul(Ri,ua)|0,_n=_n+Math.imul(Ri,qi)|0,Yr=Yr+Math.imul(mi,pa)|0,Br=Br+Math.imul(mi,zi)|0,Br=Br+Math.imul($i,pa)|0,_n=_n+Math.imul($i,zi)|0,Yr=Yr+Math.imul(zn,fa)|0,Br=Br+Math.imul(zn,Ki)|0,Br=Br+Math.imul(ri,fa)|0,_n=_n+Math.imul(ri,Ki)|0,Yr=Yr+Math.imul(jn,oa)|0,Br=Br+Math.imul(jn,ea)|0,Br=Br+Math.imul(ei,oa)|0,_n=_n+Math.imul(ei,ea)|0,Yr=Yr+Math.imul(ni,Aa)|0,Br=Br+Math.imul(ni,da)|0,Br=Br+Math.imul(si,Aa)|0,_n=_n+Math.imul(si,da)|0;var Mo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,Yr=Math.imul(ra,na),Br=Math.imul(ra,ia),Br=Br+Math.imul(Oi,na)|0,_n=Math.imul(Oi,ia),Yr=Yr+Math.imul(Vi,wa)|0,Br=Br+Math.imul(Vi,sa)|0,Br=Br+Math.imul(Ii,wa)|0,_n=_n+Math.imul(Ii,sa)|0,Yr=Yr+Math.imul(Bi,_a)|0,Br=Br+Math.imul(Bi,ca)|0,Br=Br+Math.imul(Ci,_a)|0,_n=_n+Math.imul(Ci,ca)|0,Yr=Yr+Math.imul(Ni,la)|0,Br=Br+Math.imul(Ni,ji)|0,Br=Br+Math.imul(Ai,la)|0,_n=_n+Math.imul(Ai,ji)|0,Yr=Yr+Math.imul(Pi,ua)|0,Br=Br+Math.imul(Pi,qi)|0,Br=Br+Math.imul(Ei,ua)|0,_n=_n+Math.imul(Ei,qi)|0,Yr=Yr+Math.imul(xi,pa)|0,Br=Br+Math.imul(xi,zi)|0,Br=Br+Math.imul(Ri,pa)|0,_n=_n+Math.imul(Ri,zi)|0,Yr=Yr+Math.imul(mi,fa)|0,Br=Br+Math.imul(mi,Ki)|0,Br=Br+Math.imul($i,fa)|0,_n=_n+Math.imul($i,Ki)|0,Yr=Yr+Math.imul(zn,oa)|0,Br=Br+Math.imul(zn,ea)|0,Br=Br+Math.imul(ri,oa)|0,_n=_n+Math.imul(ri,ea)|0,Yr=Yr+Math.imul(jn,Aa)|0,Br=Br+Math.imul(jn,da)|0,Br=Br+Math.imul(ei,Aa)|0,_n=_n+Math.imul(ei,da)|0,Yr=Yr+Math.imul(ni,va)|0,Br=Br+Math.imul(ni,Ca)|0,Br=Br+Math.imul(si,va)|0,_n=_n+Math.imul(si,Ca)|0;var Oo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,Yr=Math.imul(ra,wa),Br=Math.imul(ra,sa),Br=Br+Math.imul(Oi,wa)|0,_n=Math.imul(Oi,sa),Yr=Yr+Math.imul(Vi,_a)|0,Br=Br+Math.imul(Vi,ca)|0,Br=Br+Math.imul(Ii,_a)|0,_n=_n+Math.imul(Ii,ca)|0,Yr=Yr+Math.imul(Bi,la)|0,Br=Br+Math.imul(Bi,ji)|0,Br=Br+Math.imul(Ci,la)|0,_n=_n+Math.imul(Ci,ji)|0,Yr=Yr+Math.imul(Ni,ua)|0,Br=Br+Math.imul(Ni,qi)|0,Br=Br+Math.imul(Ai,ua)|0,_n=_n+Math.imul(Ai,qi)|0,Yr=Yr+Math.imul(Pi,pa)|0,Br=Br+Math.imul(Pi,zi)|0,Br=Br+Math.imul(Ei,pa)|0,_n=_n+Math.imul(Ei,zi)|0,Yr=Yr+Math.imul(xi,fa)|0,Br=Br+Math.imul(xi,Ki)|0,Br=Br+Math.imul(Ri,fa)|0,_n=_n+Math.imul(Ri,Ki)|0,Yr=Yr+Math.imul(mi,oa)|0,Br=Br+Math.imul(mi,ea)|0,Br=Br+Math.imul($i,oa)|0,_n=_n+Math.imul($i,ea)|0,Yr=Yr+Math.imul(zn,Aa)|0,Br=Br+Math.imul(zn,da)|0,Br=Br+Math.imul(ri,Aa)|0,_n=_n+Math.imul(ri,da)|0,Yr=Yr+Math.imul(jn,va)|0,Br=Br+Math.imul(jn,Ca)|0,Br=Br+Math.imul(ei,va)|0,_n=_n+Math.imul(ei,Ca)|0;var Eo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,Yr=Math.imul(ra,_a),Br=Math.imul(ra,ca),Br=Br+Math.imul(Oi,_a)|0,_n=Math.imul(Oi,ca),Yr=Yr+Math.imul(Vi,la)|0,Br=Br+Math.imul(Vi,ji)|0,Br=Br+Math.imul(Ii,la)|0,_n=_n+Math.imul(Ii,ji)|0,Yr=Yr+Math.imul(Bi,ua)|0,Br=Br+Math.imul(Bi,qi)|0,Br=Br+Math.imul(Ci,ua)|0,_n=_n+Math.imul(Ci,qi)|0,Yr=Yr+Math.imul(Ni,pa)|0,Br=Br+Math.imul(Ni,zi)|0,Br=Br+Math.imul(Ai,pa)|0,_n=_n+Math.imul(Ai,zi)|0,Yr=Yr+Math.imul(Pi,fa)|0,Br=Br+Math.imul(Pi,Ki)|0,Br=Br+Math.imul(Ei,fa)|0,_n=_n+Math.imul(Ei,Ki)|0,Yr=Yr+Math.imul(xi,oa)|0,Br=Br+Math.imul(xi,ea)|0,Br=Br+Math.imul(Ri,oa)|0,_n=_n+Math.imul(Ri,ea)|0,Yr=Yr+Math.imul(mi,Aa)|0,Br=Br+Math.imul(mi,da)|0,Br=Br+Math.imul($i,Aa)|0,_n=_n+Math.imul($i,da)|0,Yr=Yr+Math.imul(zn,va)|0,Br=Br+Math.imul(zn,Ca)|0,Br=Br+Math.imul(ri,va)|0,_n=_n+Math.imul(ri,Ca)|0;var So=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(So>>>26)|0,So&=67108863,Yr=Math.imul(ra,la),Br=Math.imul(ra,ji),Br=Br+Math.imul(Oi,la)|0,_n=Math.imul(Oi,ji),Yr=Yr+Math.imul(Vi,ua)|0,Br=Br+Math.imul(Vi,qi)|0,Br=Br+Math.imul(Ii,ua)|0,_n=_n+Math.imul(Ii,qi)|0,Yr=Yr+Math.imul(Bi,pa)|0,Br=Br+Math.imul(Bi,zi)|0,Br=Br+Math.imul(Ci,pa)|0,_n=_n+Math.imul(Ci,zi)|0,Yr=Yr+Math.imul(Ni,fa)|0,Br=Br+Math.imul(Ni,Ki)|0,Br=Br+Math.imul(Ai,fa)|0,_n=_n+Math.imul(Ai,Ki)|0,Yr=Yr+Math.imul(Pi,oa)|0,Br=Br+Math.imul(Pi,ea)|0,Br=Br+Math.imul(Ei,oa)|0,_n=_n+Math.imul(Ei,ea)|0,Yr=Yr+Math.imul(xi,Aa)|0,Br=Br+Math.imul(xi,da)|0,Br=Br+Math.imul(Ri,Aa)|0,_n=_n+Math.imul(Ri,da)|0,Yr=Yr+Math.imul(mi,va)|0,Br=Br+Math.imul(mi,Ca)|0,Br=Br+Math.imul($i,va)|0,_n=_n+Math.imul($i,Ca)|0;var Ao=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,Yr=Math.imul(ra,ua),Br=Math.imul(ra,qi),Br=Br+Math.imul(Oi,ua)|0,_n=Math.imul(Oi,qi),Yr=Yr+Math.imul(Vi,pa)|0,Br=Br+Math.imul(Vi,zi)|0,Br=Br+Math.imul(Ii,pa)|0,_n=_n+Math.imul(Ii,zi)|0,Yr=Yr+Math.imul(Bi,fa)|0,Br=Br+Math.imul(Bi,Ki)|0,Br=Br+Math.imul(Ci,fa)|0,_n=_n+Math.imul(Ci,Ki)|0,Yr=Yr+Math.imul(Ni,oa)|0,Br=Br+Math.imul(Ni,ea)|0,Br=Br+Math.imul(Ai,oa)|0,_n=_n+Math.imul(Ai,ea)|0,Yr=Yr+Math.imul(Pi,Aa)|0,Br=Br+Math.imul(Pi,da)|0,Br=Br+Math.imul(Ei,Aa)|0,_n=_n+Math.imul(Ei,da)|0,Yr=Yr+Math.imul(xi,va)|0,Br=Br+Math.imul(xi,Ca)|0,Br=Br+Math.imul(Ri,va)|0,_n=_n+Math.imul(Ri,Ca)|0;var co=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(co>>>26)|0,co&=67108863,Yr=Math.imul(ra,pa),Br=Math.imul(ra,zi),Br=Br+Math.imul(Oi,pa)|0,_n=Math.imul(Oi,zi),Yr=Yr+Math.imul(Vi,fa)|0,Br=Br+Math.imul(Vi,Ki)|0,Br=Br+Math.imul(Ii,fa)|0,_n=_n+Math.imul(Ii,Ki)|0,Yr=Yr+Math.imul(Bi,oa)|0,Br=Br+Math.imul(Bi,ea)|0,Br=Br+Math.imul(Ci,oa)|0,_n=_n+Math.imul(Ci,ea)|0,Yr=Yr+Math.imul(Ni,Aa)|0,Br=Br+Math.imul(Ni,da)|0,Br=Br+Math.imul(Ai,Aa)|0,_n=_n+Math.imul(Ai,da)|0,Yr=Yr+Math.imul(Pi,va)|0,Br=Br+Math.imul(Pi,Ca)|0,Br=Br+Math.imul(Ei,va)|0,_n=_n+Math.imul(Ei,Ca)|0;var Bo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,Yr=Math.imul(ra,fa),Br=Math.imul(ra,Ki),Br=Br+Math.imul(Oi,fa)|0,_n=Math.imul(Oi,Ki),Yr=Yr+Math.imul(Vi,oa)|0,Br=Br+Math.imul(Vi,ea)|0,Br=Br+Math.imul(Ii,oa)|0,_n=_n+Math.imul(Ii,ea)|0,Yr=Yr+Math.imul(Bi,Aa)|0,Br=Br+Math.imul(Bi,da)|0,Br=Br+Math.imul(Ci,Aa)|0,_n=_n+Math.imul(Ci,da)|0,Yr=Yr+Math.imul(Ni,va)|0,Br=Br+Math.imul(Ni,Ca)|0,Br=Br+Math.imul(Ai,va)|0,_n=_n+Math.imul(Ai,Ca)|0;var Ho=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,Yr=Math.imul(ra,oa),Br=Math.imul(ra,ea),Br=Br+Math.imul(Oi,oa)|0,_n=Math.imul(Oi,ea),Yr=Yr+Math.imul(Vi,Aa)|0,Br=Br+Math.imul(Vi,da)|0,Br=Br+Math.imul(Ii,Aa)|0,_n=_n+Math.imul(Ii,da)|0,Yr=Yr+Math.imul(Bi,va)|0,Br=Br+Math.imul(Bi,Ca)|0,Br=Br+Math.imul(Ci,va)|0,_n=_n+Math.imul(Ci,Ca)|0;var zo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(zo>>>26)|0,zo&=67108863,Yr=Math.imul(ra,Aa),Br=Math.imul(ra,da),Br=Br+Math.imul(Oi,Aa)|0,_n=Math.imul(Oi,da),Yr=Yr+Math.imul(Vi,va)|0,Br=Br+Math.imul(Vi,Ca)|0,Br=Br+Math.imul(Ii,va)|0,_n=_n+Math.imul(Ii,Ca)|0;var fc=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(fc>>>26)|0,fc&=67108863,Yr=Math.imul(ra,va),Br=Math.imul(ra,Ca),Br=Br+Math.imul(Oi,va)|0,_n=Math.imul(Oi,Ca);var rc=(Kr+Yr|0)+((Br&8191)<<13)|0;return Kr=(_n+(Br>>>13)|0)+(rc>>>26)|0,rc&=67108863,Xr[0]=Io,Xr[1]=Po,Xr[2]=To,Xr[3]=No,Xr[4]=ho,Xr[5]=_o,Xr[6]=ko,Xr[7]=$o,Xr[8]=Mo,Xr[9]=Oo,Xr[10]=Eo,Xr[11]=So,Xr[12]=Ao,Xr[13]=co,Xr[14]=Bo,Xr[15]=Ho,Xr[16]=zo,Xr[17]=fc,Xr[18]=rc,Kr!==0&&(Xr[19]=Kr,qr.length++),qr};Math.imul||(Qr=jr);function wn(Zr,Oe,wr){wr.negative=Oe.negative^Zr.negative,wr.length=Zr.length+Oe.length;for(var qr=0,Vr=0,Jr=0;Jr<wr.length-1;Jr++){var Xr=Vr;Vr=0;for(var Kr=qr&67108863,Yr=Math.min(Jr,Oe.length-1),Br=Math.max(0,Jr-Zr.length+1);Br<=Yr;Br++){var _n=Jr-Br,ii=Zr.words[_n]|0,ni=Oe.words[Br]|0,si=ii*ni,Nn=si&67108863;Xr=Xr+(si/67108864|0)|0,Nn=Nn+Kr|0,Kr=Nn&67108863,Xr=Xr+(Nn>>>26)|0,Vr+=Xr>>>26,Xr&=67108863}wr.words[Jr]=Kr,qr=Xr,Xr=Vr}return qr!==0?wr.words[Jr]=qr:wr.length--,wr._strip()}function En(Zr,Oe,wr){return wn(Zr,Oe,wr)}me.prototype.mulTo=function(Oe,wr){var qr,Vr=this.length+Oe.length;return this.length===10&&Oe.length===10?qr=Qr(this,Oe,wr):Vr<63?qr=jr(this,Oe,wr):Vr<1024?qr=wn(this,Oe,wr):qr=En(this,Oe,wr),qr},me.prototype.mul=function(Oe){var wr=new me(null);return wr.words=new Array(this.length+Oe.length),this.mulTo(Oe,wr)},me.prototype.mulf=function(Oe){var wr=new me(null);return wr.words=new Array(this.length+Oe.length),En(this,Oe,wr)},me.prototype.imul=function(Oe){return this.clone().mulTo(Oe,this)},me.prototype.imuln=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(typeof Oe=="number"),fe(Oe<67108864);for(var qr=0,Vr=0;Vr<this.length;Vr++){var Jr=(this.words[Vr]|0)*Oe,Xr=(Jr&67108863)+(qr&67108863);qr>>=26,qr+=Jr/67108864|0,qr+=Xr>>>26,this.words[Vr]=Xr&67108863}return qr!==0&&(this.words[Vr]=qr,this.length++),wr?this.ineg():this},me.prototype.muln=function(Oe){return this.clone().imuln(Oe)},me.prototype.sqr=function(){return this.mul(this)},me.prototype.isqr=function(){return this.imul(this.clone())},me.prototype.pow=function(Oe){var wr=Gr(Oe);if(wr.length===0)return new me(1);for(var qr=this,Vr=0;Vr<wr.length&&wr[Vr]===0;Vr++,qr=qr.sqr());if(++Vr<wr.length)for(var Jr=qr.sqr();Vr<wr.length;Vr++,Jr=Jr.sqr())wr[Vr]!==0&&(qr=qr.mul(Jr));return qr},me.prototype.iushln=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26,Vr=67108863>>>26-wr<<26-wr,Jr;if(wr!==0){var Xr=0;for(Jr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]&Vr,Yr=(this.words[Jr]|0)-Kr<<wr;this.words[Jr]=Yr|Xr,Xr=Kr>>>26-wr}Xr&&(this.words[Jr]=Xr,this.length++)}if(qr!==0){for(Jr=this.length-1;Jr>=0;Jr--)this.words[Jr+qr]=this.words[Jr];for(Jr=0;Jr<qr;Jr++)this.words[Jr]=0;this.length+=qr}return this._strip()},me.prototype.ishln=function(Oe){return fe(this.negative===0),this.iushln(Oe)},me.prototype.iushrn=function(Oe,wr,qr){fe(typeof Oe=="number"&&Oe>=0);var Vr;wr?Vr=(wr-wr%26)/26:Vr=0;var Jr=Oe%26,Xr=Math.min((Oe-Jr)/26,this.length),Kr=67108863^67108863>>>Jr<<Jr,Yr=qr;if(Vr-=Xr,Vr=Math.max(0,Vr),Yr){for(var Br=0;Br<Xr;Br++)Yr.words[Br]=this.words[Br];Yr.length=Xr}if(Xr!==0)if(this.length>Xr)for(this.length-=Xr,Br=0;Br<this.length;Br++)this.words[Br]=this.words[Br+Xr];else this.words[0]=0,this.length=1;var _n=0;for(Br=this.length-1;Br>=0&&(_n!==0||Br>=Vr);Br--){var ii=this.words[Br]|0;this.words[Br]=_n<<26-Jr|ii>>>Jr,_n=ii&Kr}return Yr&&_n!==0&&(Yr.words[Yr.length++]=_n),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},me.prototype.ishrn=function(Oe,wr,qr){return fe(this.negative===0),this.iushrn(Oe,wr,qr)},me.prototype.shln=function(Oe){return this.clone().ishln(Oe)},me.prototype.ushln=function(Oe){return this.clone().iushln(Oe)},me.prototype.shrn=function(Oe){return this.clone().ishrn(Oe)},me.prototype.ushrn=function(Oe){return this.clone().iushrn(Oe)},me.prototype.testn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26,Vr=1<<wr;if(this.length<=qr)return!1;var Jr=this.words[qr];return!!(Jr&Vr)},me.prototype.imaskn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26;if(fe(this.negative===0,"imaskn works only with positive numbers"),this.length<=qr)return this;if(wr!==0&&qr++,this.length=Math.min(qr,this.length),wr!==0){var Vr=67108863^67108863>>>wr<<wr;this.words[this.length-1]&=Vr}return this._strip()},me.prototype.maskn=function(Oe){return this.clone().imaskn(Oe)},me.prototype.iaddn=function(Oe){return fe(typeof Oe=="number"),fe(Oe<67108864),Oe<0?this.isubn(-Oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=Oe?(this.words[0]=Oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Oe),this.negative=1,this):this._iaddn(Oe)},me.prototype._iaddn=function(Oe){this.words[0]+=Oe;for(var wr=0;wr<this.length&&this.words[wr]>=67108864;wr++)this.words[wr]-=67108864,wr===this.length-1?this.words[wr+1]=1:this.words[wr+1]++;return this.length=Math.max(this.length,wr+1),this},me.prototype.isubn=function(Oe){if(fe(typeof Oe=="number"),fe(Oe<67108864),Oe<0)return this.iaddn(-Oe);if(this.negative!==0)return this.negative=0,this.iaddn(Oe),this.negative=1,this;if(this.words[0]-=Oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var wr=0;wr<this.length&&this.words[wr]<0;wr++)this.words[wr]+=67108864,this.words[wr+1]-=1;return this._strip()},me.prototype.addn=function(Oe){return this.clone().iaddn(Oe)},me.prototype.subn=function(Oe){return this.clone().isubn(Oe)},me.prototype.iabs=function(){return this.negative=0,this},me.prototype.abs=function(){return this.clone().iabs()},me.prototype._ishlnsubmul=function(Oe,wr,qr){var Vr=Oe.length+qr,Jr;this._expand(Vr);var Xr,Kr=0;for(Jr=0;Jr<Oe.length;Jr++){Xr=(this.words[Jr+qr]|0)+Kr;var Yr=(Oe.words[Jr]|0)*wr;Xr-=Yr&67108863,Kr=(Xr>>26)-(Yr/67108864|0),this.words[Jr+qr]=Xr&67108863}for(;Jr<this.length-qr;Jr++)Xr=(this.words[Jr+qr]|0)+Kr,Kr=Xr>>26,this.words[Jr+qr]=Xr&67108863;if(Kr===0)return this._strip();for(fe(Kr===-1),Kr=0,Jr=0;Jr<this.length;Jr++)Xr=-(this.words[Jr]|0)+Kr,Kr=Xr>>26,this.words[Jr]=Xr&67108863;return this.negative=1,this._strip()},me.prototype._wordDiv=function(Oe,wr){var qr=this.length-Oe.length,Vr=this.clone(),Jr=Oe,Xr=Jr.words[Jr.length-1]|0,Kr=this._countBits(Xr);qr=26-Kr,qr!==0&&(Jr=Jr.ushln(qr),Vr.iushln(qr),Xr=Jr.words[Jr.length-1]|0);var Yr=Vr.length-Jr.length,Br;if(wr!=="mod"){Br=new me(null),Br.length=Yr+1,Br.words=new Array(Br.length);for(var _n=0;_n<Br.length;_n++)Br.words[_n]=0}var ii=Vr.clone()._ishlnsubmul(Jr,1,Yr);ii.negative===0&&(Vr=ii,Br&&(Br.words[Yr]=1));for(var ni=Yr-1;ni>=0;ni--){var si=(Vr.words[Jr.length+ni]|0)*67108864+(Vr.words[Jr.length+ni-1]|0);for(si=Math.min(si/Xr|0,67108863),Vr._ishlnsubmul(Jr,si,ni);Vr.negative!==0;)si--,Vr.negative=0,Vr._ishlnsubmul(Jr,1,ni),Vr.isZero()||(Vr.negative^=1);Br&&(Br.words[ni]=si)}return Br&&Br._strip(),Vr._strip(),wr!=="div"&&qr!==0&&Vr.iushrn(qr),{div:Br||null,mod:Vr}},me.prototype.divmod=function(Oe,wr,qr){if(fe(!Oe.isZero()),this.isZero())return{div:new me(0),mod:new me(0)};var Vr,Jr,Xr;return this.negative!==0&&Oe.negative===0?(Xr=this.neg().divmod(Oe,wr),wr!=="mod"&&(Vr=Xr.div.neg()),wr!=="div"&&(Jr=Xr.mod.neg(),qr&&Jr.negative!==0&&Jr.iadd(Oe)),{div:Vr,mod:Jr}):this.negative===0&&Oe.negative!==0?(Xr=this.divmod(Oe.neg(),wr),wr!=="mod"&&(Vr=Xr.div.neg()),{div:Vr,mod:Xr.mod}):this.negative&Oe.negative?(Xr=this.neg().divmod(Oe.neg(),wr),wr!=="div"&&(Jr=Xr.mod.neg(),qr&&Jr.negative!==0&&Jr.isub(Oe)),{div:Xr.div,mod:Jr}):Oe.length>this.length||this.cmp(Oe)<0?{div:new me(0),mod:this}:Oe.length===1?wr==="div"?{div:this.divn(Oe.words[0]),mod:null}:wr==="mod"?{div:null,mod:new me(this.modrn(Oe.words[0]))}:{div:this.divn(Oe.words[0]),mod:new me(this.modrn(Oe.words[0]))}:this._wordDiv(Oe,wr)},me.prototype.div=function(Oe){return this.divmod(Oe,"div",!1).div},me.prototype.mod=function(Oe){return this.divmod(Oe,"mod",!1).mod},me.prototype.umod=function(Oe){return this.divmod(Oe,"mod",!0).mod},me.prototype.divRound=function(Oe){var wr=this.divmod(Oe);if(wr.mod.isZero())return wr.div;var qr=wr.div.negative!==0?wr.mod.isub(Oe):wr.mod,Vr=Oe.ushrn(1),Jr=Oe.andln(1),Xr=qr.cmp(Vr);return Xr<0||Jr===1&&Xr===0?wr.div:wr.div.negative!==0?wr.div.isubn(1):wr.div.iaddn(1)},me.prototype.modrn=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(Oe<=67108863);for(var qr=(1<<26)%Oe,Vr=0,Jr=this.length-1;Jr>=0;Jr--)Vr=(qr*Vr+(this.words[Jr]|0))%Oe;return wr?-Vr:Vr},me.prototype.modn=function(Oe){return this.modrn(Oe)},me.prototype.idivn=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(Oe<=67108863);for(var qr=0,Vr=this.length-1;Vr>=0;Vr--){var Jr=(this.words[Vr]|0)+qr*67108864;this.words[Vr]=Jr/Oe|0,qr=Jr%Oe}return this._strip(),wr?this.ineg():this},me.prototype.divn=function(Oe){return this.clone().idivn(Oe)},me.prototype.egcd=function(Oe){fe(Oe.negative===0),fe(!Oe.isZero());var wr=this,qr=Oe.clone();wr.negative!==0?wr=wr.umod(Oe):wr=wr.clone();for(var Vr=new me(1),Jr=new me(0),Xr=new me(0),Kr=new me(1),Yr=0;wr.isEven()&&qr.isEven();)wr.iushrn(1),qr.iushrn(1),++Yr;for(var Br=qr.clone(),_n=wr.clone();!wr.isZero();){for(var ii=0,ni=1;!(wr.words[0]&ni)&&ii<26;++ii,ni<<=1);if(ii>0)for(wr.iushrn(ii);ii-- >0;)(Vr.isOdd()||Jr.isOdd())&&(Vr.iadd(Br),Jr.isub(_n)),Vr.iushrn(1),Jr.iushrn(1);for(var si=0,Nn=1;!(qr.words[0]&Nn)&&si<26;++si,Nn<<=1);if(si>0)for(qr.iushrn(si);si-- >0;)(Xr.isOdd()||Kr.isOdd())&&(Xr.iadd(Br),Kr.isub(_n)),Xr.iushrn(1),Kr.iushrn(1);wr.cmp(qr)>=0?(wr.isub(qr),Vr.isub(Xr),Jr.isub(Kr)):(qr.isub(wr),Xr.isub(Vr),Kr.isub(Jr))}return{a:Xr,b:Kr,gcd:qr.iushln(Yr)}},me.prototype._invmp=function(Oe){fe(Oe.negative===0),fe(!Oe.isZero());var wr=this,qr=Oe.clone();wr.negative!==0?wr=wr.umod(Oe):wr=wr.clone();for(var Vr=new me(1),Jr=new me(0),Xr=qr.clone();wr.cmpn(1)>0&&qr.cmpn(1)>0;){for(var Kr=0,Yr=1;!(wr.words[0]&Yr)&&Kr<26;++Kr,Yr<<=1);if(Kr>0)for(wr.iushrn(Kr);Kr-- >0;)Vr.isOdd()&&Vr.iadd(Xr),Vr.iushrn(1);for(var Br=0,_n=1;!(qr.words[0]&_n)&&Br<26;++Br,_n<<=1);if(Br>0)for(qr.iushrn(Br);Br-- >0;)Jr.isOdd()&&Jr.iadd(Xr),Jr.iushrn(1);wr.cmp(qr)>=0?(wr.isub(qr),Vr.isub(Jr)):(qr.isub(wr),Jr.isub(Vr))}var ii;return wr.cmpn(1)===0?ii=Vr:ii=Jr,ii.cmpn(0)<0&&ii.iadd(Oe),ii},me.prototype.gcd=function(Oe){if(this.isZero())return Oe.abs();if(Oe.isZero())return this.abs();var wr=this.clone(),qr=Oe.clone();wr.negative=0,qr.negative=0;for(var Vr=0;wr.isEven()&&qr.isEven();Vr++)wr.iushrn(1),qr.iushrn(1);do{for(;wr.isEven();)wr.iushrn(1);for(;qr.isEven();)qr.iushrn(1);var Jr=wr.cmp(qr);if(Jr<0){var Xr=wr;wr=qr,qr=Xr}else if(Jr===0||qr.cmpn(1)===0)break;wr.isub(qr)}while(!0);return qr.iushln(Vr)},me.prototype.invm=function(Oe){return this.egcd(Oe).a.umod(Oe)},me.prototype.isEven=function(){return(this.words[0]&1)===0},me.prototype.isOdd=function(){return(this.words[0]&1)===1},me.prototype.andln=function(Oe){return this.words[0]&Oe},me.prototype.bincn=function(Oe){fe(typeof Oe=="number");var wr=Oe%26,qr=(Oe-wr)/26,Vr=1<<wr;if(this.length<=qr)return this._expand(qr+1),this.words[qr]|=Vr,this;for(var Jr=Vr,Xr=qr;Jr!==0&&Xr<this.length;Xr++){var Kr=this.words[Xr]|0;Kr+=Jr,Jr=Kr>>>26,Kr&=67108863,this.words[Xr]=Kr}return Jr!==0&&(this.words[Xr]=Jr,this.length++),this},me.prototype.isZero=function(){return this.length===1&&this.words[0]===0},me.prototype.cmpn=function(Oe){var wr=Oe<0;if(this.negative!==0&&!wr)return-1;if(this.negative===0&&wr)return 1;this._strip();var qr;if(this.length>1)qr=1;else{wr&&(Oe=-Oe),fe(Oe<=67108863,"Number is too big");var Vr=this.words[0]|0;qr=Vr===Oe?0:Vr<Oe?-1:1}return this.negative!==0?-qr|0:qr},me.prototype.cmp=function(Oe){if(this.negative!==0&&Oe.negative===0)return-1;if(this.negative===0&&Oe.negative!==0)return 1;var wr=this.ucmp(Oe);return this.negative!==0?-wr|0:wr},me.prototype.ucmp=function(Oe){if(this.length>Oe.length)return 1;if(this.length<Oe.length)return-1;for(var wr=0,qr=this.length-1;qr>=0;qr--){var Vr=this.words[qr]|0,Jr=Oe.words[qr]|0;if(Vr!==Jr){Vr<Jr?wr=-1:Vr>Jr&&(wr=1);break}}return wr},me.prototype.gtn=function(Oe){return this.cmpn(Oe)===1},me.prototype.gt=function(Oe){return this.cmp(Oe)===1},me.prototype.gten=function(Oe){return this.cmpn(Oe)>=0},me.prototype.gte=function(Oe){return this.cmp(Oe)>=0},me.prototype.ltn=function(Oe){return this.cmpn(Oe)===-1},me.prototype.lt=function(Oe){return this.cmp(Oe)===-1},me.prototype.lten=function(Oe){return this.cmpn(Oe)<=0},me.prototype.lte=function(Oe){return this.cmp(Oe)<=0},me.prototype.eqn=function(Oe){return this.cmpn(Oe)===0},me.prototype.eq=function(Oe){return this.cmp(Oe)===0},me.red=function(Oe){return new On(Oe)},me.prototype.toRed=function(Oe){return fe(!this.red,"Already a number in reduction context"),fe(this.negative===0,"red works only with positives"),Oe.convertTo(this)._forceRed(Oe)},me.prototype.fromRed=function(){return fe(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},me.prototype._forceRed=function(Oe){return this.red=Oe,this},me.prototype.forceRed=function(Oe){return fe(!this.red,"Already a number in reduction context"),this._forceRed(Oe)},me.prototype.redAdd=function(Oe){return fe(this.red,"redAdd works only with red numbers"),this.red.add(this,Oe)},me.prototype.redIAdd=function(Oe){return fe(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Oe)},me.prototype.redSub=function(Oe){return fe(this.red,"redSub works only with red numbers"),this.red.sub(this,Oe)},me.prototype.redISub=function(Oe){return fe(this.red,"redISub works only with red numbers"),this.red.isub(this,Oe)},me.prototype.redShl=function(Oe){return fe(this.red,"redShl works only with red numbers"),this.red.shl(this,Oe)},me.prototype.redMul=function(Oe){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Oe),this.red.mul(this,Oe)},me.prototype.redIMul=function(Oe){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Oe),this.red.imul(this,Oe)},me.prototype.redSqr=function(){return fe(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},me.prototype.redISqr=function(){return fe(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},me.prototype.redSqrt=function(){return fe(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},me.prototype.redInvm=function(){return fe(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},me.prototype.redNeg=function(){return fe(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},me.prototype.redPow=function(Oe){return fe(this.red&&!Oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Oe)};var Rn={k256:null,p224:null,p192:null,p25519:null};function An(Zr,Oe){this.name=Zr,this.p=new me(Oe,16),this.n=this.p.bitLength(),this.k=new me(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}An.prototype._tmp=function(){var Oe=new me(null);return Oe.words=new Array(Math.ceil(this.n/13)),Oe},An.prototype.ireduce=function(Oe){var wr=Oe,qr;do this.split(wr,this.tmp),wr=this.imulK(wr),wr=wr.iadd(this.tmp),qr=wr.bitLength();while(qr>this.n);var Vr=qr<this.n?-1:wr.ucmp(this.p);return Vr===0?(wr.words[0]=0,wr.length=1):Vr>0?wr.isub(this.p):wr.strip!==void 0?wr.strip():wr._strip(),wr},An.prototype.split=function(Oe,wr){Oe.iushrn(this.n,0,wr)},An.prototype.imulK=function(Oe){return Oe.imul(this.k)};function $n(){An.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ye($n,An),$n.prototype.split=function(Oe,wr){for(var qr=4194303,Vr=Math.min(Oe.length,9),Jr=0;Jr<Vr;Jr++)wr.words[Jr]=Oe.words[Jr];if(wr.length=Vr,Oe.length<=9){Oe.words[0]=0,Oe.length=1;return}var Xr=Oe.words[9];for(wr.words[wr.length++]=Xr&qr,Jr=10;Jr<Oe.length;Jr++){var Kr=Oe.words[Jr]|0;Oe.words[Jr-10]=(Kr&qr)<<4|Xr>>>22,Xr=Kr}Xr>>>=22,Oe.words[Jr-10]=Xr,Xr===0&&Oe.length>10?Oe.length-=10:Oe.length-=9},$n.prototype.imulK=function(Oe){Oe.words[Oe.length]=0,Oe.words[Oe.length+1]=0,Oe.length+=2;for(var wr=0,qr=0;qr<Oe.length;qr++){var Vr=Oe.words[qr]|0;wr+=Vr*977,Oe.words[qr]=wr&67108863,wr=Vr*64+(wr/67108864|0)}return Oe.words[Oe.length-1]===0&&(Oe.length--,Oe.words[Oe.length-1]===0&&Oe.length--),Oe};function Tn(){An.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ye(Tn,An);function ti(){An.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ye(ti,An);function ai(){An.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ye(ai,An),ai.prototype.imulK=function(Oe){for(var wr=0,qr=0;qr<Oe.length;qr++){var Vr=(Oe.words[qr]|0)*19+wr,Jr=Vr&67108863;Vr>>>=26,Oe.words[qr]=Jr,wr=Vr}return wr!==0&&(Oe.words[Oe.length++]=wr),Oe},me._prime=function(Oe){if(Rn[Oe])return Rn[Oe];var wr;if(Oe==="k256")wr=new $n;else if(Oe==="p224")wr=new Tn;else if(Oe==="p192")wr=new ti;else if(Oe==="p25519")wr=new ai;else throw new Error("Unknown prime "+Oe);return Rn[Oe]=wr,wr};function On(Zr){if(typeof Zr=="string"){var Oe=me._prime(Zr);this.m=Oe.p,this.prime=Oe}else fe(Zr.gtn(1),"modulus must be greater than 1"),this.m=Zr,this.prime=null}On.prototype._verify1=function(Oe){fe(Oe.negative===0,"red works only with positives"),fe(Oe.red,"red works only with red numbers")},On.prototype._verify2=function(Oe,wr){fe((Oe.negative|wr.negative)===0,"red works only with positives"),fe(Oe.red&&Oe.red===wr.red,"red works only with red numbers")},On.prototype.imod=function(Oe){return this.prime?this.prime.ireduce(Oe)._forceRed(this):(Se(Oe,Oe.umod(this.m)._forceRed(this)),Oe)},On.prototype.neg=function(Oe){return Oe.isZero()?Oe.clone():this.m.sub(Oe)._forceRed(this)},On.prototype.add=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.add(wr);return qr.cmp(this.m)>=0&&qr.isub(this.m),qr._forceRed(this)},On.prototype.iadd=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.iadd(wr);return qr.cmp(this.m)>=0&&qr.isub(this.m),qr},On.prototype.sub=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.sub(wr);return qr.cmpn(0)<0&&qr.iadd(this.m),qr._forceRed(this)},On.prototype.isub=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.isub(wr);return qr.cmpn(0)<0&&qr.iadd(this.m),qr},On.prototype.shl=function(Oe,wr){return this._verify1(Oe),this.imod(Oe.ushln(wr))},On.prototype.imul=function(Oe,wr){return this._verify2(Oe,wr),this.imod(Oe.imul(wr))},On.prototype.mul=function(Oe,wr){return this._verify2(Oe,wr),this.imod(Oe.mul(wr))},On.prototype.isqr=function(Oe){return this.imul(Oe,Oe.clone())},On.prototype.sqr=function(Oe){return this.mul(Oe,Oe)},On.prototype.sqrt=function(Oe){if(Oe.isZero())return Oe.clone();var wr=this.m.andln(3);if(fe(wr%2===1),wr===3){var qr=this.m.add(new me(1)).iushrn(2);return this.pow(Oe,qr)}for(var Vr=this.m.subn(1),Jr=0;!Vr.isZero()&&Vr.andln(1)===0;)Jr++,Vr.iushrn(1);fe(!Vr.isZero());var Xr=new me(1).toRed(this),Kr=Xr.redNeg(),Yr=this.m.subn(1).iushrn(1),Br=this.m.bitLength();for(Br=new me(2*Br*Br).toRed(this);this.pow(Br,Yr).cmp(Kr)!==0;)Br.redIAdd(Kr);for(var _n=this.pow(Br,Vr),ii=this.pow(Oe,Vr.addn(1).iushrn(1)),ni=this.pow(Oe,Vr),si=Jr;ni.cmp(Xr)!==0;){for(var Nn=ni,jn=0;Nn.cmp(Xr)!==0;jn++)Nn=Nn.redSqr();fe(jn<si);var ei=this.pow(_n,new me(1).iushln(si-jn-1));ii=ii.redMul(ei),_n=ei.redSqr(),ni=ni.redMul(_n),si=jn}return ii},On.prototype.invm=function(Oe){var wr=Oe._invmp(this.m);return wr.negative!==0?(wr.negative=0,this.imod(wr).redNeg()):this.imod(wr)},On.prototype.pow=function(Oe,wr){if(wr.isZero())return new me(1).toRed(this);if(wr.cmpn(1)===0)return Oe.clone();var qr=4,Vr=new Array(1<<qr);Vr[0]=new me(1).toRed(this),Vr[1]=Oe;for(var Jr=2;Jr<Vr.length;Jr++)Vr[Jr]=this.mul(Vr[Jr-1],Oe);var Xr=Vr[0],Kr=0,Yr=0,Br=wr.bitLength()%26;for(Br===0&&(Br=26),Jr=wr.length-1;Jr>=0;Jr--){for(var _n=wr.words[Jr],ii=Br-1;ii>=0;ii--){var ni=_n>>ii&1;if(Xr!==Vr[0]&&(Xr=this.sqr(Xr)),ni===0&&Kr===0){Yr=0;continue}Kr<<=1,Kr|=ni,Yr++,!(Yr!==qr&&(Jr!==0||ii!==0))&&(Xr=this.mul(Xr,Vr[Kr]),Yr=0,Kr=0)}Br=26}return Xr},On.prototype.convertTo=function(Oe){var wr=Oe.umod(this.m);return wr===Oe?wr.clone():wr},On.prototype.convertFrom=function(Oe){var wr=Oe.clone();return wr.red=null,wr},me.mont=function(Oe){return new Sn(Oe)};function Sn(Zr){On.call(this,Zr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new me(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ye(Sn,On),Sn.prototype.convertTo=function(Oe){return this.imod(Oe.ushln(this.shift))},Sn.prototype.convertFrom=function(Oe){var wr=this.imod(Oe.mul(this.rinv));return wr.red=null,wr},Sn.prototype.imul=function(Oe,wr){if(Oe.isZero()||wr.isZero())return Oe.words[0]=0,Oe.length=1,Oe;var qr=Oe.imul(wr),Vr=qr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Jr=qr.isub(Vr).iushrn(this.shift),Xr=Jr;return Jr.cmp(this.m)>=0?Xr=Jr.isub(this.m):Jr.cmpn(0)<0&&(Xr=Jr.iadd(this.m)),Xr._forceRed(this)},Sn.prototype.mul=function(Oe,wr){if(Oe.isZero()||wr.isZero())return new me(0)._forceRed(this);var qr=Oe.mul(wr),Vr=qr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Jr=qr.isub(Vr).iushrn(this.shift),Xr=Jr;return Jr.cmp(this.m)>=0?Xr=Jr.isub(this.m):Jr.cmpn(0)<0&&(Xr=Jr.iadd(this.m)),Xr._forceRed(this)},Sn.prototype.invm=function(Oe){var wr=this.imod(Oe._invmp(this.m).mul(this.r2));return wr._forceRed(this)}})(se,bn$4)}(bn$5)),bn$5.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var se=requireBn$2(),Y=requireBrowser$e(),ne=requireSafeBuffer$1().Buffer;function fe(be){var we=be.modulus.byteLength(),Ee;do Ee=new se(Y(we));while(Ee.cmp(be.modulus)>=0||!Ee.umod(be.prime1)||!Ee.umod(be.prime2));return Ee}function ye(be){var we=fe(be),Ee=we.toRed(se.mont(be.modulus)).redPow(new se(be.publicExponent)).fromRed();return{blinder:Ee,unblinder:we.invm(be.modulus)}}function me(be,we){var Ee=ye(we),xe=we.modulus.byteLength(),Se=new se(be).mul(Ee.blinder).umod(we.modulus),Ie=Se.toRed(se.mont(we.prime1)),fr=Se.toRed(se.mont(we.prime2)),br=we.coefficient,kr=we.prime1,Wr=we.prime2,Gr=Ie.redPow(we.exponent1).fromRed(),jr=fr.redPow(we.exponent2).fromRed(),Qr=Gr.isub(jr).imul(br).umod(kr).imul(Wr);return jr.iadd(Qr).imul(Ee.unblinder).umod(we.modulus).toArrayLike(ne,"be",xe)}return me.getr=fe,browserifyRsa=me,browserifyRsa}var elliptic={};const name="elliptic",version$3="6.6.1",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$7={name,version:version$3,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$4={},utils$3={},hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,function(se){var Y=se;function ne(me,be){if(Array.isArray(me))return me.slice();if(!me)return[];var we=[];if(typeof me!="string"){for(var Ee=0;Ee<me.length;Ee++)we[Ee]=me[Ee]|0;return we}if(be==="hex"){me=me.replace(/[^a-z0-9]+/ig,""),me.length%2!==0&&(me="0"+me);for(var Ee=0;Ee<me.length;Ee+=2)we.push(parseInt(me[Ee]+me[Ee+1],16))}else for(var Ee=0;Ee<me.length;Ee++){var xe=me.charCodeAt(Ee),Se=xe>>8,Ie=xe&255;Se?we.push(Se,Ie):we.push(Ie)}return we}Y.toArray=ne;function fe(me){return me.length===1?"0"+me:me}Y.zero2=fe;function ye(me){for(var be="",we=0;we<me.length;we++)be+=fe(me[we].toString(16));return be}Y.toHex=ye,Y.encode=function(be,we){return we==="hex"?ye(be):be}}(utils$3)),utils$3}var hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(se){var Y=se,ne=requireBn$3(),fe=requireMinimalisticAssert(),ye=requireUtils$4();Y.assert=fe,Y.toArray=ye.toArray,Y.zero2=ye.zero2,Y.toHex=ye.toHex,Y.encode=ye.encode;function me(Se,Ie,fr){var br=new Array(Math.max(Se.bitLength(),fr)+1),kr;for(kr=0;kr<br.length;kr+=1)br[kr]=0;var Wr=1<<Ie+1,Gr=Se.clone();for(kr=0;kr<br.length;kr++){var jr,Qr=Gr.andln(Wr-1);Gr.isOdd()?(Qr>(Wr>>1)-1?jr=(Wr>>1)-Qr:jr=Qr,Gr.isubn(jr)):jr=0,br[kr]=jr,Gr.iushrn(1)}return br}Y.getNAF=me;function be(Se,Ie){var fr=[[],[]];Se=Se.clone(),Ie=Ie.clone();for(var br=0,kr=0,Wr;Se.cmpn(-br)>0||Ie.cmpn(-kr)>0;){var Gr=Se.andln(3)+br&3,jr=Ie.andln(3)+kr&3;Gr===3&&(Gr=-1),jr===3&&(jr=-1);var Qr;Gr&1?(Wr=Se.andln(7)+br&7,(Wr===3||Wr===5)&&jr===2?Qr=-Gr:Qr=Gr):Qr=0,fr[0].push(Qr);var wn;jr&1?(Wr=Ie.andln(7)+kr&7,(Wr===3||Wr===5)&&Gr===2?wn=-jr:wn=jr):wn=0,fr[1].push(wn),2*br===Qr+1&&(br=1-br),2*kr===wn+1&&(kr=1-kr),Se.iushrn(1),Ie.iushrn(1)}return fr}Y.getJSF=be;function we(Se,Ie,fr){var br="_"+Ie;Se.prototype[Ie]=function(){return this[br]!==void 0?this[br]:this[br]=fr.call(this)}}Y.cachedProperty=we;function Ee(Se){return typeof Se=="string"?Y.toArray(Se,"hex"):Se}Y.parseBytes=Ee;function xe(Se){return new ne(Se,"hex","le")}Y.intFromLE=xe}(utils$4)),utils$4}var curve={},base$2,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$2;hasRequiredBase$1=1;var se=requireBn$3(),Y=requireUtils$3(),ne=Y.getNAF,fe=Y.getJSF,ye=Y.assert;function me(we,Ee){this.type=we,this.p=new se(Ee.p,16),this.red=Ee.prime?se.red(Ee.prime):se.mont(this.p),this.zero=new se(0).toRed(this.red),this.one=new se(1).toRed(this.red),this.two=new se(2).toRed(this.red),this.n=Ee.n&&new se(Ee.n,16),this.g=Ee.g&&this.pointFromJSON(Ee.g,Ee.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var xe=this.n&&this.p.div(this.n);!xe||xe.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$2=me,me.prototype.point=function(){throw new Error("Not implemented")},me.prototype.validate=function(){throw new Error("Not implemented")},me.prototype._fixedNafMul=function(Ee,xe){ye(Ee.precomputed);var Se=Ee._getDoubles(),Ie=ne(xe,1,this._bitLength),fr=(1<<Se.step+1)-(Se.step%2===0?2:1);fr/=3;var br=[],kr,Wr;for(kr=0;kr<Ie.length;kr+=Se.step){Wr=0;for(var Gr=kr+Se.step-1;Gr>=kr;Gr--)Wr=(Wr<<1)+Ie[Gr];br.push(Wr)}for(var jr=this.jpoint(null,null,null),Qr=this.jpoint(null,null,null),wn=fr;wn>0;wn--){for(kr=0;kr<br.length;kr++)Wr=br[kr],Wr===wn?Qr=Qr.mixedAdd(Se.points[kr]):Wr===-wn&&(Qr=Qr.mixedAdd(Se.points[kr].neg()));jr=jr.add(Qr)}return jr.toP()},me.prototype._wnafMul=function(Ee,xe){var Se=4,Ie=Ee._getNAFPoints(Se);Se=Ie.wnd;for(var fr=Ie.points,br=ne(xe,Se,this._bitLength),kr=this.jpoint(null,null,null),Wr=br.length-1;Wr>=0;Wr--){for(var Gr=0;Wr>=0&&br[Wr]===0;Wr--)Gr++;if(Wr>=0&&Gr++,kr=kr.dblp(Gr),Wr<0)break;var jr=br[Wr];ye(jr!==0),Ee.type==="affine"?jr>0?kr=kr.mixedAdd(fr[jr-1>>1]):kr=kr.mixedAdd(fr[-jr-1>>1].neg()):jr>0?kr=kr.add(fr[jr-1>>1]):kr=kr.add(fr[-jr-1>>1].neg())}return Ee.type==="affine"?kr.toP():kr},me.prototype._wnafMulAdd=function(Ee,xe,Se,Ie,fr){var br=this._wnafT1,kr=this._wnafT2,Wr=this._wnafT3,Gr=0,jr,Qr,wn;for(jr=0;jr<Ie;jr++){wn=xe[jr];var En=wn._getNAFPoints(Ee);br[jr]=En.wnd,kr[jr]=En.points}for(jr=Ie-1;jr>=1;jr-=2){var Rn=jr-1,An=jr;if(br[Rn]!==1||br[An]!==1){Wr[Rn]=ne(Se[Rn],br[Rn],this._bitLength),Wr[An]=ne(Se[An],br[An],this._bitLength),Gr=Math.max(Wr[Rn].length,Gr),Gr=Math.max(Wr[An].length,Gr);continue}var $n=[xe[Rn],null,null,xe[An]];xe[Rn].y.cmp(xe[An].y)===0?($n[1]=xe[Rn].add(xe[An]),$n[2]=xe[Rn].toJ().mixedAdd(xe[An].neg())):xe[Rn].y.cmp(xe[An].y.redNeg())===0?($n[1]=xe[Rn].toJ().mixedAdd(xe[An]),$n[2]=xe[Rn].add(xe[An].neg())):($n[1]=xe[Rn].toJ().mixedAdd(xe[An]),$n[2]=xe[Rn].toJ().mixedAdd(xe[An].neg()));var Tn=[-3,-1,-5,-7,0,7,5,1,3],ti=fe(Se[Rn],Se[An]);for(Gr=Math.max(ti[0].length,Gr),Wr[Rn]=new Array(Gr),Wr[An]=new Array(Gr),Qr=0;Qr<Gr;Qr++){var ai=ti[0][Qr]|0,On=ti[1][Qr]|0;Wr[Rn][Qr]=Tn[(ai+1)*3+(On+1)],Wr[An][Qr]=0,kr[Rn]=$n}}var Sn=this.jpoint(null,null,null),Zr=this._wnafT4;for(jr=Gr;jr>=0;jr--){for(var Oe=0;jr>=0;){var wr=!0;for(Qr=0;Qr<Ie;Qr++)Zr[Qr]=Wr[Qr][jr]|0,Zr[Qr]!==0&&(wr=!1);if(!wr)break;Oe++,jr--}if(jr>=0&&Oe++,Sn=Sn.dblp(Oe),jr<0)break;for(Qr=0;Qr<Ie;Qr++){var qr=Zr[Qr];qr!==0&&(qr>0?wn=kr[Qr][qr-1>>1]:qr<0&&(wn=kr[Qr][-qr-1>>1].neg()),wn.type==="affine"?Sn=Sn.mixedAdd(wn):Sn=Sn.add(wn))}}for(jr=0;jr<Ie;jr++)kr[jr]=null;return fr?Sn:Sn.toP()};function be(we,Ee){this.curve=we,this.type=Ee,this.precomputed=null}return me.BasePoint=be,be.prototype.eq=function(){throw new Error("Not implemented")},be.prototype.validate=function(){return this.curve.validate(this)},me.prototype.decodePoint=function(Ee,xe){Ee=Y.toArray(Ee,xe);var Se=this.p.byteLength();if((Ee[0]===4||Ee[0]===6||Ee[0]===7)&&Ee.length-1===2*Se){Ee[0]===6?ye(Ee[Ee.length-1]%2===0):Ee[0]===7&&ye(Ee[Ee.length-1]%2===1);var Ie=this.point(Ee.slice(1,1+Se),Ee.slice(1+Se,1+2*Se));return Ie}else if((Ee[0]===2||Ee[0]===3)&&Ee.length-1===Se)return this.pointFromX(Ee.slice(1,1+Se),Ee[0]===3);throw new Error("Unknown point format")},be.prototype.encodeCompressed=function(Ee){return this.encode(Ee,!0)},be.prototype._encode=function(Ee){var xe=this.curve.p.byteLength(),Se=this.getX().toArray("be",xe);return Ee?[this.getY().isEven()?2:3].concat(Se):[4].concat(Se,this.getY().toArray("be",xe))},be.prototype.encode=function(Ee,xe){return Y.encode(this._encode(xe),Ee)},be.prototype.precompute=function(Ee){if(this.precomputed)return this;var xe={doubles:null,naf:null,beta:null};return xe.naf=this._getNAFPoints(8),xe.doubles=this._getDoubles(4,Ee),xe.beta=this._getBeta(),this.precomputed=xe,this},be.prototype._hasDoubles=function(Ee){if(!this.precomputed)return!1;var xe=this.precomputed.doubles;return xe?xe.points.length>=Math.ceil((Ee.bitLength()+1)/xe.step):!1},be.prototype._getDoubles=function(Ee,xe){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Se=[this],Ie=this,fr=0;fr<xe;fr+=Ee){for(var br=0;br<Ee;br++)Ie=Ie.dbl();Se.push(Ie)}return{step:Ee,points:Se}},be.prototype._getNAFPoints=function(Ee){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var xe=[this],Se=(1<<Ee)-1,Ie=Se===1?null:this.dbl(),fr=1;fr<Se;fr++)xe[fr]=xe[fr-1].add(Ie);return{wnd:Ee,points:xe}},be.prototype._getBeta=function(){return null},be.prototype.dblp=function(Ee){for(var xe=this,Se=0;Se<Ee;Se++)xe=xe.dbl();return xe},base$2}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var se=requireUtils$3(),Y=requireBn$3(),ne=requireInherits_browser(),fe=requireBase$1(),ye=se.assert;function me(Ee){fe.call(this,"short",Ee),this.a=new Y(Ee.a,16).toRed(this.red),this.b=new Y(Ee.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Ee),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ne(me,fe),short=me,me.prototype._getEndomorphism=function(xe){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Se,Ie;if(xe.beta)Se=new Y(xe.beta,16).toRed(this.red);else{var fr=this._getEndoRoots(this.p);Se=fr[0].cmp(fr[1])<0?fr[0]:fr[1],Se=Se.toRed(this.red)}if(xe.lambda)Ie=new Y(xe.lambda,16);else{var br=this._getEndoRoots(this.n);this.g.mul(br[0]).x.cmp(this.g.x.redMul(Se))===0?Ie=br[0]:(Ie=br[1],ye(this.g.mul(Ie).x.cmp(this.g.x.redMul(Se))===0))}var kr;return xe.basis?kr=xe.basis.map(function(Wr){return{a:new Y(Wr.a,16),b:new Y(Wr.b,16)}}):kr=this._getEndoBasis(Ie),{beta:Se,lambda:Ie,basis:kr}}},me.prototype._getEndoRoots=function(xe){var Se=xe===this.p?this.red:Y.mont(xe),Ie=new Y(2).toRed(Se).redInvm(),fr=Ie.redNeg(),br=new Y(3).toRed(Se).redNeg().redSqrt().redMul(Ie),kr=fr.redAdd(br).fromRed(),Wr=fr.redSub(br).fromRed();return[kr,Wr]},me.prototype._getEndoBasis=function(xe){for(var Se=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Ie=xe,fr=this.n.clone(),br=new Y(1),kr=new Y(0),Wr=new Y(0),Gr=new Y(1),jr,Qr,wn,En,Rn,An,$n,Tn=0,ti,ai;Ie.cmpn(0)!==0;){var On=fr.div(Ie);ti=fr.sub(On.mul(Ie)),ai=Wr.sub(On.mul(br));var Sn=Gr.sub(On.mul(kr));if(!wn&&ti.cmp(Se)<0)jr=$n.neg(),Qr=br,wn=ti.neg(),En=ai;else if(wn&&++Tn===2)break;$n=ti,fr=Ie,Ie=ti,Wr=br,br=ai,Gr=kr,kr=Sn}Rn=ti.neg(),An=ai;var Zr=wn.sqr().add(En.sqr()),Oe=Rn.sqr().add(An.sqr());return Oe.cmp(Zr)>=0&&(Rn=jr,An=Qr),wn.negative&&(wn=wn.neg(),En=En.neg()),Rn.negative&&(Rn=Rn.neg(),An=An.neg()),[{a:wn,b:En},{a:Rn,b:An}]},me.prototype._endoSplit=function(xe){var Se=this.endo.basis,Ie=Se[0],fr=Se[1],br=fr.b.mul(xe).divRound(this.n),kr=Ie.b.neg().mul(xe).divRound(this.n),Wr=br.mul(Ie.a),Gr=kr.mul(fr.a),jr=br.mul(Ie.b),Qr=kr.mul(fr.b),wn=xe.sub(Wr).sub(Gr),En=jr.add(Qr).neg();return{k1:wn,k2:En}},me.prototype.pointFromX=function(xe,Se){xe=new Y(xe,16),xe.red||(xe=xe.toRed(this.red));var Ie=xe.redSqr().redMul(xe).redIAdd(xe.redMul(this.a)).redIAdd(this.b),fr=Ie.redSqrt();if(fr.redSqr().redSub(Ie).cmp(this.zero)!==0)throw new Error("invalid point");var br=fr.fromRed().isOdd();return(Se&&!br||!Se&&br)&&(fr=fr.redNeg()),this.point(xe,fr)},me.prototype.validate=function(xe){if(xe.inf)return!0;var Se=xe.x,Ie=xe.y,fr=this.a.redMul(Se),br=Se.redSqr().redMul(Se).redIAdd(fr).redIAdd(this.b);return Ie.redSqr().redISub(br).cmpn(0)===0},me.prototype._endoWnafMulAdd=function(xe,Se,Ie){for(var fr=this._endoWnafT1,br=this._endoWnafT2,kr=0;kr<xe.length;kr++){var Wr=this._endoSplit(Se[kr]),Gr=xe[kr],jr=Gr._getBeta();Wr.k1.negative&&(Wr.k1.ineg(),Gr=Gr.neg(!0)),Wr.k2.negative&&(Wr.k2.ineg(),jr=jr.neg(!0)),fr[kr*2]=Gr,fr[kr*2+1]=jr,br[kr*2]=Wr.k1,br[kr*2+1]=Wr.k2}for(var Qr=this._wnafMulAdd(1,fr,br,kr*2,Ie),wn=0;wn<kr*2;wn++)fr[wn]=null,br[wn]=null;return Qr};function be(Ee,xe,Se,Ie){fe.BasePoint.call(this,Ee,"affine"),xe===null&&Se===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Y(xe,16),this.y=new Y(Se,16),Ie&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ne(be,fe.BasePoint),me.prototype.point=function(xe,Se,Ie){return new be(this,xe,Se,Ie)},me.prototype.pointFromJSON=function(xe,Se){return be.fromJSON(this,xe,Se)},be.prototype._getBeta=function(){if(this.curve.endo){var xe=this.precomputed;if(xe&&xe.beta)return xe.beta;var Se=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(xe){var Ie=this.curve,fr=function(br){return Ie.point(br.x.redMul(Ie.endo.beta),br.y)};xe.beta=Se,Se.precomputed={beta:null,naf:xe.naf&&{wnd:xe.naf.wnd,points:xe.naf.points.map(fr)},doubles:xe.doubles&&{step:xe.doubles.step,points:xe.doubles.points.map(fr)}}}return Se}},be.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},be.fromJSON=function(xe,Se,Ie){typeof Se=="string"&&(Se=JSON.parse(Se));var fr=xe.point(Se[0],Se[1],Ie);if(!Se[2])return fr;function br(Wr){return xe.point(Wr[0],Wr[1],Ie)}var kr=Se[2];return fr.precomputed={beta:null,doubles:kr.doubles&&{step:kr.doubles.step,points:[fr].concat(kr.doubles.points.map(br))},naf:kr.naf&&{wnd:kr.naf.wnd,points:[fr].concat(kr.naf.points.map(br))}},fr},be.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},be.prototype.isInfinity=function(){return this.inf},be.prototype.add=function(xe){if(this.inf)return xe;if(xe.inf)return this;if(this.eq(xe))return this.dbl();if(this.neg().eq(xe))return this.curve.point(null,null);if(this.x.cmp(xe.x)===0)return this.curve.point(null,null);var Se=this.y.redSub(xe.y);Se.cmpn(0)!==0&&(Se=Se.redMul(this.x.redSub(xe.x).redInvm()));var Ie=Se.redSqr().redISub(this.x).redISub(xe.x),fr=Se.redMul(this.x.redSub(Ie)).redISub(this.y);return this.curve.point(Ie,fr)},be.prototype.dbl=function(){if(this.inf)return this;var xe=this.y.redAdd(this.y);if(xe.cmpn(0)===0)return this.curve.point(null,null);var Se=this.curve.a,Ie=this.x.redSqr(),fr=xe.redInvm(),br=Ie.redAdd(Ie).redIAdd(Ie).redIAdd(Se).redMul(fr),kr=br.redSqr().redISub(this.x.redAdd(this.x)),Wr=br.redMul(this.x.redSub(kr)).redISub(this.y);return this.curve.point(kr,Wr)},be.prototype.getX=function(){return this.x.fromRed()},be.prototype.getY=function(){return this.y.fromRed()},be.prototype.mul=function(xe){return xe=new Y(xe,16),this.isInfinity()?this:this._hasDoubles(xe)?this.curve._fixedNafMul(this,xe):this.curve.endo?this.curve._endoWnafMulAdd([this],[xe]):this.curve._wnafMul(this,xe)},be.prototype.mulAdd=function(xe,Se,Ie){var fr=[this,Se],br=[xe,Ie];return this.curve.endo?this.curve._endoWnafMulAdd(fr,br):this.curve._wnafMulAdd(1,fr,br,2)},be.prototype.jmulAdd=function(xe,Se,Ie){var fr=[this,Se],br=[xe,Ie];return this.curve.endo?this.curve._endoWnafMulAdd(fr,br,!0):this.curve._wnafMulAdd(1,fr,br,2,!0)},be.prototype.eq=function(xe){return this===xe||this.inf===xe.inf&&(this.inf||this.x.cmp(xe.x)===0&&this.y.cmp(xe.y)===0)},be.prototype.neg=function(xe){if(this.inf)return this;var Se=this.curve.point(this.x,this.y.redNeg());if(xe&&this.precomputed){var Ie=this.precomputed,fr=function(br){return br.neg()};Se.precomputed={naf:Ie.naf&&{wnd:Ie.naf.wnd,points:Ie.naf.points.map(fr)},doubles:Ie.doubles&&{step:Ie.doubles.step,points:Ie.doubles.points.map(fr)}}}return Se},be.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var xe=this.curve.jpoint(this.x,this.y,this.curve.one);return xe};function we(Ee,xe,Se,Ie){fe.BasePoint.call(this,Ee,"jacobian"),xe===null&&Se===null&&Ie===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Y(0)):(this.x=new Y(xe,16),this.y=new Y(Se,16),this.z=new Y(Ie,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return ne(we,fe.BasePoint),me.prototype.jpoint=function(xe,Se,Ie){return new we(this,xe,Se,Ie)},we.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var xe=this.z.redInvm(),Se=xe.redSqr(),Ie=this.x.redMul(Se),fr=this.y.redMul(Se).redMul(xe);return this.curve.point(Ie,fr)},we.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},we.prototype.add=function(xe){if(this.isInfinity())return xe;if(xe.isInfinity())return this;var Se=xe.z.redSqr(),Ie=this.z.redSqr(),fr=this.x.redMul(Se),br=xe.x.redMul(Ie),kr=this.y.redMul(Se.redMul(xe.z)),Wr=xe.y.redMul(Ie.redMul(this.z)),Gr=fr.redSub(br),jr=kr.redSub(Wr);if(Gr.cmpn(0)===0)return jr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Qr=Gr.redSqr(),wn=Qr.redMul(Gr),En=fr.redMul(Qr),Rn=jr.redSqr().redIAdd(wn).redISub(En).redISub(En),An=jr.redMul(En.redISub(Rn)).redISub(kr.redMul(wn)),$n=this.z.redMul(xe.z).redMul(Gr);return this.curve.jpoint(Rn,An,$n)},we.prototype.mixedAdd=function(xe){if(this.isInfinity())return xe.toJ();if(xe.isInfinity())return this;var Se=this.z.redSqr(),Ie=this.x,fr=xe.x.redMul(Se),br=this.y,kr=xe.y.redMul(Se).redMul(this.z),Wr=Ie.redSub(fr),Gr=br.redSub(kr);if(Wr.cmpn(0)===0)return Gr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var jr=Wr.redSqr(),Qr=jr.redMul(Wr),wn=Ie.redMul(jr),En=Gr.redSqr().redIAdd(Qr).redISub(wn).redISub(wn),Rn=Gr.redMul(wn.redISub(En)).redISub(br.redMul(Qr)),An=this.z.redMul(Wr);return this.curve.jpoint(En,Rn,An)},we.prototype.dblp=function(xe){if(xe===0)return this;if(this.isInfinity())return this;if(!xe)return this.dbl();var Se;if(this.curve.zeroA||this.curve.threeA){var Ie=this;for(Se=0;Se<xe;Se++)Ie=Ie.dbl();return Ie}var fr=this.curve.a,br=this.curve.tinv,kr=this.x,Wr=this.y,Gr=this.z,jr=Gr.redSqr().redSqr(),Qr=Wr.redAdd(Wr);for(Se=0;Se<xe;Se++){var wn=kr.redSqr(),En=Qr.redSqr(),Rn=En.redSqr(),An=wn.redAdd(wn).redIAdd(wn).redIAdd(fr.redMul(jr)),$n=kr.redMul(En),Tn=An.redSqr().redISub($n.redAdd($n)),ti=$n.redISub(Tn),ai=An.redMul(ti);ai=ai.redIAdd(ai).redISub(Rn);var On=Qr.redMul(Gr);Se+1<xe&&(jr=jr.redMul(Rn)),kr=Tn,Gr=On,Qr=ai}return this.curve.jpoint(kr,Qr.redMul(br),Gr)},we.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},we.prototype._zeroDbl=function(){var xe,Se,Ie;if(this.zOne){var fr=this.x.redSqr(),br=this.y.redSqr(),kr=br.redSqr(),Wr=this.x.redAdd(br).redSqr().redISub(fr).redISub(kr);Wr=Wr.redIAdd(Wr);var Gr=fr.redAdd(fr).redIAdd(fr),jr=Gr.redSqr().redISub(Wr).redISub(Wr),Qr=kr.redIAdd(kr);Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr),xe=jr,Se=Gr.redMul(Wr.redISub(jr)).redISub(Qr),Ie=this.y.redAdd(this.y)}else{var wn=this.x.redSqr(),En=this.y.redSqr(),Rn=En.redSqr(),An=this.x.redAdd(En).redSqr().redISub(wn).redISub(Rn);An=An.redIAdd(An);var $n=wn.redAdd(wn).redIAdd(wn),Tn=$n.redSqr(),ti=Rn.redIAdd(Rn);ti=ti.redIAdd(ti),ti=ti.redIAdd(ti),xe=Tn.redISub(An).redISub(An),Se=$n.redMul(An.redISub(xe)).redISub(ti),Ie=this.y.redMul(this.z),Ie=Ie.redIAdd(Ie)}return this.curve.jpoint(xe,Se,Ie)},we.prototype._threeDbl=function(){var xe,Se,Ie;if(this.zOne){var fr=this.x.redSqr(),br=this.y.redSqr(),kr=br.redSqr(),Wr=this.x.redAdd(br).redSqr().redISub(fr).redISub(kr);Wr=Wr.redIAdd(Wr);var Gr=fr.redAdd(fr).redIAdd(fr).redIAdd(this.curve.a),jr=Gr.redSqr().redISub(Wr).redISub(Wr);xe=jr;var Qr=kr.redIAdd(kr);Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr),Se=Gr.redMul(Wr.redISub(jr)).redISub(Qr),Ie=this.y.redAdd(this.y)}else{var wn=this.z.redSqr(),En=this.y.redSqr(),Rn=this.x.redMul(En),An=this.x.redSub(wn).redMul(this.x.redAdd(wn));An=An.redAdd(An).redIAdd(An);var $n=Rn.redIAdd(Rn);$n=$n.redIAdd($n);var Tn=$n.redAdd($n);xe=An.redSqr().redISub(Tn),Ie=this.y.redAdd(this.z).redSqr().redISub(En).redISub(wn);var ti=En.redSqr();ti=ti.redIAdd(ti),ti=ti.redIAdd(ti),ti=ti.redIAdd(ti),Se=An.redMul($n.redISub(xe)).redISub(ti)}return this.curve.jpoint(xe,Se,Ie)},we.prototype._dbl=function(){var xe=this.curve.a,Se=this.x,Ie=this.y,fr=this.z,br=fr.redSqr().redSqr(),kr=Se.redSqr(),Wr=Ie.redSqr(),Gr=kr.redAdd(kr).redIAdd(kr).redIAdd(xe.redMul(br)),jr=Se.redAdd(Se);jr=jr.redIAdd(jr);var Qr=jr.redMul(Wr),wn=Gr.redSqr().redISub(Qr.redAdd(Qr)),En=Qr.redISub(wn),Rn=Wr.redSqr();Rn=Rn.redIAdd(Rn),Rn=Rn.redIAdd(Rn),Rn=Rn.redIAdd(Rn);var An=Gr.redMul(En).redISub(Rn),$n=Ie.redAdd(Ie).redMul(fr);return this.curve.jpoint(wn,An,$n)},we.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xe=this.x.redSqr(),Se=this.y.redSqr(),Ie=this.z.redSqr(),fr=Se.redSqr(),br=xe.redAdd(xe).redIAdd(xe),kr=br.redSqr(),Wr=this.x.redAdd(Se).redSqr().redISub(xe).redISub(fr);Wr=Wr.redIAdd(Wr),Wr=Wr.redAdd(Wr).redIAdd(Wr),Wr=Wr.redISub(kr);var Gr=Wr.redSqr(),jr=fr.redIAdd(fr);jr=jr.redIAdd(jr),jr=jr.redIAdd(jr),jr=jr.redIAdd(jr);var Qr=br.redIAdd(Wr).redSqr().redISub(kr).redISub(Gr).redISub(jr),wn=Se.redMul(Qr);wn=wn.redIAdd(wn),wn=wn.redIAdd(wn);var En=this.x.redMul(Gr).redISub(wn);En=En.redIAdd(En),En=En.redIAdd(En);var Rn=this.y.redMul(Qr.redMul(jr.redISub(Qr)).redISub(Wr.redMul(Gr)));Rn=Rn.redIAdd(Rn),Rn=Rn.redIAdd(Rn),Rn=Rn.redIAdd(Rn);var An=this.z.redAdd(Wr).redSqr().redISub(Ie).redISub(Gr);return this.curve.jpoint(En,Rn,An)},we.prototype.mul=function(xe,Se){return xe=new Y(xe,Se),this.curve._wnafMul(this,xe)},we.prototype.eq=function(xe){if(xe.type==="affine")return this.eq(xe.toJ());if(this===xe)return!0;var Se=this.z.redSqr(),Ie=xe.z.redSqr();if(this.x.redMul(Ie).redISub(xe.x.redMul(Se)).cmpn(0)!==0)return!1;var fr=Se.redMul(this.z),br=Ie.redMul(xe.z);return this.y.redMul(br).redISub(xe.y.redMul(fr)).cmpn(0)===0},we.prototype.eqXToP=function(xe){var Se=this.z.redSqr(),Ie=xe.toRed(this.curve.red).redMul(Se);if(this.x.cmp(Ie)===0)return!0;for(var fr=xe.clone(),br=this.curve.redN.redMul(Se);;){if(fr.iadd(this.curve.n),fr.cmp(this.curve.p)>=0)return!1;if(Ie.redIAdd(br),this.x.cmp(Ie)===0)return!0}},we.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},we.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var se=requireBn$3(),Y=requireInherits_browser(),ne=requireBase$1(),fe=requireUtils$3();function ye(be){ne.call(this,"mont",be),this.a=new se(be.a,16).toRed(this.red),this.b=new se(be.b,16).toRed(this.red),this.i4=new se(4).toRed(this.red).redInvm(),this.two=new se(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Y(ye,ne),mont=ye,ye.prototype.validate=function(we){var Ee=we.normalize().x,xe=Ee.redSqr(),Se=xe.redMul(Ee).redAdd(xe.redMul(this.a)).redAdd(Ee),Ie=Se.redSqrt();return Ie.redSqr().cmp(Se)===0};function me(be,we,Ee){ne.BasePoint.call(this,be,"projective"),we===null&&Ee===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new se(we,16),this.z=new se(Ee,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return Y(me,ne.BasePoint),ye.prototype.decodePoint=function(we,Ee){return this.point(fe.toArray(we,Ee),1)},ye.prototype.point=function(we,Ee){return new me(this,we,Ee)},ye.prototype.pointFromJSON=function(we){return me.fromJSON(this,we)},me.prototype.precompute=function(){},me.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},me.fromJSON=function(we,Ee){return new me(we,Ee[0],Ee[1]||we.one)},me.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},me.prototype.isInfinity=function(){return this.z.cmpn(0)===0},me.prototype.dbl=function(){var we=this.x.redAdd(this.z),Ee=we.redSqr(),xe=this.x.redSub(this.z),Se=xe.redSqr(),Ie=Ee.redSub(Se),fr=Ee.redMul(Se),br=Ie.redMul(Se.redAdd(this.curve.a24.redMul(Ie)));return this.curve.point(fr,br)},me.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},me.prototype.diffAdd=function(we,Ee){var xe=this.x.redAdd(this.z),Se=this.x.redSub(this.z),Ie=we.x.redAdd(we.z),fr=we.x.redSub(we.z),br=fr.redMul(xe),kr=Ie.redMul(Se),Wr=Ee.z.redMul(br.redAdd(kr).redSqr()),Gr=Ee.x.redMul(br.redISub(kr).redSqr());return this.curve.point(Wr,Gr)},me.prototype.mul=function(we){for(var Ee=we.clone(),xe=this,Se=this.curve.point(null,null),Ie=this,fr=[];Ee.cmpn(0)!==0;Ee.iushrn(1))fr.push(Ee.andln(1));for(var br=fr.length-1;br>=0;br--)fr[br]===0?(xe=xe.diffAdd(Se,Ie),Se=Se.dbl()):(Se=xe.diffAdd(Se,Ie),xe=xe.dbl());return Se},me.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},me.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},me.prototype.eq=function(we){return this.getX().cmp(we.getX())===0},me.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},me.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var se=requireUtils$3(),Y=requireBn$3(),ne=requireInherits_browser(),fe=requireBase$1(),ye=se.assert;function me(we){this.twisted=(we.a|0)!==1,this.mOneA=this.twisted&&(we.a|0)===-1,this.extended=this.mOneA,fe.call(this,"edwards",we),this.a=new Y(we.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Y(we.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Y(we.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ye(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(we.c|0)===1}ne(me,fe),edwards=me,me.prototype._mulA=function(Ee){return this.mOneA?Ee.redNeg():this.a.redMul(Ee)},me.prototype._mulC=function(Ee){return this.oneC?Ee:this.c.redMul(Ee)},me.prototype.jpoint=function(Ee,xe,Se,Ie){return this.point(Ee,xe,Se,Ie)},me.prototype.pointFromX=function(Ee,xe){Ee=new Y(Ee,16),Ee.red||(Ee=Ee.toRed(this.red));var Se=Ee.redSqr(),Ie=this.c2.redSub(this.a.redMul(Se)),fr=this.one.redSub(this.c2.redMul(this.d).redMul(Se)),br=Ie.redMul(fr.redInvm()),kr=br.redSqrt();if(kr.redSqr().redSub(br).cmp(this.zero)!==0)throw new Error("invalid point");var Wr=kr.fromRed().isOdd();return(xe&&!Wr||!xe&&Wr)&&(kr=kr.redNeg()),this.point(Ee,kr)},me.prototype.pointFromY=function(Ee,xe){Ee=new Y(Ee,16),Ee.red||(Ee=Ee.toRed(this.red));var Se=Ee.redSqr(),Ie=Se.redSub(this.c2),fr=Se.redMul(this.d).redMul(this.c2).redSub(this.a),br=Ie.redMul(fr.redInvm());if(br.cmp(this.zero)===0){if(xe)throw new Error("invalid point");return this.point(this.zero,Ee)}var kr=br.redSqrt();if(kr.redSqr().redSub(br).cmp(this.zero)!==0)throw new Error("invalid point");return kr.fromRed().isOdd()!==xe&&(kr=kr.redNeg()),this.point(kr,Ee)},me.prototype.validate=function(Ee){if(Ee.isInfinity())return!0;Ee.normalize();var xe=Ee.x.redSqr(),Se=Ee.y.redSqr(),Ie=xe.redMul(this.a).redAdd(Se),fr=this.c2.redMul(this.one.redAdd(this.d.redMul(xe).redMul(Se)));return Ie.cmp(fr)===0};function be(we,Ee,xe,Se,Ie){fe.BasePoint.call(this,we,"projective"),Ee===null&&xe===null&&Se===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Y(Ee,16),this.y=new Y(xe,16),this.z=Se?new Y(Se,16):this.curve.one,this.t=Ie&&new Y(Ie,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return ne(be,fe.BasePoint),me.prototype.pointFromJSON=function(Ee){return be.fromJSON(this,Ee)},me.prototype.point=function(Ee,xe,Se,Ie){return new be(this,Ee,xe,Se,Ie)},be.fromJSON=function(Ee,xe){return new be(Ee,xe[0],xe[1],xe[2])},be.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},be.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},be.prototype._extDbl=function(){var Ee=this.x.redSqr(),xe=this.y.redSqr(),Se=this.z.redSqr();Se=Se.redIAdd(Se);var Ie=this.curve._mulA(Ee),fr=this.x.redAdd(this.y).redSqr().redISub(Ee).redISub(xe),br=Ie.redAdd(xe),kr=br.redSub(Se),Wr=Ie.redSub(xe),Gr=fr.redMul(kr),jr=br.redMul(Wr),Qr=fr.redMul(Wr),wn=kr.redMul(br);return this.curve.point(Gr,jr,wn,Qr)},be.prototype._projDbl=function(){var Ee=this.x.redAdd(this.y).redSqr(),xe=this.x.redSqr(),Se=this.y.redSqr(),Ie,fr,br,kr,Wr,Gr;if(this.curve.twisted){kr=this.curve._mulA(xe);var jr=kr.redAdd(Se);this.zOne?(Ie=Ee.redSub(xe).redSub(Se).redMul(jr.redSub(this.curve.two)),fr=jr.redMul(kr.redSub(Se)),br=jr.redSqr().redSub(jr).redSub(jr)):(Wr=this.z.redSqr(),Gr=jr.redSub(Wr).redISub(Wr),Ie=Ee.redSub(xe).redISub(Se).redMul(Gr),fr=jr.redMul(kr.redSub(Se)),br=jr.redMul(Gr))}else kr=xe.redAdd(Se),Wr=this.curve._mulC(this.z).redSqr(),Gr=kr.redSub(Wr).redSub(Wr),Ie=this.curve._mulC(Ee.redISub(kr)).redMul(Gr),fr=this.curve._mulC(kr).redMul(xe.redISub(Se)),br=kr.redMul(Gr);return this.curve.point(Ie,fr,br)},be.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},be.prototype._extAdd=function(Ee){var xe=this.y.redSub(this.x).redMul(Ee.y.redSub(Ee.x)),Se=this.y.redAdd(this.x).redMul(Ee.y.redAdd(Ee.x)),Ie=this.t.redMul(this.curve.dd).redMul(Ee.t),fr=this.z.redMul(Ee.z.redAdd(Ee.z)),br=Se.redSub(xe),kr=fr.redSub(Ie),Wr=fr.redAdd(Ie),Gr=Se.redAdd(xe),jr=br.redMul(kr),Qr=Wr.redMul(Gr),wn=br.redMul(Gr),En=kr.redMul(Wr);return this.curve.point(jr,Qr,En,wn)},be.prototype._projAdd=function(Ee){var xe=this.z.redMul(Ee.z),Se=xe.redSqr(),Ie=this.x.redMul(Ee.x),fr=this.y.redMul(Ee.y),br=this.curve.d.redMul(Ie).redMul(fr),kr=Se.redSub(br),Wr=Se.redAdd(br),Gr=this.x.redAdd(this.y).redMul(Ee.x.redAdd(Ee.y)).redISub(Ie).redISub(fr),jr=xe.redMul(kr).redMul(Gr),Qr,wn;return this.curve.twisted?(Qr=xe.redMul(Wr).redMul(fr.redSub(this.curve._mulA(Ie))),wn=kr.redMul(Wr)):(Qr=xe.redMul(Wr).redMul(fr.redSub(Ie)),wn=this.curve._mulC(kr).redMul(Wr)),this.curve.point(jr,Qr,wn)},be.prototype.add=function(Ee){return this.isInfinity()?Ee:Ee.isInfinity()?this:this.curve.extended?this._extAdd(Ee):this._projAdd(Ee)},be.prototype.mul=function(Ee){return this._hasDoubles(Ee)?this.curve._fixedNafMul(this,Ee):this.curve._wnafMul(this,Ee)},be.prototype.mulAdd=function(Ee,xe,Se){return this.curve._wnafMulAdd(1,[this,xe],[Ee,Se],2,!1)},be.prototype.jmulAdd=function(Ee,xe,Se){return this.curve._wnafMulAdd(1,[this,xe],[Ee,Se],2,!0)},be.prototype.normalize=function(){if(this.zOne)return this;var Ee=this.z.redInvm();return this.x=this.x.redMul(Ee),this.y=this.y.redMul(Ee),this.t&&(this.t=this.t.redMul(Ee)),this.z=this.curve.one,this.zOne=!0,this},be.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},be.prototype.getX=function(){return this.normalize(),this.x.fromRed()},be.prototype.getY=function(){return this.normalize(),this.y.fromRed()},be.prototype.eq=function(Ee){return this===Ee||this.getX().cmp(Ee.getX())===0&&this.getY().cmp(Ee.getY())===0},be.prototype.eqXToP=function(Ee){var xe=Ee.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(xe)===0)return!0;for(var Se=Ee.clone(),Ie=this.curve.redN.redMul(this.z);;){if(Se.iadd(this.curve.n),Se.cmp(this.curve.p)>=0)return!1;if(xe.redIAdd(Ie),this.x.cmp(xe)===0)return!0}},be.prototype.toP=be.prototype.normalize,be.prototype.mixedAdd=be.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(se){var Y=se;Y.base=requireBase$1(),Y.short=requireShort(),Y.mont=requireMont(),Y.edwards=requireEdwards()}(curve)),curve}var curves={},secp256k1$1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1$1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(se){var Y=se,ne=requireHash$2(),fe=requireCurve(),ye=requireUtils$3(),me=ye.assert;function be(xe){xe.type==="short"?this.curve=new fe.short(xe):xe.type==="edwards"?this.curve=new fe.edwards(xe):this.curve=new fe.mont(xe),this.g=this.curve.g,this.n=this.curve.n,this.hash=xe.hash,me(this.g.validate(),"Invalid curve"),me(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Y.PresetCurve=be;function we(xe,Se){Object.defineProperty(Y,xe,{configurable:!0,enumerable:!0,get:function(){var Ie=new be(Se);return Object.defineProperty(Y,xe,{configurable:!0,enumerable:!0,value:Ie}),Ie}})}we("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ne.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),we("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ne.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),we("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ne.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),we("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ne.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),we("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ne.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),we("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ne.sha256,gRed:!1,g:["9"]}),we("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ne.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ee;try{Ee=requireSecp256k1()}catch{Ee=void 0}we("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ne.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ee]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var se=requireHash$2(),Y=requireUtils$4(),ne=requireMinimalisticAssert();function fe(ye){if(!(this instanceof fe))return new fe(ye);this.hash=ye.hash,this.predResist=!!ye.predResist,this.outLen=this.hash.outSize,this.minEntropy=ye.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var me=Y.toArray(ye.entropy,ye.entropyEnc||"hex"),be=Y.toArray(ye.nonce,ye.nonceEnc||"hex"),we=Y.toArray(ye.pers,ye.persEnc||"hex");ne(me.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(me,be,we)}return hmacDrbg=fe,fe.prototype._init=function(me,be,we){var Ee=me.concat(be).concat(we);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var xe=0;xe<this.V.length;xe++)this.K[xe]=0,this.V[xe]=1;this._update(Ee),this._reseed=1,this.reseedInterval=281474976710656},fe.prototype._hmac=function(){return new se.hmac(this.hash,this.K)},fe.prototype._update=function(me){var be=this._hmac().update(this.V).update([0]);me&&(be=be.update(me)),this.K=be.digest(),this.V=this._hmac().update(this.V).digest(),me&&(this.K=this._hmac().update(this.V).update([1]).update(me).digest(),this.V=this._hmac().update(this.V).digest())},fe.prototype.reseed=function(me,be,we,Ee){typeof be!="string"&&(Ee=we,we=be,be=null),me=Y.toArray(me,be),we=Y.toArray(we,Ee),ne(me.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(me.concat(we||[])),this._reseed=1},fe.prototype.generate=function(me,be,we,Ee){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof be!="string"&&(Ee=we,we=be,be=null),we&&(we=Y.toArray(we,Ee||"hex"),this._update(we));for(var xe=[];xe.length<me;)this.V=this._hmac().update(this.V).digest(),xe=xe.concat(this.V);var Se=xe.slice(0,me);return this._update(we),this._reseed++,Y.encode(Se,be)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var se=requireBn$3(),Y=requireUtils$3(),ne=Y.assert;function fe(ye,me){this.ec=ye,this.priv=null,this.pub=null,me.priv&&this._importPrivate(me.priv,me.privEnc),me.pub&&this._importPublic(me.pub,me.pubEnc)}return key$1=fe,fe.fromPublic=function(me,be,we){return be instanceof fe?be:new fe(me,{pub:be,pubEnc:we})},fe.fromPrivate=function(me,be,we){return be instanceof fe?be:new fe(me,{priv:be,privEnc:we})},fe.prototype.validate=function(){var me=this.getPublic();return me.isInfinity()?{result:!1,reason:"Invalid public key"}:me.validate()?me.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},fe.prototype.getPublic=function(me,be){return typeof me=="string"&&(be=me,me=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),be?this.pub.encode(be,me):this.pub},fe.prototype.getPrivate=function(me){return me==="hex"?this.priv.toString(16,2):this.priv},fe.prototype._importPrivate=function(me,be){this.priv=new se(me,be||16),this.priv=this.priv.umod(this.ec.curve.n)},fe.prototype._importPublic=function(me,be){if(me.x||me.y){this.ec.curve.type==="mont"?ne(me.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ne(me.x&&me.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(me.x,me.y);return}this.pub=this.ec.curve.decodePoint(me,be)},fe.prototype.derive=function(me){return me.validate()||ne(me.validate(),"public point not validated"),me.mul(this.priv).getX()},fe.prototype.sign=function(me,be,we){return this.ec.sign(me,this,be,we)},fe.prototype.verify=function(me,be,we){return this.ec.verify(me,be,this,void 0,we)},fe.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var se=requireBn$3(),Y=requireUtils$3(),ne=Y.assert;function fe(Ee,xe){if(Ee instanceof fe)return Ee;this._importDER(Ee,xe)||(ne(Ee.r&&Ee.s,"Signature without r or s"),this.r=new se(Ee.r,16),this.s=new se(Ee.s,16),Ee.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Ee.recoveryParam)}signature$1=fe;function ye(){this.place=0}function me(Ee,xe){var Se=Ee[xe.place++];if(!(Se&128))return Se;var Ie=Se&15;if(Ie===0||Ie>4||Ee[xe.place]===0)return!1;for(var fr=0,br=0,kr=xe.place;br<Ie;br++,kr++)fr<<=8,fr|=Ee[kr],fr>>>=0;return fr<=127?!1:(xe.place=kr,fr)}function be(Ee){for(var xe=0,Se=Ee.length-1;!Ee[xe]&&!(Ee[xe+1]&128)&&xe<Se;)xe++;return xe===0?Ee:Ee.slice(xe)}fe.prototype._importDER=function(xe,Se){xe=Y.toArray(xe,Se);var Ie=new ye;if(xe[Ie.place++]!==48)return!1;var fr=me(xe,Ie);if(fr===!1||fr+Ie.place!==xe.length||xe[Ie.place++]!==2)return!1;var br=me(xe,Ie);if(br===!1||xe[Ie.place]&128)return!1;var kr=xe.slice(Ie.place,br+Ie.place);if(Ie.place+=br,xe[Ie.place++]!==2)return!1;var Wr=me(xe,Ie);if(Wr===!1||xe.length!==Wr+Ie.place||xe[Ie.place]&128)return!1;var Gr=xe.slice(Ie.place,Wr+Ie.place);if(kr[0]===0)if(kr[1]&128)kr=kr.slice(1);else return!1;if(Gr[0]===0)if(Gr[1]&128)Gr=Gr.slice(1);else return!1;return this.r=new se(kr),this.s=new se(Gr),this.recoveryParam=null,!0};function we(Ee,xe){if(xe<128){Ee.push(xe);return}var Se=1+(Math.log(xe)/Math.LN2>>>3);for(Ee.push(Se|128);--Se;)Ee.push(xe>>>(Se<<3)&255);Ee.push(xe)}return fe.prototype.toDER=function(xe){var Se=this.r.toArray(),Ie=this.s.toArray();for(Se[0]&128&&(Se=[0].concat(Se)),Ie[0]&128&&(Ie=[0].concat(Ie)),Se=be(Se),Ie=be(Ie);!Ie[0]&&!(Ie[1]&128);)Ie=Ie.slice(1);var fr=[2];we(fr,Se.length),fr=fr.concat(Se),fr.push(2),we(fr,Ie.length);var br=fr.concat(Ie),kr=[48];return we(kr,br.length),kr=kr.concat(br),Y.encode(kr,xe)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var se=requireBn$3(),Y=requireHmacDrbg(),ne=requireUtils$3(),fe=requireCurves(),ye=requireBrorand(),me=ne.assert,be=requireKey$1(),we=requireSignature$1();function Ee(xe){if(!(this instanceof Ee))return new Ee(xe);typeof xe=="string"&&(me(Object.prototype.hasOwnProperty.call(fe,xe),"Unknown curve "+xe),xe=fe[xe]),xe instanceof fe.PresetCurve&&(xe={curve:xe}),this.curve=xe.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=xe.curve.g,this.g.precompute(xe.curve.n.bitLength()+1),this.hash=xe.hash||xe.curve.hash}return ec=Ee,Ee.prototype.keyPair=function(Se){return new be(this,Se)},Ee.prototype.keyFromPrivate=function(Se,Ie){return be.fromPrivate(this,Se,Ie)},Ee.prototype.keyFromPublic=function(Se,Ie){return be.fromPublic(this,Se,Ie)},Ee.prototype.genKeyPair=function(Se){Se||(Se={});for(var Ie=new Y({hash:this.hash,pers:Se.pers,persEnc:Se.persEnc||"utf8",entropy:Se.entropy||ye(this.hash.hmacStrength),entropyEnc:Se.entropy&&Se.entropyEnc||"utf8",nonce:this.n.toArray()}),fr=this.n.byteLength(),br=this.n.sub(new se(2));;){var kr=new se(Ie.generate(fr));if(!(kr.cmp(br)>0))return kr.iaddn(1),this.keyFromPrivate(kr)}},Ee.prototype._truncateToN=function(Se,Ie,fr){var br;if(se.isBN(Se)||typeof Se=="number")Se=new se(Se,16),br=Se.byteLength();else if(typeof Se=="object")br=Se.length,Se=new se(Se,16);else{var kr=Se.toString();br=kr.length+1>>>1,Se=new se(kr,16)}typeof fr!="number"&&(fr=br*8);var Wr=fr-this.n.bitLength();return Wr>0&&(Se=Se.ushrn(Wr)),!Ie&&Se.cmp(this.n)>=0?Se.sub(this.n):Se},Ee.prototype.sign=function(Se,Ie,fr,br){if(typeof fr=="object"&&(br=fr,fr=null),br||(br={}),typeof Se!="string"&&typeof Se!="number"&&!se.isBN(Se)){me(typeof Se=="object"&&Se&&typeof Se.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),me(Se.length>>>0===Se.length);for(var kr=0;kr<Se.length;kr++)me((Se[kr]&255)===Se[kr])}Ie=this.keyFromPrivate(Ie,fr),Se=this._truncateToN(Se,!1,br.msgBitLength),me(!Se.isNeg(),"Can not sign a negative message");var Wr=this.n.byteLength(),Gr=Ie.getPrivate().toArray("be",Wr),jr=Se.toArray("be",Wr);me(new se(jr).eq(Se),"Can not sign message");for(var Qr=new Y({hash:this.hash,entropy:Gr,nonce:jr,pers:br.pers,persEnc:br.persEnc||"utf8"}),wn=this.n.sub(new se(1)),En=0;;En++){var Rn=br.k?br.k(En):new se(Qr.generate(this.n.byteLength()));if(Rn=this._truncateToN(Rn,!0),!(Rn.cmpn(1)<=0||Rn.cmp(wn)>=0)){var An=this.g.mul(Rn);if(!An.isInfinity()){var $n=An.getX(),Tn=$n.umod(this.n);if(Tn.cmpn(0)!==0){var ti=Rn.invm(this.n).mul(Tn.mul(Ie.getPrivate()).iadd(Se));if(ti=ti.umod(this.n),ti.cmpn(0)!==0){var ai=(An.getY().isOdd()?1:0)|($n.cmp(Tn)!==0?2:0);return br.canonical&&ti.cmp(this.nh)>0&&(ti=this.n.sub(ti),ai^=1),new we({r:Tn,s:ti,recoveryParam:ai})}}}}}},Ee.prototype.verify=function(Se,Ie,fr,br,kr){kr||(kr={}),Se=this._truncateToN(Se,!1,kr.msgBitLength),fr=this.keyFromPublic(fr,br),Ie=new we(Ie,"hex");var Wr=Ie.r,Gr=Ie.s;if(Wr.cmpn(1)<0||Wr.cmp(this.n)>=0||Gr.cmpn(1)<0||Gr.cmp(this.n)>=0)return!1;var jr=Gr.invm(this.n),Qr=jr.mul(Se).umod(this.n),wn=jr.mul(Wr).umod(this.n),En;return this.curve._maxwellTrick?(En=this.g.jmulAdd(Qr,fr.getPublic(),wn),En.isInfinity()?!1:En.eqXToP(Wr)):(En=this.g.mulAdd(Qr,fr.getPublic(),wn),En.isInfinity()?!1:En.getX().umod(this.n).cmp(Wr)===0)},Ee.prototype.recoverPubKey=function(xe,Se,Ie,fr){me((3&Ie)===Ie,"The recovery param is more than two bits"),Se=new we(Se,fr);var br=this.n,kr=new se(xe),Wr=Se.r,Gr=Se.s,jr=Ie&1,Qr=Ie>>1;if(Wr.cmp(this.curve.p.umod(this.curve.n))>=0&&Qr)throw new Error("Unable to find sencond key candinate");Qr?Wr=this.curve.pointFromX(Wr.add(this.curve.n),jr):Wr=this.curve.pointFromX(Wr,jr);var wn=Se.r.invm(br),En=br.sub(kr).mul(wn).umod(br),Rn=Gr.mul(wn).umod(br);return this.g.mulAdd(En,Wr,Rn)},Ee.prototype.getKeyRecoveryParam=function(xe,Se,Ie,fr){if(Se=new we(Se,fr),Se.recoveryParam!==null)return Se.recoveryParam;for(var br=0;br<4;br++){var kr;try{kr=this.recoverPubKey(xe,Se,br)}catch{continue}if(kr.eq(Ie))return br}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var se=requireUtils$3(),Y=se.assert,ne=se.parseBytes,fe=se.cachedProperty;function ye(me,be){this.eddsa=me,this._secret=ne(be.secret),me.isPoint(be.pub)?this._pub=be.pub:this._pubBytes=ne(be.pub)}return ye.fromPublic=function(be,we){return we instanceof ye?we:new ye(be,{pub:we})},ye.fromSecret=function(be,we){return we instanceof ye?we:new ye(be,{secret:we})},ye.prototype.secret=function(){return this._secret},fe(ye,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),fe(ye,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),fe(ye,"privBytes",function(){var be=this.eddsa,we=this.hash(),Ee=be.encodingLength-1,xe=we.slice(0,be.encodingLength);return xe[0]&=248,xe[Ee]&=127,xe[Ee]|=64,xe}),fe(ye,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),fe(ye,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),fe(ye,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),ye.prototype.sign=function(be){return Y(this._secret,"KeyPair can only verify"),this.eddsa.sign(be,this)},ye.prototype.verify=function(be,we){return this.eddsa.verify(be,we,this)},ye.prototype.getSecret=function(be){return Y(this._secret,"KeyPair is public only"),se.encode(this.secret(),be)},ye.prototype.getPublic=function(be){return se.encode(this.pubBytes(),be)},key=ye,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var se=requireBn$3(),Y=requireUtils$3(),ne=Y.assert,fe=Y.cachedProperty,ye=Y.parseBytes;function me(be,we){this.eddsa=be,typeof we!="object"&&(we=ye(we)),Array.isArray(we)&&(ne(we.length===be.encodingLength*2,"Signature has invalid size"),we={R:we.slice(0,be.encodingLength),S:we.slice(be.encodingLength)}),ne(we.R&&we.S,"Signature without R or S"),be.isPoint(we.R)&&(this._R=we.R),we.S instanceof se&&(this._S=we.S),this._Rencoded=Array.isArray(we.R)?we.R:we.Rencoded,this._Sencoded=Array.isArray(we.S)?we.S:we.Sencoded}return fe(me,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),fe(me,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),fe(me,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),fe(me,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),me.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},me.prototype.toHex=function(){return Y.encode(this.toBytes(),"hex").toUpperCase()},signature=me,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var se=requireHash$2(),Y=requireCurves(),ne=requireUtils$3(),fe=ne.assert,ye=ne.parseBytes,me=requireKey(),be=requireSignature();function we(Ee){if(fe(Ee==="ed25519","only tested with ed25519 so far"),!(this instanceof we))return new we(Ee);Ee=Y[Ee].curve,this.curve=Ee,this.g=Ee.g,this.g.precompute(Ee.n.bitLength()+1),this.pointClass=Ee.point().constructor,this.encodingLength=Math.ceil(Ee.n.bitLength()/8),this.hash=se.sha512}return eddsa=we,we.prototype.sign=function(xe,Se){xe=ye(xe);var Ie=this.keyFromSecret(Se),fr=this.hashInt(Ie.messagePrefix(),xe),br=this.g.mul(fr),kr=this.encodePoint(br),Wr=this.hashInt(kr,Ie.pubBytes(),xe).mul(Ie.priv()),Gr=fr.add(Wr).umod(this.curve.n);return this.makeSignature({R:br,S:Gr,Rencoded:kr})},we.prototype.verify=function(xe,Se,Ie){if(xe=ye(xe),Se=this.makeSignature(Se),Se.S().gte(Se.eddsa.curve.n)||Se.S().isNeg())return!1;var fr=this.keyFromPublic(Ie),br=this.hashInt(Se.Rencoded(),fr.pubBytes(),xe),kr=this.g.mul(Se.S()),Wr=Se.R().add(fr.pub().mul(br));return Wr.eq(kr)},we.prototype.hashInt=function(){for(var xe=this.hash(),Se=0;Se<arguments.length;Se++)xe.update(arguments[Se]);return ne.intFromLE(xe.digest()).umod(this.curve.n)},we.prototype.keyFromPublic=function(xe){return me.fromPublic(this,xe)},we.prototype.keyFromSecret=function(xe){return me.fromSecret(this,xe)},we.prototype.makeSignature=function(xe){return xe instanceof be?xe:new be(this,xe)},we.prototype.encodePoint=function(xe){var Se=xe.getY().toArray("le",this.encodingLength);return Se[this.encodingLength-1]|=xe.getX().isOdd()?128:0,Se},we.prototype.decodePoint=function(xe){xe=ne.parseBytes(xe);var Se=xe.length-1,Ie=xe.slice(0,Se).concat(xe[Se]&-129),fr=(xe[Se]&128)!==0,br=ne.intFromLE(Ie);return this.curve.pointFromY(br,fr)},we.prototype.encodeInt=function(xe){return xe.toArray("le",this.encodingLength)},we.prototype.decodeInt=function(xe){return ne.intFromLE(xe)},we.prototype.isPoint=function(xe){return xe instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(se){var Y=se;Y.version=require$$0$7.version,Y.utils=requireUtils$3(),Y.rand=requireBrorand(),Y.curve=requireCurve(),Y.curves=requireCurves(),Y.ec=requireEc(),Y.eddsa=requireEddsa()}(elliptic)),elliptic}var bn$3={exports:{}},bn$2=bn$3.exports,hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(se){(function(Y,ne){function fe(Zr,Oe){if(!Zr)throw new Error(Oe||"Assertion failed")}function ye(Zr,Oe){Zr.super_=Oe;var wr=function(){};wr.prototype=Oe.prototype,Zr.prototype=new wr,Zr.prototype.constructor=Zr}function me(Zr,Oe,wr){if(me.isBN(Zr))return Zr;this.negative=0,this.words=null,this.length=0,this.red=null,Zr!==null&&((Oe==="le"||Oe==="be")&&(wr=Oe,Oe=10),this._init(Zr||0,Oe||10,wr||"be"))}typeof Y=="object"?Y.exports=me:ne.BN=me,me.BN=me,me.wordSize=26;var be;try{typeof window<"u"&&typeof window.Buffer<"u"?be=window.Buffer:be=requireDist$5().Buffer}catch{}me.isBN=function(Oe){return Oe instanceof me?!0:Oe!==null&&typeof Oe=="object"&&Oe.constructor.wordSize===me.wordSize&&Array.isArray(Oe.words)},me.max=function(Oe,wr){return Oe.cmp(wr)>0?Oe:wr},me.min=function(Oe,wr){return Oe.cmp(wr)<0?Oe:wr},me.prototype._init=function(Oe,wr,qr){if(typeof Oe=="number")return this._initNumber(Oe,wr,qr);if(typeof Oe=="object")return this._initArray(Oe,wr,qr);wr==="hex"&&(wr=16),fe(wr===(wr|0)&&wr>=2&&wr<=36),Oe=Oe.toString().replace(/\s+/g,"");var Vr=0;Oe[0]==="-"&&(Vr++,this.negative=1),Vr<Oe.length&&(wr===16?this._parseHex(Oe,Vr,qr):(this._parseBase(Oe,wr,Vr),qr==="le"&&this._initArray(this.toArray(),wr,qr)))},me.prototype._initNumber=function(Oe,wr,qr){Oe<0&&(this.negative=1,Oe=-Oe),Oe<67108864?(this.words=[Oe&67108863],this.length=1):Oe<4503599627370496?(this.words=[Oe&67108863,Oe/67108864&67108863],this.length=2):(fe(Oe<9007199254740992),this.words=[Oe&67108863,Oe/67108864&67108863,1],this.length=3),qr==="le"&&this._initArray(this.toArray(),wr,qr)},me.prototype._initArray=function(Oe,wr,qr){if(fe(typeof Oe.length=="number"),Oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Oe.length/3),this.words=new Array(this.length);for(var Vr=0;Vr<this.length;Vr++)this.words[Vr]=0;var Jr,Xr,Kr=0;if(qr==="be")for(Vr=Oe.length-1,Jr=0;Vr>=0;Vr-=3)Xr=Oe[Vr]|Oe[Vr-1]<<8|Oe[Vr-2]<<16,this.words[Jr]|=Xr<<Kr&67108863,this.words[Jr+1]=Xr>>>26-Kr&67108863,Kr+=24,Kr>=26&&(Kr-=26,Jr++);else if(qr==="le")for(Vr=0,Jr=0;Vr<Oe.length;Vr+=3)Xr=Oe[Vr]|Oe[Vr+1]<<8|Oe[Vr+2]<<16,this.words[Jr]|=Xr<<Kr&67108863,this.words[Jr+1]=Xr>>>26-Kr&67108863,Kr+=24,Kr>=26&&(Kr-=26,Jr++);return this._strip()};function we(Zr,Oe){var wr=Zr.charCodeAt(Oe);if(wr>=48&&wr<=57)return wr-48;if(wr>=65&&wr<=70)return wr-55;if(wr>=97&&wr<=102)return wr-87;fe(!1,"Invalid character in "+Zr)}function Ee(Zr,Oe,wr){var qr=we(Zr,wr);return wr-1>=Oe&&(qr|=we(Zr,wr-1)<<4),qr}me.prototype._parseHex=function(Oe,wr,qr){this.length=Math.ceil((Oe.length-wr)/6),this.words=new Array(this.length);for(var Vr=0;Vr<this.length;Vr++)this.words[Vr]=0;var Jr=0,Xr=0,Kr;if(qr==="be")for(Vr=Oe.length-1;Vr>=wr;Vr-=2)Kr=Ee(Oe,wr,Vr)<<Jr,this.words[Xr]|=Kr&67108863,Jr>=18?(Jr-=18,Xr+=1,this.words[Xr]|=Kr>>>26):Jr+=8;else{var Yr=Oe.length-wr;for(Vr=Yr%2===0?wr+1:wr;Vr<Oe.length;Vr+=2)Kr=Ee(Oe,wr,Vr)<<Jr,this.words[Xr]|=Kr&67108863,Jr>=18?(Jr-=18,Xr+=1,this.words[Xr]|=Kr>>>26):Jr+=8}this._strip()};function xe(Zr,Oe,wr,qr){for(var Vr=0,Jr=0,Xr=Math.min(Zr.length,wr),Kr=Oe;Kr<Xr;Kr++){var Yr=Zr.charCodeAt(Kr)-48;Vr*=qr,Yr>=49?Jr=Yr-49+10:Yr>=17?Jr=Yr-17+10:Jr=Yr,fe(Yr>=0&&Jr<qr,"Invalid character"),Vr+=Jr}return Vr}me.prototype._parseBase=function(Oe,wr,qr){this.words=[0],this.length=1;for(var Vr=0,Jr=1;Jr<=67108863;Jr*=wr)Vr++;Vr--,Jr=Jr/wr|0;for(var Xr=Oe.length-qr,Kr=Xr%Vr,Yr=Math.min(Xr,Xr-Kr)+qr,Br=0,_n=qr;_n<Yr;_n+=Vr)Br=xe(Oe,_n,_n+Vr,wr),this.imuln(Jr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br);if(Kr!==0){var ii=1;for(Br=xe(Oe,_n,Oe.length,wr),_n=0;_n<Kr;_n++)ii*=wr;this.imuln(ii),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br)}this._strip()},me.prototype.copy=function(Oe){Oe.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)Oe.words[wr]=this.words[wr];Oe.length=this.length,Oe.negative=this.negative,Oe.red=this.red};function Se(Zr,Oe){Zr.words=Oe.words,Zr.length=Oe.length,Zr.negative=Oe.negative,Zr.red=Oe.red}if(me.prototype._move=function(Oe){Se(Oe,this)},me.prototype.clone=function(){var Oe=new me(null);return this.copy(Oe),Oe},me.prototype._expand=function(Oe){for(;this.length<Oe;)this.words[this.length++]=0;return this},me.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},me.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{me.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ie}catch{me.prototype.inspect=Ie}else me.prototype.inspect=Ie;function Ie(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],br=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],kr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];me.prototype.toString=function(Oe,wr){Oe=Oe||10,wr=wr|0||1;var qr;if(Oe===16||Oe==="hex"){qr="";for(var Vr=0,Jr=0,Xr=0;Xr<this.length;Xr++){var Kr=this.words[Xr],Yr=((Kr<<Vr|Jr)&16777215).toString(16);Jr=Kr>>>24-Vr&16777215,Vr+=2,Vr>=26&&(Vr-=26,Xr--),Jr!==0||Xr!==this.length-1?qr=fr[6-Yr.length]+Yr+qr:qr=Yr+qr}for(Jr!==0&&(qr=Jr.toString(16)+qr);qr.length%wr!==0;)qr="0"+qr;return this.negative!==0&&(qr="-"+qr),qr}if(Oe===(Oe|0)&&Oe>=2&&Oe<=36){var Br=br[Oe],_n=kr[Oe];qr="";var ii=this.clone();for(ii.negative=0;!ii.isZero();){var ni=ii.modrn(_n).toString(Oe);ii=ii.idivn(_n),ii.isZero()?qr=ni+qr:qr=fr[Br-ni.length]+ni+qr}for(this.isZero()&&(qr="0"+qr);qr.length%wr!==0;)qr="0"+qr;return this.negative!==0&&(qr="-"+qr),qr}fe(!1,"Base should be between 2 and 36")},me.prototype.toNumber=function(){var Oe=this.words[0];return this.length===2?Oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Oe+=4503599627370496+this.words[1]*67108864:this.length>2&&fe(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Oe:Oe},me.prototype.toJSON=function(){return this.toString(16,2)},be&&(me.prototype.toBuffer=function(Oe,wr){return this.toArrayLike(be,Oe,wr)}),me.prototype.toArray=function(Oe,wr){return this.toArrayLike(Array,Oe,wr)};var Wr=function(Oe,wr){return Oe.allocUnsafe?Oe.allocUnsafe(wr):new Oe(wr)};me.prototype.toArrayLike=function(Oe,wr,qr){this._strip();var Vr=this.byteLength(),Jr=qr||Math.max(1,Vr);fe(Vr<=Jr,"byte array longer than desired length"),fe(Jr>0,"Requested array length <= 0");var Xr=Wr(Oe,Jr),Kr=wr==="le"?"LE":"BE";return this["_toArrayLike"+Kr](Xr,Vr),Xr},me.prototype._toArrayLikeLE=function(Oe,wr){for(var qr=0,Vr=0,Jr=0,Xr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]<<Xr|Vr;Oe[qr++]=Kr&255,qr<Oe.length&&(Oe[qr++]=Kr>>8&255),qr<Oe.length&&(Oe[qr++]=Kr>>16&255),Xr===6?(qr<Oe.length&&(Oe[qr++]=Kr>>24&255),Vr=0,Xr=0):(Vr=Kr>>>24,Xr+=2)}if(qr<Oe.length)for(Oe[qr++]=Vr;qr<Oe.length;)Oe[qr++]=0},me.prototype._toArrayLikeBE=function(Oe,wr){for(var qr=Oe.length-1,Vr=0,Jr=0,Xr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]<<Xr|Vr;Oe[qr--]=Kr&255,qr>=0&&(Oe[qr--]=Kr>>8&255),qr>=0&&(Oe[qr--]=Kr>>16&255),Xr===6?(qr>=0&&(Oe[qr--]=Kr>>24&255),Vr=0,Xr=0):(Vr=Kr>>>24,Xr+=2)}if(qr>=0)for(Oe[qr--]=Vr;qr>=0;)Oe[qr--]=0},Math.clz32?me.prototype._countBits=function(Oe){return 32-Math.clz32(Oe)}:me.prototype._countBits=function(Oe){var wr=Oe,qr=0;return wr>=4096&&(qr+=13,wr>>>=13),wr>=64&&(qr+=7,wr>>>=7),wr>=8&&(qr+=4,wr>>>=4),wr>=2&&(qr+=2,wr>>>=2),qr+wr},me.prototype._zeroBits=function(Oe){if(Oe===0)return 26;var wr=Oe,qr=0;return wr&8191||(qr+=13,wr>>>=13),wr&127||(qr+=7,wr>>>=7),wr&15||(qr+=4,wr>>>=4),wr&3||(qr+=2,wr>>>=2),wr&1||qr++,qr},me.prototype.bitLength=function(){var Oe=this.words[this.length-1],wr=this._countBits(Oe);return(this.length-1)*26+wr};function Gr(Zr){for(var Oe=new Array(Zr.bitLength()),wr=0;wr<Oe.length;wr++){var qr=wr/26|0,Vr=wr%26;Oe[wr]=Zr.words[qr]>>>Vr&1}return Oe}me.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Oe=0,wr=0;wr<this.length;wr++){var qr=this._zeroBits(this.words[wr]);if(Oe+=qr,qr!==26)break}return Oe},me.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},me.prototype.toTwos=function(Oe){return this.negative!==0?this.abs().inotn(Oe).iaddn(1):this.clone()},me.prototype.fromTwos=function(Oe){return this.testn(Oe-1)?this.notn(Oe).iaddn(1).ineg():this.clone()},me.prototype.isNeg=function(){return this.negative!==0},me.prototype.neg=function(){return this.clone().ineg()},me.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},me.prototype.iuor=function(Oe){for(;this.length<Oe.length;)this.words[this.length++]=0;for(var wr=0;wr<Oe.length;wr++)this.words[wr]=this.words[wr]|Oe.words[wr];return this._strip()},me.prototype.ior=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuor(Oe)},me.prototype.or=function(Oe){return this.length>Oe.length?this.clone().ior(Oe):Oe.clone().ior(this)},me.prototype.uor=function(Oe){return this.length>Oe.length?this.clone().iuor(Oe):Oe.clone().iuor(this)},me.prototype.iuand=function(Oe){var wr;this.length>Oe.length?wr=Oe:wr=this;for(var qr=0;qr<wr.length;qr++)this.words[qr]=this.words[qr]&Oe.words[qr];return this.length=wr.length,this._strip()},me.prototype.iand=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuand(Oe)},me.prototype.and=function(Oe){return this.length>Oe.length?this.clone().iand(Oe):Oe.clone().iand(this)},me.prototype.uand=function(Oe){return this.length>Oe.length?this.clone().iuand(Oe):Oe.clone().iuand(this)},me.prototype.iuxor=function(Oe){var wr,qr;this.length>Oe.length?(wr=this,qr=Oe):(wr=Oe,qr=this);for(var Vr=0;Vr<qr.length;Vr++)this.words[Vr]=wr.words[Vr]^qr.words[Vr];if(this!==wr)for(;Vr<wr.length;Vr++)this.words[Vr]=wr.words[Vr];return this.length=wr.length,this._strip()},me.prototype.ixor=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuxor(Oe)},me.prototype.xor=function(Oe){return this.length>Oe.length?this.clone().ixor(Oe):Oe.clone().ixor(this)},me.prototype.uxor=function(Oe){return this.length>Oe.length?this.clone().iuxor(Oe):Oe.clone().iuxor(this)},me.prototype.inotn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Math.ceil(Oe/26)|0,qr=Oe%26;this._expand(wr),qr>0&&wr--;for(var Vr=0;Vr<wr;Vr++)this.words[Vr]=~this.words[Vr]&67108863;return qr>0&&(this.words[Vr]=~this.words[Vr]&67108863>>26-qr),this._strip()},me.prototype.notn=function(Oe){return this.clone().inotn(Oe)},me.prototype.setn=function(Oe,wr){fe(typeof Oe=="number"&&Oe>=0);var qr=Oe/26|0,Vr=Oe%26;return this._expand(qr+1),wr?this.words[qr]=this.words[qr]|1<<Vr:this.words[qr]=this.words[qr]&~(1<<Vr),this._strip()},me.prototype.iadd=function(Oe){var wr;if(this.negative!==0&&Oe.negative===0)return this.negative=0,wr=this.isub(Oe),this.negative^=1,this._normSign();if(this.negative===0&&Oe.negative!==0)return Oe.negative=0,wr=this.isub(Oe),Oe.negative=1,wr._normSign();var qr,Vr;this.length>Oe.length?(qr=this,Vr=Oe):(qr=Oe,Vr=this);for(var Jr=0,Xr=0;Xr<Vr.length;Xr++)wr=(qr.words[Xr]|0)+(Vr.words[Xr]|0)+Jr,this.words[Xr]=wr&67108863,Jr=wr>>>26;for(;Jr!==0&&Xr<qr.length;Xr++)wr=(qr.words[Xr]|0)+Jr,this.words[Xr]=wr&67108863,Jr=wr>>>26;if(this.length=qr.length,Jr!==0)this.words[this.length]=Jr,this.length++;else if(qr!==this)for(;Xr<qr.length;Xr++)this.words[Xr]=qr.words[Xr];return this},me.prototype.add=function(Oe){var wr;return Oe.negative!==0&&this.negative===0?(Oe.negative=0,wr=this.sub(Oe),Oe.negative^=1,wr):Oe.negative===0&&this.negative!==0?(this.negative=0,wr=Oe.sub(this),this.negative=1,wr):this.length>Oe.length?this.clone().iadd(Oe):Oe.clone().iadd(this)},me.prototype.isub=function(Oe){if(Oe.negative!==0){Oe.negative=0;var wr=this.iadd(Oe);return Oe.negative=1,wr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Oe),this.negative=1,this._normSign();var qr=this.cmp(Oe);if(qr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Vr,Jr;qr>0?(Vr=this,Jr=Oe):(Vr=Oe,Jr=this);for(var Xr=0,Kr=0;Kr<Jr.length;Kr++)wr=(Vr.words[Kr]|0)-(Jr.words[Kr]|0)+Xr,Xr=wr>>26,this.words[Kr]=wr&67108863;for(;Xr!==0&&Kr<Vr.length;Kr++)wr=(Vr.words[Kr]|0)+Xr,Xr=wr>>26,this.words[Kr]=wr&67108863;if(Xr===0&&Kr<Vr.length&&Vr!==this)for(;Kr<Vr.length;Kr++)this.words[Kr]=Vr.words[Kr];return this.length=Math.max(this.length,Kr),Vr!==this&&(this.negative=1),this._strip()},me.prototype.sub=function(Oe){return this.clone().isub(Oe)};function jr(Zr,Oe,wr){wr.negative=Oe.negative^Zr.negative;var qr=Zr.length+Oe.length|0;wr.length=qr,qr=qr-1|0;var Vr=Zr.words[0]|0,Jr=Oe.words[0]|0,Xr=Vr*Jr,Kr=Xr&67108863,Yr=Xr/67108864|0;wr.words[0]=Kr;for(var Br=1;Br<qr;Br++){for(var _n=Yr>>>26,ii=Yr&67108863,ni=Math.min(Br,Oe.length-1),si=Math.max(0,Br-Zr.length+1);si<=ni;si++){var Nn=Br-si|0;Vr=Zr.words[Nn]|0,Jr=Oe.words[si]|0,Xr=Vr*Jr+ii,_n+=Xr/67108864|0,ii=Xr&67108863}wr.words[Br]=ii|0,Yr=_n|0}return Yr!==0?wr.words[Br]=Yr|0:wr.length--,wr._strip()}var Qr=function(Oe,wr,qr){var Vr=Oe.words,Jr=wr.words,Xr=qr.words,Kr=0,Yr,Br,_n,ii=Vr[0]|0,ni=ii&8191,si=ii>>>13,Nn=Vr[1]|0,jn=Nn&8191,ei=Nn>>>13,Pn=Vr[2]|0,zn=Pn&8191,ri=Pn>>>13,hi=Vr[3]|0,mi=hi&8191,$i=hi>>>13,Ti=Vr[4]|0,xi=Ti&8191,Ri=Ti>>>13,vi=Vr[5]|0,Pi=vi&8191,Ei=vi>>>13,ha=Vr[6]|0,Ni=ha&8191,Ai=ha>>>13,ga=Vr[7]|0,Bi=ga&8191,Ci=ga>>>13,ma=Vr[8]|0,Vi=ma&8191,Ii=ma>>>13,Pa=Vr[9]|0,ra=Pa&8191,Oi=Pa>>>13,Na=Jr[0]|0,na=Na&8191,ia=Na>>>13,Ga=Jr[1]|0,wa=Ga&8191,sa=Ga>>>13,Ka=Jr[2]|0,_a=Ka&8191,ca=Ka>>>13,Da=Jr[3]|0,la=Da&8191,ji=Da>>>13,qa=Jr[4]|0,ua=qa&8191,qi=qa>>>13,Fa=Jr[5]|0,pa=Fa&8191,zi=Fa>>>13,Wa=Jr[6]|0,fa=Wa&8191,Ki=Wa>>>13,Ua=Jr[7]|0,oa=Ua&8191,ea=Ua>>>13,ja=Jr[8]|0,Aa=ja&8191,da=ja>>>13,no=Jr[9]|0,va=no&8191,Ca=no>>>13;qr.negative=Oe.negative^wr.negative,qr.length=19,Yr=Math.imul(ni,na),Br=Math.imul(ni,ia),Br=Br+Math.imul(si,na)|0,_n=Math.imul(si,ia);var Io=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Io>>>26)|0,Io&=67108863,Yr=Math.imul(jn,na),Br=Math.imul(jn,ia),Br=Br+Math.imul(ei,na)|0,_n=Math.imul(ei,ia),Yr=Yr+Math.imul(ni,wa)|0,Br=Br+Math.imul(ni,sa)|0,Br=Br+Math.imul(si,wa)|0,_n=_n+Math.imul(si,sa)|0;var Po=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Po>>>26)|0,Po&=67108863,Yr=Math.imul(zn,na),Br=Math.imul(zn,ia),Br=Br+Math.imul(ri,na)|0,_n=Math.imul(ri,ia),Yr=Yr+Math.imul(jn,wa)|0,Br=Br+Math.imul(jn,sa)|0,Br=Br+Math.imul(ei,wa)|0,_n=_n+Math.imul(ei,sa)|0,Yr=Yr+Math.imul(ni,_a)|0,Br=Br+Math.imul(ni,ca)|0,Br=Br+Math.imul(si,_a)|0,_n=_n+Math.imul(si,ca)|0;var To=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(To>>>26)|0,To&=67108863,Yr=Math.imul(mi,na),Br=Math.imul(mi,ia),Br=Br+Math.imul($i,na)|0,_n=Math.imul($i,ia),Yr=Yr+Math.imul(zn,wa)|0,Br=Br+Math.imul(zn,sa)|0,Br=Br+Math.imul(ri,wa)|0,_n=_n+Math.imul(ri,sa)|0,Yr=Yr+Math.imul(jn,_a)|0,Br=Br+Math.imul(jn,ca)|0,Br=Br+Math.imul(ei,_a)|0,_n=_n+Math.imul(ei,ca)|0,Yr=Yr+Math.imul(ni,la)|0,Br=Br+Math.imul(ni,ji)|0,Br=Br+Math.imul(si,la)|0,_n=_n+Math.imul(si,ji)|0;var No=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(No>>>26)|0,No&=67108863,Yr=Math.imul(xi,na),Br=Math.imul(xi,ia),Br=Br+Math.imul(Ri,na)|0,_n=Math.imul(Ri,ia),Yr=Yr+Math.imul(mi,wa)|0,Br=Br+Math.imul(mi,sa)|0,Br=Br+Math.imul($i,wa)|0,_n=_n+Math.imul($i,sa)|0,Yr=Yr+Math.imul(zn,_a)|0,Br=Br+Math.imul(zn,ca)|0,Br=Br+Math.imul(ri,_a)|0,_n=_n+Math.imul(ri,ca)|0,Yr=Yr+Math.imul(jn,la)|0,Br=Br+Math.imul(jn,ji)|0,Br=Br+Math.imul(ei,la)|0,_n=_n+Math.imul(ei,ji)|0,Yr=Yr+Math.imul(ni,ua)|0,Br=Br+Math.imul(ni,qi)|0,Br=Br+Math.imul(si,ua)|0,_n=_n+Math.imul(si,qi)|0;var ho=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(ho>>>26)|0,ho&=67108863,Yr=Math.imul(Pi,na),Br=Math.imul(Pi,ia),Br=Br+Math.imul(Ei,na)|0,_n=Math.imul(Ei,ia),Yr=Yr+Math.imul(xi,wa)|0,Br=Br+Math.imul(xi,sa)|0,Br=Br+Math.imul(Ri,wa)|0,_n=_n+Math.imul(Ri,sa)|0,Yr=Yr+Math.imul(mi,_a)|0,Br=Br+Math.imul(mi,ca)|0,Br=Br+Math.imul($i,_a)|0,_n=_n+Math.imul($i,ca)|0,Yr=Yr+Math.imul(zn,la)|0,Br=Br+Math.imul(zn,ji)|0,Br=Br+Math.imul(ri,la)|0,_n=_n+Math.imul(ri,ji)|0,Yr=Yr+Math.imul(jn,ua)|0,Br=Br+Math.imul(jn,qi)|0,Br=Br+Math.imul(ei,ua)|0,_n=_n+Math.imul(ei,qi)|0,Yr=Yr+Math.imul(ni,pa)|0,Br=Br+Math.imul(ni,zi)|0,Br=Br+Math.imul(si,pa)|0,_n=_n+Math.imul(si,zi)|0;var _o=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(_o>>>26)|0,_o&=67108863,Yr=Math.imul(Ni,na),Br=Math.imul(Ni,ia),Br=Br+Math.imul(Ai,na)|0,_n=Math.imul(Ai,ia),Yr=Yr+Math.imul(Pi,wa)|0,Br=Br+Math.imul(Pi,sa)|0,Br=Br+Math.imul(Ei,wa)|0,_n=_n+Math.imul(Ei,sa)|0,Yr=Yr+Math.imul(xi,_a)|0,Br=Br+Math.imul(xi,ca)|0,Br=Br+Math.imul(Ri,_a)|0,_n=_n+Math.imul(Ri,ca)|0,Yr=Yr+Math.imul(mi,la)|0,Br=Br+Math.imul(mi,ji)|0,Br=Br+Math.imul($i,la)|0,_n=_n+Math.imul($i,ji)|0,Yr=Yr+Math.imul(zn,ua)|0,Br=Br+Math.imul(zn,qi)|0,Br=Br+Math.imul(ri,ua)|0,_n=_n+Math.imul(ri,qi)|0,Yr=Yr+Math.imul(jn,pa)|0,Br=Br+Math.imul(jn,zi)|0,Br=Br+Math.imul(ei,pa)|0,_n=_n+Math.imul(ei,zi)|0,Yr=Yr+Math.imul(ni,fa)|0,Br=Br+Math.imul(ni,Ki)|0,Br=Br+Math.imul(si,fa)|0,_n=_n+Math.imul(si,Ki)|0;var ko=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(ko>>>26)|0,ko&=67108863,Yr=Math.imul(Bi,na),Br=Math.imul(Bi,ia),Br=Br+Math.imul(Ci,na)|0,_n=Math.imul(Ci,ia),Yr=Yr+Math.imul(Ni,wa)|0,Br=Br+Math.imul(Ni,sa)|0,Br=Br+Math.imul(Ai,wa)|0,_n=_n+Math.imul(Ai,sa)|0,Yr=Yr+Math.imul(Pi,_a)|0,Br=Br+Math.imul(Pi,ca)|0,Br=Br+Math.imul(Ei,_a)|0,_n=_n+Math.imul(Ei,ca)|0,Yr=Yr+Math.imul(xi,la)|0,Br=Br+Math.imul(xi,ji)|0,Br=Br+Math.imul(Ri,la)|0,_n=_n+Math.imul(Ri,ji)|0,Yr=Yr+Math.imul(mi,ua)|0,Br=Br+Math.imul(mi,qi)|0,Br=Br+Math.imul($i,ua)|0,_n=_n+Math.imul($i,qi)|0,Yr=Yr+Math.imul(zn,pa)|0,Br=Br+Math.imul(zn,zi)|0,Br=Br+Math.imul(ri,pa)|0,_n=_n+Math.imul(ri,zi)|0,Yr=Yr+Math.imul(jn,fa)|0,Br=Br+Math.imul(jn,Ki)|0,Br=Br+Math.imul(ei,fa)|0,_n=_n+Math.imul(ei,Ki)|0,Yr=Yr+Math.imul(ni,oa)|0,Br=Br+Math.imul(ni,ea)|0,Br=Br+Math.imul(si,oa)|0,_n=_n+Math.imul(si,ea)|0;var $o=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+($o>>>26)|0,$o&=67108863,Yr=Math.imul(Vi,na),Br=Math.imul(Vi,ia),Br=Br+Math.imul(Ii,na)|0,_n=Math.imul(Ii,ia),Yr=Yr+Math.imul(Bi,wa)|0,Br=Br+Math.imul(Bi,sa)|0,Br=Br+Math.imul(Ci,wa)|0,_n=_n+Math.imul(Ci,sa)|0,Yr=Yr+Math.imul(Ni,_a)|0,Br=Br+Math.imul(Ni,ca)|0,Br=Br+Math.imul(Ai,_a)|0,_n=_n+Math.imul(Ai,ca)|0,Yr=Yr+Math.imul(Pi,la)|0,Br=Br+Math.imul(Pi,ji)|0,Br=Br+Math.imul(Ei,la)|0,_n=_n+Math.imul(Ei,ji)|0,Yr=Yr+Math.imul(xi,ua)|0,Br=Br+Math.imul(xi,qi)|0,Br=Br+Math.imul(Ri,ua)|0,_n=_n+Math.imul(Ri,qi)|0,Yr=Yr+Math.imul(mi,pa)|0,Br=Br+Math.imul(mi,zi)|0,Br=Br+Math.imul($i,pa)|0,_n=_n+Math.imul($i,zi)|0,Yr=Yr+Math.imul(zn,fa)|0,Br=Br+Math.imul(zn,Ki)|0,Br=Br+Math.imul(ri,fa)|0,_n=_n+Math.imul(ri,Ki)|0,Yr=Yr+Math.imul(jn,oa)|0,Br=Br+Math.imul(jn,ea)|0,Br=Br+Math.imul(ei,oa)|0,_n=_n+Math.imul(ei,ea)|0,Yr=Yr+Math.imul(ni,Aa)|0,Br=Br+Math.imul(ni,da)|0,Br=Br+Math.imul(si,Aa)|0,_n=_n+Math.imul(si,da)|0;var Mo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,Yr=Math.imul(ra,na),Br=Math.imul(ra,ia),Br=Br+Math.imul(Oi,na)|0,_n=Math.imul(Oi,ia),Yr=Yr+Math.imul(Vi,wa)|0,Br=Br+Math.imul(Vi,sa)|0,Br=Br+Math.imul(Ii,wa)|0,_n=_n+Math.imul(Ii,sa)|0,Yr=Yr+Math.imul(Bi,_a)|0,Br=Br+Math.imul(Bi,ca)|0,Br=Br+Math.imul(Ci,_a)|0,_n=_n+Math.imul(Ci,ca)|0,Yr=Yr+Math.imul(Ni,la)|0,Br=Br+Math.imul(Ni,ji)|0,Br=Br+Math.imul(Ai,la)|0,_n=_n+Math.imul(Ai,ji)|0,Yr=Yr+Math.imul(Pi,ua)|0,Br=Br+Math.imul(Pi,qi)|0,Br=Br+Math.imul(Ei,ua)|0,_n=_n+Math.imul(Ei,qi)|0,Yr=Yr+Math.imul(xi,pa)|0,Br=Br+Math.imul(xi,zi)|0,Br=Br+Math.imul(Ri,pa)|0,_n=_n+Math.imul(Ri,zi)|0,Yr=Yr+Math.imul(mi,fa)|0,Br=Br+Math.imul(mi,Ki)|0,Br=Br+Math.imul($i,fa)|0,_n=_n+Math.imul($i,Ki)|0,Yr=Yr+Math.imul(zn,oa)|0,Br=Br+Math.imul(zn,ea)|0,Br=Br+Math.imul(ri,oa)|0,_n=_n+Math.imul(ri,ea)|0,Yr=Yr+Math.imul(jn,Aa)|0,Br=Br+Math.imul(jn,da)|0,Br=Br+Math.imul(ei,Aa)|0,_n=_n+Math.imul(ei,da)|0,Yr=Yr+Math.imul(ni,va)|0,Br=Br+Math.imul(ni,Ca)|0,Br=Br+Math.imul(si,va)|0,_n=_n+Math.imul(si,Ca)|0;var Oo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,Yr=Math.imul(ra,wa),Br=Math.imul(ra,sa),Br=Br+Math.imul(Oi,wa)|0,_n=Math.imul(Oi,sa),Yr=Yr+Math.imul(Vi,_a)|0,Br=Br+Math.imul(Vi,ca)|0,Br=Br+Math.imul(Ii,_a)|0,_n=_n+Math.imul(Ii,ca)|0,Yr=Yr+Math.imul(Bi,la)|0,Br=Br+Math.imul(Bi,ji)|0,Br=Br+Math.imul(Ci,la)|0,_n=_n+Math.imul(Ci,ji)|0,Yr=Yr+Math.imul(Ni,ua)|0,Br=Br+Math.imul(Ni,qi)|0,Br=Br+Math.imul(Ai,ua)|0,_n=_n+Math.imul(Ai,qi)|0,Yr=Yr+Math.imul(Pi,pa)|0,Br=Br+Math.imul(Pi,zi)|0,Br=Br+Math.imul(Ei,pa)|0,_n=_n+Math.imul(Ei,zi)|0,Yr=Yr+Math.imul(xi,fa)|0,Br=Br+Math.imul(xi,Ki)|0,Br=Br+Math.imul(Ri,fa)|0,_n=_n+Math.imul(Ri,Ki)|0,Yr=Yr+Math.imul(mi,oa)|0,Br=Br+Math.imul(mi,ea)|0,Br=Br+Math.imul($i,oa)|0,_n=_n+Math.imul($i,ea)|0,Yr=Yr+Math.imul(zn,Aa)|0,Br=Br+Math.imul(zn,da)|0,Br=Br+Math.imul(ri,Aa)|0,_n=_n+Math.imul(ri,da)|0,Yr=Yr+Math.imul(jn,va)|0,Br=Br+Math.imul(jn,Ca)|0,Br=Br+Math.imul(ei,va)|0,_n=_n+Math.imul(ei,Ca)|0;var Eo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,Yr=Math.imul(ra,_a),Br=Math.imul(ra,ca),Br=Br+Math.imul(Oi,_a)|0,_n=Math.imul(Oi,ca),Yr=Yr+Math.imul(Vi,la)|0,Br=Br+Math.imul(Vi,ji)|0,Br=Br+Math.imul(Ii,la)|0,_n=_n+Math.imul(Ii,ji)|0,Yr=Yr+Math.imul(Bi,ua)|0,Br=Br+Math.imul(Bi,qi)|0,Br=Br+Math.imul(Ci,ua)|0,_n=_n+Math.imul(Ci,qi)|0,Yr=Yr+Math.imul(Ni,pa)|0,Br=Br+Math.imul(Ni,zi)|0,Br=Br+Math.imul(Ai,pa)|0,_n=_n+Math.imul(Ai,zi)|0,Yr=Yr+Math.imul(Pi,fa)|0,Br=Br+Math.imul(Pi,Ki)|0,Br=Br+Math.imul(Ei,fa)|0,_n=_n+Math.imul(Ei,Ki)|0,Yr=Yr+Math.imul(xi,oa)|0,Br=Br+Math.imul(xi,ea)|0,Br=Br+Math.imul(Ri,oa)|0,_n=_n+Math.imul(Ri,ea)|0,Yr=Yr+Math.imul(mi,Aa)|0,Br=Br+Math.imul(mi,da)|0,Br=Br+Math.imul($i,Aa)|0,_n=_n+Math.imul($i,da)|0,Yr=Yr+Math.imul(zn,va)|0,Br=Br+Math.imul(zn,Ca)|0,Br=Br+Math.imul(ri,va)|0,_n=_n+Math.imul(ri,Ca)|0;var So=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(So>>>26)|0,So&=67108863,Yr=Math.imul(ra,la),Br=Math.imul(ra,ji),Br=Br+Math.imul(Oi,la)|0,_n=Math.imul(Oi,ji),Yr=Yr+Math.imul(Vi,ua)|0,Br=Br+Math.imul(Vi,qi)|0,Br=Br+Math.imul(Ii,ua)|0,_n=_n+Math.imul(Ii,qi)|0,Yr=Yr+Math.imul(Bi,pa)|0,Br=Br+Math.imul(Bi,zi)|0,Br=Br+Math.imul(Ci,pa)|0,_n=_n+Math.imul(Ci,zi)|0,Yr=Yr+Math.imul(Ni,fa)|0,Br=Br+Math.imul(Ni,Ki)|0,Br=Br+Math.imul(Ai,fa)|0,_n=_n+Math.imul(Ai,Ki)|0,Yr=Yr+Math.imul(Pi,oa)|0,Br=Br+Math.imul(Pi,ea)|0,Br=Br+Math.imul(Ei,oa)|0,_n=_n+Math.imul(Ei,ea)|0,Yr=Yr+Math.imul(xi,Aa)|0,Br=Br+Math.imul(xi,da)|0,Br=Br+Math.imul(Ri,Aa)|0,_n=_n+Math.imul(Ri,da)|0,Yr=Yr+Math.imul(mi,va)|0,Br=Br+Math.imul(mi,Ca)|0,Br=Br+Math.imul($i,va)|0,_n=_n+Math.imul($i,Ca)|0;var Ao=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,Yr=Math.imul(ra,ua),Br=Math.imul(ra,qi),Br=Br+Math.imul(Oi,ua)|0,_n=Math.imul(Oi,qi),Yr=Yr+Math.imul(Vi,pa)|0,Br=Br+Math.imul(Vi,zi)|0,Br=Br+Math.imul(Ii,pa)|0,_n=_n+Math.imul(Ii,zi)|0,Yr=Yr+Math.imul(Bi,fa)|0,Br=Br+Math.imul(Bi,Ki)|0,Br=Br+Math.imul(Ci,fa)|0,_n=_n+Math.imul(Ci,Ki)|0,Yr=Yr+Math.imul(Ni,oa)|0,Br=Br+Math.imul(Ni,ea)|0,Br=Br+Math.imul(Ai,oa)|0,_n=_n+Math.imul(Ai,ea)|0,Yr=Yr+Math.imul(Pi,Aa)|0,Br=Br+Math.imul(Pi,da)|0,Br=Br+Math.imul(Ei,Aa)|0,_n=_n+Math.imul(Ei,da)|0,Yr=Yr+Math.imul(xi,va)|0,Br=Br+Math.imul(xi,Ca)|0,Br=Br+Math.imul(Ri,va)|0,_n=_n+Math.imul(Ri,Ca)|0;var co=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(co>>>26)|0,co&=67108863,Yr=Math.imul(ra,pa),Br=Math.imul(ra,zi),Br=Br+Math.imul(Oi,pa)|0,_n=Math.imul(Oi,zi),Yr=Yr+Math.imul(Vi,fa)|0,Br=Br+Math.imul(Vi,Ki)|0,Br=Br+Math.imul(Ii,fa)|0,_n=_n+Math.imul(Ii,Ki)|0,Yr=Yr+Math.imul(Bi,oa)|0,Br=Br+Math.imul(Bi,ea)|0,Br=Br+Math.imul(Ci,oa)|0,_n=_n+Math.imul(Ci,ea)|0,Yr=Yr+Math.imul(Ni,Aa)|0,Br=Br+Math.imul(Ni,da)|0,Br=Br+Math.imul(Ai,Aa)|0,_n=_n+Math.imul(Ai,da)|0,Yr=Yr+Math.imul(Pi,va)|0,Br=Br+Math.imul(Pi,Ca)|0,Br=Br+Math.imul(Ei,va)|0,_n=_n+Math.imul(Ei,Ca)|0;var Bo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,Yr=Math.imul(ra,fa),Br=Math.imul(ra,Ki),Br=Br+Math.imul(Oi,fa)|0,_n=Math.imul(Oi,Ki),Yr=Yr+Math.imul(Vi,oa)|0,Br=Br+Math.imul(Vi,ea)|0,Br=Br+Math.imul(Ii,oa)|0,_n=_n+Math.imul(Ii,ea)|0,Yr=Yr+Math.imul(Bi,Aa)|0,Br=Br+Math.imul(Bi,da)|0,Br=Br+Math.imul(Ci,Aa)|0,_n=_n+Math.imul(Ci,da)|0,Yr=Yr+Math.imul(Ni,va)|0,Br=Br+Math.imul(Ni,Ca)|0,Br=Br+Math.imul(Ai,va)|0,_n=_n+Math.imul(Ai,Ca)|0;var Ho=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,Yr=Math.imul(ra,oa),Br=Math.imul(ra,ea),Br=Br+Math.imul(Oi,oa)|0,_n=Math.imul(Oi,ea),Yr=Yr+Math.imul(Vi,Aa)|0,Br=Br+Math.imul(Vi,da)|0,Br=Br+Math.imul(Ii,Aa)|0,_n=_n+Math.imul(Ii,da)|0,Yr=Yr+Math.imul(Bi,va)|0,Br=Br+Math.imul(Bi,Ca)|0,Br=Br+Math.imul(Ci,va)|0,_n=_n+Math.imul(Ci,Ca)|0;var zo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(zo>>>26)|0,zo&=67108863,Yr=Math.imul(ra,Aa),Br=Math.imul(ra,da),Br=Br+Math.imul(Oi,Aa)|0,_n=Math.imul(Oi,da),Yr=Yr+Math.imul(Vi,va)|0,Br=Br+Math.imul(Vi,Ca)|0,Br=Br+Math.imul(Ii,va)|0,_n=_n+Math.imul(Ii,Ca)|0;var fc=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(fc>>>26)|0,fc&=67108863,Yr=Math.imul(ra,va),Br=Math.imul(ra,Ca),Br=Br+Math.imul(Oi,va)|0,_n=Math.imul(Oi,Ca);var rc=(Kr+Yr|0)+((Br&8191)<<13)|0;return Kr=(_n+(Br>>>13)|0)+(rc>>>26)|0,rc&=67108863,Xr[0]=Io,Xr[1]=Po,Xr[2]=To,Xr[3]=No,Xr[4]=ho,Xr[5]=_o,Xr[6]=ko,Xr[7]=$o,Xr[8]=Mo,Xr[9]=Oo,Xr[10]=Eo,Xr[11]=So,Xr[12]=Ao,Xr[13]=co,Xr[14]=Bo,Xr[15]=Ho,Xr[16]=zo,Xr[17]=fc,Xr[18]=rc,Kr!==0&&(Xr[19]=Kr,qr.length++),qr};Math.imul||(Qr=jr);function wn(Zr,Oe,wr){wr.negative=Oe.negative^Zr.negative,wr.length=Zr.length+Oe.length;for(var qr=0,Vr=0,Jr=0;Jr<wr.length-1;Jr++){var Xr=Vr;Vr=0;for(var Kr=qr&67108863,Yr=Math.min(Jr,Oe.length-1),Br=Math.max(0,Jr-Zr.length+1);Br<=Yr;Br++){var _n=Jr-Br,ii=Zr.words[_n]|0,ni=Oe.words[Br]|0,si=ii*ni,Nn=si&67108863;Xr=Xr+(si/67108864|0)|0,Nn=Nn+Kr|0,Kr=Nn&67108863,Xr=Xr+(Nn>>>26)|0,Vr+=Xr>>>26,Xr&=67108863}wr.words[Jr]=Kr,qr=Xr,Xr=Vr}return qr!==0?wr.words[Jr]=qr:wr.length--,wr._strip()}function En(Zr,Oe,wr){return wn(Zr,Oe,wr)}me.prototype.mulTo=function(Oe,wr){var qr,Vr=this.length+Oe.length;return this.length===10&&Oe.length===10?qr=Qr(this,Oe,wr):Vr<63?qr=jr(this,Oe,wr):Vr<1024?qr=wn(this,Oe,wr):qr=En(this,Oe,wr),qr},me.prototype.mul=function(Oe){var wr=new me(null);return wr.words=new Array(this.length+Oe.length),this.mulTo(Oe,wr)},me.prototype.mulf=function(Oe){var wr=new me(null);return wr.words=new Array(this.length+Oe.length),En(this,Oe,wr)},me.prototype.imul=function(Oe){return this.clone().mulTo(Oe,this)},me.prototype.imuln=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(typeof Oe=="number"),fe(Oe<67108864);for(var qr=0,Vr=0;Vr<this.length;Vr++){var Jr=(this.words[Vr]|0)*Oe,Xr=(Jr&67108863)+(qr&67108863);qr>>=26,qr+=Jr/67108864|0,qr+=Xr>>>26,this.words[Vr]=Xr&67108863}return qr!==0&&(this.words[Vr]=qr,this.length++),wr?this.ineg():this},me.prototype.muln=function(Oe){return this.clone().imuln(Oe)},me.prototype.sqr=function(){return this.mul(this)},me.prototype.isqr=function(){return this.imul(this.clone())},me.prototype.pow=function(Oe){var wr=Gr(Oe);if(wr.length===0)return new me(1);for(var qr=this,Vr=0;Vr<wr.length&&wr[Vr]===0;Vr++,qr=qr.sqr());if(++Vr<wr.length)for(var Jr=qr.sqr();Vr<wr.length;Vr++,Jr=Jr.sqr())wr[Vr]!==0&&(qr=qr.mul(Jr));return qr},me.prototype.iushln=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26,Vr=67108863>>>26-wr<<26-wr,Jr;if(wr!==0){var Xr=0;for(Jr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]&Vr,Yr=(this.words[Jr]|0)-Kr<<wr;this.words[Jr]=Yr|Xr,Xr=Kr>>>26-wr}Xr&&(this.words[Jr]=Xr,this.length++)}if(qr!==0){for(Jr=this.length-1;Jr>=0;Jr--)this.words[Jr+qr]=this.words[Jr];for(Jr=0;Jr<qr;Jr++)this.words[Jr]=0;this.length+=qr}return this._strip()},me.prototype.ishln=function(Oe){return fe(this.negative===0),this.iushln(Oe)},me.prototype.iushrn=function(Oe,wr,qr){fe(typeof Oe=="number"&&Oe>=0);var Vr;wr?Vr=(wr-wr%26)/26:Vr=0;var Jr=Oe%26,Xr=Math.min((Oe-Jr)/26,this.length),Kr=67108863^67108863>>>Jr<<Jr,Yr=qr;if(Vr-=Xr,Vr=Math.max(0,Vr),Yr){for(var Br=0;Br<Xr;Br++)Yr.words[Br]=this.words[Br];Yr.length=Xr}if(Xr!==0)if(this.length>Xr)for(this.length-=Xr,Br=0;Br<this.length;Br++)this.words[Br]=this.words[Br+Xr];else this.words[0]=0,this.length=1;var _n=0;for(Br=this.length-1;Br>=0&&(_n!==0||Br>=Vr);Br--){var ii=this.words[Br]|0;this.words[Br]=_n<<26-Jr|ii>>>Jr,_n=ii&Kr}return Yr&&_n!==0&&(Yr.words[Yr.length++]=_n),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},me.prototype.ishrn=function(Oe,wr,qr){return fe(this.negative===0),this.iushrn(Oe,wr,qr)},me.prototype.shln=function(Oe){return this.clone().ishln(Oe)},me.prototype.ushln=function(Oe){return this.clone().iushln(Oe)},me.prototype.shrn=function(Oe){return this.clone().ishrn(Oe)},me.prototype.ushrn=function(Oe){return this.clone().iushrn(Oe)},me.prototype.testn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26,Vr=1<<wr;if(this.length<=qr)return!1;var Jr=this.words[qr];return!!(Jr&Vr)},me.prototype.imaskn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26;if(fe(this.negative===0,"imaskn works only with positive numbers"),this.length<=qr)return this;if(wr!==0&&qr++,this.length=Math.min(qr,this.length),wr!==0){var Vr=67108863^67108863>>>wr<<wr;this.words[this.length-1]&=Vr}return this._strip()},me.prototype.maskn=function(Oe){return this.clone().imaskn(Oe)},me.prototype.iaddn=function(Oe){return fe(typeof Oe=="number"),fe(Oe<67108864),Oe<0?this.isubn(-Oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=Oe?(this.words[0]=Oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Oe),this.negative=1,this):this._iaddn(Oe)},me.prototype._iaddn=function(Oe){this.words[0]+=Oe;for(var wr=0;wr<this.length&&this.words[wr]>=67108864;wr++)this.words[wr]-=67108864,wr===this.length-1?this.words[wr+1]=1:this.words[wr+1]++;return this.length=Math.max(this.length,wr+1),this},me.prototype.isubn=function(Oe){if(fe(typeof Oe=="number"),fe(Oe<67108864),Oe<0)return this.iaddn(-Oe);if(this.negative!==0)return this.negative=0,this.iaddn(Oe),this.negative=1,this;if(this.words[0]-=Oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var wr=0;wr<this.length&&this.words[wr]<0;wr++)this.words[wr]+=67108864,this.words[wr+1]-=1;return this._strip()},me.prototype.addn=function(Oe){return this.clone().iaddn(Oe)},me.prototype.subn=function(Oe){return this.clone().isubn(Oe)},me.prototype.iabs=function(){return this.negative=0,this},me.prototype.abs=function(){return this.clone().iabs()},me.prototype._ishlnsubmul=function(Oe,wr,qr){var Vr=Oe.length+qr,Jr;this._expand(Vr);var Xr,Kr=0;for(Jr=0;Jr<Oe.length;Jr++){Xr=(this.words[Jr+qr]|0)+Kr;var Yr=(Oe.words[Jr]|0)*wr;Xr-=Yr&67108863,Kr=(Xr>>26)-(Yr/67108864|0),this.words[Jr+qr]=Xr&67108863}for(;Jr<this.length-qr;Jr++)Xr=(this.words[Jr+qr]|0)+Kr,Kr=Xr>>26,this.words[Jr+qr]=Xr&67108863;if(Kr===0)return this._strip();for(fe(Kr===-1),Kr=0,Jr=0;Jr<this.length;Jr++)Xr=-(this.words[Jr]|0)+Kr,Kr=Xr>>26,this.words[Jr]=Xr&67108863;return this.negative=1,this._strip()},me.prototype._wordDiv=function(Oe,wr){var qr=this.length-Oe.length,Vr=this.clone(),Jr=Oe,Xr=Jr.words[Jr.length-1]|0,Kr=this._countBits(Xr);qr=26-Kr,qr!==0&&(Jr=Jr.ushln(qr),Vr.iushln(qr),Xr=Jr.words[Jr.length-1]|0);var Yr=Vr.length-Jr.length,Br;if(wr!=="mod"){Br=new me(null),Br.length=Yr+1,Br.words=new Array(Br.length);for(var _n=0;_n<Br.length;_n++)Br.words[_n]=0}var ii=Vr.clone()._ishlnsubmul(Jr,1,Yr);ii.negative===0&&(Vr=ii,Br&&(Br.words[Yr]=1));for(var ni=Yr-1;ni>=0;ni--){var si=(Vr.words[Jr.length+ni]|0)*67108864+(Vr.words[Jr.length+ni-1]|0);for(si=Math.min(si/Xr|0,67108863),Vr._ishlnsubmul(Jr,si,ni);Vr.negative!==0;)si--,Vr.negative=0,Vr._ishlnsubmul(Jr,1,ni),Vr.isZero()||(Vr.negative^=1);Br&&(Br.words[ni]=si)}return Br&&Br._strip(),Vr._strip(),wr!=="div"&&qr!==0&&Vr.iushrn(qr),{div:Br||null,mod:Vr}},me.prototype.divmod=function(Oe,wr,qr){if(fe(!Oe.isZero()),this.isZero())return{div:new me(0),mod:new me(0)};var Vr,Jr,Xr;return this.negative!==0&&Oe.negative===0?(Xr=this.neg().divmod(Oe,wr),wr!=="mod"&&(Vr=Xr.div.neg()),wr!=="div"&&(Jr=Xr.mod.neg(),qr&&Jr.negative!==0&&Jr.iadd(Oe)),{div:Vr,mod:Jr}):this.negative===0&&Oe.negative!==0?(Xr=this.divmod(Oe.neg(),wr),wr!=="mod"&&(Vr=Xr.div.neg()),{div:Vr,mod:Xr.mod}):this.negative&Oe.negative?(Xr=this.neg().divmod(Oe.neg(),wr),wr!=="div"&&(Jr=Xr.mod.neg(),qr&&Jr.negative!==0&&Jr.isub(Oe)),{div:Xr.div,mod:Jr}):Oe.length>this.length||this.cmp(Oe)<0?{div:new me(0),mod:this}:Oe.length===1?wr==="div"?{div:this.divn(Oe.words[0]),mod:null}:wr==="mod"?{div:null,mod:new me(this.modrn(Oe.words[0]))}:{div:this.divn(Oe.words[0]),mod:new me(this.modrn(Oe.words[0]))}:this._wordDiv(Oe,wr)},me.prototype.div=function(Oe){return this.divmod(Oe,"div",!1).div},me.prototype.mod=function(Oe){return this.divmod(Oe,"mod",!1).mod},me.prototype.umod=function(Oe){return this.divmod(Oe,"mod",!0).mod},me.prototype.divRound=function(Oe){var wr=this.divmod(Oe);if(wr.mod.isZero())return wr.div;var qr=wr.div.negative!==0?wr.mod.isub(Oe):wr.mod,Vr=Oe.ushrn(1),Jr=Oe.andln(1),Xr=qr.cmp(Vr);return Xr<0||Jr===1&&Xr===0?wr.div:wr.div.negative!==0?wr.div.isubn(1):wr.div.iaddn(1)},me.prototype.modrn=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(Oe<=67108863);for(var qr=(1<<26)%Oe,Vr=0,Jr=this.length-1;Jr>=0;Jr--)Vr=(qr*Vr+(this.words[Jr]|0))%Oe;return wr?-Vr:Vr},me.prototype.modn=function(Oe){return this.modrn(Oe)},me.prototype.idivn=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(Oe<=67108863);for(var qr=0,Vr=this.length-1;Vr>=0;Vr--){var Jr=(this.words[Vr]|0)+qr*67108864;this.words[Vr]=Jr/Oe|0,qr=Jr%Oe}return this._strip(),wr?this.ineg():this},me.prototype.divn=function(Oe){return this.clone().idivn(Oe)},me.prototype.egcd=function(Oe){fe(Oe.negative===0),fe(!Oe.isZero());var wr=this,qr=Oe.clone();wr.negative!==0?wr=wr.umod(Oe):wr=wr.clone();for(var Vr=new me(1),Jr=new me(0),Xr=new me(0),Kr=new me(1),Yr=0;wr.isEven()&&qr.isEven();)wr.iushrn(1),qr.iushrn(1),++Yr;for(var Br=qr.clone(),_n=wr.clone();!wr.isZero();){for(var ii=0,ni=1;!(wr.words[0]&ni)&&ii<26;++ii,ni<<=1);if(ii>0)for(wr.iushrn(ii);ii-- >0;)(Vr.isOdd()||Jr.isOdd())&&(Vr.iadd(Br),Jr.isub(_n)),Vr.iushrn(1),Jr.iushrn(1);for(var si=0,Nn=1;!(qr.words[0]&Nn)&&si<26;++si,Nn<<=1);if(si>0)for(qr.iushrn(si);si-- >0;)(Xr.isOdd()||Kr.isOdd())&&(Xr.iadd(Br),Kr.isub(_n)),Xr.iushrn(1),Kr.iushrn(1);wr.cmp(qr)>=0?(wr.isub(qr),Vr.isub(Xr),Jr.isub(Kr)):(qr.isub(wr),Xr.isub(Vr),Kr.isub(Jr))}return{a:Xr,b:Kr,gcd:qr.iushln(Yr)}},me.prototype._invmp=function(Oe){fe(Oe.negative===0),fe(!Oe.isZero());var wr=this,qr=Oe.clone();wr.negative!==0?wr=wr.umod(Oe):wr=wr.clone();for(var Vr=new me(1),Jr=new me(0),Xr=qr.clone();wr.cmpn(1)>0&&qr.cmpn(1)>0;){for(var Kr=0,Yr=1;!(wr.words[0]&Yr)&&Kr<26;++Kr,Yr<<=1);if(Kr>0)for(wr.iushrn(Kr);Kr-- >0;)Vr.isOdd()&&Vr.iadd(Xr),Vr.iushrn(1);for(var Br=0,_n=1;!(qr.words[0]&_n)&&Br<26;++Br,_n<<=1);if(Br>0)for(qr.iushrn(Br);Br-- >0;)Jr.isOdd()&&Jr.iadd(Xr),Jr.iushrn(1);wr.cmp(qr)>=0?(wr.isub(qr),Vr.isub(Jr)):(qr.isub(wr),Jr.isub(Vr))}var ii;return wr.cmpn(1)===0?ii=Vr:ii=Jr,ii.cmpn(0)<0&&ii.iadd(Oe),ii},me.prototype.gcd=function(Oe){if(this.isZero())return Oe.abs();if(Oe.isZero())return this.abs();var wr=this.clone(),qr=Oe.clone();wr.negative=0,qr.negative=0;for(var Vr=0;wr.isEven()&&qr.isEven();Vr++)wr.iushrn(1),qr.iushrn(1);do{for(;wr.isEven();)wr.iushrn(1);for(;qr.isEven();)qr.iushrn(1);var Jr=wr.cmp(qr);if(Jr<0){var Xr=wr;wr=qr,qr=Xr}else if(Jr===0||qr.cmpn(1)===0)break;wr.isub(qr)}while(!0);return qr.iushln(Vr)},me.prototype.invm=function(Oe){return this.egcd(Oe).a.umod(Oe)},me.prototype.isEven=function(){return(this.words[0]&1)===0},me.prototype.isOdd=function(){return(this.words[0]&1)===1},me.prototype.andln=function(Oe){return this.words[0]&Oe},me.prototype.bincn=function(Oe){fe(typeof Oe=="number");var wr=Oe%26,qr=(Oe-wr)/26,Vr=1<<wr;if(this.length<=qr)return this._expand(qr+1),this.words[qr]|=Vr,this;for(var Jr=Vr,Xr=qr;Jr!==0&&Xr<this.length;Xr++){var Kr=this.words[Xr]|0;Kr+=Jr,Jr=Kr>>>26,Kr&=67108863,this.words[Xr]=Kr}return Jr!==0&&(this.words[Xr]=Jr,this.length++),this},me.prototype.isZero=function(){return this.length===1&&this.words[0]===0},me.prototype.cmpn=function(Oe){var wr=Oe<0;if(this.negative!==0&&!wr)return-1;if(this.negative===0&&wr)return 1;this._strip();var qr;if(this.length>1)qr=1;else{wr&&(Oe=-Oe),fe(Oe<=67108863,"Number is too big");var Vr=this.words[0]|0;qr=Vr===Oe?0:Vr<Oe?-1:1}return this.negative!==0?-qr|0:qr},me.prototype.cmp=function(Oe){if(this.negative!==0&&Oe.negative===0)return-1;if(this.negative===0&&Oe.negative!==0)return 1;var wr=this.ucmp(Oe);return this.negative!==0?-wr|0:wr},me.prototype.ucmp=function(Oe){if(this.length>Oe.length)return 1;if(this.length<Oe.length)return-1;for(var wr=0,qr=this.length-1;qr>=0;qr--){var Vr=this.words[qr]|0,Jr=Oe.words[qr]|0;if(Vr!==Jr){Vr<Jr?wr=-1:Vr>Jr&&(wr=1);break}}return wr},me.prototype.gtn=function(Oe){return this.cmpn(Oe)===1},me.prototype.gt=function(Oe){return this.cmp(Oe)===1},me.prototype.gten=function(Oe){return this.cmpn(Oe)>=0},me.prototype.gte=function(Oe){return this.cmp(Oe)>=0},me.prototype.ltn=function(Oe){return this.cmpn(Oe)===-1},me.prototype.lt=function(Oe){return this.cmp(Oe)===-1},me.prototype.lten=function(Oe){return this.cmpn(Oe)<=0},me.prototype.lte=function(Oe){return this.cmp(Oe)<=0},me.prototype.eqn=function(Oe){return this.cmpn(Oe)===0},me.prototype.eq=function(Oe){return this.cmp(Oe)===0},me.red=function(Oe){return new On(Oe)},me.prototype.toRed=function(Oe){return fe(!this.red,"Already a number in reduction context"),fe(this.negative===0,"red works only with positives"),Oe.convertTo(this)._forceRed(Oe)},me.prototype.fromRed=function(){return fe(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},me.prototype._forceRed=function(Oe){return this.red=Oe,this},me.prototype.forceRed=function(Oe){return fe(!this.red,"Already a number in reduction context"),this._forceRed(Oe)},me.prototype.redAdd=function(Oe){return fe(this.red,"redAdd works only with red numbers"),this.red.add(this,Oe)},me.prototype.redIAdd=function(Oe){return fe(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Oe)},me.prototype.redSub=function(Oe){return fe(this.red,"redSub works only with red numbers"),this.red.sub(this,Oe)},me.prototype.redISub=function(Oe){return fe(this.red,"redISub works only with red numbers"),this.red.isub(this,Oe)},me.prototype.redShl=function(Oe){return fe(this.red,"redShl works only with red numbers"),this.red.shl(this,Oe)},me.prototype.redMul=function(Oe){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Oe),this.red.mul(this,Oe)},me.prototype.redIMul=function(Oe){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Oe),this.red.imul(this,Oe)},me.prototype.redSqr=function(){return fe(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},me.prototype.redISqr=function(){return fe(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},me.prototype.redSqrt=function(){return fe(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},me.prototype.redInvm=function(){return fe(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},me.prototype.redNeg=function(){return fe(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},me.prototype.redPow=function(Oe){return fe(this.red&&!Oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Oe)};var Rn={k256:null,p224:null,p192:null,p25519:null};function An(Zr,Oe){this.name=Zr,this.p=new me(Oe,16),this.n=this.p.bitLength(),this.k=new me(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}An.prototype._tmp=function(){var Oe=new me(null);return Oe.words=new Array(Math.ceil(this.n/13)),Oe},An.prototype.ireduce=function(Oe){var wr=Oe,qr;do this.split(wr,this.tmp),wr=this.imulK(wr),wr=wr.iadd(this.tmp),qr=wr.bitLength();while(qr>this.n);var Vr=qr<this.n?-1:wr.ucmp(this.p);return Vr===0?(wr.words[0]=0,wr.length=1):Vr>0?wr.isub(this.p):wr.strip!==void 0?wr.strip():wr._strip(),wr},An.prototype.split=function(Oe,wr){Oe.iushrn(this.n,0,wr)},An.prototype.imulK=function(Oe){return Oe.imul(this.k)};function $n(){An.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ye($n,An),$n.prototype.split=function(Oe,wr){for(var qr=4194303,Vr=Math.min(Oe.length,9),Jr=0;Jr<Vr;Jr++)wr.words[Jr]=Oe.words[Jr];if(wr.length=Vr,Oe.length<=9){Oe.words[0]=0,Oe.length=1;return}var Xr=Oe.words[9];for(wr.words[wr.length++]=Xr&qr,Jr=10;Jr<Oe.length;Jr++){var Kr=Oe.words[Jr]|0;Oe.words[Jr-10]=(Kr&qr)<<4|Xr>>>22,Xr=Kr}Xr>>>=22,Oe.words[Jr-10]=Xr,Xr===0&&Oe.length>10?Oe.length-=10:Oe.length-=9},$n.prototype.imulK=function(Oe){Oe.words[Oe.length]=0,Oe.words[Oe.length+1]=0,Oe.length+=2;for(var wr=0,qr=0;qr<Oe.length;qr++){var Vr=Oe.words[qr]|0;wr+=Vr*977,Oe.words[qr]=wr&67108863,wr=Vr*64+(wr/67108864|0)}return Oe.words[Oe.length-1]===0&&(Oe.length--,Oe.words[Oe.length-1]===0&&Oe.length--),Oe};function Tn(){An.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ye(Tn,An);function ti(){An.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ye(ti,An);function ai(){An.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ye(ai,An),ai.prototype.imulK=function(Oe){for(var wr=0,qr=0;qr<Oe.length;qr++){var Vr=(Oe.words[qr]|0)*19+wr,Jr=Vr&67108863;Vr>>>=26,Oe.words[qr]=Jr,wr=Vr}return wr!==0&&(Oe.words[Oe.length++]=wr),Oe},me._prime=function(Oe){if(Rn[Oe])return Rn[Oe];var wr;if(Oe==="k256")wr=new $n;else if(Oe==="p224")wr=new Tn;else if(Oe==="p192")wr=new ti;else if(Oe==="p25519")wr=new ai;else throw new Error("Unknown prime "+Oe);return Rn[Oe]=wr,wr};function On(Zr){if(typeof Zr=="string"){var Oe=me._prime(Zr);this.m=Oe.p,this.prime=Oe}else fe(Zr.gtn(1),"modulus must be greater than 1"),this.m=Zr,this.prime=null}On.prototype._verify1=function(Oe){fe(Oe.negative===0,"red works only with positives"),fe(Oe.red,"red works only with red numbers")},On.prototype._verify2=function(Oe,wr){fe((Oe.negative|wr.negative)===0,"red works only with positives"),fe(Oe.red&&Oe.red===wr.red,"red works only with red numbers")},On.prototype.imod=function(Oe){return this.prime?this.prime.ireduce(Oe)._forceRed(this):(Se(Oe,Oe.umod(this.m)._forceRed(this)),Oe)},On.prototype.neg=function(Oe){return Oe.isZero()?Oe.clone():this.m.sub(Oe)._forceRed(this)},On.prototype.add=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.add(wr);return qr.cmp(this.m)>=0&&qr.isub(this.m),qr._forceRed(this)},On.prototype.iadd=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.iadd(wr);return qr.cmp(this.m)>=0&&qr.isub(this.m),qr},On.prototype.sub=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.sub(wr);return qr.cmpn(0)<0&&qr.iadd(this.m),qr._forceRed(this)},On.prototype.isub=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.isub(wr);return qr.cmpn(0)<0&&qr.iadd(this.m),qr},On.prototype.shl=function(Oe,wr){return this._verify1(Oe),this.imod(Oe.ushln(wr))},On.prototype.imul=function(Oe,wr){return this._verify2(Oe,wr),this.imod(Oe.imul(wr))},On.prototype.mul=function(Oe,wr){return this._verify2(Oe,wr),this.imod(Oe.mul(wr))},On.prototype.isqr=function(Oe){return this.imul(Oe,Oe.clone())},On.prototype.sqr=function(Oe){return this.mul(Oe,Oe)},On.prototype.sqrt=function(Oe){if(Oe.isZero())return Oe.clone();var wr=this.m.andln(3);if(fe(wr%2===1),wr===3){var qr=this.m.add(new me(1)).iushrn(2);return this.pow(Oe,qr)}for(var Vr=this.m.subn(1),Jr=0;!Vr.isZero()&&Vr.andln(1)===0;)Jr++,Vr.iushrn(1);fe(!Vr.isZero());var Xr=new me(1).toRed(this),Kr=Xr.redNeg(),Yr=this.m.subn(1).iushrn(1),Br=this.m.bitLength();for(Br=new me(2*Br*Br).toRed(this);this.pow(Br,Yr).cmp(Kr)!==0;)Br.redIAdd(Kr);for(var _n=this.pow(Br,Vr),ii=this.pow(Oe,Vr.addn(1).iushrn(1)),ni=this.pow(Oe,Vr),si=Jr;ni.cmp(Xr)!==0;){for(var Nn=ni,jn=0;Nn.cmp(Xr)!==0;jn++)Nn=Nn.redSqr();fe(jn<si);var ei=this.pow(_n,new me(1).iushln(si-jn-1));ii=ii.redMul(ei),_n=ei.redSqr(),ni=ni.redMul(_n),si=jn}return ii},On.prototype.invm=function(Oe){var wr=Oe._invmp(this.m);return wr.negative!==0?(wr.negative=0,this.imod(wr).redNeg()):this.imod(wr)},On.prototype.pow=function(Oe,wr){if(wr.isZero())return new me(1).toRed(this);if(wr.cmpn(1)===0)return Oe.clone();var qr=4,Vr=new Array(1<<qr);Vr[0]=new me(1).toRed(this),Vr[1]=Oe;for(var Jr=2;Jr<Vr.length;Jr++)Vr[Jr]=this.mul(Vr[Jr-1],Oe);var Xr=Vr[0],Kr=0,Yr=0,Br=wr.bitLength()%26;for(Br===0&&(Br=26),Jr=wr.length-1;Jr>=0;Jr--){for(var _n=wr.words[Jr],ii=Br-1;ii>=0;ii--){var ni=_n>>ii&1;if(Xr!==Vr[0]&&(Xr=this.sqr(Xr)),ni===0&&Kr===0){Yr=0;continue}Kr<<=1,Kr|=ni,Yr++,!(Yr!==qr&&(Jr!==0||ii!==0))&&(Xr=this.mul(Xr,Vr[Kr]),Yr=0,Kr=0)}Br=26}return Xr},On.prototype.convertTo=function(Oe){var wr=Oe.umod(this.m);return wr===Oe?wr.clone():wr},On.prototype.convertFrom=function(Oe){var wr=Oe.clone();return wr.red=null,wr},me.mont=function(Oe){return new Sn(Oe)};function Sn(Zr){On.call(this,Zr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new me(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ye(Sn,On),Sn.prototype.convertTo=function(Oe){return this.imod(Oe.ushln(this.shift))},Sn.prototype.convertFrom=function(Oe){var wr=this.imod(Oe.mul(this.rinv));return wr.red=null,wr},Sn.prototype.imul=function(Oe,wr){if(Oe.isZero()||wr.isZero())return Oe.words[0]=0,Oe.length=1,Oe;var qr=Oe.imul(wr),Vr=qr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Jr=qr.isub(Vr).iushrn(this.shift),Xr=Jr;return Jr.cmp(this.m)>=0?Xr=Jr.isub(this.m):Jr.cmpn(0)<0&&(Xr=Jr.iadd(this.m)),Xr._forceRed(this)},Sn.prototype.mul=function(Oe,wr){if(Oe.isZero()||wr.isZero())return new me(0)._forceRed(this);var qr=Oe.mul(wr),Vr=qr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Jr=qr.isub(Vr).iushrn(this.shift),Xr=Jr;return Jr.cmp(this.m)>=0?Xr=Jr.isub(this.m):Jr.cmpn(0)<0&&(Xr=Jr.iadd(this.m)),Xr._forceRed(this)},Sn.prototype.invm=function(Oe){var wr=this.imod(Oe._invmp(this.m).mul(this.r2));return wr._forceRed(this)}})(se,bn$2)}(bn$3)),bn$3.exports}var asn1$1={},asn1={},api$1={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(se,Y){if(se.indexOf)return se.indexOf(Y);for(var ne=0;ne<se.length;ne++)if(se[ne]===Y)return ne;return-1},Object_keys=function(se){if(Object.keys)return Object.keys(se);var Y=[];for(var ne in se)Y.push(ne);return Y},forEach=function(se,Y){if(se.forEach)return se.forEach(Y);for(var ne=0;ne<se.length;ne++)Y(se[ne],ne,se)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(se,Y,ne){Object.defineProperty(se,Y,{writable:!0,enumerable:!1,configurable:!0,value:ne})}}catch{return function(Y,ne,fe){Y[ne]=fe}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(Y){if(!(this instanceof Script))return new Script(Y);this.code=Y};Script.prototype.runInContext=function(se){if(!(se instanceof Context))throw new TypeError("needs a 'context' argument.");var Y=document.createElement("iframe");Y.style||(Y.style={}),Y.style.display="none",document.body.appendChild(Y);var ne=Y.contentWindow,fe=ne.eval,ye=ne.execScript;!fe&&ye&&(ye.call(ne,"null"),fe=ne.eval),forEach(Object_keys(se),function(we){ne[we]=se[we]}),forEach(globals,function(we){se[we]&&(ne[we]=se[we])});var me=Object_keys(ne),be=fe.call(ne,this.code);return forEach(Object_keys(ne),function(we){(we in se||indexOf(me,we)===-1)&&(se[we]=ne[we])}),forEach(globals,function(we){we in se||defineProp(se,we,ne[we])}),document.body.removeChild(Y),be},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(se){var Y=Script.createContext(se),ne=this.runInContext(Y);return se&&forEach(Object_keys(Y),function(fe){se[fe]=Y[fe]}),ne},forEach(Object_keys(Script.prototype),function(se){exports[se]=Script[se]=function(Y){var ne=Script(Y);return ne[se].apply(ne,[].slice.call(arguments,1))}}),exports.isContext=function(se){return se instanceof Context},exports.createScript=function(se){return exports.Script(se)},exports.createContext=Script.createContext=function(se){var Y=new Context;return typeof se=="object"&&forEach(Object_keys(se),function(ne){Y[ne]=se[ne]}),Y}}(vmBrowserify)),vmBrowserify}var hasRequiredApi$1;function requireApi$1(){return hasRequiredApi$1||(hasRequiredApi$1=1,function(se){var Y=requireAsn1$1(),ne=requireInherits_browser(),fe=se;fe.define=function(be,we){return new ye(be,we)};function ye(me,be){this.name=me,this.body=be,this.decoders={},this.encoders={}}ye.prototype._createNamed=function(be){var we;try{we=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{we=function(xe){this._initNamed(xe)}}return ne(we,be),we.prototype._initNamed=function(xe){be.call(this,xe)},new we(this)},ye.prototype._getDecoder=function(be){return be=be||"der",this.decoders.hasOwnProperty(be)||(this.decoders[be]=this._createNamed(Y.decoders[be])),this.decoders[be]},ye.prototype.decode=function(be,we,Ee){return this._getDecoder(we).decode(be,Ee)},ye.prototype._getEncoder=function(be){return be=be||"der",this.encoders.hasOwnProperty(be)||(this.encoders[be]=this._createNamed(Y.encoders[be])),this.encoders[be]},ye.prototype.encode=function(be,we,Ee){return this._getEncoder(we).encode(be,Ee)}}(api$1)),api$1}var base$1={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var se=requireInherits_browser();function Y(fe){this._reporterState={obj:null,path:[],options:fe||{},errors:[]}}reporter.Reporter=Y,Y.prototype.isError=function(ye){return ye instanceof ne},Y.prototype.save=function(){var ye=this._reporterState;return{obj:ye.obj,pathLen:ye.path.length}},Y.prototype.restore=function(ye){var me=this._reporterState;me.obj=ye.obj,me.path=me.path.slice(0,ye.pathLen)},Y.prototype.enterKey=function(ye){return this._reporterState.path.push(ye)},Y.prototype.exitKey=function(ye){var me=this._reporterState;me.path=me.path.slice(0,ye-1)},Y.prototype.leaveKey=function(ye,me,be){var we=this._reporterState;this.exitKey(ye),we.obj!==null&&(we.obj[me]=be)},Y.prototype.path=function(){return this._reporterState.path.join("/")},Y.prototype.enterObject=function(){var ye=this._reporterState,me=ye.obj;return ye.obj={},me},Y.prototype.leaveObject=function(ye){var me=this._reporterState,be=me.obj;return me.obj=ye,be},Y.prototype.error=function(ye){var me,be=this._reporterState,we=ye instanceof ne;if(we?me=ye:me=new ne(be.path.map(function(Ee){return"["+JSON.stringify(Ee)+"]"}).join(""),ye.message||ye,ye.stack),!be.options.partial)throw me;return we||be.errors.push(me),me},Y.prototype.wrapResult=function(ye){var me=this._reporterState;return me.options.partial?{result:this.isError(ye)?null:ye,errors:me.errors}:ye};function ne(fe,ye){this.path=fe,this.rethrow(ye)}return se(ne,Error),ne.prototype.rethrow=function(ye){if(this.message=ye+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ne),!this.stack)try{throw new Error(this.message)}catch(me){this.stack=me.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var se=requireInherits_browser(),Y=requireBase().Reporter,ne=requireDist$5().Buffer;function fe(me,be){if(Y.call(this,be),!ne.isBuffer(me)){this.error("Input not Buffer");return}this.base=me,this.offset=0,this.length=me.length}se(fe,Y),buffer.DecoderBuffer=fe,fe.prototype.save=function(){return{offset:this.offset,reporter:Y.prototype.save.call(this)}},fe.prototype.restore=function(be){var we=new fe(this.base);return we.offset=be.offset,we.length=this.offset,this.offset=be.offset,Y.prototype.restore.call(this,be.reporter),we},fe.prototype.isEmpty=function(){return this.offset===this.length},fe.prototype.readUInt8=function(be){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(be||"DecoderBuffer overrun")},fe.prototype.skip=function(be,we){if(!(this.offset+be<=this.length))return this.error(we||"DecoderBuffer overrun");var Ee=new fe(this.base);return Ee._reporterState=this._reporterState,Ee.offset=this.offset,Ee.length=this.offset+be,this.offset+=be,Ee},fe.prototype.raw=function(be){return this.base.slice(be?be.offset:this.offset,this.length)};function ye(me,be){if(Array.isArray(me))this.length=0,this.value=me.map(function(we){return we instanceof ye||(we=new ye(we,be)),this.length+=we.length,we},this);else if(typeof me=="number"){if(!(0<=me&&me<=255))return be.error("non-byte EncoderBuffer value");this.value=me,this.length=1}else if(typeof me=="string")this.value=me,this.length=ne.byteLength(me);else if(ne.isBuffer(me))this.value=me,this.length=me.length;else return be.error("Unsupported type: "+typeof me)}return buffer.EncoderBuffer=ye,ye.prototype.join=function(be,we){return be||(be=new ne(this.length)),we||(we=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Ee){Ee.join(be,we),we+=Ee.length}):(typeof this.value=="number"?be[we]=this.value:typeof this.value=="string"?be.write(this.value,we):ne.isBuffer(this.value)&&this.value.copy(be,we),we+=this.length)),be},buffer}var node,hasRequiredNode$1;function requireNode$1(){if(hasRequiredNode$1)return node;hasRequiredNode$1=1;var se=requireBase().Reporter,Y=requireBase().EncoderBuffer,ne=requireBase().DecoderBuffer,fe=requireMinimalisticAssert(),ye=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],me=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ye),be=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function we(xe,Se){var Ie={};this._baseState=Ie,Ie.enc=xe,Ie.parent=Se||null,Ie.children=null,Ie.tag=null,Ie.args=null,Ie.reverseArgs=null,Ie.choice=null,Ie.optional=!1,Ie.any=!1,Ie.obj=!1,Ie.use=null,Ie.useDecoder=null,Ie.key=null,Ie.default=null,Ie.explicit=null,Ie.implicit=null,Ie.contains=null,Ie.parent||(Ie.children=[],this._wrap())}node=we;var Ee=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return we.prototype.clone=function(){var Se=this._baseState,Ie={};Ee.forEach(function(br){Ie[br]=Se[br]});var fr=new this.constructor(Ie.parent);return fr._baseState=Ie,fr},we.prototype._wrap=function(){var Se=this._baseState;me.forEach(function(Ie){this[Ie]=function(){var br=new this.constructor(this);return Se.children.push(br),br[Ie].apply(br,arguments)}},this)},we.prototype._init=function(Se){var Ie=this._baseState;fe(Ie.parent===null),Se.call(this),Ie.children=Ie.children.filter(function(fr){return fr._baseState.parent===this},this),fe.equal(Ie.children.length,1,"Root node can have only one child")},we.prototype._useArgs=function(Se){var Ie=this._baseState,fr=Se.filter(function(br){return br instanceof this.constructor},this);Se=Se.filter(function(br){return!(br instanceof this.constructor)},this),fr.length!==0&&(fe(Ie.children===null),Ie.children=fr,fr.forEach(function(br){br._baseState.parent=this},this)),Se.length!==0&&(fe(Ie.args===null),Ie.args=Se,Ie.reverseArgs=Se.map(function(br){if(typeof br!="object"||br.constructor!==Object)return br;var kr={};return Object.keys(br).forEach(function(Wr){Wr==(Wr|0)&&(Wr|=0);var Gr=br[Wr];kr[Gr]=Wr}),kr}))},be.forEach(function(xe){we.prototype[xe]=function(){var Ie=this._baseState;throw new Error(xe+" not implemented for encoding: "+Ie.enc)}}),ye.forEach(function(xe){we.prototype[xe]=function(){var Ie=this._baseState,fr=Array.prototype.slice.call(arguments);return fe(Ie.tag===null),Ie.tag=xe,this._useArgs(fr),this}}),we.prototype.use=function(Se){fe(Se);var Ie=this._baseState;return fe(Ie.use===null),Ie.use=Se,this},we.prototype.optional=function(){var Se=this._baseState;return Se.optional=!0,this},we.prototype.def=function(Se){var Ie=this._baseState;return fe(Ie.default===null),Ie.default=Se,Ie.optional=!0,this},we.prototype.explicit=function(Se){var Ie=this._baseState;return fe(Ie.explicit===null&&Ie.implicit===null),Ie.explicit=Se,this},we.prototype.implicit=function(Se){var Ie=this._baseState;return fe(Ie.explicit===null&&Ie.implicit===null),Ie.implicit=Se,this},we.prototype.obj=function(){var Se=this._baseState,Ie=Array.prototype.slice.call(arguments);return Se.obj=!0,Ie.length!==0&&this._useArgs(Ie),this},we.prototype.key=function(Se){var Ie=this._baseState;return fe(Ie.key===null),Ie.key=Se,this},we.prototype.any=function(){var Se=this._baseState;return Se.any=!0,this},we.prototype.choice=function(Se){var Ie=this._baseState;return fe(Ie.choice===null),Ie.choice=Se,this._useArgs(Object.keys(Se).map(function(fr){return Se[fr]})),this},we.prototype.contains=function(Se){var Ie=this._baseState;return fe(Ie.use===null),Ie.contains=Se,this},we.prototype._decode=function(Se,Ie){var fr=this._baseState;if(fr.parent===null)return Se.wrapResult(fr.children[0]._decode(Se,Ie));var br=fr.default,kr=!0,Wr=null;if(fr.key!==null&&(Wr=Se.enterKey(fr.key)),fr.optional){var Gr=null;if(fr.explicit!==null?Gr=fr.explicit:fr.implicit!==null?Gr=fr.implicit:fr.tag!==null&&(Gr=fr.tag),Gr===null&&!fr.any){var jr=Se.save();try{fr.choice===null?this._decodeGeneric(fr.tag,Se,Ie):this._decodeChoice(Se,Ie),kr=!0}catch{kr=!1}Se.restore(jr)}else if(kr=this._peekTag(Se,Gr,fr.any),Se.isError(kr))return kr}var Qr;if(fr.obj&&kr&&(Qr=Se.enterObject()),kr){if(fr.explicit!==null){var wn=this._decodeTag(Se,fr.explicit);if(Se.isError(wn))return wn;Se=wn}var En=Se.offset;if(fr.use===null&&fr.choice===null){if(fr.any)var jr=Se.save();var Rn=this._decodeTag(Se,fr.implicit!==null?fr.implicit:fr.tag,fr.any);if(Se.isError(Rn))return Rn;fr.any?br=Se.raw(jr):Se=Rn}if(Ie&&Ie.track&&fr.tag!==null&&Ie.track(Se.path(),En,Se.length,"tagged"),Ie&&Ie.track&&fr.tag!==null&&Ie.track(Se.path(),Se.offset,Se.length,"content"),fr.any?br=br:fr.choice===null?br=this._decodeGeneric(fr.tag,Se,Ie):br=this._decodeChoice(Se,Ie),Se.isError(br))return br;if(!fr.any&&fr.choice===null&&fr.children!==null&&fr.children.forEach(function(Tn){Tn._decode(Se,Ie)}),fr.contains&&(fr.tag==="octstr"||fr.tag==="bitstr")){var An=new ne(br);br=this._getUse(fr.contains,Se._reporterState.obj)._decode(An,Ie)}}return fr.obj&&kr&&(br=Se.leaveObject(Qr)),fr.key!==null&&(br!==null||kr===!0)?Se.leaveKey(Wr,fr.key,br):Wr!==null&&Se.exitKey(Wr),br},we.prototype._decodeGeneric=function(Se,Ie,fr){var br=this._baseState;return Se==="seq"||Se==="set"?null:Se==="seqof"||Se==="setof"?this._decodeList(Ie,Se,br.args[0],fr):/str$/.test(Se)?this._decodeStr(Ie,Se,fr):Se==="objid"&&br.args?this._decodeObjid(Ie,br.args[0],br.args[1],fr):Se==="objid"?this._decodeObjid(Ie,null,null,fr):Se==="gentime"||Se==="utctime"?this._decodeTime(Ie,Se,fr):Se==="null_"?this._decodeNull(Ie,fr):Se==="bool"?this._decodeBool(Ie,fr):Se==="objDesc"?this._decodeStr(Ie,Se,fr):Se==="int"||Se==="enum"?this._decodeInt(Ie,br.args&&br.args[0],fr):br.use!==null?this._getUse(br.use,Ie._reporterState.obj)._decode(Ie,fr):Ie.error("unknown tag: "+Se)},we.prototype._getUse=function(Se,Ie){var fr=this._baseState;return fr.useDecoder=this._use(Se,Ie),fe(fr.useDecoder._baseState.parent===null),fr.useDecoder=fr.useDecoder._baseState.children[0],fr.implicit!==fr.useDecoder._baseState.implicit&&(fr.useDecoder=fr.useDecoder.clone(),fr.useDecoder._baseState.implicit=fr.implicit),fr.useDecoder},we.prototype._decodeChoice=function(Se,Ie){var fr=this._baseState,br=null,kr=!1;return Object.keys(fr.choice).some(function(Wr){var Gr=Se.save(),jr=fr.choice[Wr];try{var Qr=jr._decode(Se,Ie);if(Se.isError(Qr))return!1;br={type:Wr,value:Qr},kr=!0}catch{return Se.restore(Gr),!1}return!0},this),kr?br:Se.error("Choice not matched")},we.prototype._createEncoderBuffer=function(Se){return new Y(Se,this.reporter)},we.prototype._encode=function(Se,Ie,fr){var br=this._baseState;if(!(br.default!==null&&br.default===Se)){var kr=this._encodeValue(Se,Ie,fr);if(kr!==void 0&&!this._skipDefault(kr,Ie,fr))return kr}},we.prototype._encodeValue=function(Se,Ie,fr){var br=this._baseState;if(br.parent===null)return br.children[0]._encode(Se,Ie||new se);var jr=null;if(this.reporter=Ie,br.optional&&Se===void 0)if(br.default!==null)Se=br.default;else return;var kr=null,Wr=!1;if(br.any)jr=this._createEncoderBuffer(Se);else if(br.choice)jr=this._encodeChoice(Se,Ie);else if(br.contains)kr=this._getUse(br.contains,fr)._encode(Se,Ie),Wr=!0;else if(br.children)kr=br.children.map(function(En){if(En._baseState.tag==="null_")return En._encode(null,Ie,Se);if(En._baseState.key===null)return Ie.error("Child should have a key");var Rn=Ie.enterKey(En._baseState.key);if(typeof Se!="object")return Ie.error("Child expected, but input is not object");var An=En._encode(Se[En._baseState.key],Ie,Se);return Ie.leaveKey(Rn),An},this).filter(function(En){return En}),kr=this._createEncoderBuffer(kr);else if(br.tag==="seqof"||br.tag==="setof"){if(!(br.args&&br.args.length===1))return Ie.error("Too many args for : "+br.tag);if(!Array.isArray(Se))return Ie.error("seqof/setof, but data is not Array");var Gr=this.clone();Gr._baseState.implicit=null,kr=this._createEncoderBuffer(Se.map(function(En){var Rn=this._baseState;return this._getUse(Rn.args[0],Se)._encode(En,Ie)},Gr))}else br.use!==null?jr=this._getUse(br.use,fr)._encode(Se,Ie):(kr=this._encodePrimitive(br.tag,Se),Wr=!0);var jr;if(!br.any&&br.choice===null){var Qr=br.implicit!==null?br.implicit:br.tag,wn=br.implicit===null?"universal":"context";Qr===null?br.use===null&&Ie.error("Tag could be omitted only for .use()"):br.use===null&&(jr=this._encodeComposite(Qr,Wr,wn,kr))}return br.explicit!==null&&(jr=this._encodeComposite(br.explicit,!1,"context",jr)),jr},we.prototype._encodeChoice=function(Se,Ie){var fr=this._baseState,br=fr.choice[Se.type];return br||fe(!1,Se.type+" not found in "+JSON.stringify(Object.keys(fr.choice))),br._encode(Se.value,Ie)},we.prototype._encodePrimitive=function(Se,Ie){var fr=this._baseState;if(/str$/.test(Se))return this._encodeStr(Ie,Se);if(Se==="objid"&&fr.args)return this._encodeObjid(Ie,fr.reverseArgs[0],fr.args[1]);if(Se==="objid")return this._encodeObjid(Ie,null,null);if(Se==="gentime"||Se==="utctime")return this._encodeTime(Ie,Se);if(Se==="null_")return this._encodeNull();if(Se==="int"||Se==="enum")return this._encodeInt(Ie,fr.args&&fr.reverseArgs[0]);if(Se==="bool")return this._encodeBool(Ie);if(Se==="objDesc")return this._encodeStr(Ie,Se);throw new Error("Unsupported tag: "+Se)},we.prototype._isNumstr=function(Se){return/^[0-9 ]*$/.test(Se)},we.prototype._isPrintstr=function(Se){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(Se)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(se){var Y=se;Y.Reporter=requireReporter().Reporter,Y.DecoderBuffer=requireBuffer().DecoderBuffer,Y.EncoderBuffer=requireBuffer().EncoderBuffer,Y.Node=requireNode$1()}(base$1)),base$1}var constants$5={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(se){var Y=requireConstants$5();se.tagClass={0:"universal",1:"application",2:"context",3:"private"},se.tagClassByName=Y._reverse(se.tagClass),se.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},se.tagByName=Y._reverse(se.tag)}(der)),der}var hasRequiredConstants$5;function requireConstants$5(){return hasRequiredConstants$5||(hasRequiredConstants$5=1,function(se){var Y=se;Y._reverse=function(fe){var ye={};return Object.keys(fe).forEach(function(me){(me|0)==me&&(me=me|0);var be=fe[me];ye[be]=me}),ye},Y.der=requireDer$2()}(constants$5)),constants$5}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var se=requireInherits_browser(),Y=requireAsn1$1(),ne=Y.base,fe=Y.bignum,ye=Y.constants.der;function me(xe){this.enc="der",this.name=xe.name,this.entity=xe,this.tree=new be,this.tree._init(xe.body)}der_1$1=me,me.prototype.decode=function(Se,Ie){return Se instanceof ne.DecoderBuffer||(Se=new ne.DecoderBuffer(Se,Ie)),this.tree._decode(Se,Ie)};function be(xe){ne.Node.call(this,"der",xe)}se(be,ne.Node),be.prototype._peekTag=function(Se,Ie,fr){if(Se.isEmpty())return!1;var br=Se.save(),kr=we(Se,'Failed to peek tag: "'+Ie+'"');return Se.isError(kr)?kr:(Se.restore(br),kr.tag===Ie||kr.tagStr===Ie||kr.tagStr+"of"===Ie||fr)},be.prototype._decodeTag=function(Se,Ie,fr){var br=we(Se,'Failed to decode tag of "'+Ie+'"');if(Se.isError(br))return br;var kr=Ee(Se,br.primitive,'Failed to get length of "'+Ie+'"');if(Se.isError(kr))return kr;if(!fr&&br.tag!==Ie&&br.tagStr!==Ie&&br.tagStr+"of"!==Ie)return Se.error('Failed to match tag: "'+Ie+'"');if(br.primitive||kr!==null)return Se.skip(kr,'Failed to match body of: "'+Ie+'"');var Wr=Se.save(),Gr=this._skipUntilEnd(Se,'Failed to skip indefinite length body: "'+this.tag+'"');return Se.isError(Gr)?Gr:(kr=Se.offset-Wr.offset,Se.restore(Wr),Se.skip(kr,'Failed to match body of: "'+Ie+'"'))},be.prototype._skipUntilEnd=function(Se,Ie){for(;;){var fr=we(Se,Ie);if(Se.isError(fr))return fr;var br=Ee(Se,fr.primitive,Ie);if(Se.isError(br))return br;var kr;if(fr.primitive||br!==null?kr=Se.skip(br):kr=this._skipUntilEnd(Se,Ie),Se.isError(kr))return kr;if(fr.tagStr==="end")break}},be.prototype._decodeList=function(Se,Ie,fr,br){for(var kr=[];!Se.isEmpty();){var Wr=this._peekTag(Se,"end");if(Se.isError(Wr))return Wr;var Gr=fr.decode(Se,"der",br);if(Se.isError(Gr)&&Wr)break;kr.push(Gr)}return kr},be.prototype._decodeStr=function(Se,Ie){if(Ie==="bitstr"){var fr=Se.readUInt8();return Se.isError(fr)?fr:{unused:fr,data:Se.raw()}}else if(Ie==="bmpstr"){var br=Se.raw();if(br.length%2===1)return Se.error("Decoding of string type: bmpstr length mismatch");for(var kr="",Wr=0;Wr<br.length/2;Wr++)kr+=String.fromCharCode(br.readUInt16BE(Wr*2));return kr}else if(Ie==="numstr"){var Gr=Se.raw().toString("ascii");return this._isNumstr(Gr)?Gr:Se.error("Decoding of string type: numstr unsupported characters")}else{if(Ie==="octstr")return Se.raw();if(Ie==="objDesc")return Se.raw();if(Ie==="printstr"){var jr=Se.raw().toString("ascii");return this._isPrintstr(jr)?jr:Se.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(Ie)?Se.raw().toString():Se.error("Decoding of string type: "+Ie+" unsupported")}},be.prototype._decodeObjid=function(Se,Ie,fr){for(var br,kr=[],Wr=0;!Se.isEmpty();){var Gr=Se.readUInt8();Wr<<=7,Wr|=Gr&127,Gr&128||(kr.push(Wr),Wr=0)}Gr&128&&kr.push(Wr);var jr=kr[0]/40|0,Qr=kr[0]%40;if(fr?br=kr:br=[jr,Qr].concat(kr.slice(1)),Ie){var wn=Ie[br.join(" ")];wn===void 0&&(wn=Ie[br.join(".")]),wn!==void 0&&(br=wn)}return br},be.prototype._decodeTime=function(Se,Ie){var fr=Se.raw().toString();if(Ie==="gentime")var br=fr.slice(0,4)|0,kr=fr.slice(4,6)|0,Wr=fr.slice(6,8)|0,Gr=fr.slice(8,10)|0,jr=fr.slice(10,12)|0,Qr=fr.slice(12,14)|0;else if(Ie==="utctime"){var br=fr.slice(0,2)|0,kr=fr.slice(2,4)|0,Wr=fr.slice(4,6)|0,Gr=fr.slice(6,8)|0,jr=fr.slice(8,10)|0,Qr=fr.slice(10,12)|0;br<70?br=2e3+br:br=1900+br}else return Se.error("Decoding "+Ie+" time is not supported yet");return Date.UTC(br,kr-1,Wr,Gr,jr,Qr,0)},be.prototype._decodeNull=function(Se){return null},be.prototype._decodeBool=function(Se){var Ie=Se.readUInt8();return Se.isError(Ie)?Ie:Ie!==0},be.prototype._decodeInt=function(Se,Ie){var fr=Se.raw(),br=new fe(fr);return Ie&&(br=Ie[br.toString(10)]||br),br},be.prototype._use=function(Se,Ie){return typeof Se=="function"&&(Se=Se(Ie)),Se._getDecoder("der").tree};function we(xe,Se){var Ie=xe.readUInt8(Se);if(xe.isError(Ie))return Ie;var fr=ye.tagClass[Ie>>6],br=(Ie&32)===0;if((Ie&31)===31){var kr=Ie;for(Ie=0;(kr&128)===128;){if(kr=xe.readUInt8(Se),xe.isError(kr))return kr;Ie<<=7,Ie|=kr&127}}else Ie&=31;var Wr=ye.tag[Ie];return{cls:fr,primitive:br,tag:Ie,tagStr:Wr}}function Ee(xe,Se,Ie){var fr=xe.readUInt8(Ie);if(xe.isError(fr))return fr;if(!Se&&fr===128)return null;if(!(fr&128))return fr;var br=fr&127;if(br>4)return xe.error("length octect is too long");fr=0;for(var kr=0;kr<br;kr++){fr<<=8;var Wr=xe.readUInt8(Ie);if(xe.isError(Wr))return Wr;fr|=Wr}return fr}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var se=requireInherits_browser(),Y=requireDist$5().Buffer,ne=requireDer$1();function fe(ye){ne.call(this,ye),this.enc="pem"}return se(fe,ne),pem$1=fe,fe.prototype.decode=function(me,be){for(var we=me.toString().split(/[\r\n]+/g),Ee=be.label.toUpperCase(),xe=/^-----(BEGIN|END) ([^-]+)-----$/,Se=-1,Ie=-1,fr=0;fr<we.length;fr++){var br=we[fr].match(xe);if(br!==null&&br[2]===Ee)if(Se===-1){if(br[1]!=="BEGIN")break;Se=fr}else{if(br[1]!=="END")break;Ie=fr;break}}if(Se===-1||Ie===-1)throw new Error("PEM section not found for: "+Ee);var kr=we.slice(Se+1,Ie).join("");kr.replace(/[^a-z0-9\+\/=]+/gi,"");var Wr=new Y(kr,"base64");return ne.prototype.decode.call(this,Wr,be)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(se){var Y=se;Y.der=requireDer$1(),Y.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var se=requireInherits_browser(),Y=requireDist$5().Buffer,ne=requireAsn1$1(),fe=ne.base,ye=ne.constants.der;function me(xe){this.enc="der",this.name=xe.name,this.entity=xe,this.tree=new be,this.tree._init(xe.body)}der_1=me,me.prototype.encode=function(Se,Ie){return this.tree._encode(Se,Ie).join()};function be(xe){fe.Node.call(this,"der",xe)}se(be,fe.Node),be.prototype._encodeComposite=function(Se,Ie,fr,br){var kr=Ee(Se,Ie,fr,this.reporter);if(br.length<128){var jr=new Y(2);return jr[0]=kr,jr[1]=br.length,this._createEncoderBuffer([jr,br])}for(var Wr=1,Gr=br.length;Gr>=256;Gr>>=8)Wr++;var jr=new Y(2+Wr);jr[0]=kr,jr[1]=128|Wr;for(var Gr=1+Wr,Qr=br.length;Qr>0;Gr--,Qr>>=8)jr[Gr]=Qr&255;return this._createEncoderBuffer([jr,br])},be.prototype._encodeStr=function(Se,Ie){if(Ie==="bitstr")return this._createEncoderBuffer([Se.unused|0,Se.data]);if(Ie==="bmpstr"){for(var fr=new Y(Se.length*2),br=0;br<Se.length;br++)fr.writeUInt16BE(Se.charCodeAt(br),br*2);return this._createEncoderBuffer(fr)}else return Ie==="numstr"?this._isNumstr(Se)?this._createEncoderBuffer(Se):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Ie==="printstr"?this._isPrintstr(Se)?this._createEncoderBuffer(Se):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Ie)?this._createEncoderBuffer(Se):Ie==="objDesc"?this._createEncoderBuffer(Se):this.reporter.error("Encoding of string type: "+Ie+" unsupported")},be.prototype._encodeObjid=function(Se,Ie,fr){if(typeof Se=="string"){if(!Ie)return this.reporter.error("string objid given, but no values map found");if(!Ie.hasOwnProperty(Se))return this.reporter.error("objid not found in values map");Se=Ie[Se].split(/[\s\.]+/g);for(var br=0;br<Se.length;br++)Se[br]|=0}else if(Array.isArray(Se)){Se=Se.slice();for(var br=0;br<Se.length;br++)Se[br]|=0}if(!Array.isArray(Se))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(Se));if(!fr){if(Se[1]>=40)return this.reporter.error("Second objid identifier OOB");Se.splice(0,2,Se[0]*40+Se[1])}for(var kr=0,br=0;br<Se.length;br++){var Wr=Se[br];for(kr++;Wr>=128;Wr>>=7)kr++}for(var Gr=new Y(kr),jr=Gr.length-1,br=Se.length-1;br>=0;br--){var Wr=Se[br];for(Gr[jr--]=Wr&127;(Wr>>=7)>0;)Gr[jr--]=128|Wr&127}return this._createEncoderBuffer(Gr)};function we(xe){return xe<10?"0"+xe:xe}be.prototype._encodeTime=function(Se,Ie){var fr,br=new Date(Se);return Ie==="gentime"?fr=[we(br.getFullYear()),we(br.getUTCMonth()+1),we(br.getUTCDate()),we(br.getUTCHours()),we(br.getUTCMinutes()),we(br.getUTCSeconds()),"Z"].join(""):Ie==="utctime"?fr=[we(br.getFullYear()%100),we(br.getUTCMonth()+1),we(br.getUTCDate()),we(br.getUTCHours()),we(br.getUTCMinutes()),we(br.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Ie+" time is not supported yet"),this._encodeStr(fr,"octstr")},be.prototype._encodeNull=function(){return this._createEncoderBuffer("")},be.prototype._encodeInt=function(Se,Ie){if(typeof Se=="string"){if(!Ie)return this.reporter.error("String int or enum given, but no values map");if(!Ie.hasOwnProperty(Se))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(Se));Se=Ie[Se]}if(typeof Se!="number"&&!Y.isBuffer(Se)){var fr=Se.toArray();!Se.sign&&fr[0]&128&&fr.unshift(0),Se=new Y(fr)}if(Y.isBuffer(Se)){var br=Se.length;Se.length===0&&br++;var Wr=new Y(br);return Se.copy(Wr),Se.length===0&&(Wr[0]=0),this._createEncoderBuffer(Wr)}if(Se<128)return this._createEncoderBuffer(Se);if(Se<256)return this._createEncoderBuffer([0,Se]);for(var br=1,kr=Se;kr>=256;kr>>=8)br++;for(var Wr=new Array(br),kr=Wr.length-1;kr>=0;kr--)Wr[kr]=Se&255,Se>>=8;return Wr[0]&128&&Wr.unshift(0),this._createEncoderBuffer(new Y(Wr))},be.prototype._encodeBool=function(Se){return this._createEncoderBuffer(Se?255:0)},be.prototype._use=function(Se,Ie){return typeof Se=="function"&&(Se=Se(Ie)),Se._getEncoder("der").tree},be.prototype._skipDefault=function(Se,Ie,fr){var br=this._baseState,kr;if(br.default===null)return!1;var Wr=Se.join();if(br.defaultBuffer===void 0&&(br.defaultBuffer=this._encodeValue(br.default,Ie,fr).join()),Wr.length!==br.defaultBuffer.length)return!1;for(kr=0;kr<Wr.length;kr++)if(Wr[kr]!==br.defaultBuffer[kr])return!1;return!0};function Ee(xe,Se,Ie,fr){var br;if(xe==="seqof"?xe="seq":xe==="setof"&&(xe="set"),ye.tagByName.hasOwnProperty(xe))br=ye.tagByName[xe];else if(typeof xe=="number"&&(xe|0)===xe)br=xe;else return fr.error("Unknown tag: "+xe);return br>=31?fr.error("Multi-octet tag encoding unsupported"):(Se||(br|=32),br|=ye.tagClassByName[Ie||"universal"]<<6,br)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var se=requireInherits_browser(),Y=requireDer();function ne(fe){Y.call(this,fe),this.enc="pem"}return se(ne,Y),pem=ne,ne.prototype.encode=function(ye,me){for(var be=Y.prototype.encode.call(this,ye),we=be.toString("base64"),Ee=["-----BEGIN "+me.label+"-----"],xe=0;xe<we.length;xe+=64)Ee.push(we.slice(xe,xe+64));return Ee.push("-----END "+me.label+"-----"),Ee.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(se){var Y=se;Y.der=requireDer(),Y.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(se){var Y=se;Y.bignum=requireBn$3(),Y.define=requireApi$1().define,Y.base=requireBase(),Y.constants=requireConstants$5(),Y.decoders=requireDecoders(),Y.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var se=requireAsn1$1(),Y=se.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),ne=se.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),fe=se.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),ye=se.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(fe),this.key("subjectPublicKey").bitstr())}),me=se.define("RelativeDistinguishedName",function(){this.setof(ne)}),be=se.define("RDNSequence",function(){this.seqof(me)}),we=se.define("Name",function(){this.choice({rdnSequence:this.use(be)})}),Ee=se.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Y),this.key("notAfter").use(Y))}),xe=se.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Se=se.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(fe),this.key("issuer").use(we),this.key("validity").use(Ee),this.key("subject").use(we),this.key("subjectPublicKeyInfo").use(ye),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(xe).optional())}),Ie=se.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Se),this.key("signatureAlgorithm").use(fe),this.key("signatureValue").bitstr())});return certificate=Ie,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var se=requireAsn1$1();asn1$1.certificate=requireCertificate();var Y=se.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=Y;var ne=se.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=ne;var fe=se.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ye=se.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(fe),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=ye;var me=se.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(fe),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=me;var be=se.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=be;var we=se.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=we,asn1$1.DSAparam=se.define("DSAparam",function(){this.int()});var Ee=se.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),xe=se.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Ee),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=xe,asn1$1.signature=se.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$2={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var se=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Y=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,ne=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,fe=requireEvp_bytestokey(),ye=requireBrowser$9(),me=requireSafeBuffer$1().Buffer;return fixProc=function(be,we){var Ee=be.toString(),xe=Ee.match(se),Se;if(xe){var fr="aes"+xe[1],br=me.from(xe[2],"hex"),kr=me.from(xe[3].replace(/[\r\n]/g,""),"base64"),Wr=fe(we,br.slice(0,8),parseInt(xe[1],10)).key,Gr=[],jr=ye.createDecipheriv(fr,Wr,br);Gr.push(jr.update(kr)),Gr.push(jr.final()),Se=me.concat(Gr)}else{var Ie=Ee.match(ne);Se=me.from(Ie[2].replace(/[\r\n]/g,""),"base64")}var Qr=Ee.match(Y)[1];return{tag:Qr,data:Se}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var se=requireAsn1(),Y=require$$1$2,ne=requireFixProc(),fe=requireBrowser$9(),ye=requireBrowser$a(),me=requireSafeBuffer$1().Buffer;function be(Ee,xe){var Se=Ee.algorithm.decrypt.kde.kdeparams.salt,Ie=parseInt(Ee.algorithm.decrypt.kde.kdeparams.iters.toString(),10),fr=Y[Ee.algorithm.decrypt.cipher.algo.join(".")],br=Ee.algorithm.decrypt.cipher.iv,kr=Ee.subjectPrivateKey,Wr=parseInt(fr.split("-")[1],10)/8,Gr=ye.pbkdf2Sync(xe,Se,Ie,Wr,"sha1"),jr=fe.createDecipheriv(fr,Gr,br),Qr=[];return Qr.push(jr.update(kr)),Qr.push(jr.final()),me.concat(Qr)}function we(Ee){var xe;typeof Ee=="object"&&!me.isBuffer(Ee)&&(xe=Ee.passphrase,Ee=Ee.key),typeof Ee=="string"&&(Ee=me.from(Ee));var Se=ne(Ee,xe),Ie=Se.tag,fr=Se.data,br,kr;switch(Ie){case"CERTIFICATE":kr=se.certificate.decode(fr,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(kr||(kr=se.PublicKey.decode(fr,"der")),br=kr.algorithm.algorithm.join("."),br){case"1.2.840.113549.1.1.1":return se.RSAPublicKey.decode(kr.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return kr.subjectPrivateKey=kr.subjectPublicKey,{type:"ec",data:kr};case"1.2.840.10040.4.1":return kr.algorithm.params.pub_key=se.DSAparam.decode(kr.subjectPublicKey.data,"der"),{type:"dsa",data:kr.algorithm.params};default:throw new Error("unknown key id "+br)}case"ENCRYPTED PRIVATE KEY":fr=se.EncryptedPrivateKey.decode(fr,"der"),fr=be(fr,xe);case"PRIVATE KEY":switch(kr=se.PrivateKey.decode(fr,"der"),br=kr.algorithm.algorithm.join("."),br){case"1.2.840.113549.1.1.1":return se.RSAPrivateKey.decode(kr.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:kr.algorithm.curve,privateKey:se.ECPrivateKey.decode(kr.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return kr.algorithm.params.priv_key=se.DSAparam.decode(kr.subjectPrivateKey,"der"),{type:"dsa",params:kr.algorithm.params};default:throw new Error("unknown key id "+br)}case"RSA PUBLIC KEY":return se.RSAPublicKey.decode(fr,"der");case"RSA PRIVATE KEY":return se.RSAPrivateKey.decode(fr,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:se.DSAPrivateKey.decode(fr,"der")};case"EC PRIVATE KEY":return fr=se.ECPrivateKey.decode(fr,"der"),{curve:fr.parameters.value,privateKey:fr.privateKey};default:throw new Error("unknown key type "+Ie)}}return we.signature=se.signature,parseAsn1=we,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var se=requireSafeBuffer$1().Buffer,Y=requireBrowser$b(),ne=requireBrowserifyRsa(),fe=requireElliptic().ec,ye=requireBn$1(),me=requireParseAsn1(),be=require$$4,we=1;function Ee(jr,Qr,wn,En,Rn){var An=me(Qr);if(An.curve){if(En!=="ecdsa"&&En!=="ecdsa/rsa")throw new Error("wrong private key type");return xe(jr,An)}else if(An.type==="dsa"){if(En!=="dsa")throw new Error("wrong private key type");return Se(jr,An,wn)}if(En!=="rsa"&&En!=="ecdsa/rsa")throw new Error("wrong private key type");if(Qr.padding!==void 0&&Qr.padding!==we)throw new Error("illegal or unsupported padding mode");jr=se.concat([Rn,jr]);for(var $n=An.modulus.byteLength(),Tn=[0,1];jr.length+Tn.length+1<$n;)Tn.push(255);Tn.push(0);for(var ti=-1;++ti<jr.length;)Tn.push(jr[ti]);var ai=ne(Tn,An);return ai}function xe(jr,Qr){var wn=be[Qr.curve.join(".")];if(!wn)throw new Error("unknown curve "+Qr.curve.join("."));var En=new fe(wn),Rn=En.keyFromPrivate(Qr.privateKey),An=Rn.sign(jr);return se.from(An.toDER())}function Se(jr,Qr,wn){for(var En=Qr.params.priv_key,Rn=Qr.params.p,An=Qr.params.q,$n=Qr.params.g,Tn=new ye(0),ti,ai=br(jr,An).mod(An),On=!1,Sn=fr(En,An,jr,wn);On===!1;)ti=Wr(An,Sn,wn),Tn=Gr($n,ti,Rn,An),On=ti.invm(An).imul(ai.add(En.mul(Tn))).mod(An),On.cmpn(0)===0&&(On=!1,Tn=new ye(0));return Ie(Tn,On)}function Ie(jr,Qr){jr=jr.toArray(),Qr=Qr.toArray(),jr[0]&128&&(jr=[0].concat(jr)),Qr[0]&128&&(Qr=[0].concat(Qr));var wn=jr.length+Qr.length+4,En=[48,wn,2,jr.length];return En=En.concat(jr,[2,Qr.length],Qr),se.from(En)}function fr(jr,Qr,wn,En){if(jr=se.from(jr.toArray()),jr.length<Qr.byteLength()){var Rn=se.alloc(Qr.byteLength()-jr.length);jr=se.concat([Rn,jr])}var An=wn.length,$n=kr(wn,Qr),Tn=se.alloc(An);Tn.fill(1);var ti=se.alloc(An);return ti=Y(En,ti).update(Tn).update(se.from([0])).update(jr).update($n).digest(),Tn=Y(En,ti).update(Tn).digest(),ti=Y(En,ti).update(Tn).update(se.from([1])).update(jr).update($n).digest(),Tn=Y(En,ti).update(Tn).digest(),{k:ti,v:Tn}}function br(jr,Qr){var wn=new ye(jr),En=(jr.length<<3)-Qr.bitLength();return En>0&&wn.ishrn(En),wn}function kr(jr,Qr){jr=br(jr,Qr),jr=jr.mod(Qr);var wn=se.from(jr.toArray());if(wn.length<Qr.byteLength()){var En=se.alloc(Qr.byteLength()-wn.length);wn=se.concat([En,wn])}return wn}function Wr(jr,Qr,wn){var En,Rn;do{for(En=se.alloc(0);En.length*8<jr.bitLength();)Qr.v=Y(wn,Qr.k).update(Qr.v).digest(),En=se.concat([En,Qr.v]);Rn=br(En,jr),Qr.k=Y(wn,Qr.k).update(Qr.v).update(se.from([0])).digest(),Qr.v=Y(wn,Qr.k).update(Qr.v).digest()}while(Rn.cmp(jr)!==-1);return Rn}function Gr(jr,Qr,wn,En){return jr.toRed(ye.mont(wn)).redPow(Qr).fromRed().mod(En)}return sign.exports=Ee,sign.exports.getKey=fr,sign.exports.makeKey=Wr,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var se=requireSafeBuffer$1().Buffer,Y=requireBn$1(),ne=requireElliptic().ec,fe=requireParseAsn1(),ye=require$$4;function me(xe,Se,Ie,fr,br){var kr=fe(Ie);if(kr.type==="ec"){if(fr!=="ecdsa"&&fr!=="ecdsa/rsa")throw new Error("wrong public key type");return be(xe,Se,kr)}else if(kr.type==="dsa"){if(fr!=="dsa")throw new Error("wrong public key type");return we(xe,Se,kr)}if(fr!=="rsa"&&fr!=="ecdsa/rsa")throw new Error("wrong public key type");Se=se.concat([br,Se]);for(var Wr=kr.modulus.byteLength(),Gr=[1],jr=0;Se.length+Gr.length+2<Wr;)Gr.push(255),jr+=1;Gr.push(0);for(var Qr=-1;++Qr<Se.length;)Gr.push(Se[Qr]);Gr=se.from(Gr);var wn=Y.mont(kr.modulus);xe=new Y(xe).toRed(wn),xe=xe.redPow(new Y(kr.publicExponent)),xe=se.from(xe.fromRed().toArray());var En=jr<8?1:0;for(Wr=Math.min(xe.length,Gr.length),xe.length!==Gr.length&&(En=1),Qr=-1;++Qr<Wr;)En|=xe[Qr]^Gr[Qr];return En===0}function be(xe,Se,Ie){var fr=ye[Ie.data.algorithm.curve.join(".")];if(!fr)throw new Error("unknown curve "+Ie.data.algorithm.curve.join("."));var br=new ne(fr),kr=Ie.data.subjectPrivateKey.data;return br.verify(Se,xe,kr)}function we(xe,Se,Ie){var fr=Ie.data.p,br=Ie.data.q,kr=Ie.data.g,Wr=Ie.data.pub_key,Gr=fe.signature.decode(xe,"der"),jr=Gr.s,Qr=Gr.r;Ee(jr,br),Ee(Qr,br);var wn=Y.mont(fr),En=jr.invm(br),Rn=kr.toRed(wn).redPow(new Y(Se).mul(En).mod(br)).fromRed().mul(Wr.toRed(wn).redPow(Qr.mul(En).mod(br)).fromRed()).mod(fr).mod(br);return Rn.cmp(Qr)===0}function Ee(xe,Se){if(xe.cmpn(0)<=0)throw new Error("invalid sig");if(xe.cmp(Se)>=0)throw new Error("invalid sig")}return verify_1=me,verify_1}var browser$6,hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$6;hasRequiredBrowser$6=1;var se=requireSafeBuffer$1().Buffer,Y=requireBrowser$c(),ne=requireReadableBrowser(),fe=requireInherits_browser(),ye=requireSign(),me=requireVerify(),be=require$$6;Object.keys(be).forEach(function(Ie){be[Ie].id=se.from(be[Ie].id,"hex"),be[Ie.toLowerCase()]=be[Ie]});function we(Ie){ne.Writable.call(this);var fr=be[Ie];if(!fr)throw new Error("Unknown message digest");this._hashType=fr.hash,this._hash=Y(fr.hash),this._tag=fr.id,this._signType=fr.sign}fe(we,ne.Writable),we.prototype._write=function(fr,br,kr){this._hash.update(fr),kr()},we.prototype.update=function(fr,br){return this._hash.update(typeof fr=="string"?se.from(fr,br):fr),this},we.prototype.sign=function(fr,br){this.end();var kr=this._hash.digest(),Wr=ye(kr,fr,this._hashType,this._signType,this._tag);return br?Wr.toString(br):Wr};function Ee(Ie){ne.Writable.call(this);var fr=be[Ie];if(!fr)throw new Error("Unknown message digest");this._hash=Y(fr.hash),this._tag=fr.id,this._signType=fr.sign}fe(Ee,ne.Writable),Ee.prototype._write=function(fr,br,kr){this._hash.update(fr),kr()},Ee.prototype.update=function(fr,br){return this._hash.update(typeof fr=="string"?se.from(fr,br):fr),this},Ee.prototype.verify=function(fr,br,kr){var Wr=typeof br=="string"?se.from(br,kr):br;this.end();var Gr=this._hash.digest();return me(Wr,Gr,fr,this._signType,this._tag)};function xe(Ie){return new we(Ie)}function Se(Ie){return new Ee(Ie)}return browser$6={Sign:xe,Verify:Se,createSign:xe,createVerify:Se},browser$6}var browser$5,hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$5;hasRequiredBrowser$5=1;var se=requireElliptic(),Y=requireBn$3();browser$5=function(be){return new fe(be)};var ne={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};ne.p224=ne.secp224r1,ne.p256=ne.secp256r1=ne.prime256v1,ne.p192=ne.secp192r1=ne.prime192v1,ne.p384=ne.secp384r1,ne.p521=ne.secp521r1;function fe(me){this.curveType=ne[me],this.curveType||(this.curveType={name:me}),this.curve=new se.ec(this.curveType.name),this.keys=void 0}fe.prototype.generateKeys=function(me,be){return this.keys=this.curve.genKeyPair(),this.getPublicKey(me,be)},fe.prototype.computeSecret=function(me,be,we){be=be||"utf8",Buffer.isBuffer(me)||(me=new Buffer(me,be));var Ee=this.curve.keyFromPublic(me).getPublic(),xe=Ee.mul(this.keys.getPrivate()).getX();return ye(xe,we,this.curveType.byteLength)},fe.prototype.getPublicKey=function(me,be){var we=this.keys.getPublic(be==="compressed",!0);return be==="hybrid"&&(we[we.length-1]%2?we[0]=7:we[0]=6),ye(we,me)},fe.prototype.getPrivateKey=function(me){return ye(this.keys.getPrivate(),me)},fe.prototype.setPublicKey=function(me,be){return be=be||"utf8",Buffer.isBuffer(me)||(me=new Buffer(me,be)),this.keys._importPublic(me),this},fe.prototype.setPrivateKey=function(me,be){be=be||"utf8",Buffer.isBuffer(me)||(me=new Buffer(me,be));var we=new Y(me);return we=we.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(we),this};function ye(me,be,we){Array.isArray(me)||(me=me.toArray());var Ee=new Buffer(me);if(we&&Ee.length<we){var xe=new Buffer(we-Ee.length);xe.fill(0),Ee=Buffer.concat([xe,Ee])}return be?Ee.toString(be):Ee}return browser$5}var browser$4={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var se=requireBrowser$c(),Y=requireSafeBuffer$1().Buffer;mgf=function(fe,ye){for(var me=Y.alloc(0),be=0,we;me.length<ye;)we=ne(be++),me=Y.concat([me,se("sha1").update(fe).update(we).digest()]);return me.slice(0,ye)};function ne(fe){var ye=Y.allocUnsafe(4);return ye.writeUInt32BE(fe,0),ye}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(Y,ne){for(var fe=Y.length,ye=-1;++ye<fe;)Y[ye]^=ne[ye];return Y}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var se=requireBn$3(),Y=requireSafeBuffer$1().Buffer;function ne(fe,ye){return Y.from(fe.toRed(se.mont(ye.modulus)).redPow(new se(ye.publicExponent)).fromRed().toArray())}return withPublic_1=ne,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var se=requireParseAsn1(),Y=requireBrowser$e(),ne=requireBrowser$c(),fe=requireMgf(),ye=requireXor(),me=requireBn$3(),be=requireWithPublic(),we=requireBrowserifyRsa(),Ee=requireSafeBuffer$1().Buffer;publicEncrypt=function(br,kr,Wr){var Gr;br.padding?Gr=br.padding:Wr?Gr=1:Gr=4;var jr=se(br),Qr;if(Gr===4)Qr=xe(jr,kr);else if(Gr===1)Qr=Se(jr,kr,Wr);else if(Gr===3){if(Qr=new me(kr),Qr.cmp(jr.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Wr?we(Qr,jr):be(Qr,jr)};function xe(fr,br){var kr=fr.modulus.byteLength(),Wr=br.length,Gr=ne("sha1").update(Ee.alloc(0)).digest(),jr=Gr.length,Qr=2*jr;if(Wr>kr-Qr-2)throw new Error("message too long");var wn=Ee.alloc(kr-Wr-Qr-2),En=kr-jr-1,Rn=Y(jr),An=ye(Ee.concat([Gr,wn,Ee.alloc(1,1),br],En),fe(Rn,En)),$n=ye(Rn,fe(An,jr));return new me(Ee.concat([Ee.alloc(1),$n,An],kr))}function Se(fr,br,kr){var Wr=br.length,Gr=fr.modulus.byteLength();if(Wr>Gr-11)throw new Error("message too long");var jr;return kr?jr=Ee.alloc(Gr-Wr-3,255):jr=Ie(Gr-Wr-3),new me(Ee.concat([Ee.from([0,kr?1:2]),jr,Ee.alloc(1),br],Gr))}function Ie(fr){for(var br=Ee.allocUnsafe(fr),kr=0,Wr=Y(fr*2),Gr=0,jr;kr<fr;)Gr===Wr.length&&(Wr=Y(fr*2),Gr=0),jr=Wr[Gr++],jr&&(br[kr++]=jr);return br}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var se=requireParseAsn1(),Y=requireMgf(),ne=requireXor(),fe=requireBn$3(),ye=requireBrowserifyRsa(),me=requireBrowser$c(),be=requireWithPublic(),we=requireSafeBuffer$1().Buffer;privateDecrypt=function(fr,br,kr){var Wr;fr.padding?Wr=fr.padding:kr?Wr=1:Wr=4;var Gr=se(fr),jr=Gr.modulus.byteLength();if(br.length>jr||new fe(br).cmp(Gr.modulus)>=0)throw new Error("decryption error");var Qr;kr?Qr=be(new fe(br),Gr):Qr=ye(br,Gr);var wn=we.alloc(jr-Qr.length);if(Qr=we.concat([wn,Qr],jr),Wr===4)return Ee(Gr,Qr);if(Wr===1)return xe(Gr,Qr,kr);if(Wr===3)return Qr;throw new Error("unknown padding")};function Ee(Ie,fr){var br=Ie.modulus.byteLength(),kr=me("sha1").update(we.alloc(0)).digest(),Wr=kr.length;if(fr[0]!==0)throw new Error("decryption error");var Gr=fr.slice(1,Wr+1),jr=fr.slice(Wr+1),Qr=ne(Gr,Y(jr,Wr)),wn=ne(jr,Y(Qr,br-Wr-1));if(Se(kr,wn.slice(0,Wr)))throw new Error("decryption error");for(var En=Wr;wn[En]===0;)En++;if(wn[En++]!==1)throw new Error("decryption error");return wn.slice(En)}function xe(Ie,fr,br){for(var kr=fr.slice(0,2),Wr=2,Gr=0;fr[Wr++]!==0;)if(Wr>=fr.length){Gr++;break}var jr=fr.slice(2,Wr-1);if((kr.toString("hex")!=="0002"&&!br||kr.toString("hex")!=="0001"&&br)&&Gr++,jr.length<8&&Gr++,Gr)throw new Error("decryption error");return fr.slice(Wr)}function Se(Ie,fr){Ie=we.from(Ie),fr=we.from(fr);var br=0,kr=Ie.length;Ie.length!==fr.length&&(br++,kr=Math.min(Ie.length,fr.length));for(var Wr=-1;++Wr<kr;)br+=Ie[Wr]^fr[Wr];return br}return privateDecrypt}var hasRequiredBrowser$4;function requireBrowser$4(){return hasRequiredBrowser$4||(hasRequiredBrowser$4=1,function(se){se.publicEncrypt=requirePublicEncrypt(),se.privateDecrypt=requirePrivateDecrypt(),se.privateEncrypt=function(ne,fe){return se.publicEncrypt(ne,fe,!0)},se.publicDecrypt=function(ne,fe){return se.privateDecrypt(ne,fe,!0)}}(browser$4)),browser$4}var browser$3={},hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;function se(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var Y=requireSafeBuffer$1(),ne=requireBrowser$e(),fe=Y.Buffer,ye=Y.kMaxLength,me=commonjsGlobal.crypto||commonjsGlobal.msCrypto,be=Math.pow(2,32)-1;function we(fr,br){if(typeof fr!="number"||fr!==fr)throw new TypeError("offset must be a number");if(fr>be||fr<0)throw new TypeError("offset must be a uint32");if(fr>ye||fr>br)throw new RangeError("offset out of range")}function Ee(fr,br,kr){if(typeof fr!="number"||fr!==fr)throw new TypeError("size must be a number");if(fr>be||fr<0)throw new TypeError("size must be a uint32");if(fr+br>kr||fr>ye)throw new RangeError("buffer too small")}me&&me.getRandomValues||!process$1.browser?(browser$3.randomFill=xe,browser$3.randomFillSync=Ie):(browser$3.randomFill=se,browser$3.randomFillSync=se);function xe(fr,br,kr,Wr){if(!fe.isBuffer(fr)&&!(fr instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof br=="function")Wr=br,br=0,kr=fr.length;else if(typeof kr=="function")Wr=kr,kr=fr.length-br;else if(typeof Wr!="function")throw new TypeError('"cb" argument must be a function');return we(br,fr.length),Ee(kr,br,fr.length),Se(fr,br,kr,Wr)}function Se(fr,br,kr,Wr){if(process$1.browser){var Gr=fr.buffer,jr=new Uint8Array(Gr,br,kr);if(me.getRandomValues(jr),Wr){process$1.nextTick(function(){Wr(null,fr)});return}return fr}if(Wr){ne(kr,function(wn,En){if(wn)return Wr(wn);En.copy(fr,br),Wr(null,fr)});return}var Qr=ne(kr);return Qr.copy(fr,br),fr}function Ie(fr,br,kr){if(typeof br>"u"&&(br=0),!fe.isBuffer(fr)&&!(fr instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return we(br,fr.length),kr===void 0&&(kr=fr.length-br),Ee(kr,br,fr.length),Se(fr,br,kr)}return browser$3}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$e(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$c(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$b();var se=requireAlgos(),Y=Object.keys(se),ne=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Y);cryptoBrowserify.getHashes=function(){return ne};var fe=requireBrowser$a();cryptoBrowserify.pbkdf2=fe.pbkdf2,cryptoBrowserify.pbkdf2Sync=fe.pbkdf2Sync;var ye=requireBrowser$8();cryptoBrowserify.Cipher=ye.Cipher,cryptoBrowserify.createCipher=ye.createCipher,cryptoBrowserify.Cipheriv=ye.Cipheriv,cryptoBrowserify.createCipheriv=ye.createCipheriv,cryptoBrowserify.Decipher=ye.Decipher,cryptoBrowserify.createDecipher=ye.createDecipher,cryptoBrowserify.Decipheriv=ye.Decipheriv,cryptoBrowserify.createDecipheriv=ye.createDecipheriv,cryptoBrowserify.getCiphers=ye.getCiphers,cryptoBrowserify.listCiphers=ye.listCiphers;var me=requireBrowser$7();cryptoBrowserify.DiffieHellmanGroup=me.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=me.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=me.getDiffieHellman,cryptoBrowserify.createDiffieHellman=me.createDiffieHellman,cryptoBrowserify.DiffieHellman=me.DiffieHellman;var be=requireBrowser$6();cryptoBrowserify.createSign=be.createSign,cryptoBrowserify.Sign=be.Sign,cryptoBrowserify.createVerify=be.createVerify,cryptoBrowserify.Verify=be.Verify,cryptoBrowserify.createECDH=requireBrowser$5();var we=requireBrowser$4();cryptoBrowserify.publicEncrypt=we.publicEncrypt,cryptoBrowserify.privateEncrypt=we.privateEncrypt,cryptoBrowserify.publicDecrypt=we.publicDecrypt,cryptoBrowserify.privateDecrypt=we.privateDecrypt;var Ee=requireBrowser$3();return cryptoBrowserify.randomFill=Ee.randomFill,cryptoBrowserify.randomFillSync=Ee.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1,Object.defineProperty(node$1,"__esModule",{value:!0}),node$1.NodeRandomSource=void 0;const se=requireWipe();class Y{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const fe=requireCryptoBrowserify();fe&&fe.randomBytes&&(this._crypto=fe,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(fe){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let ye=this._crypto.randomBytes(fe);if(ye.length!==fe)throw new Error("NodeRandomSource: got fewer bytes than requested");const me=new Uint8Array(fe);for(let be=0;be<me.length;be++)me[be]=ye[be];return(0,se.wipe)(ye),me}}return node$1.NodeRandomSource=Y,node$1}var hasRequiredSystem;function requireSystem(){if(hasRequiredSystem)return system;hasRequiredSystem=1,Object.defineProperty(system,"__esModule",{value:!0}),system.SystemRandomSource=void 0;const se=requireBrowser$f(),Y=requireNode();class ne{constructor(){if(this.isAvailable=!1,this.name="",this._source=new se.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Y.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(ye){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(ye)}}return system.SystemRandomSource=ne,system}var hasRequiredRandom;function requireRandom(){return hasRequiredRandom||(hasRequiredRandom=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.randomStringForEntropy=se.randomString=se.randomUint32=se.randomBytes=se.defaultRandomSource=void 0;const Y=requireSystem(),ne=requireBinary(),fe=requireWipe();se.defaultRandomSource=new Y.SystemRandomSource;function ye(xe,Se=se.defaultRandomSource){return Se.randomBytes(xe)}se.randomBytes=ye;function me(xe=se.defaultRandomSource){const Se=ye(4,xe),Ie=(0,ne.readUint32LE)(Se);return(0,fe.wipe)(Se),Ie}se.randomUint32=me;const be="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function we(xe,Se=be,Ie=se.defaultRandomSource){if(Se.length<2)throw new Error("randomString charset is too short");if(Se.length>256)throw new Error("randomString charset is too long");let fr="";const br=Se.length,kr=256-256%br;for(;xe>0;){const Wr=ye(Math.ceil(xe*256/kr),Ie);for(let Gr=0;Gr<Wr.length&&xe>0;Gr++){const jr=Wr[Gr];jr<kr&&(fr+=Se.charAt(jr%br),xe--)}(0,fe.wipe)(Wr)}return fr}se.randomString=we;function Ee(xe,Se=be,Ie=se.defaultRandomSource){const fr=Math.ceil(xe/(Math.log(Se.length)/Math.LN2));return we(fr,Se,Ie)}se.randomStringForEntropy=Ee}(random)),random}var randomExports=requireRandom(),sha256$5={},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});var Y=requireBinary(),ne=requireWipe();se.DIGEST_LENGTH=32,se.BLOCK_SIZE=64;var fe=function(){function we(){this.digestLength=se.DIGEST_LENGTH,this.blockSize=se.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return we.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},we.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},we.prototype.clean=function(){ne.wipe(this._buffer),ne.wipe(this._temp),this.reset()},we.prototype.update=function(Ee,xe){if(xe===void 0&&(xe=Ee.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var Se=0;if(this._bytesHashed+=xe,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&xe>0;)this._buffer[this._bufferLength++]=Ee[Se++],xe--;this._bufferLength===this.blockSize&&(me(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(xe>=this.blockSize&&(Se=me(this._temp,this._state,Ee,Se,xe),xe%=this.blockSize);xe>0;)this._buffer[this._bufferLength++]=Ee[Se++],xe--;return this},we.prototype.finish=function(Ee){if(!this._finished){var xe=this._bytesHashed,Se=this._bufferLength,Ie=xe/536870912|0,fr=xe<<3,br=xe%64<56?64:128;this._buffer[Se]=128;for(var kr=Se+1;kr<br-8;kr++)this._buffer[kr]=0;Y.writeUint32BE(Ie,this._buffer,br-8),Y.writeUint32BE(fr,this._buffer,br-4),me(this._temp,this._state,this._buffer,0,br),this._finished=!0}for(var kr=0;kr<this.digestLength/4;kr++)Y.writeUint32BE(this._state[kr],Ee,kr*4);return this},we.prototype.digest=function(){var Ee=new Uint8Array(this.digestLength);return this.finish(Ee),Ee},we.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},we.prototype.restoreState=function(Ee){return this._state.set(Ee.state),this._bufferLength=Ee.bufferLength,Ee.buffer&&this._buffer.set(Ee.buffer),this._bytesHashed=Ee.bytesHashed,this._finished=!1,this},we.prototype.cleanSavedState=function(Ee){ne.wipe(Ee.state),Ee.buffer&&ne.wipe(Ee.buffer),Ee.bufferLength=0,Ee.bytesHashed=0},we}();se.SHA256=fe;var ye=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function me(we,Ee,xe,Se,Ie){for(;Ie>=64;){for(var fr=Ee[0],br=Ee[1],kr=Ee[2],Wr=Ee[3],Gr=Ee[4],jr=Ee[5],Qr=Ee[6],wn=Ee[7],En=0;En<16;En++){var Rn=Se+En*4;we[En]=Y.readUint32BE(xe,Rn)}for(var En=16;En<64;En++){var An=we[En-2],$n=(An>>>17|An<<15)^(An>>>19|An<<13)^An>>>10;An=we[En-15];var Tn=(An>>>7|An<<25)^(An>>>18|An<<14)^An>>>3;we[En]=($n+we[En-7]|0)+(Tn+we[En-16]|0)}for(var En=0;En<64;En++){var $n=(((Gr>>>6|Gr<<26)^(Gr>>>11|Gr<<21)^(Gr>>>25|Gr<<7))+(Gr&jr^~Gr&Qr)|0)+(wn+(ye[En]+we[En]|0)|0)|0,Tn=((fr>>>2|fr<<30)^(fr>>>13|fr<<19)^(fr>>>22|fr<<10))+(fr&br^fr&kr^br&kr)|0;wn=Qr,Qr=jr,jr=Gr,Gr=Wr+$n|0,Wr=kr,kr=br,br=fr,fr=$n+Tn|0}Ee[0]+=fr,Ee[1]+=br,Ee[2]+=kr,Ee[3]+=Wr,Ee[4]+=Gr,Ee[5]+=jr,Ee[6]+=Qr,Ee[7]+=wn,Se+=64,Ie-=64}return Se}function be(we){var Ee=new fe;Ee.update(we);var xe=Ee.digest();return Ee.clean(),xe}se.hash=be}(sha256$5)),sha256$5}var sha256Exports=requireSha256(),x25519={},hasRequiredX25519;function requireX25519(){return hasRequiredX25519||(hasRequiredX25519=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.sharedKey=se.generateKeyPair=se.generateKeyPairFromSeed=se.scalarMultBase=se.scalarMult=se.SHARED_KEY_LENGTH=se.SECRET_KEY_LENGTH=se.PUBLIC_KEY_LENGTH=void 0;const Y=requireRandom(),ne=requireWipe();se.PUBLIC_KEY_LENGTH=32,se.SECRET_KEY_LENGTH=32,se.SHARED_KEY_LENGTH=32;function fe(En){const Rn=new Float64Array(16);if(En)for(let An=0;An<En.length;An++)Rn[An]=En[An];return Rn}const ye=new Uint8Array(32);ye[0]=9;const me=fe([56129,1]);function be(En){let Rn=1;for(let An=0;An<16;An++){let $n=En[An]+Rn+65535;Rn=Math.floor($n/65536),En[An]=$n-Rn*65536}En[0]+=Rn-1+37*(Rn-1)}function we(En,Rn,An){const $n=~(An-1);for(let Tn=0;Tn<16;Tn++){const ti=$n&(En[Tn]^Rn[Tn]);En[Tn]^=ti,Rn[Tn]^=ti}}function Ee(En,Rn){const An=fe(),$n=fe();for(let Tn=0;Tn<16;Tn++)$n[Tn]=Rn[Tn];be($n),be($n),be($n);for(let Tn=0;Tn<2;Tn++){An[0]=$n[0]-65517;for(let ai=1;ai<15;ai++)An[ai]=$n[ai]-65535-(An[ai-1]>>16&1),An[ai-1]&=65535;An[15]=$n[15]-32767-(An[14]>>16&1);const ti=An[15]>>16&1;An[14]&=65535,we($n,An,1-ti)}for(let Tn=0;Tn<16;Tn++)En[2*Tn]=$n[Tn]&255,En[2*Tn+1]=$n[Tn]>>8}function xe(En,Rn){for(let An=0;An<16;An++)En[An]=Rn[2*An]+(Rn[2*An+1]<<8);En[15]&=32767}function Se(En,Rn,An){for(let $n=0;$n<16;$n++)En[$n]=Rn[$n]+An[$n]}function Ie(En,Rn,An){for(let $n=0;$n<16;$n++)En[$n]=Rn[$n]-An[$n]}function fr(En,Rn,An){let $n,Tn,ti=0,ai=0,On=0,Sn=0,Zr=0,Oe=0,wr=0,qr=0,Vr=0,Jr=0,Xr=0,Kr=0,Yr=0,Br=0,_n=0,ii=0,ni=0,si=0,Nn=0,jn=0,ei=0,Pn=0,zn=0,ri=0,hi=0,mi=0,$i=0,Ti=0,xi=0,Ri=0,vi=0,Pi=An[0],Ei=An[1],ha=An[2],Ni=An[3],Ai=An[4],ga=An[5],Bi=An[6],Ci=An[7],ma=An[8],Vi=An[9],Ii=An[10],Pa=An[11],ra=An[12],Oi=An[13],Na=An[14],na=An[15];$n=Rn[0],ti+=$n*Pi,ai+=$n*Ei,On+=$n*ha,Sn+=$n*Ni,Zr+=$n*Ai,Oe+=$n*ga,wr+=$n*Bi,qr+=$n*Ci,Vr+=$n*ma,Jr+=$n*Vi,Xr+=$n*Ii,Kr+=$n*Pa,Yr+=$n*ra,Br+=$n*Oi,_n+=$n*Na,ii+=$n*na,$n=Rn[1],ai+=$n*Pi,On+=$n*Ei,Sn+=$n*ha,Zr+=$n*Ni,Oe+=$n*Ai,wr+=$n*ga,qr+=$n*Bi,Vr+=$n*Ci,Jr+=$n*ma,Xr+=$n*Vi,Kr+=$n*Ii,Yr+=$n*Pa,Br+=$n*ra,_n+=$n*Oi,ii+=$n*Na,ni+=$n*na,$n=Rn[2],On+=$n*Pi,Sn+=$n*Ei,Zr+=$n*ha,Oe+=$n*Ni,wr+=$n*Ai,qr+=$n*ga,Vr+=$n*Bi,Jr+=$n*Ci,Xr+=$n*ma,Kr+=$n*Vi,Yr+=$n*Ii,Br+=$n*Pa,_n+=$n*ra,ii+=$n*Oi,ni+=$n*Na,si+=$n*na,$n=Rn[3],Sn+=$n*Pi,Zr+=$n*Ei,Oe+=$n*ha,wr+=$n*Ni,qr+=$n*Ai,Vr+=$n*ga,Jr+=$n*Bi,Xr+=$n*Ci,Kr+=$n*ma,Yr+=$n*Vi,Br+=$n*Ii,_n+=$n*Pa,ii+=$n*ra,ni+=$n*Oi,si+=$n*Na,Nn+=$n*na,$n=Rn[4],Zr+=$n*Pi,Oe+=$n*Ei,wr+=$n*ha,qr+=$n*Ni,Vr+=$n*Ai,Jr+=$n*ga,Xr+=$n*Bi,Kr+=$n*Ci,Yr+=$n*ma,Br+=$n*Vi,_n+=$n*Ii,ii+=$n*Pa,ni+=$n*ra,si+=$n*Oi,Nn+=$n*Na,jn+=$n*na,$n=Rn[5],Oe+=$n*Pi,wr+=$n*Ei,qr+=$n*ha,Vr+=$n*Ni,Jr+=$n*Ai,Xr+=$n*ga,Kr+=$n*Bi,Yr+=$n*Ci,Br+=$n*ma,_n+=$n*Vi,ii+=$n*Ii,ni+=$n*Pa,si+=$n*ra,Nn+=$n*Oi,jn+=$n*Na,ei+=$n*na,$n=Rn[6],wr+=$n*Pi,qr+=$n*Ei,Vr+=$n*ha,Jr+=$n*Ni,Xr+=$n*Ai,Kr+=$n*ga,Yr+=$n*Bi,Br+=$n*Ci,_n+=$n*ma,ii+=$n*Vi,ni+=$n*Ii,si+=$n*Pa,Nn+=$n*ra,jn+=$n*Oi,ei+=$n*Na,Pn+=$n*na,$n=Rn[7],qr+=$n*Pi,Vr+=$n*Ei,Jr+=$n*ha,Xr+=$n*Ni,Kr+=$n*Ai,Yr+=$n*ga,Br+=$n*Bi,_n+=$n*Ci,ii+=$n*ma,ni+=$n*Vi,si+=$n*Ii,Nn+=$n*Pa,jn+=$n*ra,ei+=$n*Oi,Pn+=$n*Na,zn+=$n*na,$n=Rn[8],Vr+=$n*Pi,Jr+=$n*Ei,Xr+=$n*ha,Kr+=$n*Ni,Yr+=$n*Ai,Br+=$n*ga,_n+=$n*Bi,ii+=$n*Ci,ni+=$n*ma,si+=$n*Vi,Nn+=$n*Ii,jn+=$n*Pa,ei+=$n*ra,Pn+=$n*Oi,zn+=$n*Na,ri+=$n*na,$n=Rn[9],Jr+=$n*Pi,Xr+=$n*Ei,Kr+=$n*ha,Yr+=$n*Ni,Br+=$n*Ai,_n+=$n*ga,ii+=$n*Bi,ni+=$n*Ci,si+=$n*ma,Nn+=$n*Vi,jn+=$n*Ii,ei+=$n*Pa,Pn+=$n*ra,zn+=$n*Oi,ri+=$n*Na,hi+=$n*na,$n=Rn[10],Xr+=$n*Pi,Kr+=$n*Ei,Yr+=$n*ha,Br+=$n*Ni,_n+=$n*Ai,ii+=$n*ga,ni+=$n*Bi,si+=$n*Ci,Nn+=$n*ma,jn+=$n*Vi,ei+=$n*Ii,Pn+=$n*Pa,zn+=$n*ra,ri+=$n*Oi,hi+=$n*Na,mi+=$n*na,$n=Rn[11],Kr+=$n*Pi,Yr+=$n*Ei,Br+=$n*ha,_n+=$n*Ni,ii+=$n*Ai,ni+=$n*ga,si+=$n*Bi,Nn+=$n*Ci,jn+=$n*ma,ei+=$n*Vi,Pn+=$n*Ii,zn+=$n*Pa,ri+=$n*ra,hi+=$n*Oi,mi+=$n*Na,$i+=$n*na,$n=Rn[12],Yr+=$n*Pi,Br+=$n*Ei,_n+=$n*ha,ii+=$n*Ni,ni+=$n*Ai,si+=$n*ga,Nn+=$n*Bi,jn+=$n*Ci,ei+=$n*ma,Pn+=$n*Vi,zn+=$n*Ii,ri+=$n*Pa,hi+=$n*ra,mi+=$n*Oi,$i+=$n*Na,Ti+=$n*na,$n=Rn[13],Br+=$n*Pi,_n+=$n*Ei,ii+=$n*ha,ni+=$n*Ni,si+=$n*Ai,Nn+=$n*ga,jn+=$n*Bi,ei+=$n*Ci,Pn+=$n*ma,zn+=$n*Vi,ri+=$n*Ii,hi+=$n*Pa,mi+=$n*ra,$i+=$n*Oi,Ti+=$n*Na,xi+=$n*na,$n=Rn[14],_n+=$n*Pi,ii+=$n*Ei,ni+=$n*ha,si+=$n*Ni,Nn+=$n*Ai,jn+=$n*ga,ei+=$n*Bi,Pn+=$n*Ci,zn+=$n*ma,ri+=$n*Vi,hi+=$n*Ii,mi+=$n*Pa,$i+=$n*ra,Ti+=$n*Oi,xi+=$n*Na,Ri+=$n*na,$n=Rn[15],ii+=$n*Pi,ni+=$n*Ei,si+=$n*ha,Nn+=$n*Ni,jn+=$n*Ai,ei+=$n*ga,Pn+=$n*Bi,zn+=$n*Ci,ri+=$n*ma,hi+=$n*Vi,mi+=$n*Ii,$i+=$n*Pa,Ti+=$n*ra,xi+=$n*Oi,Ri+=$n*Na,vi+=$n*na,ti+=38*ni,ai+=38*si,On+=38*Nn,Sn+=38*jn,Zr+=38*ei,Oe+=38*Pn,wr+=38*zn,qr+=38*ri,Vr+=38*hi,Jr+=38*mi,Xr+=38*$i,Kr+=38*Ti,Yr+=38*xi,Br+=38*Ri,_n+=38*vi,Tn=1,$n=ti+Tn+65535,Tn=Math.floor($n/65536),ti=$n-Tn*65536,$n=ai+Tn+65535,Tn=Math.floor($n/65536),ai=$n-Tn*65536,$n=On+Tn+65535,Tn=Math.floor($n/65536),On=$n-Tn*65536,$n=Sn+Tn+65535,Tn=Math.floor($n/65536),Sn=$n-Tn*65536,$n=Zr+Tn+65535,Tn=Math.floor($n/65536),Zr=$n-Tn*65536,$n=Oe+Tn+65535,Tn=Math.floor($n/65536),Oe=$n-Tn*65536,$n=wr+Tn+65535,Tn=Math.floor($n/65536),wr=$n-Tn*65536,$n=qr+Tn+65535,Tn=Math.floor($n/65536),qr=$n-Tn*65536,$n=Vr+Tn+65535,Tn=Math.floor($n/65536),Vr=$n-Tn*65536,$n=Jr+Tn+65535,Tn=Math.floor($n/65536),Jr=$n-Tn*65536,$n=Xr+Tn+65535,Tn=Math.floor($n/65536),Xr=$n-Tn*65536,$n=Kr+Tn+65535,Tn=Math.floor($n/65536),Kr=$n-Tn*65536,$n=Yr+Tn+65535,Tn=Math.floor($n/65536),Yr=$n-Tn*65536,$n=Br+Tn+65535,Tn=Math.floor($n/65536),Br=$n-Tn*65536,$n=_n+Tn+65535,Tn=Math.floor($n/65536),_n=$n-Tn*65536,$n=ii+Tn+65535,Tn=Math.floor($n/65536),ii=$n-Tn*65536,ti+=Tn-1+37*(Tn-1),Tn=1,$n=ti+Tn+65535,Tn=Math.floor($n/65536),ti=$n-Tn*65536,$n=ai+Tn+65535,Tn=Math.floor($n/65536),ai=$n-Tn*65536,$n=On+Tn+65535,Tn=Math.floor($n/65536),On=$n-Tn*65536,$n=Sn+Tn+65535,Tn=Math.floor($n/65536),Sn=$n-Tn*65536,$n=Zr+Tn+65535,Tn=Math.floor($n/65536),Zr=$n-Tn*65536,$n=Oe+Tn+65535,Tn=Math.floor($n/65536),Oe=$n-Tn*65536,$n=wr+Tn+65535,Tn=Math.floor($n/65536),wr=$n-Tn*65536,$n=qr+Tn+65535,Tn=Math.floor($n/65536),qr=$n-Tn*65536,$n=Vr+Tn+65535,Tn=Math.floor($n/65536),Vr=$n-Tn*65536,$n=Jr+Tn+65535,Tn=Math.floor($n/65536),Jr=$n-Tn*65536,$n=Xr+Tn+65535,Tn=Math.floor($n/65536),Xr=$n-Tn*65536,$n=Kr+Tn+65535,Tn=Math.floor($n/65536),Kr=$n-Tn*65536,$n=Yr+Tn+65535,Tn=Math.floor($n/65536),Yr=$n-Tn*65536,$n=Br+Tn+65535,Tn=Math.floor($n/65536),Br=$n-Tn*65536,$n=_n+Tn+65535,Tn=Math.floor($n/65536),_n=$n-Tn*65536,$n=ii+Tn+65535,Tn=Math.floor($n/65536),ii=$n-Tn*65536,ti+=Tn-1+37*(Tn-1),En[0]=ti,En[1]=ai,En[2]=On,En[3]=Sn,En[4]=Zr,En[5]=Oe,En[6]=wr,En[7]=qr,En[8]=Vr,En[9]=Jr,En[10]=Xr,En[11]=Kr,En[12]=Yr,En[13]=Br,En[14]=_n,En[15]=ii}function br(En,Rn){fr(En,Rn,Rn)}function kr(En,Rn){const An=fe();for(let $n=0;$n<16;$n++)An[$n]=Rn[$n];for(let $n=253;$n>=0;$n--)br(An,An),$n!==2&&$n!==4&&fr(An,An,Rn);for(let $n=0;$n<16;$n++)En[$n]=An[$n]}function Wr(En,Rn){const An=new Uint8Array(32),$n=new Float64Array(80),Tn=fe(),ti=fe(),ai=fe(),On=fe(),Sn=fe(),Zr=fe();for(let Vr=0;Vr<31;Vr++)An[Vr]=En[Vr];An[31]=En[31]&127|64,An[0]&=248,xe($n,Rn);for(let Vr=0;Vr<16;Vr++)ti[Vr]=$n[Vr];Tn[0]=On[0]=1;for(let Vr=254;Vr>=0;--Vr){const Jr=An[Vr>>>3]>>>(Vr&7)&1;we(Tn,ti,Jr),we(ai,On,Jr),Se(Sn,Tn,ai),Ie(Tn,Tn,ai),Se(ai,ti,On),Ie(ti,ti,On),br(On,Sn),br(Zr,Tn),fr(Tn,ai,Tn),fr(ai,ti,Sn),Se(Sn,Tn,ai),Ie(Tn,Tn,ai),br(ti,Tn),Ie(ai,On,Zr),fr(Tn,ai,me),Se(Tn,Tn,On),fr(ai,ai,Tn),fr(Tn,On,Zr),fr(On,ti,$n),br(ti,Sn),we(Tn,ti,Jr),we(ai,On,Jr)}for(let Vr=0;Vr<16;Vr++)$n[Vr+16]=Tn[Vr],$n[Vr+32]=ai[Vr],$n[Vr+48]=ti[Vr],$n[Vr+64]=On[Vr];const Oe=$n.subarray(32),wr=$n.subarray(16);kr(Oe,Oe),fr(wr,wr,Oe);const qr=new Uint8Array(32);return Ee(qr,wr),qr}se.scalarMult=Wr;function Gr(En){return Wr(En,ye)}se.scalarMultBase=Gr;function jr(En){if(En.length!==se.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${se.SECRET_KEY_LENGTH} bytes`);const Rn=new Uint8Array(En);return{publicKey:Gr(Rn),secretKey:Rn}}se.generateKeyPairFromSeed=jr;function Qr(En){const Rn=(0,Y.randomBytes)(32,En),An=jr(Rn);return(0,ne.wipe)(Rn),An}se.generateKeyPair=Qr;function wn(En,Rn,An=!1){if(En.length!==se.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(Rn.length!==se.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const $n=Wr(En,Rn);if(An){let Tn=0;for(let ti=0;ti<$n.length;ti++)Tn|=$n[ti];if(Tn===0)throw new Error("X25519: invalid shared key")}return $n}se.sharedKey=wn}(x25519)),x25519}var x25519Exports=requireX25519();function asUint8Array(se){return globalThis.Buffer!=null?new Uint8Array(se.buffer,se.byteOffset,se.byteLength):se}function allocUnsafe(se=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(se)):new Uint8Array(se)}function concat$2(se,Y){Y||(Y=se.reduce((ye,me)=>ye+me.length,0));const ne=allocUnsafe(Y);let fe=0;for(const ye of se)ne.set(ye,fe),fe+=ye.length;return asUint8Array(ne)}function base(se,Y){if(se.length>=255)throw new TypeError("Alphabet too long");for(var ne=new Uint8Array(256),fe=0;fe<ne.length;fe++)ne[fe]=255;for(var ye=0;ye<se.length;ye++){var me=se.charAt(ye),be=me.charCodeAt(0);if(ne[be]!==255)throw new TypeError(me+" is ambiguous");ne[be]=ye}var we=se.length,Ee=se.charAt(0),xe=Math.log(we)/Math.log(256),Se=Math.log(256)/Math.log(we);function Ie(kr){if(kr instanceof Uint8Array||(ArrayBuffer.isView(kr)?kr=new Uint8Array(kr.buffer,kr.byteOffset,kr.byteLength):Array.isArray(kr)&&(kr=Uint8Array.from(kr))),!(kr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(kr.length===0)return"";for(var Wr=0,Gr=0,jr=0,Qr=kr.length;jr!==Qr&&kr[jr]===0;)jr++,Wr++;for(var wn=(Qr-jr)*Se+1>>>0,En=new Uint8Array(wn);jr!==Qr;){for(var Rn=kr[jr],An=0,$n=wn-1;(Rn!==0||An<Gr)&&$n!==-1;$n--,An++)Rn+=256*En[$n]>>>0,En[$n]=Rn%we>>>0,Rn=Rn/we>>>0;if(Rn!==0)throw new Error("Non-zero carry");Gr=An,jr++}for(var Tn=wn-Gr;Tn!==wn&&En[Tn]===0;)Tn++;for(var ti=Ee.repeat(Wr);Tn<wn;++Tn)ti+=se.charAt(En[Tn]);return ti}function fr(kr){if(typeof kr!="string")throw new TypeError("Expected String");if(kr.length===0)return new Uint8Array;var Wr=0;if(kr[Wr]!==" "){for(var Gr=0,jr=0;kr[Wr]===Ee;)Gr++,Wr++;for(var Qr=(kr.length-Wr)*xe+1>>>0,wn=new Uint8Array(Qr);kr[Wr];){var En=ne[kr.charCodeAt(Wr)];if(En===255)return;for(var Rn=0,An=Qr-1;(En!==0||Rn<jr)&&An!==-1;An--,Rn++)En+=we*wn[An]>>>0,wn[An]=En%256>>>0,En=En/256>>>0;if(En!==0)throw new Error("Non-zero carry");jr=Rn,Wr++}if(kr[Wr]!==" "){for(var $n=Qr-jr;$n!==Qr&&wn[$n]===0;)$n++;for(var Tn=new Uint8Array(Gr+(Qr-$n)),ti=Gr;$n!==Qr;)Tn[ti++]=wn[$n++];return Tn}}}function br(kr){var Wr=fr(kr);if(Wr)return Wr;throw new Error(`Non-${Y} character`)}return{encode:Ie,decodeUnsafe:fr,decode:br}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce$1=se=>{if(se instanceof Uint8Array&&se.constructor.name==="Uint8Array")return se;if(se instanceof ArrayBuffer)return new Uint8Array(se);if(ArrayBuffer.isView(se))return new Uint8Array(se.buffer,se.byteOffset,se.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=se=>new TextEncoder().encode(se),toString$2=se=>new TextDecoder().decode(se);class Encoder{constructor(Y,ne,fe){this.name=Y,this.prefix=ne,this.baseEncode=fe}encode(Y){if(Y instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Y)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(Y,ne,fe){if(this.name=Y,this.prefix=ne,ne.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=ne.codePointAt(0),this.baseDecode=fe}decode(Y){if(typeof Y=="string"){if(Y.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Y)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Y.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Y){return or$2(this,Y)}}class ComposedDecoder{constructor(Y){this.decoders=Y}or(Y){return or$2(this,Y)}decode(Y){const ne=Y[0],fe=this.decoders[ne];if(fe)return fe.decode(Y);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Y)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$2=(se,Y)=>new ComposedDecoder({...se.decoders||{[se.prefix]:se},...Y.decoders||{[Y.prefix]:Y}});class Codec{constructor(Y,ne,fe,ye){this.name=Y,this.prefix=ne,this.baseEncode=fe,this.baseDecode=ye,this.encoder=new Encoder(Y,ne,fe),this.decoder=new Decoder(Y,ne,ye)}encode(Y){return this.encoder.encode(Y)}decode(Y){return this.decoder.decode(Y)}}const from=({name:se,prefix:Y,encode:ne,decode:fe})=>new Codec(se,Y,ne,fe),baseX=({prefix:se,name:Y,alphabet:ne})=>{const{encode:fe,decode:ye}=_brrp__multiformats_scope_baseX(ne,Y);return from({prefix:se,name:Y,encode:fe,decode:me=>coerce$1(ye(me))})},decode$1=(se,Y,ne,fe)=>{const ye={};for(let Se=0;Se<Y.length;++Se)ye[Y[Se]]=Se;let me=se.length;for(;se[me-1]==="=";)--me;const be=new Uint8Array(me*ne/8|0);let we=0,Ee=0,xe=0;for(let Se=0;Se<me;++Se){const Ie=ye[se[Se]];if(Ie===void 0)throw new SyntaxError(`Non-${fe} character`);Ee=Ee<<ne|Ie,we+=ne,we>=8&&(we-=8,be[xe++]=255&Ee>>we)}if(we>=ne||255&Ee<<8-we)throw new SyntaxError("Unexpected end of data");return be},encode$1=(se,Y,ne)=>{const fe=Y[Y.length-1]==="=",ye=(1<<ne)-1;let me="",be=0,we=0;for(let Ee=0;Ee<se.length;++Ee)for(we=we<<8|se[Ee],be+=8;be>ne;)be-=ne,me+=Y[ye&we>>be];if(be&&(me+=Y[ye&we<<ne-be]),fe)for(;me.length*ne&7;)me+="=";return me},rfc4648=({name:se,prefix:Y,bitsPerChar:ne,alphabet:fe})=>from({prefix:Y,name:se,encode(ye){return encode$1(ye,fe,ne)},decode(ye){return decode$1(ye,fe,ne,se)}}),identity=from({prefix:"\0",name:"identity",encode:se=>toString$2(se),decode:se=>fromString$1(se)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64$1=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$2=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$1,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((se,Y,ne)=>(se[ne]=Y,se),[]),alphabetCharsToBytes=alphabet.reduce((se,Y,ne)=>(se[Y.codePointAt(0)]=ne,se),[]);function encode(se){return se.reduce((Y,ne)=>(Y+=alphabetBytesToChars[ne],Y),"")}function decode(se){const Y=[];for(const ne of se){const fe=alphabetCharsToBytes[ne.codePointAt(0)];if(fe===void 0)throw new Error(`Non-base256emoji character: ${ne}`);Y.push(fe)}return new Uint8Array(Y)}const base256emoji=from({prefix:"🚀",name:"base256emoji",encode,decode}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$2,...base256emoji$1};function createCodec(se,Y,ne,fe){return{name:se,prefix:Y,encoder:{name:se,prefix:Y,encode:ne},decoder:{decode:fe}}}const string$1=createCodec("utf8","u",se=>"u"+new TextDecoder("utf8").decode(se),se=>new TextEncoder().encode(se.substring(1))),ascii=createCodec("ascii","a",se=>{let Y="a";for(let ne=0;ne<se.length;ne++)Y+=String.fromCharCode(se[ne]);return Y},se=>{se=se.substring(1);const Y=allocUnsafe(se.length);for(let ne=0;ne<se.length;ne++)Y[ne]=se.charCodeAt(ne);return Y}),BASES={utf8:string$1,"utf-8":string$1,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(se,Y="utf8"){const ne=BASES[Y];if(!ne)throw new Error(`Unsupported encoding "${Y}"`);return(Y==="utf8"||Y==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(se,"utf-8")):ne.decoder.decode(`${ne.prefix}${se}`)}function toString$1(se,Y="utf8"){const ne=BASES[Y];if(!ne)throw new Error(`Unsupported encoding "${Y}"`);return(Y==="utf8"||Y==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(se.buffer,se.byteOffset,se.byteLength).toString("utf8"):ne.encoder.encode(se).substring(1)}var __spreadArray$1=function(se,Y,ne){if(ne||arguments.length===2)for(var fe=0,ye=Y.length,me;fe<ye;fe++)(me||!(fe in Y))&&(me||(me=Array.prototype.slice.call(Y,0,fe)),me[fe]=Y[fe]);return se.concat(me||Array.prototype.slice.call(Y))},BrowserInfo=function(){function se(Y,ne,fe){this.name=Y,this.version=ne,this.os=fe,this.type="browser"}return se}(),NodeInfo=function(){function se(Y){this.version=Y,this.type="node",this.name="node",this.os=process$1.platform}return se}(),SearchBotDeviceInfo=function(){function se(Y,ne,fe,ye){this.name=Y,this.version=ne,this.os=fe,this.bot=ye,this.type="bot-device"}return se}(),BotInfo=function(){function se(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return se}(),ReactNativeInfo=function(){function se(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return se}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(se){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(se){return se!==""&&userAgentRules.reduce(function(Y,ne){var fe=ne[0],ye=ne[1];if(Y)return Y;var me=ye.exec(se);return!!me&&[fe,me]},!1)}function parseUserAgent(se){var Y=matchUserAgent(se);if(!Y)return null;var ne=Y[0],fe=Y[1];if(ne==="searchbot")return new BotInfo;var ye=fe[1]&&fe[1].split(".").join("_").split("_").slice(0,3);ye?ye.length<REQUIRED_VERSION_PARTS&&(ye=__spreadArray$1(__spreadArray$1([],ye,!0),createVersionParts(REQUIRED_VERSION_PARTS-ye.length),!0)):ye=[];var me=ye.join("."),be=detectOS(se),we=SEARCHBOT_OS_REGEX.exec(se);return we&&we[1]?new SearchBotDeviceInfo(ne,me,be,we[1]):new BrowserInfo(ne,me,be)}function detectOS(se){for(var Y=0,ne=operatingSystemRules.length;Y<ne;Y++){var fe=operatingSystemRules[Y],ye=fe[0],me=fe[1],be=me.exec(se);if(be)return ye}return null}function getNodeVersion(){var se=typeof process$1<"u"&&process$1.version;return se?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(se){for(var Y=[],ne=0;ne<se;ne++)Y.push("0");return Y}var cjs$5={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$3=function(se,Y){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var ye in fe)fe.hasOwnProperty(ye)&&(ne[ye]=fe[ye])},extendStatics$3(se,Y)};function __extends$3(se,Y){extendStatics$3(se,Y);function ne(){this.constructor=se}se.prototype=Y===null?Object.create(Y):(ne.prototype=Y.prototype,new ne)}var __assign$3=function(){return __assign$3=Object.assign||function(Y){for(var ne,fe=1,ye=arguments.length;fe<ye;fe++){ne=arguments[fe];for(var me in ne)Object.prototype.hasOwnProperty.call(ne,me)&&(Y[me]=ne[me])}return Y},__assign$3.apply(this,arguments)};function __rest$3(se,Y){var ne={};for(var fe in se)Object.prototype.hasOwnProperty.call(se,fe)&&Y.indexOf(fe)<0&&(ne[fe]=se[fe]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,fe=Object.getOwnPropertySymbols(se);ye<fe.length;ye++)Y.indexOf(fe[ye])<0&&Object.prototype.propertyIsEnumerable.call(se,fe[ye])&&(ne[fe[ye]]=se[fe[ye]]);return ne}function __decorate$3(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me}function __param$3(se,Y){return function(ne,fe){Y(ne,fe,se)}}function __metadata$3(se,Y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(se,Y)}function __awaiter$3(se,Y,ne,fe){function ye(me){return me instanceof ne?me:new ne(function(be){be(me)})}return new(ne||(ne=Promise))(function(me,be){function we(Se){try{xe(fe.next(Se))}catch(Ie){be(Ie)}}function Ee(Se){try{xe(fe.throw(Se))}catch(Ie){be(Ie)}}function xe(Se){Se.done?me(Se.value):ye(Se.value).then(we,Ee)}xe((fe=fe.apply(se,Y||[])).next())})}function __generator$3(se,Y){var ne={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},fe,ye,me,be;return be={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function we(xe){return function(Se){return Ee([xe,Se])}}function Ee(xe){if(fe)throw new TypeError("Generator is already executing.");for(;ne;)try{if(fe=1,ye&&(me=xe[0]&2?ye.return:xe[0]?ye.throw||((me=ye.return)&&me.call(ye),0):ye.next)&&!(me=me.call(ye,xe[1])).done)return me;switch(ye=0,me&&(xe=[xe[0]&2,me.value]),xe[0]){case 0:case 1:me=xe;break;case 4:return ne.label++,{value:xe[1],done:!1};case 5:ne.label++,ye=xe[1],xe=[0];continue;case 7:xe=ne.ops.pop(),ne.trys.pop();continue;default:if(me=ne.trys,!(me=me.length>0&&me[me.length-1])&&(xe[0]===6||xe[0]===2)){ne=0;continue}if(xe[0]===3&&(!me||xe[1]>me[0]&&xe[1]<me[3])){ne.label=xe[1];break}if(xe[0]===6&&ne.label<me[1]){ne.label=me[1],me=xe;break}if(me&&ne.label<me[2]){ne.label=me[2],ne.ops.push(xe);break}me[2]&&ne.ops.pop(),ne.trys.pop();continue}xe=Y.call(se,ne)}catch(Se){xe=[6,Se],ye=0}finally{fe=me=0}if(xe[0]&5)throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}}function __createBinding$3(se,Y,ne,fe){fe===void 0&&(fe=ne),se[fe]=Y[ne]}function __exportStar$3(se,Y){for(var ne in se)ne!=="default"&&!Y.hasOwnProperty(ne)&&(Y[ne]=se[ne])}function __values$3(se){var Y=typeof Symbol=="function"&&Symbol.iterator,ne=Y&&se[Y],fe=0;if(ne)return ne.call(se);if(se&&typeof se.length=="number")return{next:function(){return se&&fe>=se.length&&(se=void 0),{value:se&&se[fe++],done:!se}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$3(se,Y){var ne=typeof Symbol=="function"&&se[Symbol.iterator];if(!ne)return se;var fe=ne.call(se),ye,me=[],be;try{for(;(Y===void 0||Y-- >0)&&!(ye=fe.next()).done;)me.push(ye.value)}catch(we){be={error:we}}finally{try{ye&&!ye.done&&(ne=fe.return)&&ne.call(fe)}finally{if(be)throw be.error}}return me}function __spread$3(){for(var se=[],Y=0;Y<arguments.length;Y++)se=se.concat(__read$3(arguments[Y]));return se}function __spreadArrays$3(){for(var se=0,Y=0,ne=arguments.length;Y<ne;Y++)se+=arguments[Y].length;for(var fe=Array(se),ye=0,Y=0;Y<ne;Y++)for(var me=arguments[Y],be=0,we=me.length;be<we;be++,ye++)fe[ye]=me[be];return fe}function __await$3(se){return this instanceof __await$3?(this.v=se,this):new __await$3(se)}function __asyncGenerator$3(se,Y,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe=ne.apply(se,Y||[]),ye,me=[];return ye={},be("next"),be("throw"),be("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function be(fr){fe[fr]&&(ye[fr]=function(br){return new Promise(function(kr,Wr){me.push([fr,br,kr,Wr])>1||we(fr,br)})})}function we(fr,br){try{Ee(fe[fr](br))}catch(kr){Ie(me[0][3],kr)}}function Ee(fr){fr.value instanceof __await$3?Promise.resolve(fr.value.v).then(xe,Se):Ie(me[0][2],fr)}function xe(fr){we("next",fr)}function Se(fr){we("throw",fr)}function Ie(fr,br){fr(br),me.shift(),me.length&&we(me[0][0],me[0][1])}}function __asyncDelegator$3(se){var Y,ne;return Y={},fe("next"),fe("throw",function(ye){throw ye}),fe("return"),Y[Symbol.iterator]=function(){return this},Y;function fe(ye,me){Y[ye]=se[ye]?function(be){return(ne=!ne)?{value:__await$3(se[ye](be)),done:ye==="return"}:me?me(be):be}:me}}function __asyncValues$3(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=se[Symbol.asyncIterator],ne;return Y?Y.call(se):(se=typeof __values$3=="function"?__values$3(se):se[Symbol.iterator](),ne={},fe("next"),fe("throw"),fe("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function fe(me){ne[me]=se[me]&&function(be){return new Promise(function(we,Ee){be=se[me](be),ye(we,Ee,be.done,be.value)})}}function ye(me,be,we,Ee){Promise.resolve(Ee).then(function(xe){me({value:xe,done:we})},be)}}function __makeTemplateObject$3(se,Y){return Object.defineProperty?Object.defineProperty(se,"raw",{value:Y}):se.raw=Y,se}function __importStar$3(se){if(se&&se.__esModule)return se;var Y={};if(se!=null)for(var ne in se)Object.hasOwnProperty.call(se,ne)&&(Y[ne]=se[ne]);return Y.default=se,Y}function __importDefault$3(se){return se&&se.__esModule?se:{default:se}}function __classPrivateFieldGet$3(se,Y){if(!Y.has(se))throw new TypeError("attempted to get private field on non-instance");return Y.get(se)}function __classPrivateFieldSet$3(se,Y,ne){if(!Y.has(se))throw new TypeError("attempted to set private field on non-instance");return Y.set(se,ne),ne}const tslib_es6$4=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$3},__asyncDelegator:__asyncDelegator$3,__asyncGenerator:__asyncGenerator$3,__asyncValues:__asyncValues$3,__await:__await$3,__awaiter:__awaiter$3,__classPrivateFieldGet:__classPrivateFieldGet$3,__classPrivateFieldSet:__classPrivateFieldSet$3,__createBinding:__createBinding$3,__decorate:__decorate$3,__exportStar:__exportStar$3,__extends:__extends$3,__generator:__generator$3,__importDefault:__importDefault$3,__importStar:__importStar$3,__makeTemplateObject:__makeTemplateObject$3,__metadata:__metadata$3,__param:__param$3,__read:__read$3,__rest:__rest$3,__spread:__spread$3,__spreadArrays:__spreadArrays$3,__values:__values$3},Symbol.toStringTag,{value:"Module"})),require$$0$6=getAugmentedNamespace(tslib_es6$4);var utils$2={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function se(Y){return new Promise(ne=>{setTimeout(()=>{ne(!0)},Y)})}return delay.delay=se,delay}var convert={},constants$4={},misc$1={},hasRequiredMisc$1;function requireMisc$1(){return hasRequiredMisc$1||(hasRequiredMisc$1=1,Object.defineProperty(misc$1,"__esModule",{value:!0}),misc$1.ONE_THOUSAND=misc$1.ONE_HUNDRED=void 0,misc$1.ONE_HUNDRED=100,misc$1.ONE_THOUSAND=1e3),misc$1}var time$1={},hasRequiredTime$1;function requireTime$1(){return hasRequiredTime$1||(hasRequiredTime$1=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.ONE_YEAR=se.FOUR_WEEKS=se.THREE_WEEKS=se.TWO_WEEKS=se.ONE_WEEK=se.THIRTY_DAYS=se.SEVEN_DAYS=se.FIVE_DAYS=se.THREE_DAYS=se.ONE_DAY=se.TWENTY_FOUR_HOURS=se.TWELVE_HOURS=se.SIX_HOURS=se.THREE_HOURS=se.ONE_HOUR=se.SIXTY_MINUTES=se.THIRTY_MINUTES=se.TEN_MINUTES=se.FIVE_MINUTES=se.ONE_MINUTE=se.SIXTY_SECONDS=se.THIRTY_SECONDS=se.TEN_SECONDS=se.FIVE_SECONDS=se.ONE_SECOND=void 0,se.ONE_SECOND=1,se.FIVE_SECONDS=5,se.TEN_SECONDS=10,se.THIRTY_SECONDS=30,se.SIXTY_SECONDS=60,se.ONE_MINUTE=se.SIXTY_SECONDS,se.FIVE_MINUTES=se.ONE_MINUTE*5,se.TEN_MINUTES=se.ONE_MINUTE*10,se.THIRTY_MINUTES=se.ONE_MINUTE*30,se.SIXTY_MINUTES=se.ONE_MINUTE*60,se.ONE_HOUR=se.SIXTY_MINUTES,se.THREE_HOURS=se.ONE_HOUR*3,se.SIX_HOURS=se.ONE_HOUR*6,se.TWELVE_HOURS=se.ONE_HOUR*12,se.TWENTY_FOUR_HOURS=se.ONE_HOUR*24,se.ONE_DAY=se.TWENTY_FOUR_HOURS,se.THREE_DAYS=se.ONE_DAY*3,se.FIVE_DAYS=se.ONE_DAY*5,se.SEVEN_DAYS=se.ONE_DAY*7,se.THIRTY_DAYS=se.ONE_DAY*30,se.ONE_WEEK=se.SEVEN_DAYS,se.TWO_WEEKS=se.ONE_WEEK*2,se.THREE_WEEKS=se.ONE_WEEK*3,se.FOUR_WEEKS=se.ONE_WEEK*4,se.ONE_YEAR=se.ONE_DAY*365}(time$1)),time$1}var hasRequiredConstants$4;function requireConstants$4(){return hasRequiredConstants$4||(hasRequiredConstants$4=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});const Y=require$$0$6;Y.__exportStar(requireMisc$1(),se),Y.__exportStar(requireTime$1(),se)}(constants$4)),constants$4}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const se=requireConstants$4();function Y(fe){return fe*se.ONE_THOUSAND}convert.toMiliseconds=Y;function ne(fe){return Math.floor(fe/se.ONE_THOUSAND)}return convert.fromMiliseconds=ne,convert}var hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});const Y=require$$0$6;Y.__exportStar(requireDelay(),se),Y.__exportStar(requireConvert(),se)}(utils$2)),utils$2}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class se{constructor(){this.timestamps=new Map}start(ne){if(this.timestamps.has(ne))throw new Error(`Watch already started for label: ${ne}`);this.timestamps.set(ne,{started:Date.now()})}stop(ne){const fe=this.get(ne);if(typeof fe.elapsed<"u")throw new Error(`Watch already stopped for label: ${ne}`);const ye=Date.now()-fe.started;this.timestamps.set(ne,{started:fe.started,elapsed:ye})}get(ne){const fe=this.timestamps.get(ne);if(typeof fe>"u")throw new Error(`No timestamp found for label: ${ne}`);return fe}elapsed(ne){const fe=this.get(ne);return fe.elapsed||Date.now()-fe.started}}return watch$2.Watch=se,watch$2.default=se,watch$2}var types$1={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class se{}return watch$1.IWatch=se,watch$1}var hasRequiredTypes$1;function requireTypes$1(){return hasRequiredTypes$1||(hasRequiredTypes$1=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),require$$0$6.__exportStar(requireWatch(),se)}(types$1)),types$1}var hasRequiredCjs$5;function requireCjs$5(){return hasRequiredCjs$5||(hasRequiredCjs$5=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});const Y=require$$0$6;Y.__exportStar(requireUtils$2(),se),Y.__exportStar(requireWatch$1(),se),Y.__exportStar(requireTypes$1(),se),Y.__exportStar(requireConstants$4(),se)}(cjs$5)),cjs$5}var cjsExports$4=requireCjs$5(),cjs$4={},hasRequiredCjs$4;function requireCjs$4(){if(hasRequiredCjs$4)return cjs$4;hasRequiredCjs$4=1,Object.defineProperty(cjs$4,"__esModule",{value:!0}),cjs$4.getLocalStorage=cjs$4.getLocalStorageOrThrow=cjs$4.getCrypto=cjs$4.getCryptoOrThrow=cjs$4.getLocation=cjs$4.getLocationOrThrow=cjs$4.getNavigator=cjs$4.getNavigatorOrThrow=cjs$4.getDocument=cjs$4.getDocumentOrThrow=cjs$4.getFromWindowOrThrow=cjs$4.getFromWindow=void 0;function se(fr){let br;return typeof window<"u"&&typeof window[fr]<"u"&&(br=window[fr]),br}cjs$4.getFromWindow=se;function Y(fr){const br=se(fr);if(!br)throw new Error(`${fr} is not defined in Window`);return br}cjs$4.getFromWindowOrThrow=Y;function ne(){return Y("document")}cjs$4.getDocumentOrThrow=ne;function fe(){return se("document")}cjs$4.getDocument=fe;function ye(){return Y("navigator")}cjs$4.getNavigatorOrThrow=ye;function me(){return se("navigator")}cjs$4.getNavigator=me;function be(){return Y("location")}cjs$4.getLocationOrThrow=be;function we(){return se("location")}cjs$4.getLocation=we;function Ee(){return Y("crypto")}cjs$4.getCryptoOrThrow=Ee;function xe(){return se("crypto")}cjs$4.getCrypto=xe;function Se(){return Y("localStorage")}cjs$4.getLocalStorageOrThrow=Se;function Ie(){return se("localStorage")}return cjs$4.getLocalStorage=Ie,cjs$4}var cjsExports$3=requireCjs$4(),cjs$3={},hasRequiredCjs$3;function requireCjs$3(){if(hasRequiredCjs$3)return cjs$3;hasRequiredCjs$3=1,Object.defineProperty(cjs$3,"__esModule",{value:!0}),cjs$3.getWindowMetadata=void 0;const se=requireCjs$4();function Y(){let ne,fe;try{ne=se.getDocumentOrThrow(),fe=se.getLocationOrThrow()}catch{return null}function ye(){const br=ne.getElementsByTagName("link"),kr=[];for(let Wr=0;Wr<br.length;Wr++){const Gr=br[Wr],jr=Gr.getAttribute("rel");if(jr&&jr.toLowerCase().indexOf("icon")>-1){const Qr=Gr.getAttribute("href");if(Qr)if(Qr.toLowerCase().indexOf("https:")===-1&&Qr.toLowerCase().indexOf("http:")===-1&&Qr.indexOf("//")!==0){let wn=fe.protocol+"//"+fe.host;if(Qr.indexOf("/")===0)wn+=Qr;else{const En=fe.pathname.split("/");En.pop();const Rn=En.join("/");wn+=Rn+"/"+Qr}kr.push(wn)}else if(Qr.indexOf("//")===0){const wn=fe.protocol+Qr;kr.push(wn)}else kr.push(Qr)}}return kr}function me(...br){const kr=ne.getElementsByTagName("meta");for(let Wr=0;Wr<kr.length;Wr++){const Gr=kr[Wr],jr=["itemprop","property","name"].map(Qr=>Gr.getAttribute(Qr)).filter(Qr=>Qr?br.includes(Qr):!1);if(jr.length&&jr){const Qr=Gr.getAttribute("content");if(Qr)return Qr}}return""}function be(){let br=me("name","og:site_name","og:title","twitter:title");return br||(br=ne.title),br}function we(){return me("description","og:description","twitter:description","keywords")}const Ee=be(),xe=we(),Se=fe.origin,Ie=ye();return{description:xe,url:Se,icons:Ie,name:Ee}}return cjs$3.getWindowMetadata=Y,cjs$3}var cjsExports$2=requireCjs$3(),queryString={},strictUriEncode,hasRequiredStrictUriEncode;function requireStrictUriEncode(){return hasRequiredStrictUriEncode||(hasRequiredStrictUriEncode=1,strictUriEncode=se=>encodeURIComponent(se).replace(/[!'()*]/g,Y=>`%${Y.charCodeAt(0).toString(16).toUpperCase()}`)),strictUriEncode}var decodeUriComponent,hasRequiredDecodeUriComponent;function requireDecodeUriComponent(){if(hasRequiredDecodeUriComponent)return decodeUriComponent;hasRequiredDecodeUriComponent=1;var se="%[a-f0-9]{2}",Y=new RegExp("("+se+")|([^%]+?)","gi"),ne=new RegExp("("+se+")+","gi");function fe(be,we){try{return[decodeURIComponent(be.join(""))]}catch{}if(be.length===1)return be;we=we||1;var Ee=be.slice(0,we),xe=be.slice(we);return Array.prototype.concat.call([],fe(Ee),fe(xe))}function ye(be){try{return decodeURIComponent(be)}catch{for(var we=be.match(Y)||[],Ee=1;Ee<we.length;Ee++)be=fe(we,Ee).join(""),we=be.match(Y)||[];return be}}function me(be){for(var we={"%FE%FF":"��","%FF%FE":"��"},Ee=ne.exec(be);Ee;){try{we[Ee[0]]=decodeURIComponent(Ee[0])}catch{var xe=ye(Ee[0]);xe!==Ee[0]&&(we[Ee[0]]=xe)}Ee=ne.exec(be)}we["%C2"]="�";for(var Se=Object.keys(we),Ie=0;Ie<Se.length;Ie++){var fr=Se[Ie];be=be.replace(new RegExp(fr,"g"),we[fr])}return be}return decodeUriComponent=function(be){if(typeof be!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof be+"`");try{return be=be.replace(/\+/g," "),decodeURIComponent(be)}catch{return me(be)}},decodeUriComponent}var splitOnFirst,hasRequiredSplitOnFirst;function requireSplitOnFirst(){return hasRequiredSplitOnFirst||(hasRequiredSplitOnFirst=1,splitOnFirst=(se,Y)=>{if(!(typeof se=="string"&&typeof Y=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(Y==="")return[se];const ne=se.indexOf(Y);return ne===-1?[se]:[se.slice(0,ne),se.slice(ne+Y.length)]}),splitOnFirst}var filterObj,hasRequiredFilterObj;function requireFilterObj(){return hasRequiredFilterObj||(hasRequiredFilterObj=1,filterObj=function(se,Y){for(var ne={},fe=Object.keys(se),ye=Array.isArray(Y),me=0;me<fe.length;me++){var be=fe[me],we=se[be];(ye?Y.indexOf(be)!==-1:Y(be,we,se))&&(ne[be]=we)}return ne}),filterObj}var hasRequiredQueryString;function requireQueryString(){return hasRequiredQueryString||(hasRequiredQueryString=1,function(se){const Y=requireStrictUriEncode(),ne=requireDecodeUriComponent(),fe=requireSplitOnFirst(),ye=requireFilterObj(),me=Qr=>Qr==null,be=Symbol("encodeFragmentIdentifier");function we(Qr){switch(Qr.arrayFormat){case"index":return wn=>(En,Rn)=>{const An=En.length;return Rn===void 0||Qr.skipNull&&Rn===null||Qr.skipEmptyString&&Rn===""?En:Rn===null?[...En,[Se(wn,Qr),"[",An,"]"].join("")]:[...En,[Se(wn,Qr),"[",Se(An,Qr),"]=",Se(Rn,Qr)].join("")]};case"bracket":return wn=>(En,Rn)=>Rn===void 0||Qr.skipNull&&Rn===null||Qr.skipEmptyString&&Rn===""?En:Rn===null?[...En,[Se(wn,Qr),"[]"].join("")]:[...En,[Se(wn,Qr),"[]=",Se(Rn,Qr)].join("")];case"colon-list-separator":return wn=>(En,Rn)=>Rn===void 0||Qr.skipNull&&Rn===null||Qr.skipEmptyString&&Rn===""?En:Rn===null?[...En,[Se(wn,Qr),":list="].join("")]:[...En,[Se(wn,Qr),":list=",Se(Rn,Qr)].join("")];case"comma":case"separator":case"bracket-separator":{const wn=Qr.arrayFormat==="bracket-separator"?"[]=":"=";return En=>(Rn,An)=>An===void 0||Qr.skipNull&&An===null||Qr.skipEmptyString&&An===""?Rn:(An=An===null?"":An,Rn.length===0?[[Se(En,Qr),wn,Se(An,Qr)].join("")]:[[Rn,Se(An,Qr)].join(Qr.arrayFormatSeparator)])}default:return wn=>(En,Rn)=>Rn===void 0||Qr.skipNull&&Rn===null||Qr.skipEmptyString&&Rn===""?En:Rn===null?[...En,Se(wn,Qr)]:[...En,[Se(wn,Qr),"=",Se(Rn,Qr)].join("")]}}function Ee(Qr){let wn;switch(Qr.arrayFormat){case"index":return(En,Rn,An)=>{if(wn=/\[(\d*)\]$/.exec(En),En=En.replace(/\[\d*\]$/,""),!wn){An[En]=Rn;return}An[En]===void 0&&(An[En]={}),An[En][wn[1]]=Rn};case"bracket":return(En,Rn,An)=>{if(wn=/(\[\])$/.exec(En),En=En.replace(/\[\]$/,""),!wn){An[En]=Rn;return}if(An[En]===void 0){An[En]=[Rn];return}An[En]=[].concat(An[En],Rn)};case"colon-list-separator":return(En,Rn,An)=>{if(wn=/(:list)$/.exec(En),En=En.replace(/:list$/,""),!wn){An[En]=Rn;return}if(An[En]===void 0){An[En]=[Rn];return}An[En]=[].concat(An[En],Rn)};case"comma":case"separator":return(En,Rn,An)=>{const $n=typeof Rn=="string"&&Rn.includes(Qr.arrayFormatSeparator),Tn=typeof Rn=="string"&&!$n&&Ie(Rn,Qr).includes(Qr.arrayFormatSeparator);Rn=Tn?Ie(Rn,Qr):Rn;const ti=$n||Tn?Rn.split(Qr.arrayFormatSeparator).map(ai=>Ie(ai,Qr)):Rn===null?Rn:Ie(Rn,Qr);An[En]=ti};case"bracket-separator":return(En,Rn,An)=>{const $n=/(\[\])$/.test(En);if(En=En.replace(/\[\]$/,""),!$n){An[En]=Rn&&Ie(Rn,Qr);return}const Tn=Rn===null?[]:Rn.split(Qr.arrayFormatSeparator).map(ti=>Ie(ti,Qr));if(An[En]===void 0){An[En]=Tn;return}An[En]=[].concat(An[En],Tn)};default:return(En,Rn,An)=>{if(An[En]===void 0){An[En]=Rn;return}An[En]=[].concat(An[En],Rn)}}}function xe(Qr){if(typeof Qr!="string"||Qr.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Se(Qr,wn){return wn.encode?wn.strict?Y(Qr):encodeURIComponent(Qr):Qr}function Ie(Qr,wn){return wn.decode?ne(Qr):Qr}function fr(Qr){return Array.isArray(Qr)?Qr.sort():typeof Qr=="object"?fr(Object.keys(Qr)).sort((wn,En)=>Number(wn)-Number(En)).map(wn=>Qr[wn]):Qr}function br(Qr){const wn=Qr.indexOf("#");return wn!==-1&&(Qr=Qr.slice(0,wn)),Qr}function kr(Qr){let wn="";const En=Qr.indexOf("#");return En!==-1&&(wn=Qr.slice(En)),wn}function Wr(Qr){Qr=br(Qr);const wn=Qr.indexOf("?");return wn===-1?"":Qr.slice(wn+1)}function Gr(Qr,wn){return wn.parseNumbers&&!Number.isNaN(Number(Qr))&&typeof Qr=="string"&&Qr.trim()!==""?Qr=Number(Qr):wn.parseBooleans&&Qr!==null&&(Qr.toLowerCase()==="true"||Qr.toLowerCase()==="false")&&(Qr=Qr.toLowerCase()==="true"),Qr}function jr(Qr,wn){wn=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},wn),xe(wn.arrayFormatSeparator);const En=Ee(wn),Rn=Object.create(null);if(typeof Qr!="string"||(Qr=Qr.trim().replace(/^[?#&]/,""),!Qr))return Rn;for(const An of Qr.split("&")){if(An==="")continue;let[$n,Tn]=fe(wn.decode?An.replace(/\+/g," "):An,"=");Tn=Tn===void 0?null:["comma","separator","bracket-separator"].includes(wn.arrayFormat)?Tn:Ie(Tn,wn),En(Ie($n,wn),Tn,Rn)}for(const An of Object.keys(Rn)){const $n=Rn[An];if(typeof $n=="object"&&$n!==null)for(const Tn of Object.keys($n))$n[Tn]=Gr($n[Tn],wn);else Rn[An]=Gr($n,wn)}return wn.sort===!1?Rn:(wn.sort===!0?Object.keys(Rn).sort():Object.keys(Rn).sort(wn.sort)).reduce((An,$n)=>{const Tn=Rn[$n];return Tn&&typeof Tn=="object"&&!Array.isArray(Tn)?An[$n]=fr(Tn):An[$n]=Tn,An},Object.create(null))}se.extract=Wr,se.parse=jr,se.stringify=(Qr,wn)=>{if(!Qr)return"";wn=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},wn),xe(wn.arrayFormatSeparator);const En=Tn=>wn.skipNull&&me(Qr[Tn])||wn.skipEmptyString&&Qr[Tn]==="",Rn=we(wn),An={};for(const Tn of Object.keys(Qr))En(Tn)||(An[Tn]=Qr[Tn]);const $n=Object.keys(An);return wn.sort!==!1&&$n.sort(wn.sort),$n.map(Tn=>{const ti=Qr[Tn];return ti===void 0?"":ti===null?Se(Tn,wn):Array.isArray(ti)?ti.length===0&&wn.arrayFormat==="bracket-separator"?Se(Tn,wn)+"[]":ti.reduce(Rn(Tn),[]).join("&"):Se(Tn,wn)+"="+Se(ti,wn)}).filter(Tn=>Tn.length>0).join("&")},se.parseUrl=(Qr,wn)=>{wn=Object.assign({decode:!0},wn);const[En,Rn]=fe(Qr,"#");return Object.assign({url:En.split("?")[0]||"",query:jr(Wr(Qr),wn)},wn&&wn.parseFragmentIdentifier&&Rn?{fragmentIdentifier:Ie(Rn,wn)}:{})},se.stringifyUrl=(Qr,wn)=>{wn=Object.assign({encode:!0,strict:!0,[be]:!0},wn);const En=br(Qr.url).split("?")[0]||"",Rn=se.extract(Qr.url),An=se.parse(Rn,{sort:!1}),$n=Object.assign(An,Qr.query);let Tn=se.stringify($n,wn);Tn&&(Tn=`?${Tn}`);let ti=kr(Qr.url);return Qr.fragmentIdentifier&&(ti=`#${wn[be]?Se(Qr.fragmentIdentifier,wn):Qr.fragmentIdentifier}`),`${En}${Tn}${ti}`},se.pick=(Qr,wn,En)=>{En=Object.assign({parseFragmentIdentifier:!0,[be]:!1},En);const{url:Rn,query:An,fragmentIdentifier:$n}=se.parseUrl(Qr,En);return se.stringifyUrl({url:Rn,query:ye(An,wn),fragmentIdentifier:$n},En)},se.exclude=(Qr,wn,En)=>{const Rn=Array.isArray(wn)?An=>!wn.includes(An):(An,$n)=>!wn(An,$n);return se.pick(Qr,Rn,En)}}(queryString)),queryString}var queryStringExports=requireQueryString();const C$2={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},K$1=":";function ve(se){const[Y,ne]=se.split(K$1);return{namespace:Y,reference:ne}}function Un(se,Y=[]){const ne=[];return Object.keys(se).forEach(fe=>{if(Y.length&&!Y.includes(fe))return;const ye=se[fe];ne.push(...ye.accounts)}),ne}function L$4(se,Y){return se.includes(":")?[se]:Y.chains||[]}const J$2="base10",p$6="base16",F$4="base64pad",H$2="utf8",Q$3=0,_$5=1,Dn=0,Te=1,Z$1=12,X$1=32;function kn(){const se=x25519Exports.generateKeyPair();return{privateKey:toString$1(se.secretKey,p$6),publicKey:toString$1(se.publicKey,p$6)}}function Vn$1(){const se=randomExports.randomBytes(X$1);return toString$1(se,p$6)}function Mn(se,Y){const ne=x25519Exports.sharedKey(fromString(se,p$6),fromString(Y,p$6),!0),fe=new hkdfExports.HKDF(sha256Exports.SHA256,ne).expand(X$1);return toString$1(fe,p$6)}function Kn(se){const Y=sha256Exports.hash(fromString(se,p$6));return toString$1(Y,p$6)}function Ln(se){const Y=sha256Exports.hash(fromString(se,H$2));return toString$1(Y,p$6)}function Pe(se){return fromString(`${se}`,J$2)}function j$5(se){return Number(toString$1(se,J$2))}function xn(se){const Y=Pe(typeof se.type<"u"?se.type:Q$3);if(j$5(Y)===_$5&&typeof se.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const ne=typeof se.senderPublicKey<"u"?fromString(se.senderPublicKey,p$6):void 0,fe=typeof se.iv<"u"?fromString(se.iv,p$6):randomExports.randomBytes(Z$1),ye=new chacha20poly1305Exports.ChaCha20Poly1305(fromString(se.symKey,p$6)).seal(fe,fromString(se.message,H$2));return Re({type:Y,sealed:ye,iv:fe,senderPublicKey:ne})}function Fn(se){const Y=new chacha20poly1305Exports.ChaCha20Poly1305(fromString(se.symKey,p$6)),{sealed:ne,iv:fe}=ee$1(se.encoded),ye=Y.open(fe,ne);if(ye===null)throw new Error("Failed to decrypt");return toString$1(ye,H$2)}function Re(se){if(j$5(se.type)===_$5){if(typeof se.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString$1(concat$2([se.type,se.senderPublicKey,se.iv,se.sealed]),F$4)}return toString$1(concat$2([se.type,se.iv,se.sealed]),F$4)}function ee$1(se){const Y=fromString(se,F$4),ne=Y.slice(Dn,Te),fe=Te;if(j$5(ne)===_$5){const we=fe+X$1,Ee=we+Z$1,xe=Y.slice(fe,we),Se=Y.slice(we,Ee),Ie=Y.slice(Ee);return{type:ne,sealed:Ie,iv:Se,senderPublicKey:xe}}const ye=fe+Z$1,me=Y.slice(fe,ye),be=Y.slice(ye);return{type:ne,sealed:be,iv:me}}function Hn(se,Y){const ne=ee$1(se);return Ae({type:j$5(ne.type),senderPublicKey:typeof ne.senderPublicKey<"u"?toString$1(ne.senderPublicKey,p$6):void 0,receiverPublicKey:Y==null?void 0:Y.receiverPublicKey})}function Ae(se){const Y=(se==null?void 0:se.type)||Q$3;if(Y===_$5){if(typeof(se==null?void 0:se.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(se==null?void 0:se.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:Y,senderPublicKey:se==null?void 0:se.senderPublicKey,receiverPublicKey:se==null?void 0:se.receiverPublicKey}}function qn(se){return se.type===_$5&&typeof se.senderPublicKey=="string"&&typeof se.receiverPublicKey=="string"}var Bn=Object.defineProperty,Ue$1=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,_e=(se,Y,ne)=>Y in se?Bn(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,$e$1=(se,Y)=>{for(var ne in Y||(Y={}))Gn.call(Y,ne)&&_e(se,ne,Y[ne]);if(Ue$1)for(var ne of Ue$1(Y))Wn.call(Y,ne)&&_e(se,ne,Y[ne]);return se};const Ce="ReactNative",m$3={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},De$1="js";function te$1(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function $$3(){return!cjsExports$3.getDocument()&&!!cjsExports$3.getNavigator()&&navigator.product===Ce}function D$6(){return!te$1()&&!!cjsExports$3.getNavigator()&&!!cjsExports$3.getDocument()}function R$2(){return $$3()?m$3.reactNative:te$1()?m$3.node:D$6()?m$3.browser:m$3.unknown}function Jn(){var se;try{return $$3()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(se=global.Application)==null?void 0:se.applicationId:void 0}catch{return}}function ke$1(se,Y){let ne=queryStringExports.parse(se);return ne=$e$1($e$1({},ne),Y),se=queryStringExports.stringify(ne),se}function Qn(){return cjsExports$2.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Ve$1(){if(R$2()===m$3.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:ne,Version:fe}=global.Platform;return[ne,fe].join("-")}const se=detect();if(se===null)return"unknown";const Y=se.os?se.os.replace(" ","").toLowerCase():"unknown";return se.type==="browser"?[Y,se.name,se.version].join("-"):[Y,se.version].join("-")}function Me$1(){var se;const Y=R$2();return Y===m$3.browser?[Y,((se=cjsExports$3.getLocation())==null?void 0:se.host)||"unknown"].join(":"):Y}function Ke$1(se,Y,ne){const fe=Ve$1(),ye=Me$1();return[[se,Y].join("-"),[De$1,ne].join("-"),fe,ye].join("/")}function Xn({protocol:se,version:Y,relayUrl:ne,sdkVersion:fe,auth:ye,projectId:me,useOnCloseEvent:be,bundleId:we}){const Ee=ne.split("?"),xe=Ke$1(se,Y,fe),Se={auth:ye,ua:xe,projectId:me,useOnCloseEvent:be||void 0,origin:we||void 0},Ie=ke$1(Ee[1]||"",Se);return Ee[0]+"?"+Ie}function O$5(se,Y){return se.filter(ne=>Y.includes(ne)).length===se.length}function rt$1(se){return Object.fromEntries(se.entries())}function ot$1(se){return new Map(Object.entries(se))}function at$1(se=cjsExports$4.FIVE_MINUTES,Y){const ne=cjsExports$4.toMiliseconds(se||cjsExports$4.FIVE_MINUTES);let fe,ye,me;return{resolve:be=>{me&&fe&&(clearTimeout(me),fe(be))},reject:be=>{me&&ye&&(clearTimeout(me),ye(be))},done:()=>new Promise((be,we)=>{me=setTimeout(()=>{we(new Error(Y))},ne),fe=be,ye=we})}}function ut$2(se,Y,ne){return new Promise(async(fe,ye)=>{const me=setTimeout(()=>ye(new Error(ne)),Y);try{const be=await se;fe(be)}catch(be){ye(be)}clearTimeout(me)})}function re$1(se,Y){if(typeof Y=="string"&&Y.startsWith(`${se}:`))return Y;if(se.toLowerCase()==="topic"){if(typeof Y!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${Y}`}else if(se.toLowerCase()==="id"){if(typeof Y!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${Y}`}throw new Error(`Unknown expirer target type: ${se}`)}function lt$1(se){return re$1("topic",se)}function dt$1(se){return re$1("id",se)}function ft$2(se){const[Y,ne]=se.split(":"),fe={id:void 0,topic:void 0};if(Y==="topic"&&typeof ne=="string")fe.topic=ne;else if(Y==="id"&&Number.isInteger(Number(ne)))fe.id=Number(ne);else throw new Error(`Invalid target, expected id:number or topic:string, got ${Y}:${ne}`);return fe}function pt$1(se,Y){return cjsExports$4.fromMiliseconds(Date.now()+cjsExports$4.toMiliseconds(se))}function mt$1(se){return Date.now()>=cjsExports$4.toMiliseconds(se)}function yt$1(se,Y){return`${se}${Y?`:${Y}`:""}`}function S$4(se=[],Y=[]){return[...new Set([...se,...Y])]}async function gt$1({id:se,topic:Y,wcDeepLink:ne}){try{if(!ne)return;const fe=typeof ne=="string"?JSON.parse(ne):ne;let ye=fe==null?void 0:fe.href;if(typeof ye!="string")return;ye.endsWith("/")&&(ye=ye.slice(0,-1));const me=`${ye}/wc?requestId=${se}&sessionTopic=${Y}`,be=R$2();be===m$3.browser?me.startsWith("https://")?window.open(me,"_blank","noreferrer noopener"):window.open(me,"_self","noreferrer noopener"):be===m$3.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(me)}catch(fe){console.error(fe)}}async function ht$1(se,Y){try{return await se.getItem(Y)||(D$6()?localStorage.getItem(Y):void 0)}catch(ne){console.error(ne)}}const He$1="irn";function vt$1(se){return(se==null?void 0:se.relay)||{protocol:He$1}}function Et$1(se){const Y=C$2[se];if(typeof Y>"u")throw new Error(`Relay Protocol not supported: ${se}`);return Y}var bt$1=Object.defineProperty,Nt$1=Object.defineProperties,Ot$1=Object.getOwnPropertyDescriptors,qe$1=Object.getOwnPropertySymbols,St$1=Object.prototype.hasOwnProperty,wt$1=Object.prototype.propertyIsEnumerable,Be$1=(se,Y,ne)=>Y in se?bt$1(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,It$1=(se,Y)=>{for(var ne in Y||(Y={}))St$1.call(Y,ne)&&Be$1(se,ne,Y[ne]);if(qe$1)for(var ne of qe$1(Y))wt$1.call(Y,ne)&&Be$1(se,ne,Y[ne]);return se},Tt$1=(se,Y)=>Nt$1(se,Ot$1(Y));function Ge$1(se,Y="-"){const ne={},fe="relay"+Y;return Object.keys(se).forEach(ye=>{if(ye.startsWith(fe)){const me=ye.replace(fe,""),be=se[ye];ne[me]=be}}),ne}function Pt$1(se){se=se.includes("wc://")?se.replace("wc://",""):se,se=se.includes("wc:")?se.replace("wc:",""):se;const Y=se.indexOf(":"),ne=se.indexOf("?")!==-1?se.indexOf("?"):void 0,fe=se.substring(0,Y),ye=se.substring(Y+1,ne).split("@"),me=typeof ne<"u"?se.substring(ne):"",be=queryStringExports.parse(me);return{protocol:fe,topic:We$1(ye[0]),version:parseInt(ye[1],10),symKey:be.symKey,relay:Ge$1(be),expiryTimestamp:be.expiryTimestamp?parseInt(be.expiryTimestamp,10):void 0}}function We$1(se){return se.startsWith("//")?se.substring(2):se}function ze(se,Y="-"){const ne="relay",fe={};return Object.keys(se).forEach(ye=>{const me=ne+Y+ye;se[ye]&&(fe[me]=se[ye])}),fe}function Rt$1(se){return`${se.protocol}:${se.topic}@${se.version}?`+queryStringExports.stringify(Tt$1(It$1({symKey:se.symKey},ze(se.relay)),{expiryTimestamp:se.expiryTimestamp}))}function A$2(se){const Y=[];return se.forEach(ne=>{const[fe,ye]=ne.split(":");Y.push(`${fe}:${ye}`)}),Y}function Qe$1(se){const Y=[];return Object.values(se).forEach(ne=>{Y.push(...A$2(ne.accounts))}),Y}function Ze$1(se,Y){const ne=[];return Object.values(se).forEach(fe=>{A$2(fe.accounts).includes(Y)&&ne.push(...fe.methods)}),ne}function Xe$1(se,Y){const ne=[];return Object.values(se).forEach(fe=>{A$2(fe.accounts).includes(Y)&&ne.push(...fe.events)}),ne}function oe$1(se){return se.includes(":")}function en(se){return oe$1(se)?se.split(":")[0]:se}const nn={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tn={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function N$3(se,Y){const{message:ne,code:fe}=tn[se];return{message:Y?`${ne} ${Y}`:ne,code:fe}}function U$2(se,Y){const{message:ne,code:fe}=nn[se];return{message:Y?`${ne} ${Y}`:ne,code:fe}}function k$4(se,Y){return!!Array.isArray(se)}function B$3(se){return Object.getPrototypeOf(se)===Object.prototype&&Object.keys(se).length}function w$7(se){return typeof se>"u"}function g$8(se,Y){return Y&&w$7(se)?!0:typeof se=="string"&&!!se.trim().length}function G$2(se,Y){return Y&&w$7(se)?!0:typeof se=="number"&&!isNaN(se)}function Mt$1(se,Y){const{requiredNamespaces:ne}=Y,fe=Object.keys(se.namespaces),ye=Object.keys(ne);let me=!0;return O$5(ye,fe)?(fe.forEach(be=>{const{accounts:we,methods:Ee,events:xe}=se.namespaces[be],Se=A$2(we),Ie=ne[be];(!O$5(L$4(be,Ie),Se)||!O$5(Ie.methods,Ee)||!O$5(Ie.events,xe))&&(me=!1)}),me):!1}function V$2(se){return g$8(se,!1)&&se.includes(":")?se.split(":").length===2:!1}function rn(se){if(g$8(se,!1)&&se.includes(":")){const Y=se.split(":");if(Y.length===3){const ne=Y[0]+":"+Y[1];return!!Y[2]&&V$2(ne)}}return!1}function Kt$1(se){if(g$8(se,!1))try{return typeof new URL(se)<"u"}catch{return!1}return!1}function Lt$1(se){var Y;return(Y=se==null?void 0:se.proposer)==null?void 0:Y.publicKey}function xt$1(se){return se==null?void 0:se.topic}function Ft$1(se,Y){let ne=null;return g$8(se==null?void 0:se.publicKey,!1)||(ne=N$3("MISSING_OR_INVALID",`${Y} controller public key should be a string`)),ne}function ie(se){let Y=!0;return k$4(se)?se.length&&(Y=se.every(ne=>g$8(ne,!1))):Y=!1,Y}function on(se,Y,ne){let fe=null;return k$4(Y)&&Y.length?Y.forEach(ye=>{fe||V$2(ye)||(fe=U$2("UNSUPPORTED_CHAINS",`${ne}, chain ${ye} should be a string and conform to "namespace:chainId" format`))}):V$2(se)||(fe=U$2("UNSUPPORTED_CHAINS",`${ne}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),fe}function sn(se,Y,ne){let fe=null;return Object.entries(se).forEach(([ye,me])=>{if(fe)return;const be=on(ye,L$4(ye,me),`${Y} ${ne}`);be&&(fe=be)}),fe}function cn(se,Y){let ne=null;return k$4(se)?se.forEach(fe=>{ne||rn(fe)||(ne=U$2("UNSUPPORTED_ACCOUNTS",`${Y}, account ${fe} should be a string and conform to "namespace:chainId:address" format`))}):ne=U$2("UNSUPPORTED_ACCOUNTS",`${Y}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),ne}function an(se,Y){let ne=null;return Object.values(se).forEach(fe=>{if(ne)return;const ye=cn(fe==null?void 0:fe.accounts,`${Y} namespace`);ye&&(ne=ye)}),ne}function un(se,Y){let ne=null;return ie(se==null?void 0:se.methods)?ie(se==null?void 0:se.events)||(ne=U$2("UNSUPPORTED_EVENTS",`${Y}, events should be an array of strings or empty array for no events`)):ne=U$2("UNSUPPORTED_METHODS",`${Y}, methods should be an array of strings or empty array for no methods`),ne}function ce$2(se,Y){let ne=null;return Object.values(se).forEach(fe=>{if(ne)return;const ye=un(fe,`${Y}, namespace`);ye&&(ne=ye)}),ne}function Ht$1(se,Y,ne){let fe=null;if(se&&B$3(se)){const ye=ce$2(se,Y);ye&&(fe=ye);const me=sn(se,Y,ne);me&&(fe=me)}else fe=N$3("MISSING_OR_INVALID",`${Y}, ${ne} should be an object with data`);return fe}function ln(se,Y){let ne=null;if(se&&B$3(se)){const fe=ce$2(se,Y);fe&&(ne=fe);const ye=an(se,Y);ye&&(ne=ye)}else ne=N$3("MISSING_OR_INVALID",`${Y}, namespaces should be an object with data`);return ne}function dn(se){return g$8(se.protocol,!0)}function qt$1(se,Y){let ne=!1;return se?se&&k$4(se)&&se.length&&se.forEach(fe=>{ne=dn(fe)}):ne=!0,ne}function Bt$1(se){return typeof se=="number"}function Gt$1(se){return typeof se<"u"&&typeof se!==null}function Wt(se){return!(!se||typeof se!="object"||!se.code||!G$2(se.code,!1)||!se.message||!g$8(se.message,!1))}function zt$1(se){return!(w$7(se)||!g$8(se.method,!1))}function Yt$1(se){return!(w$7(se)||w$7(se.result)&&w$7(se.error)||!G$2(se.id,!1)||!g$8(se.jsonrpc,!1))}function Jt$1(se){return!(w$7(se)||!g$8(se.name,!1))}function Qt(se,Y){return!(!V$2(Y)||!Qe$1(se).includes(Y))}function Zt(se,Y,ne){return g$8(ne,!1)?Ze$1(se,Y).includes(ne):!1}function Xt(se,Y,ne){return g$8(ne,!1)?Xe$1(se,Y).includes(ne):!1}function fn(se,Y,ne){let fe=null;const ye=er$1(se),me=nr$1(Y),be=Object.keys(ye),we=Object.keys(me),Ee=pn(Object.keys(se)),xe=pn(Object.keys(Y)),Se=Ee.filter(Ie=>!xe.includes(Ie));return Se.length&&(fe=N$3("NON_CONFORMING_NAMESPACES",`${ne} namespaces keys don't satisfy requiredNamespaces.
      Required: ${Se.toString()}
      Received: ${Object.keys(Y).toString()}`)),O$5(be,we)||(fe=N$3("NON_CONFORMING_NAMESPACES",`${ne} namespaces chains don't satisfy required namespaces.
      Required: ${be.toString()}
      Approved: ${we.toString()}`)),Object.keys(Y).forEach(Ie=>{if(!Ie.includes(":")||fe)return;const fr=A$2(Y[Ie].accounts);fr.includes(Ie)||(fe=N$3("NON_CONFORMING_NAMESPACES",`${ne} namespaces accounts don't satisfy namespace accounts for ${Ie}
        Required: ${Ie}
        Approved: ${fr.toString()}`))}),be.forEach(Ie=>{fe||(O$5(ye[Ie].methods,me[Ie].methods)?O$5(ye[Ie].events,me[Ie].events)||(fe=N$3("NON_CONFORMING_NAMESPACES",`${ne} namespaces events don't satisfy namespace events for ${Ie}`)):fe=N$3("NON_CONFORMING_NAMESPACES",`${ne} namespaces methods don't satisfy namespace methods for ${Ie}`))}),fe}function er$1(se){const Y={};return Object.keys(se).forEach(ne=>{var fe;ne.includes(":")?Y[ne]=se[ne]:(fe=se[ne].chains)==null||fe.forEach(ye=>{Y[ye]={methods:se[ne].methods,events:se[ne].events}})}),Y}function pn(se){return[...new Set(se.map(Y=>Y.includes(":")?Y.split(":")[0]:Y))]}function nr$1(se){const Y={};return Object.keys(se).forEach(ne=>{if(ne.includes(":"))Y[ne]=se[ne];else{const fe=A$2(se[ne].accounts);fe==null||fe.forEach(ye=>{Y[ye]={accounts:se[ne].accounts.filter(me=>me.includes(`${ye}:`)),methods:se[ne].methods,events:se[ne].events}})}}),Y}function tr$1(se,Y){return G$2(se,!1)&&se<=Y.max&&se>=Y.min}function rr$1(){const se=R$2();return new Promise(Y=>{switch(se){case m$3.browser:Y(mn());break;case m$3.reactNative:Y(yn());break;case m$3.node:Y(gn());break;default:Y(!0)}})}function mn(){return D$6()&&(navigator==null?void 0:navigator.onLine)}async function yn(){if($$3()&&typeof global<"u"&&global!=null&&global.NetInfo){const se=await(global==null?void 0:global.NetInfo.fetch());return se==null?void 0:se.isConnected}return!0}function gn(){return!0}function or$1(se){switch(R$2()){case m$3.browser:hn(se);break;case m$3.reactNative:vn(se);break}}function hn(se){!$$3()&&D$6()&&(window.addEventListener("online",()=>se(!0)),window.addEventListener("offline",()=>se(!1)))}function vn(se){var Y;$$3()&&typeof global<"u"&&global!=null&&global.NetInfo&&((Y=global)==null||Y.NetInfo.addEventListener(ne=>se(ne==null?void 0:ne.isConnected)))}const ae$1={};let sr$1=class{static get(Y){return ae$1[Y]}static set(Y,ne){ae$1[Y]=ne}static delete(Y){delete ae$1[Y]}};function wrapToPromise(se){return!se||typeof se.then!="function"?Promise.resolve(se):se}function asyncCall(se,...Y){try{return wrapToPromise(se(...Y))}catch(ne){return Promise.reject(ne)}}function isPrimitive(se){const Y=typeof se;return se===null||Y!=="object"&&Y!=="function"}function isPureObject(se){const Y=Object.getPrototypeOf(se);return!Y||Y.isPrototypeOf(Object)}function stringify$2(se){if(isPrimitive(se))return String(se);if(isPureObject(se)||Array.isArray(se))return JSON.stringify(se);if(typeof se.toJSON=="function")return stringify$2(se.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const BASE64_PREFIX="base64:";function serializeRaw(se){return typeof se=="string"?se:BASE64_PREFIX+base64Encode(se)}function deserializeRaw(se){return typeof se!="string"||!se.startsWith(BASE64_PREFIX)?se:base64Decode(se.slice(BASE64_PREFIX.length))}function base64Decode(se){return globalThis.Buffer?Buffer.from(se,"base64"):Uint8Array.from(globalThis.atob(se),Y=>Y.codePointAt(0))}function base64Encode(se){return globalThis.Buffer?Buffer.from(se).toString("base64"):globalThis.btoa(String.fromCodePoint(...se))}function normalizeKey(se){var Y;return se&&((Y=se.split("?")[0])==null?void 0:Y.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function joinKeys(...se){return normalizeKey(se.join(":"))}function normalizeBaseKey(se){return se=normalizeKey(se),se?se+":":""}function defineDriver(se){return se}const DRIVER_NAME="memory",memory=()=>{const se=new Map;return{name:DRIVER_NAME,getInstance:()=>se,hasItem(Y){return se.has(Y)},getItem(Y){return se.get(Y)??null},getItemRaw(Y){return se.get(Y)??null},setItem(Y,ne){se.set(Y,ne)},setItemRaw(Y,ne){se.set(Y,ne)},removeItem(Y){se.delete(Y)},getKeys(){return[...se.keys()]},clear(){se.clear()},dispose(){se.clear()}}};function createStorage(se={}){const Y={mounts:{"":se.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},ne=xe=>{for(const Se of Y.mountpoints)if(xe.startsWith(Se))return{base:Se,relativeKey:xe.slice(Se.length),driver:Y.mounts[Se]};return{base:"",relativeKey:xe,driver:Y.mounts[""]}},fe=(xe,Se)=>Y.mountpoints.filter(Ie=>Ie.startsWith(xe)||Se&&xe.startsWith(Ie)).map(Ie=>({relativeBase:xe.length>Ie.length?xe.slice(Ie.length):void 0,mountpoint:Ie,driver:Y.mounts[Ie]})),ye=(xe,Se)=>{if(Y.watching){Se=normalizeKey(Se);for(const Ie of Y.watchListeners)Ie(xe,Se)}},me=async()=>{if(!Y.watching){Y.watching=!0;for(const xe in Y.mounts)Y.unwatch[xe]=await watch(Y.mounts[xe],ye,xe)}},be=async()=>{if(Y.watching){for(const xe in Y.unwatch)await Y.unwatch[xe]();Y.unwatch={},Y.watching=!1}},we=(xe,Se,Ie)=>{const fr=new Map,br=kr=>{let Wr=fr.get(kr.base);return Wr||(Wr={driver:kr.driver,base:kr.base,items:[]},fr.set(kr.base,Wr)),Wr};for(const kr of xe){const Wr=typeof kr=="string",Gr=normalizeKey(Wr?kr:kr.key),jr=Wr?void 0:kr.value,Qr=Wr||!kr.options?Se:{...Se,...kr.options},wn=ne(Gr);br(wn).items.push({key:Gr,value:jr,relativeKey:wn.relativeKey,options:Qr})}return Promise.all([...fr.values()].map(kr=>Ie(kr))).then(kr=>kr.flat())},Ee={hasItem(xe,Se={}){xe=normalizeKey(xe);const{relativeKey:Ie,driver:fr}=ne(xe);return asyncCall(fr.hasItem,Ie,Se)},getItem(xe,Se={}){xe=normalizeKey(xe);const{relativeKey:Ie,driver:fr}=ne(xe);return asyncCall(fr.getItem,Ie,Se).then(br=>destr(br))},getItems(xe,Se={}){return we(xe,Se,Ie=>Ie.driver.getItems?asyncCall(Ie.driver.getItems,Ie.items.map(fr=>({key:fr.relativeKey,options:fr.options})),Se).then(fr=>fr.map(br=>({key:joinKeys(Ie.base,br.key),value:destr(br.value)}))):Promise.all(Ie.items.map(fr=>asyncCall(Ie.driver.getItem,fr.relativeKey,fr.options).then(br=>({key:fr.key,value:destr(br)})))))},getItemRaw(xe,Se={}){xe=normalizeKey(xe);const{relativeKey:Ie,driver:fr}=ne(xe);return fr.getItemRaw?asyncCall(fr.getItemRaw,Ie,Se):asyncCall(fr.getItem,Ie,Se).then(br=>deserializeRaw(br))},async setItem(xe,Se,Ie={}){if(Se===void 0)return Ee.removeItem(xe);xe=normalizeKey(xe);const{relativeKey:fr,driver:br}=ne(xe);br.setItem&&(await asyncCall(br.setItem,fr,stringify$2(Se),Ie),br.watch||ye("update",xe))},async setItems(xe,Se){await we(xe,Se,async Ie=>{if(Ie.driver.setItems)return asyncCall(Ie.driver.setItems,Ie.items.map(fr=>({key:fr.relativeKey,value:stringify$2(fr.value),options:fr.options})),Se);Ie.driver.setItem&&await Promise.all(Ie.items.map(fr=>asyncCall(Ie.driver.setItem,fr.relativeKey,stringify$2(fr.value),fr.options)))})},async setItemRaw(xe,Se,Ie={}){if(Se===void 0)return Ee.removeItem(xe,Ie);xe=normalizeKey(xe);const{relativeKey:fr,driver:br}=ne(xe);if(br.setItemRaw)await asyncCall(br.setItemRaw,fr,Se,Ie);else if(br.setItem)await asyncCall(br.setItem,fr,serializeRaw(Se),Ie);else return;br.watch||ye("update",xe)},async removeItem(xe,Se={}){typeof Se=="boolean"&&(Se={removeMeta:Se}),xe=normalizeKey(xe);const{relativeKey:Ie,driver:fr}=ne(xe);fr.removeItem&&(await asyncCall(fr.removeItem,Ie,Se),(Se.removeMeta||Se.removeMata)&&await asyncCall(fr.removeItem,Ie+"$",Se),fr.watch||ye("remove",xe))},async getMeta(xe,Se={}){typeof Se=="boolean"&&(Se={nativeOnly:Se}),xe=normalizeKey(xe);const{relativeKey:Ie,driver:fr}=ne(xe),br=Object.create(null);if(fr.getMeta&&Object.assign(br,await asyncCall(fr.getMeta,Ie,Se)),!Se.nativeOnly){const kr=await asyncCall(fr.getItem,Ie+"$",Se).then(Wr=>destr(Wr));kr&&typeof kr=="object"&&(typeof kr.atime=="string"&&(kr.atime=new Date(kr.atime)),typeof kr.mtime=="string"&&(kr.mtime=new Date(kr.mtime)),Object.assign(br,kr))}return br},setMeta(xe,Se,Ie={}){return this.setItem(xe+"$",Se,Ie)},removeMeta(xe,Se={}){return this.removeItem(xe+"$",Se)},async getKeys(xe,Se={}){xe=normalizeBaseKey(xe);const Ie=fe(xe,!0);let fr=[];const br=[];for(const kr of Ie){const Wr=await asyncCall(kr.driver.getKeys,kr.relativeBase,Se);for(const Gr of Wr){const jr=kr.mountpoint+normalizeKey(Gr);fr.some(Qr=>jr.startsWith(Qr))||br.push(jr)}fr=[kr.mountpoint,...fr.filter(Gr=>!Gr.startsWith(kr.mountpoint))]}return xe?br.filter(kr=>kr.startsWith(xe)&&kr[kr.length-1]!=="$"):br.filter(kr=>kr[kr.length-1]!=="$")},async clear(xe,Se={}){xe=normalizeBaseKey(xe),await Promise.all(fe(xe,!1).map(async Ie=>{if(Ie.driver.clear)return asyncCall(Ie.driver.clear,Ie.relativeBase,Se);if(Ie.driver.removeItem){const fr=await Ie.driver.getKeys(Ie.relativeBase||"",Se);return Promise.all(fr.map(br=>Ie.driver.removeItem(br,Se)))}}))},async dispose(){await Promise.all(Object.values(Y.mounts).map(xe=>dispose(xe)))},async watch(xe){return await me(),Y.watchListeners.push(xe),async()=>{Y.watchListeners=Y.watchListeners.filter(Se=>Se!==xe),Y.watchListeners.length===0&&await be()}},async unwatch(){Y.watchListeners=[],await be()},mount(xe,Se){if(xe=normalizeBaseKey(xe),xe&&Y.mounts[xe])throw new Error(`already mounted at ${xe}`);return xe&&(Y.mountpoints.push(xe),Y.mountpoints.sort((Ie,fr)=>fr.length-Ie.length)),Y.mounts[xe]=Se,Y.watching&&Promise.resolve(watch(Se,ye,xe)).then(Ie=>{Y.unwatch[xe]=Ie}).catch(console.error),Ee},async unmount(xe,Se=!0){var Ie,fr;xe=normalizeBaseKey(xe),!(!xe||!Y.mounts[xe])&&(Y.watching&&xe in Y.unwatch&&((fr=(Ie=Y.unwatch)[xe])==null||fr.call(Ie),delete Y.unwatch[xe]),Se&&await dispose(Y.mounts[xe]),Y.mountpoints=Y.mountpoints.filter(br=>br!==xe),delete Y.mounts[xe])},getMount(xe=""){xe=normalizeKey(xe)+":";const Se=ne(xe);return{driver:Se.driver,base:Se.base}},getMounts(xe="",Se={}){return xe=normalizeKey(xe),fe(xe,Se.parents).map(fr=>({driver:fr.driver,base:fr.mountpoint}))},keys:(xe,Se={})=>Ee.getKeys(xe,Se),get:(xe,Se={})=>Ee.getItem(xe,Se),set:(xe,Se,Ie={})=>Ee.setItem(xe,Se,Ie),has:(xe,Se={})=>Ee.hasItem(xe,Se),del:(xe,Se={})=>Ee.removeItem(xe,Se),remove:(xe,Se={})=>Ee.removeItem(xe,Se)};return Ee}function watch(se,Y,ne){return se.watch?se.watch((fe,ye)=>Y(fe,ne+ye)):()=>{}}async function dispose(se){typeof se.dispose=="function"&&await asyncCall(se.dispose)}function promisifyRequest(se){return new Promise((Y,ne)=>{se.oncomplete=se.onsuccess=()=>Y(se.result),se.onabort=se.onerror=()=>ne(se.error)})}function createStore(se,Y){const ne=indexedDB.open(se);ne.onupgradeneeded=()=>ne.result.createObjectStore(Y);const fe=promisifyRequest(ne);return(ye,me)=>fe.then(be=>me(be.transaction(Y,ye).objectStore(Y)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(se,Y=defaultGetStore()){return Y("readonly",ne=>promisifyRequest(ne.get(se)))}function set$1(se,Y,ne=defaultGetStore()){return ne("readwrite",fe=>(fe.put(Y,se),promisifyRequest(fe.transaction)))}function del(se,Y=defaultGetStore()){return Y("readwrite",ne=>(ne.delete(se),promisifyRequest(ne.transaction)))}function clear(se=defaultGetStore()){return se("readwrite",Y=>(Y.clear(),promisifyRequest(Y.transaction)))}function eachCursor(se,Y){return se.openCursor().onsuccess=function(){this.result&&(Y(this.result),this.result.continue())},promisifyRequest(se.transaction)}function keys(se=defaultGetStore()){return se("readonly",Y=>{if(Y.getAllKeys)return promisifyRequest(Y.getAllKeys());const ne=[];return eachCursor(Y,fe=>ne.push(fe.key)).then(()=>ne)})}const JSONStringify=se=>JSON.stringify(se,(Y,ne)=>typeof ne=="bigint"?ne.toString()+"n":ne),JSONParse=se=>{const Y=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,ne=se.replace(Y,'$1"$2n"$3');return JSON.parse(ne,(fe,ye)=>typeof ye=="string"&&ye.match(/^\d+n$/)?BigInt(ye.substring(0,ye.length-1)):ye)};function safeJsonParse(se){if(typeof se!="string")throw new Error(`Cannot safe json parse value of type ${typeof se}`);try{return JSONParse(se)}catch{return se}}function safeJsonStringify(se){return typeof se=="string"?se:JSONStringify(se)||""}const x$3="idb-keyval";var z$4=(se={})=>{const Y=se.base&&se.base.length>0?`${se.base}:`:"",ne=ye=>Y+ye;let fe;return se.dbName&&se.storeName&&(fe=createStore(se.dbName,se.storeName)),{name:x$3,options:se,async hasItem(ye){return!(typeof await get(ne(ye),fe)>"u")},async getItem(ye){return await get(ne(ye),fe)??null},setItem(ye,me){return set$1(ne(ye),me,fe)},removeItem(ye){return del(ne(ye),fe)},getKeys(){return keys(fe)},clear(){return clear(fe)}}};const D$5="WALLET_CONNECT_V2_INDEXED_DB",E$5="keyvaluestorage";let _$4=class{constructor(){this.indexedDb=createStorage({driver:z$4({dbName:D$5,storeName:E$5})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(Y=>[Y.key,Y.value])}async getItem(Y){const ne=await this.indexedDb.getItem(Y);if(ne!==null)return ne}async setItem(Y,ne){await this.indexedDb.setItem(Y,safeJsonStringify(ne))}async removeItem(Y){await this.indexedDb.removeItem(Y)}};var l$3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$4={exports:{}};(function(){let se;function Y(){}se=Y,se.prototype.getItem=function(ne){return this.hasOwnProperty(ne)?String(this[ne]):null},se.prototype.setItem=function(ne,fe){this[ne]=String(fe)},se.prototype.removeItem=function(ne){delete this[ne]},se.prototype.clear=function(){const ne=this;Object.keys(ne).forEach(function(fe){ne[fe]=void 0,delete ne[fe]})},se.prototype.key=function(ne){return ne=ne||0,Object.keys(this)[ne]},se.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$3<"u"&&l$3.localStorage?c$4.exports=l$3.localStorage:typeof window<"u"&&window.localStorage?c$4.exports=window.localStorage:c$4.exports=new Y})();function k$3(se){var Y;return[se[0],safeJsonParse((Y=se[1])!=null?Y:"")]}class K{constructor(){this.localStorage=c$4.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$3)}async getItem(Y){const ne=this.localStorage.getItem(Y);if(ne!==null)return safeJsonParse(ne)}async setItem(Y,ne){this.localStorage.setItem(Y,safeJsonStringify(ne))}async removeItem(Y){this.localStorage.removeItem(Y)}}const N$2="wc_storage_version",y$5=1,O$4=async(se,Y,ne)=>{const fe=N$2,ye=await Y.getItem(fe);if(ye&&ye>=y$5){ne(Y);return}const me=await se.getKeys();if(!me.length){ne(Y);return}const be=[];for(;me.length;){const we=me.shift();if(!we)continue;const Ee=we.toLowerCase();if(Ee.includes("wc@")||Ee.includes("walletconnect")||Ee.includes("wc_")||Ee.includes("wallet_connect")){const xe=await se.getItem(we);await Y.setItem(we,xe),be.push(we)}}await Y.setItem(fe,y$5),ne(Y),j$4(se,be)},j$4=async(se,Y)=>{Y.length&&Y.forEach(async ne=>{await se.removeItem(ne)})};let h$4=class{constructor(){this.initialized=!1,this.setInitialized=ne=>{this.storage=ne,this.initialized=!0};const Y=new K;this.storage=Y;try{const ne=new _$4;O$4(Y,ne,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(Y){return await this.initialize(),this.storage.getItem(Y)}async setItem(Y,ne){return await this.initialize(),this.storage.setItem(Y,ne)}async removeItem(Y){return await this.initialize(),this.storage.removeItem(Y)}async initialize(){this.initialized||await new Promise(Y=>{const ne=setInterval(()=>{this.initialized&&(clearInterval(ne),Y())},20)})}};var cjs$2={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$2=function(se,Y){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var ye in fe)fe.hasOwnProperty(ye)&&(ne[ye]=fe[ye])},extendStatics$2(se,Y)};function __extends$2(se,Y){extendStatics$2(se,Y);function ne(){this.constructor=se}se.prototype=Y===null?Object.create(Y):(ne.prototype=Y.prototype,new ne)}var __assign$2=function(){return __assign$2=Object.assign||function(Y){for(var ne,fe=1,ye=arguments.length;fe<ye;fe++){ne=arguments[fe];for(var me in ne)Object.prototype.hasOwnProperty.call(ne,me)&&(Y[me]=ne[me])}return Y},__assign$2.apply(this,arguments)};function __rest$2(se,Y){var ne={};for(var fe in se)Object.prototype.hasOwnProperty.call(se,fe)&&Y.indexOf(fe)<0&&(ne[fe]=se[fe]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,fe=Object.getOwnPropertySymbols(se);ye<fe.length;ye++)Y.indexOf(fe[ye])<0&&Object.prototype.propertyIsEnumerable.call(se,fe[ye])&&(ne[fe[ye]]=se[fe[ye]]);return ne}function __decorate$2(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me}function __param$2(se,Y){return function(ne,fe){Y(ne,fe,se)}}function __metadata$2(se,Y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(se,Y)}function __awaiter$2(se,Y,ne,fe){function ye(me){return me instanceof ne?me:new ne(function(be){be(me)})}return new(ne||(ne=Promise))(function(me,be){function we(Se){try{xe(fe.next(Se))}catch(Ie){be(Ie)}}function Ee(Se){try{xe(fe.throw(Se))}catch(Ie){be(Ie)}}function xe(Se){Se.done?me(Se.value):ye(Se.value).then(we,Ee)}xe((fe=fe.apply(se,Y||[])).next())})}function __generator$2(se,Y){var ne={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},fe,ye,me,be;return be={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function we(xe){return function(Se){return Ee([xe,Se])}}function Ee(xe){if(fe)throw new TypeError("Generator is already executing.");for(;ne;)try{if(fe=1,ye&&(me=xe[0]&2?ye.return:xe[0]?ye.throw||((me=ye.return)&&me.call(ye),0):ye.next)&&!(me=me.call(ye,xe[1])).done)return me;switch(ye=0,me&&(xe=[xe[0]&2,me.value]),xe[0]){case 0:case 1:me=xe;break;case 4:return ne.label++,{value:xe[1],done:!1};case 5:ne.label++,ye=xe[1],xe=[0];continue;case 7:xe=ne.ops.pop(),ne.trys.pop();continue;default:if(me=ne.trys,!(me=me.length>0&&me[me.length-1])&&(xe[0]===6||xe[0]===2)){ne=0;continue}if(xe[0]===3&&(!me||xe[1]>me[0]&&xe[1]<me[3])){ne.label=xe[1];break}if(xe[0]===6&&ne.label<me[1]){ne.label=me[1],me=xe;break}if(me&&ne.label<me[2]){ne.label=me[2],ne.ops.push(xe);break}me[2]&&ne.ops.pop(),ne.trys.pop();continue}xe=Y.call(se,ne)}catch(Se){xe=[6,Se],ye=0}finally{fe=me=0}if(xe[0]&5)throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}}function __createBinding$2(se,Y,ne,fe){fe===void 0&&(fe=ne),se[fe]=Y[ne]}function __exportStar$2(se,Y){for(var ne in se)ne!=="default"&&!Y.hasOwnProperty(ne)&&(Y[ne]=se[ne])}function __values$2(se){var Y=typeof Symbol=="function"&&Symbol.iterator,ne=Y&&se[Y],fe=0;if(ne)return ne.call(se);if(se&&typeof se.length=="number")return{next:function(){return se&&fe>=se.length&&(se=void 0),{value:se&&se[fe++],done:!se}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$2(se,Y){var ne=typeof Symbol=="function"&&se[Symbol.iterator];if(!ne)return se;var fe=ne.call(se),ye,me=[],be;try{for(;(Y===void 0||Y-- >0)&&!(ye=fe.next()).done;)me.push(ye.value)}catch(we){be={error:we}}finally{try{ye&&!ye.done&&(ne=fe.return)&&ne.call(fe)}finally{if(be)throw be.error}}return me}function __spread$2(){for(var se=[],Y=0;Y<arguments.length;Y++)se=se.concat(__read$2(arguments[Y]));return se}function __spreadArrays$2(){for(var se=0,Y=0,ne=arguments.length;Y<ne;Y++)se+=arguments[Y].length;for(var fe=Array(se),ye=0,Y=0;Y<ne;Y++)for(var me=arguments[Y],be=0,we=me.length;be<we;be++,ye++)fe[ye]=me[be];return fe}function __await$2(se){return this instanceof __await$2?(this.v=se,this):new __await$2(se)}function __asyncGenerator$2(se,Y,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe=ne.apply(se,Y||[]),ye,me=[];return ye={},be("next"),be("throw"),be("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function be(fr){fe[fr]&&(ye[fr]=function(br){return new Promise(function(kr,Wr){me.push([fr,br,kr,Wr])>1||we(fr,br)})})}function we(fr,br){try{Ee(fe[fr](br))}catch(kr){Ie(me[0][3],kr)}}function Ee(fr){fr.value instanceof __await$2?Promise.resolve(fr.value.v).then(xe,Se):Ie(me[0][2],fr)}function xe(fr){we("next",fr)}function Se(fr){we("throw",fr)}function Ie(fr,br){fr(br),me.shift(),me.length&&we(me[0][0],me[0][1])}}function __asyncDelegator$2(se){var Y,ne;return Y={},fe("next"),fe("throw",function(ye){throw ye}),fe("return"),Y[Symbol.iterator]=function(){return this},Y;function fe(ye,me){Y[ye]=se[ye]?function(be){return(ne=!ne)?{value:__await$2(se[ye](be)),done:ye==="return"}:me?me(be):be}:me}}function __asyncValues$2(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=se[Symbol.asyncIterator],ne;return Y?Y.call(se):(se=typeof __values$2=="function"?__values$2(se):se[Symbol.iterator](),ne={},fe("next"),fe("throw"),fe("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function fe(me){ne[me]=se[me]&&function(be){return new Promise(function(we,Ee){be=se[me](be),ye(we,Ee,be.done,be.value)})}}function ye(me,be,we,Ee){Promise.resolve(Ee).then(function(xe){me({value:xe,done:we})},be)}}function __makeTemplateObject$2(se,Y){return Object.defineProperty?Object.defineProperty(se,"raw",{value:Y}):se.raw=Y,se}function __importStar$2(se){if(se&&se.__esModule)return se;var Y={};if(se!=null)for(var ne in se)Object.hasOwnProperty.call(se,ne)&&(Y[ne]=se[ne]);return Y.default=se,Y}function __importDefault$2(se){return se&&se.__esModule?se:{default:se}}function __classPrivateFieldGet$2(se,Y){if(!Y.has(se))throw new TypeError("attempted to get private field on non-instance");return Y.get(se)}function __classPrivateFieldSet$2(se,Y,ne){if(!Y.has(se))throw new TypeError("attempted to set private field on non-instance");return Y.set(se,ne),ne}const tslib_es6$3=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$2},__asyncDelegator:__asyncDelegator$2,__asyncGenerator:__asyncGenerator$2,__asyncValues:__asyncValues$2,__await:__await$2,__awaiter:__awaiter$2,__classPrivateFieldGet:__classPrivateFieldGet$2,__classPrivateFieldSet:__classPrivateFieldSet$2,__createBinding:__createBinding$2,__decorate:__decorate$2,__exportStar:__exportStar$2,__extends:__extends$2,__generator:__generator$2,__importDefault:__importDefault$2,__importStar:__importStar$2,__makeTemplateObject:__makeTemplateObject$2,__metadata:__metadata$2,__param:__param$2,__read:__read$2,__rest:__rest$2,__spread:__spread$2,__spreadArrays:__spreadArrays$2,__values:__values$2},Symbol.toStringTag,{value:"Module"})),require$$0$5=getAugmentedNamespace(tslib_es6$3);var heartbeat$2={},types={},heartbeat$1={};class IEvents{}const esm=Object.freeze(Object.defineProperty({__proto__:null,IEvents},Symbol.toStringTag,{value:"Module"})),require$$0$4=getAugmentedNamespace(esm);var hasRequiredHeartbeat$2;function requireHeartbeat$2(){if(hasRequiredHeartbeat$2)return heartbeat$1;hasRequiredHeartbeat$2=1,Object.defineProperty(heartbeat$1,"__esModule",{value:!0}),heartbeat$1.IHeartBeat=void 0;const se=require$$0$4;class Y extends se.IEvents{constructor(fe){super()}}return heartbeat$1.IHeartBeat=Y,heartbeat$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),require$$0$5.__exportStar(requireHeartbeat$2(),se)}(types)),types}var constants$3={},heartbeat={},hasRequiredHeartbeat$1;function requireHeartbeat$1(){if(hasRequiredHeartbeat$1)return heartbeat;hasRequiredHeartbeat$1=1,Object.defineProperty(heartbeat,"__esModule",{value:!0}),heartbeat.HEARTBEAT_EVENTS=heartbeat.HEARTBEAT_INTERVAL=void 0;const se=requireCjs$5();return heartbeat.HEARTBEAT_INTERVAL=se.FIVE_SECONDS,heartbeat.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},heartbeat}var hasRequiredConstants$3;function requireConstants$3(){return hasRequiredConstants$3||(hasRequiredConstants$3=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),require$$0$5.__exportStar(requireHeartbeat$1(),se)}(constants$3)),constants$3}var hasRequiredHeartbeat;function requireHeartbeat(){if(hasRequiredHeartbeat)return heartbeat$2;hasRequiredHeartbeat=1,Object.defineProperty(heartbeat$2,"__esModule",{value:!0}),heartbeat$2.HeartBeat=void 0;const se=require$$0$5,Y=requireEvents(),ne=requireCjs$5(),fe=requireTypes(),ye=requireConstants$3();class me extends fe.IHeartBeat{constructor(we){super(we),this.events=new Y.EventEmitter,this.interval=ye.HEARTBEAT_INTERVAL,this.interval=(we==null?void 0:we.interval)||ye.HEARTBEAT_INTERVAL}static init(we){return se.__awaiter(this,void 0,void 0,function*(){const Ee=new me(we);return yield Ee.init(),Ee})}init(){return se.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(we,Ee){this.events.on(we,Ee)}once(we,Ee){this.events.once(we,Ee)}off(we,Ee){this.events.off(we,Ee)}removeListener(we,Ee){this.events.removeListener(we,Ee)}initialize(){return se.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),ne.toMiliseconds(this.interval))})}pulse(){this.events.emit(ye.HEARTBEAT_EVENTS.pulse)}}return heartbeat$2.HeartBeat=me,heartbeat$2}var hasRequiredCjs$2;function requireCjs$2(){return hasRequiredCjs$2||(hasRequiredCjs$2=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});const Y=require$$0$5;Y.__exportStar(requireHeartbeat(),se),Y.__exportStar(requireTypes(),se),Y.__exportStar(requireConstants$3(),se)}(cjs$2)),cjs$2}var cjsExports$1=requireCjs$2(),quickFormatUnescaped,hasRequiredQuickFormatUnescaped;function requireQuickFormatUnescaped(){if(hasRequiredQuickFormatUnescaped)return quickFormatUnescaped;hasRequiredQuickFormatUnescaped=1;function se(ne){try{return JSON.stringify(ne)}catch{return'"[Circular]"'}}quickFormatUnescaped=Y;function Y(ne,fe,ye){var me=ye&&ye.stringify||se,be=1;if(typeof ne=="object"&&ne!==null){var we=fe.length+be;if(we===1)return ne;var Ee=new Array(we);Ee[0]=me(ne);for(var xe=1;xe<we;xe++)Ee[xe]=me(fe[xe]);return Ee.join(" ")}if(typeof ne!="string")return ne;var Se=fe.length;if(Se===0)return ne;for(var Ie="",fr=1-be,br=-1,kr=ne&&ne.length||0,Wr=0;Wr<kr;){if(ne.charCodeAt(Wr)===37&&Wr+1<kr){switch(br=br>-1?br:0,ne.charCodeAt(Wr+1)){case 100:case 102:if(fr>=Se||fe[fr]==null)break;br<Wr&&(Ie+=ne.slice(br,Wr)),Ie+=Number(fe[fr]),br=Wr+2,Wr++;break;case 105:if(fr>=Se||fe[fr]==null)break;br<Wr&&(Ie+=ne.slice(br,Wr)),Ie+=Math.floor(Number(fe[fr])),br=Wr+2,Wr++;break;case 79:case 111:case 106:if(fr>=Se||fe[fr]===void 0)break;br<Wr&&(Ie+=ne.slice(br,Wr));var Gr=typeof fe[fr];if(Gr==="string"){Ie+="'"+fe[fr]+"'",br=Wr+2,Wr++;break}if(Gr==="function"){Ie+=fe[fr].name||"<anonymous>",br=Wr+2,Wr++;break}Ie+=me(fe[fr]),br=Wr+2,Wr++;break;case 115:if(fr>=Se)break;br<Wr&&(Ie+=ne.slice(br,Wr)),Ie+=String(fe[fr]),br=Wr+2,Wr++;break;case 37:br<Wr&&(Ie+=ne.slice(br,Wr)),Ie+="%",br=Wr+2,Wr++,fr--;break}++fr}++Wr}return br===-1?ne:(br<kr&&(Ie+=ne.slice(br)),Ie)}return quickFormatUnescaped}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;const se=requireQuickFormatUnescaped();browser$2=ye;const Y=Rn().console||{},ne={mapHttpRequest:kr,mapHttpResponse:kr,wrapRequestSerializer:Wr,wrapResponseSerializer:Wr,wrapErrorSerializer:Wr,req:kr,res:kr,err:fr};function fe(An,$n){return Array.isArray(An)?An.filter(function(ti){return ti!=="!stdSerializers.err"}):An===!0?Object.keys($n):!1}function ye(An){An=An||{},An.browser=An.browser||{};const $n=An.browser.transmit;if($n&&typeof $n.send!="function")throw Error("pino: transmit option must have a send function");const Tn=An.browser.write||Y;An.browser.write&&(An.browser.asObject=!0);const ti=An.serializers||{},ai=fe(An.browser.serialize,ti);let On=An.browser.serialize;Array.isArray(An.browser.serialize)&&An.browser.serialize.indexOf("!stdSerializers.err")>-1&&(On=!1);const Sn=["error","fatal","warn","info","debug","trace"];typeof Tn=="function"&&(Tn.error=Tn.fatal=Tn.warn=Tn.info=Tn.debug=Tn.trace=Tn),An.enabled===!1&&(An.level="silent");const Zr=An.level||"info",Oe=Object.create(Tn);Oe.log||(Oe.log=Gr),Object.defineProperty(Oe,"levelVal",{get:qr}),Object.defineProperty(Oe,"level",{get:Vr,set:Jr});const wr={transmit:$n,serialize:ai,asObject:An.browser.asObject,levels:Sn,timestamp:br(An)};Oe.levels=ye.levels,Oe.level=Zr,Oe.setMaxListeners=Oe.getMaxListeners=Oe.emit=Oe.addListener=Oe.on=Oe.prependListener=Oe.once=Oe.prependOnceListener=Oe.removeListener=Oe.removeAllListeners=Oe.listeners=Oe.listenerCount=Oe.eventNames=Oe.write=Oe.flush=Gr,Oe.serializers=ti,Oe._serialize=ai,Oe._stdErrSerialize=On,Oe.child=Xr,$n&&(Oe._logEvent=Ie());function qr(){return this.level==="silent"?1/0:this.levels.values[this.level]}function Vr(){return this._level}function Jr(Kr){if(Kr!=="silent"&&!this.levels.values[Kr])throw Error("unknown level "+Kr);this._level=Kr,me(wr,Oe,"error","log"),me(wr,Oe,"fatal","error"),me(wr,Oe,"warn","error"),me(wr,Oe,"info","log"),me(wr,Oe,"debug","log"),me(wr,Oe,"trace","log")}function Xr(Kr,Yr){if(!Kr)throw new Error("missing bindings for child Pino");Yr=Yr||{},ai&&Kr.serializers&&(Yr.serializers=Kr.serializers);const Br=Yr.serializers;if(ai&&Br){var _n=Object.assign({},ti,Br),ii=An.browser.serialize===!0?Object.keys(_n):ai;delete Kr.serializers,Ee([Kr],ii,_n,this._stdErrSerialize)}function ni(si){this._childLevel=(si._childLevel|0)+1,this.error=xe(si,Kr,"error"),this.fatal=xe(si,Kr,"fatal"),this.warn=xe(si,Kr,"warn"),this.info=xe(si,Kr,"info"),this.debug=xe(si,Kr,"debug"),this.trace=xe(si,Kr,"trace"),_n&&(this.serializers=_n,this._serialize=ii),$n&&(this._logEvent=Ie([].concat(si._logEvent.bindings,Kr)))}return ni.prototype=this,new ni(this)}return Oe}ye.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},ye.stdSerializers=ne,ye.stdTimeFunctions=Object.assign({},{nullTime:jr,epochTime:Qr,unixTime:wn,isoTime:En});function me(An,$n,Tn,ti){const ai=Object.getPrototypeOf($n);$n[Tn]=$n.levelVal>$n.levels.values[Tn]?Gr:ai[Tn]?ai[Tn]:Y[Tn]||Y[ti]||Gr,be(An,$n,Tn)}function be(An,$n,Tn){!An.transmit&&$n[Tn]===Gr||($n[Tn]=function(ti){return function(){const On=An.timestamp(),Sn=new Array(arguments.length),Zr=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Y?Y:this;for(var Oe=0;Oe<Sn.length;Oe++)Sn[Oe]=arguments[Oe];if(An.serialize&&!An.asObject&&Ee(Sn,this._serialize,this.serializers,this._stdErrSerialize),An.asObject?ti.call(Zr,we(this,Tn,Sn,On)):ti.apply(Zr,Sn),An.transmit){const wr=An.transmit.level||$n.level,qr=ye.levels.values[wr],Vr=ye.levels.values[Tn];if(Vr<qr)return;Se(this,{ts:On,methodLevel:Tn,methodValue:Vr,transmitLevel:wr,transmitValue:ye.levels.values[An.transmit.level||$n.level],send:An.transmit.send,val:$n.levelVal},Sn)}}}($n[Tn]))}function we(An,$n,Tn,ti){An._serialize&&Ee(Tn,An._serialize,An.serializers,An._stdErrSerialize);const ai=Tn.slice();let On=ai[0];const Sn={};ti&&(Sn.time=ti),Sn.level=ye.levels.values[$n];let Zr=(An._childLevel|0)+1;if(Zr<1&&(Zr=1),On!==null&&typeof On=="object"){for(;Zr--&&typeof ai[0]=="object";)Object.assign(Sn,ai.shift());On=ai.length?se(ai.shift(),ai):void 0}else typeof On=="string"&&(On=se(ai.shift(),ai));return On!==void 0&&(Sn.msg=On),Sn}function Ee(An,$n,Tn,ti){for(const ai in An)if(ti&&An[ai]instanceof Error)An[ai]=ye.stdSerializers.err(An[ai]);else if(typeof An[ai]=="object"&&!Array.isArray(An[ai]))for(const On in An[ai])$n&&$n.indexOf(On)>-1&&On in Tn&&(An[ai][On]=Tn[On](An[ai][On]))}function xe(An,$n,Tn){return function(){const ti=new Array(1+arguments.length);ti[0]=$n;for(var ai=1;ai<ti.length;ai++)ti[ai]=arguments[ai-1];return An[Tn].apply(this,ti)}}function Se(An,$n,Tn){const ti=$n.send,ai=$n.ts,On=$n.methodLevel,Sn=$n.methodValue,Zr=$n.val,Oe=An._logEvent.bindings;Ee(Tn,An._serialize||Object.keys(An.serializers),An.serializers,An._stdErrSerialize===void 0?!0:An._stdErrSerialize),An._logEvent.ts=ai,An._logEvent.messages=Tn.filter(function(wr){return Oe.indexOf(wr)===-1}),An._logEvent.level.label=On,An._logEvent.level.value=Sn,ti(On,An._logEvent,Zr),An._logEvent=Ie(Oe)}function Ie(An){return{ts:0,messages:[],bindings:An||[],level:{label:"",value:0}}}function fr(An){const $n={type:An.constructor.name,msg:An.message,stack:An.stack};for(const Tn in An)$n[Tn]===void 0&&($n[Tn]=An[Tn]);return $n}function br(An){return typeof An.timestamp=="function"?An.timestamp:An.timestamp===!1?jr:Qr}function kr(){return{}}function Wr(An){return An}function Gr(){}function jr(){return!1}function Qr(){return Date.now()}function wn(){return Math.round(Date.now()/1e3)}function En(){return new Date(Date.now()).toISOString()}function Rn(){function An($n){return typeof $n<"u"&&$n}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return An(self)||An(window)||An(this)||{}}}return browser$2}var browserExports$1=requireBrowser$2();const Hg=getDefaultExportFromCjs(browserExports$1),c$3={level:"info"},n$5="custom_context";var x$2=Object.defineProperty,S$3=Object.defineProperties,_$3=Object.getOwnPropertyDescriptors,p$5=Object.getOwnPropertySymbols,T$3=Object.prototype.hasOwnProperty,z$3=Object.prototype.propertyIsEnumerable,f$5=(se,Y,ne)=>Y in se?x$2(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,i$2=(se,Y)=>{for(var ne in Y||(Y={}))T$3.call(Y,ne)&&f$5(se,ne,Y[ne]);if(p$5)for(var ne of p$5(Y))z$3.call(Y,ne)&&f$5(se,ne,Y[ne]);return se},g$7=(se,Y)=>S$3(se,_$3(Y));function k$2(se){return g$7(i$2({},se),{level:(se==null?void 0:se.level)||c$3.level})}function v$6(se,Y=n$5){return se[Y]||""}function b$6(se,Y,ne=n$5){return se[ne]=Y,se}function y$4(se,Y=n$5){let ne="";return typeof se.bindings>"u"?ne=v$6(se,Y):ne=se.bindings().context||"",ne}function w$6(se,Y,ne=n$5){const fe=y$4(se,ne);return fe.trim()?`${fe}/${Y}`:Y}function E$4(se,Y,ne=n$5){const fe=w$6(se,Y,ne),ye=se.child({context:fe});return b$6(ye,fe,ne)}let n$4=class extends IEvents{constructor(Y){super(),this.opts=Y,this.protocol="wc",this.version=2}},h$3=class extends IEvents{constructor(Y,ne){super(),this.core=Y,this.logger=ne,this.records=new Map}},a$3=class{constructor(Y,ne){this.logger=Y,this.core=ne}},u$3=class extends IEvents{constructor(Y,ne){super(),this.relayer=Y,this.logger=ne}},g$6=class extends IEvents{constructor(Y){super()}},p$4=class{constructor(Y,ne,fe,ye){this.core=Y,this.logger=ne,this.name=fe}},d$3=class extends IEvents{constructor(Y,ne){super(),this.relayer=Y,this.logger=ne}},E$3=class extends IEvents{constructor(Y,ne){super(),this.core=Y,this.logger=ne}},y$3=class{constructor(Y,ne){this.projectId=Y,this.logger=ne}},v$5=class{constructor(Y,ne){this.projectId=Y,this.logger=ne}},b$5=class{constructor(Y){this.opts=Y,this.protocol="wc",this.version=2}},w$5=class{constructor(Y){this.client=Y}};var ed25519={},sha512$2={},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});var Y=requireBinary(),ne=requireWipe();se.DIGEST_LENGTH=64,se.BLOCK_SIZE=128;var fe=function(){function we(){this.digestLength=se.DIGEST_LENGTH,this.blockSize=se.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return we.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},we.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},we.prototype.clean=function(){ne.wipe(this._buffer),ne.wipe(this._tempHi),ne.wipe(this._tempLo),this.reset()},we.prototype.update=function(Ee,xe){if(xe===void 0&&(xe=Ee.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var Se=0;if(this._bytesHashed+=xe,this._bufferLength>0){for(;this._bufferLength<se.BLOCK_SIZE&&xe>0;)this._buffer[this._bufferLength++]=Ee[Se++],xe--;this._bufferLength===this.blockSize&&(me(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(xe>=this.blockSize&&(Se=me(this._tempHi,this._tempLo,this._stateHi,this._stateLo,Ee,Se,xe),xe%=this.blockSize);xe>0;)this._buffer[this._bufferLength++]=Ee[Se++],xe--;return this},we.prototype.finish=function(Ee){if(!this._finished){var xe=this._bytesHashed,Se=this._bufferLength,Ie=xe/536870912|0,fr=xe<<3,br=xe%128<112?128:256;this._buffer[Se]=128;for(var kr=Se+1;kr<br-8;kr++)this._buffer[kr]=0;Y.writeUint32BE(Ie,this._buffer,br-8),Y.writeUint32BE(fr,this._buffer,br-4),me(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,br),this._finished=!0}for(var kr=0;kr<this.digestLength/8;kr++)Y.writeUint32BE(this._stateHi[kr],Ee,kr*8),Y.writeUint32BE(this._stateLo[kr],Ee,kr*8+4);return this},we.prototype.digest=function(){var Ee=new Uint8Array(this.digestLength);return this.finish(Ee),Ee},we.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},we.prototype.restoreState=function(Ee){return this._stateHi.set(Ee.stateHi),this._stateLo.set(Ee.stateLo),this._bufferLength=Ee.bufferLength,Ee.buffer&&this._buffer.set(Ee.buffer),this._bytesHashed=Ee.bytesHashed,this._finished=!1,this},we.prototype.cleanSavedState=function(Ee){ne.wipe(Ee.stateHi),ne.wipe(Ee.stateLo),Ee.buffer&&ne.wipe(Ee.buffer),Ee.bufferLength=0,Ee.bytesHashed=0},we}();se.SHA512=fe;var ye=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function me(we,Ee,xe,Se,Ie,fr,br){for(var kr=xe[0],Wr=xe[1],Gr=xe[2],jr=xe[3],Qr=xe[4],wn=xe[5],En=xe[6],Rn=xe[7],An=Se[0],$n=Se[1],Tn=Se[2],ti=Se[3],ai=Se[4],On=Se[5],Sn=Se[6],Zr=Se[7],Oe,wr,qr,Vr,Jr,Xr,Kr,Yr;br>=128;){for(var Br=0;Br<16;Br++){var _n=8*Br+fr;we[Br]=Y.readUint32BE(Ie,_n),Ee[Br]=Y.readUint32BE(Ie,_n+4)}for(var Br=0;Br<80;Br++){var ii=kr,ni=Wr,si=Gr,Nn=jr,jn=Qr,ei=wn,Pn=En,zn=Rn,ri=An,hi=$n,mi=Tn,$i=ti,Ti=ai,xi=On,Ri=Sn,vi=Zr;if(Oe=Rn,wr=Zr,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=(Qr>>>14|ai<<18)^(Qr>>>18|ai<<14)^(ai>>>9|Qr<<23),wr=(ai>>>14|Qr<<18)^(ai>>>18|Qr<<14)^(Qr>>>9|ai<<23),Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Oe=Qr&wn^~Qr&En,wr=ai&On^~ai&Sn,Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Oe=ye[Br*2],wr=ye[Br*2+1],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Oe=we[Br%16],wr=Ee[Br%16],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,qr=Kr&65535|Yr<<16,Vr=Jr&65535|Xr<<16,Oe=qr,wr=Vr,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=(kr>>>28|An<<4)^(An>>>2|kr<<30)^(An>>>7|kr<<25),wr=(An>>>28|kr<<4)^(kr>>>2|An<<30)^(kr>>>7|An<<25),Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Oe=kr&Wr^kr&Gr^Wr&Gr,wr=An&$n^An&Tn^$n&Tn,Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,zn=Kr&65535|Yr<<16,vi=Jr&65535|Xr<<16,Oe=Nn,wr=$i,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=qr,wr=Vr,Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,Nn=Kr&65535|Yr<<16,$i=Jr&65535|Xr<<16,Wr=ii,Gr=ni,jr=si,Qr=Nn,wn=jn,En=ei,Rn=Pn,kr=zn,$n=ri,Tn=hi,ti=mi,ai=$i,On=Ti,Sn=xi,Zr=Ri,An=vi,Br%16===15)for(var _n=0;_n<16;_n++)Oe=we[_n],wr=Ee[_n],Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=we[(_n+9)%16],wr=Ee[(_n+9)%16],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,qr=we[(_n+1)%16],Vr=Ee[(_n+1)%16],Oe=(qr>>>1|Vr<<31)^(qr>>>8|Vr<<24)^qr>>>7,wr=(Vr>>>1|qr<<31)^(Vr>>>8|qr<<24)^(Vr>>>7|qr<<25),Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,qr=we[(_n+14)%16],Vr=Ee[(_n+14)%16],Oe=(qr>>>19|Vr<<13)^(Vr>>>29|qr<<3)^qr>>>6,wr=(Vr>>>19|qr<<13)^(qr>>>29|Vr<<3)^(Vr>>>6|qr<<26),Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,we[_n]=Kr&65535|Yr<<16,Ee[_n]=Jr&65535|Xr<<16}Oe=kr,wr=An,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[0],wr=Se[0],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[0]=kr=Kr&65535|Yr<<16,Se[0]=An=Jr&65535|Xr<<16,Oe=Wr,wr=$n,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[1],wr=Se[1],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[1]=Wr=Kr&65535|Yr<<16,Se[1]=$n=Jr&65535|Xr<<16,Oe=Gr,wr=Tn,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[2],wr=Se[2],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[2]=Gr=Kr&65535|Yr<<16,Se[2]=Tn=Jr&65535|Xr<<16,Oe=jr,wr=ti,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[3],wr=Se[3],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[3]=jr=Kr&65535|Yr<<16,Se[3]=ti=Jr&65535|Xr<<16,Oe=Qr,wr=ai,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[4],wr=Se[4],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[4]=Qr=Kr&65535|Yr<<16,Se[4]=ai=Jr&65535|Xr<<16,Oe=wn,wr=On,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[5],wr=Se[5],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[5]=wn=Kr&65535|Yr<<16,Se[5]=On=Jr&65535|Xr<<16,Oe=En,wr=Sn,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[6],wr=Se[6],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[6]=En=Kr&65535|Yr<<16,Se[6]=Sn=Jr&65535|Xr<<16,Oe=Rn,wr=Zr,Jr=wr&65535,Xr=wr>>>16,Kr=Oe&65535,Yr=Oe>>>16,Oe=xe[7],wr=Se[7],Jr+=wr&65535,Xr+=wr>>>16,Kr+=Oe&65535,Yr+=Oe>>>16,Xr+=Jr>>>16,Kr+=Xr>>>16,Yr+=Kr>>>16,xe[7]=Rn=Kr&65535|Yr<<16,Se[7]=Zr=Jr&65535|Xr<<16,fr+=128,br-=128}return fr}function be(we){var Ee=new fe;Ee.update(we);var xe=Ee.digest();return Ee.clean(),xe}se.hash=be}(sha512$2)),sha512$2}var hasRequiredEd25519;function requireEd25519(){return hasRequiredEd25519||(hasRequiredEd25519=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.convertSecretKeyToX25519=se.convertPublicKeyToX25519=se.verify=se.sign=se.extractPublicKeyFromSecretKey=se.generateKeyPair=se.generateKeyPairFromSeed=se.SEED_LENGTH=se.SECRET_KEY_LENGTH=se.PUBLIC_KEY_LENGTH=se.SIGNATURE_LENGTH=void 0;const Y=requireRandom(),ne=requireSha512(),fe=requireWipe();se.SIGNATURE_LENGTH=64,se.PUBLIC_KEY_LENGTH=32,se.SECRET_KEY_LENGTH=64,se.SEED_LENGTH=32;function ye(Nn){const jn=new Float64Array(16);if(Nn)for(let ei=0;ei<Nn.length;ei++)jn[ei]=Nn[ei];return jn}const me=new Uint8Array(32);me[0]=9;const be=ye(),we=ye([1]),Ee=ye([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),xe=ye([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Se=ye([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Ie=ye([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),fr=ye([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function br(Nn,jn){for(let ei=0;ei<16;ei++)Nn[ei]=jn[ei]|0}function kr(Nn){let jn=1;for(let ei=0;ei<16;ei++){let Pn=Nn[ei]+jn+65535;jn=Math.floor(Pn/65536),Nn[ei]=Pn-jn*65536}Nn[0]+=jn-1+37*(jn-1)}function Wr(Nn,jn,ei){const Pn=~(ei-1);for(let zn=0;zn<16;zn++){const ri=Pn&(Nn[zn]^jn[zn]);Nn[zn]^=ri,jn[zn]^=ri}}function Gr(Nn,jn){const ei=ye(),Pn=ye();for(let zn=0;zn<16;zn++)Pn[zn]=jn[zn];kr(Pn),kr(Pn),kr(Pn);for(let zn=0;zn<2;zn++){ei[0]=Pn[0]-65517;for(let hi=1;hi<15;hi++)ei[hi]=Pn[hi]-65535-(ei[hi-1]>>16&1),ei[hi-1]&=65535;ei[15]=Pn[15]-32767-(ei[14]>>16&1);const ri=ei[15]>>16&1;ei[14]&=65535,Wr(Pn,ei,1-ri)}for(let zn=0;zn<16;zn++)Nn[2*zn]=Pn[zn]&255,Nn[2*zn+1]=Pn[zn]>>8}function jr(Nn,jn){let ei=0;for(let Pn=0;Pn<32;Pn++)ei|=Nn[Pn]^jn[Pn];return(1&ei-1>>>8)-1}function Qr(Nn,jn){const ei=new Uint8Array(32),Pn=new Uint8Array(32);return Gr(ei,Nn),Gr(Pn,jn),jr(ei,Pn)}function wn(Nn){const jn=new Uint8Array(32);return Gr(jn,Nn),jn[0]&1}function En(Nn,jn){for(let ei=0;ei<16;ei++)Nn[ei]=jn[2*ei]+(jn[2*ei+1]<<8);Nn[15]&=32767}function Rn(Nn,jn,ei){for(let Pn=0;Pn<16;Pn++)Nn[Pn]=jn[Pn]+ei[Pn]}function An(Nn,jn,ei){for(let Pn=0;Pn<16;Pn++)Nn[Pn]=jn[Pn]-ei[Pn]}function $n(Nn,jn,ei){let Pn,zn,ri=0,hi=0,mi=0,$i=0,Ti=0,xi=0,Ri=0,vi=0,Pi=0,Ei=0,ha=0,Ni=0,Ai=0,ga=0,Bi=0,Ci=0,ma=0,Vi=0,Ii=0,Pa=0,ra=0,Oi=0,Na=0,na=0,ia=0,Ga=0,wa=0,sa=0,Ka=0,_a=0,ca=0,Da=ei[0],la=ei[1],ji=ei[2],qa=ei[3],ua=ei[4],qi=ei[5],Fa=ei[6],pa=ei[7],zi=ei[8],Wa=ei[9],fa=ei[10],Ki=ei[11],Ua=ei[12],oa=ei[13],ea=ei[14],ja=ei[15];Pn=jn[0],ri+=Pn*Da,hi+=Pn*la,mi+=Pn*ji,$i+=Pn*qa,Ti+=Pn*ua,xi+=Pn*qi,Ri+=Pn*Fa,vi+=Pn*pa,Pi+=Pn*zi,Ei+=Pn*Wa,ha+=Pn*fa,Ni+=Pn*Ki,Ai+=Pn*Ua,ga+=Pn*oa,Bi+=Pn*ea,Ci+=Pn*ja,Pn=jn[1],hi+=Pn*Da,mi+=Pn*la,$i+=Pn*ji,Ti+=Pn*qa,xi+=Pn*ua,Ri+=Pn*qi,vi+=Pn*Fa,Pi+=Pn*pa,Ei+=Pn*zi,ha+=Pn*Wa,Ni+=Pn*fa,Ai+=Pn*Ki,ga+=Pn*Ua,Bi+=Pn*oa,Ci+=Pn*ea,ma+=Pn*ja,Pn=jn[2],mi+=Pn*Da,$i+=Pn*la,Ti+=Pn*ji,xi+=Pn*qa,Ri+=Pn*ua,vi+=Pn*qi,Pi+=Pn*Fa,Ei+=Pn*pa,ha+=Pn*zi,Ni+=Pn*Wa,Ai+=Pn*fa,ga+=Pn*Ki,Bi+=Pn*Ua,Ci+=Pn*oa,ma+=Pn*ea,Vi+=Pn*ja,Pn=jn[3],$i+=Pn*Da,Ti+=Pn*la,xi+=Pn*ji,Ri+=Pn*qa,vi+=Pn*ua,Pi+=Pn*qi,Ei+=Pn*Fa,ha+=Pn*pa,Ni+=Pn*zi,Ai+=Pn*Wa,ga+=Pn*fa,Bi+=Pn*Ki,Ci+=Pn*Ua,ma+=Pn*oa,Vi+=Pn*ea,Ii+=Pn*ja,Pn=jn[4],Ti+=Pn*Da,xi+=Pn*la,Ri+=Pn*ji,vi+=Pn*qa,Pi+=Pn*ua,Ei+=Pn*qi,ha+=Pn*Fa,Ni+=Pn*pa,Ai+=Pn*zi,ga+=Pn*Wa,Bi+=Pn*fa,Ci+=Pn*Ki,ma+=Pn*Ua,Vi+=Pn*oa,Ii+=Pn*ea,Pa+=Pn*ja,Pn=jn[5],xi+=Pn*Da,Ri+=Pn*la,vi+=Pn*ji,Pi+=Pn*qa,Ei+=Pn*ua,ha+=Pn*qi,Ni+=Pn*Fa,Ai+=Pn*pa,ga+=Pn*zi,Bi+=Pn*Wa,Ci+=Pn*fa,ma+=Pn*Ki,Vi+=Pn*Ua,Ii+=Pn*oa,Pa+=Pn*ea,ra+=Pn*ja,Pn=jn[6],Ri+=Pn*Da,vi+=Pn*la,Pi+=Pn*ji,Ei+=Pn*qa,ha+=Pn*ua,Ni+=Pn*qi,Ai+=Pn*Fa,ga+=Pn*pa,Bi+=Pn*zi,Ci+=Pn*Wa,ma+=Pn*fa,Vi+=Pn*Ki,Ii+=Pn*Ua,Pa+=Pn*oa,ra+=Pn*ea,Oi+=Pn*ja,Pn=jn[7],vi+=Pn*Da,Pi+=Pn*la,Ei+=Pn*ji,ha+=Pn*qa,Ni+=Pn*ua,Ai+=Pn*qi,ga+=Pn*Fa,Bi+=Pn*pa,Ci+=Pn*zi,ma+=Pn*Wa,Vi+=Pn*fa,Ii+=Pn*Ki,Pa+=Pn*Ua,ra+=Pn*oa,Oi+=Pn*ea,Na+=Pn*ja,Pn=jn[8],Pi+=Pn*Da,Ei+=Pn*la,ha+=Pn*ji,Ni+=Pn*qa,Ai+=Pn*ua,ga+=Pn*qi,Bi+=Pn*Fa,Ci+=Pn*pa,ma+=Pn*zi,Vi+=Pn*Wa,Ii+=Pn*fa,Pa+=Pn*Ki,ra+=Pn*Ua,Oi+=Pn*oa,Na+=Pn*ea,na+=Pn*ja,Pn=jn[9],Ei+=Pn*Da,ha+=Pn*la,Ni+=Pn*ji,Ai+=Pn*qa,ga+=Pn*ua,Bi+=Pn*qi,Ci+=Pn*Fa,ma+=Pn*pa,Vi+=Pn*zi,Ii+=Pn*Wa,Pa+=Pn*fa,ra+=Pn*Ki,Oi+=Pn*Ua,Na+=Pn*oa,na+=Pn*ea,ia+=Pn*ja,Pn=jn[10],ha+=Pn*Da,Ni+=Pn*la,Ai+=Pn*ji,ga+=Pn*qa,Bi+=Pn*ua,Ci+=Pn*qi,ma+=Pn*Fa,Vi+=Pn*pa,Ii+=Pn*zi,Pa+=Pn*Wa,ra+=Pn*fa,Oi+=Pn*Ki,Na+=Pn*Ua,na+=Pn*oa,ia+=Pn*ea,Ga+=Pn*ja,Pn=jn[11],Ni+=Pn*Da,Ai+=Pn*la,ga+=Pn*ji,Bi+=Pn*qa,Ci+=Pn*ua,ma+=Pn*qi,Vi+=Pn*Fa,Ii+=Pn*pa,Pa+=Pn*zi,ra+=Pn*Wa,Oi+=Pn*fa,Na+=Pn*Ki,na+=Pn*Ua,ia+=Pn*oa,Ga+=Pn*ea,wa+=Pn*ja,Pn=jn[12],Ai+=Pn*Da,ga+=Pn*la,Bi+=Pn*ji,Ci+=Pn*qa,ma+=Pn*ua,Vi+=Pn*qi,Ii+=Pn*Fa,Pa+=Pn*pa,ra+=Pn*zi,Oi+=Pn*Wa,Na+=Pn*fa,na+=Pn*Ki,ia+=Pn*Ua,Ga+=Pn*oa,wa+=Pn*ea,sa+=Pn*ja,Pn=jn[13],ga+=Pn*Da,Bi+=Pn*la,Ci+=Pn*ji,ma+=Pn*qa,Vi+=Pn*ua,Ii+=Pn*qi,Pa+=Pn*Fa,ra+=Pn*pa,Oi+=Pn*zi,Na+=Pn*Wa,na+=Pn*fa,ia+=Pn*Ki,Ga+=Pn*Ua,wa+=Pn*oa,sa+=Pn*ea,Ka+=Pn*ja,Pn=jn[14],Bi+=Pn*Da,Ci+=Pn*la,ma+=Pn*ji,Vi+=Pn*qa,Ii+=Pn*ua,Pa+=Pn*qi,ra+=Pn*Fa,Oi+=Pn*pa,Na+=Pn*zi,na+=Pn*Wa,ia+=Pn*fa,Ga+=Pn*Ki,wa+=Pn*Ua,sa+=Pn*oa,Ka+=Pn*ea,_a+=Pn*ja,Pn=jn[15],Ci+=Pn*Da,ma+=Pn*la,Vi+=Pn*ji,Ii+=Pn*qa,Pa+=Pn*ua,ra+=Pn*qi,Oi+=Pn*Fa,Na+=Pn*pa,na+=Pn*zi,ia+=Pn*Wa,Ga+=Pn*fa,wa+=Pn*Ki,sa+=Pn*Ua,Ka+=Pn*oa,_a+=Pn*ea,ca+=Pn*ja,ri+=38*ma,hi+=38*Vi,mi+=38*Ii,$i+=38*Pa,Ti+=38*ra,xi+=38*Oi,Ri+=38*Na,vi+=38*na,Pi+=38*ia,Ei+=38*Ga,ha+=38*wa,Ni+=38*sa,Ai+=38*Ka,ga+=38*_a,Bi+=38*ca,zn=1,Pn=ri+zn+65535,zn=Math.floor(Pn/65536),ri=Pn-zn*65536,Pn=hi+zn+65535,zn=Math.floor(Pn/65536),hi=Pn-zn*65536,Pn=mi+zn+65535,zn=Math.floor(Pn/65536),mi=Pn-zn*65536,Pn=$i+zn+65535,zn=Math.floor(Pn/65536),$i=Pn-zn*65536,Pn=Ti+zn+65535,zn=Math.floor(Pn/65536),Ti=Pn-zn*65536,Pn=xi+zn+65535,zn=Math.floor(Pn/65536),xi=Pn-zn*65536,Pn=Ri+zn+65535,zn=Math.floor(Pn/65536),Ri=Pn-zn*65536,Pn=vi+zn+65535,zn=Math.floor(Pn/65536),vi=Pn-zn*65536,Pn=Pi+zn+65535,zn=Math.floor(Pn/65536),Pi=Pn-zn*65536,Pn=Ei+zn+65535,zn=Math.floor(Pn/65536),Ei=Pn-zn*65536,Pn=ha+zn+65535,zn=Math.floor(Pn/65536),ha=Pn-zn*65536,Pn=Ni+zn+65535,zn=Math.floor(Pn/65536),Ni=Pn-zn*65536,Pn=Ai+zn+65535,zn=Math.floor(Pn/65536),Ai=Pn-zn*65536,Pn=ga+zn+65535,zn=Math.floor(Pn/65536),ga=Pn-zn*65536,Pn=Bi+zn+65535,zn=Math.floor(Pn/65536),Bi=Pn-zn*65536,Pn=Ci+zn+65535,zn=Math.floor(Pn/65536),Ci=Pn-zn*65536,ri+=zn-1+37*(zn-1),zn=1,Pn=ri+zn+65535,zn=Math.floor(Pn/65536),ri=Pn-zn*65536,Pn=hi+zn+65535,zn=Math.floor(Pn/65536),hi=Pn-zn*65536,Pn=mi+zn+65535,zn=Math.floor(Pn/65536),mi=Pn-zn*65536,Pn=$i+zn+65535,zn=Math.floor(Pn/65536),$i=Pn-zn*65536,Pn=Ti+zn+65535,zn=Math.floor(Pn/65536),Ti=Pn-zn*65536,Pn=xi+zn+65535,zn=Math.floor(Pn/65536),xi=Pn-zn*65536,Pn=Ri+zn+65535,zn=Math.floor(Pn/65536),Ri=Pn-zn*65536,Pn=vi+zn+65535,zn=Math.floor(Pn/65536),vi=Pn-zn*65536,Pn=Pi+zn+65535,zn=Math.floor(Pn/65536),Pi=Pn-zn*65536,Pn=Ei+zn+65535,zn=Math.floor(Pn/65536),Ei=Pn-zn*65536,Pn=ha+zn+65535,zn=Math.floor(Pn/65536),ha=Pn-zn*65536,Pn=Ni+zn+65535,zn=Math.floor(Pn/65536),Ni=Pn-zn*65536,Pn=Ai+zn+65535,zn=Math.floor(Pn/65536),Ai=Pn-zn*65536,Pn=ga+zn+65535,zn=Math.floor(Pn/65536),ga=Pn-zn*65536,Pn=Bi+zn+65535,zn=Math.floor(Pn/65536),Bi=Pn-zn*65536,Pn=Ci+zn+65535,zn=Math.floor(Pn/65536),Ci=Pn-zn*65536,ri+=zn-1+37*(zn-1),Nn[0]=ri,Nn[1]=hi,Nn[2]=mi,Nn[3]=$i,Nn[4]=Ti,Nn[5]=xi,Nn[6]=Ri,Nn[7]=vi,Nn[8]=Pi,Nn[9]=Ei,Nn[10]=ha,Nn[11]=Ni,Nn[12]=Ai,Nn[13]=ga,Nn[14]=Bi,Nn[15]=Ci}function Tn(Nn,jn){$n(Nn,jn,jn)}function ti(Nn,jn){const ei=ye();let Pn;for(Pn=0;Pn<16;Pn++)ei[Pn]=jn[Pn];for(Pn=253;Pn>=0;Pn--)Tn(ei,ei),Pn!==2&&Pn!==4&&$n(ei,ei,jn);for(Pn=0;Pn<16;Pn++)Nn[Pn]=ei[Pn]}function ai(Nn,jn){const ei=ye();let Pn;for(Pn=0;Pn<16;Pn++)ei[Pn]=jn[Pn];for(Pn=250;Pn>=0;Pn--)Tn(ei,ei),Pn!==1&&$n(ei,ei,jn);for(Pn=0;Pn<16;Pn++)Nn[Pn]=ei[Pn]}function On(Nn,jn){const ei=ye(),Pn=ye(),zn=ye(),ri=ye(),hi=ye(),mi=ye(),$i=ye(),Ti=ye(),xi=ye();An(ei,Nn[1],Nn[0]),An(xi,jn[1],jn[0]),$n(ei,ei,xi),Rn(Pn,Nn[0],Nn[1]),Rn(xi,jn[0],jn[1]),$n(Pn,Pn,xi),$n(zn,Nn[3],jn[3]),$n(zn,zn,xe),$n(ri,Nn[2],jn[2]),Rn(ri,ri,ri),An(hi,Pn,ei),An(mi,ri,zn),Rn($i,ri,zn),Rn(Ti,Pn,ei),$n(Nn[0],hi,mi),$n(Nn[1],Ti,$i),$n(Nn[2],$i,mi),$n(Nn[3],hi,Ti)}function Sn(Nn,jn,ei){for(let Pn=0;Pn<4;Pn++)Wr(Nn[Pn],jn[Pn],ei)}function Zr(Nn,jn){const ei=ye(),Pn=ye(),zn=ye();ti(zn,jn[2]),$n(ei,jn[0],zn),$n(Pn,jn[1],zn),Gr(Nn,Pn),Nn[31]^=wn(ei)<<7}function Oe(Nn,jn,ei){br(Nn[0],be),br(Nn[1],we),br(Nn[2],we),br(Nn[3],be);for(let Pn=255;Pn>=0;--Pn){const zn=ei[Pn/8|0]>>(Pn&7)&1;Sn(Nn,jn,zn),On(jn,Nn),On(Nn,Nn),Sn(Nn,jn,zn)}}function wr(Nn,jn){const ei=[ye(),ye(),ye(),ye()];br(ei[0],Se),br(ei[1],Ie),br(ei[2],we),$n(ei[3],Se,Ie),Oe(Nn,ei,jn)}function qr(Nn){if(Nn.length!==se.SEED_LENGTH)throw new Error(`ed25519: seed must be ${se.SEED_LENGTH} bytes`);const jn=(0,ne.hash)(Nn);jn[0]&=248,jn[31]&=127,jn[31]|=64;const ei=new Uint8Array(32),Pn=[ye(),ye(),ye(),ye()];wr(Pn,jn),Zr(ei,Pn);const zn=new Uint8Array(64);return zn.set(Nn),zn.set(ei,32),{publicKey:ei,secretKey:zn}}se.generateKeyPairFromSeed=qr;function Vr(Nn){const jn=(0,Y.randomBytes)(32,Nn),ei=qr(jn);return(0,fe.wipe)(jn),ei}se.generateKeyPair=Vr;function Jr(Nn){if(Nn.length!==se.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${se.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Nn.subarray(32))}se.extractPublicKeyFromSecretKey=Jr;const Xr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Kr(Nn,jn){let ei,Pn,zn,ri;for(Pn=63;Pn>=32;--Pn){for(ei=0,zn=Pn-32,ri=Pn-12;zn<ri;++zn)jn[zn]+=ei-16*jn[Pn]*Xr[zn-(Pn-32)],ei=Math.floor((jn[zn]+128)/256),jn[zn]-=ei*256;jn[zn]+=ei,jn[Pn]=0}for(ei=0,zn=0;zn<32;zn++)jn[zn]+=ei-(jn[31]>>4)*Xr[zn],ei=jn[zn]>>8,jn[zn]&=255;for(zn=0;zn<32;zn++)jn[zn]-=ei*Xr[zn];for(Pn=0;Pn<32;Pn++)jn[Pn+1]+=jn[Pn]>>8,Nn[Pn]=jn[Pn]&255}function Yr(Nn){const jn=new Float64Array(64);for(let ei=0;ei<64;ei++)jn[ei]=Nn[ei];for(let ei=0;ei<64;ei++)Nn[ei]=0;Kr(Nn,jn)}function Br(Nn,jn){const ei=new Float64Array(64),Pn=[ye(),ye(),ye(),ye()],zn=(0,ne.hash)(Nn.subarray(0,32));zn[0]&=248,zn[31]&=127,zn[31]|=64;const ri=new Uint8Array(64);ri.set(zn.subarray(32),32);const hi=new ne.SHA512;hi.update(ri.subarray(32)),hi.update(jn);const mi=hi.digest();hi.clean(),Yr(mi),wr(Pn,mi),Zr(ri,Pn),hi.reset(),hi.update(ri.subarray(0,32)),hi.update(Nn.subarray(32)),hi.update(jn);const $i=hi.digest();Yr($i);for(let Ti=0;Ti<32;Ti++)ei[Ti]=mi[Ti];for(let Ti=0;Ti<32;Ti++)for(let xi=0;xi<32;xi++)ei[Ti+xi]+=$i[Ti]*zn[xi];return Kr(ri.subarray(32),ei),ri}se.sign=Br;function _n(Nn,jn){const ei=ye(),Pn=ye(),zn=ye(),ri=ye(),hi=ye(),mi=ye(),$i=ye();return br(Nn[2],we),En(Nn[1],jn),Tn(zn,Nn[1]),$n(ri,zn,Ee),An(zn,zn,Nn[2]),Rn(ri,Nn[2],ri),Tn(hi,ri),Tn(mi,hi),$n($i,mi,hi),$n(ei,$i,zn),$n(ei,ei,ri),ai(ei,ei),$n(ei,ei,zn),$n(ei,ei,ri),$n(ei,ei,ri),$n(Nn[0],ei,ri),Tn(Pn,Nn[0]),$n(Pn,Pn,ri),Qr(Pn,zn)&&$n(Nn[0],Nn[0],fr),Tn(Pn,Nn[0]),$n(Pn,Pn,ri),Qr(Pn,zn)?-1:(wn(Nn[0])===jn[31]>>7&&An(Nn[0],be,Nn[0]),$n(Nn[3],Nn[0],Nn[1]),0)}function ii(Nn,jn,ei){const Pn=new Uint8Array(32),zn=[ye(),ye(),ye(),ye()],ri=[ye(),ye(),ye(),ye()];if(ei.length!==se.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${se.SIGNATURE_LENGTH} bytes`);if(_n(ri,Nn))return!1;const hi=new ne.SHA512;hi.update(ei.subarray(0,32)),hi.update(Nn),hi.update(jn);const mi=hi.digest();return Yr(mi),Oe(zn,ri,mi),wr(ri,ei.subarray(32)),On(zn,ri),Zr(Pn,zn),!jr(ei,Pn)}se.verify=ii;function ni(Nn){let jn=[ye(),ye(),ye(),ye()];if(_n(jn,Nn))throw new Error("Ed25519: invalid public key");let ei=ye(),Pn=ye(),zn=jn[1];Rn(ei,we,zn),An(Pn,we,zn),ti(Pn,Pn),$n(ei,ei,Pn);let ri=new Uint8Array(32);return Gr(ri,ei),ri}se.convertPublicKeyToX25519=ni;function si(Nn){const jn=(0,ne.hash)(Nn.subarray(0,32));jn[0]&=248,jn[31]&=127,jn[31]|=64;const ei=new Uint8Array(jn.subarray(0,32));return(0,fe.wipe)(jn),ei}se.convertSecretKeyToX25519=si}(ed25519)),ed25519}var ed25519Exports=requireEd25519();const JWT_IRIDIUM_ALG="EdDSA",JWT_IRIDIUM_TYP="JWT",JWT_DELIMITER=".",JWT_ENCODING="base64url",JSON_ENCODING="utf8",DATA_ENCODING="utf8",DID_DELIMITER=":",DID_PREFIX="did",DID_METHOD="key",MULTICODEC_ED25519_ENCODING="base58btc",MULTICODEC_ED25519_BASE="z",MULTICODEC_ED25519_HEADER="K36",KEY_PAIR_SEED_LENGTH=32;function encodeJSON(se){return toString$1(fromString(safeJsonStringify(se),JSON_ENCODING),JWT_ENCODING)}function encodeIss(se){const Y=fromString(MULTICODEC_ED25519_HEADER,MULTICODEC_ED25519_ENCODING),ne=MULTICODEC_ED25519_BASE+toString$1(concat$2([Y,se]),MULTICODEC_ED25519_ENCODING);return[DID_PREFIX,DID_METHOD,ne].join(DID_DELIMITER)}function encodeSig(se){return toString$1(se,JWT_ENCODING)}function encodeData(se){return fromString([encodeJSON(se.header),encodeJSON(se.payload)].join(JWT_DELIMITER),DATA_ENCODING)}function encodeJWT(se){return[encodeJSON(se.header),encodeJSON(se.payload),encodeSig(se.signature)].join(JWT_DELIMITER)}function generateKeyPair(se=randomExports.randomBytes(KEY_PAIR_SEED_LENGTH)){return ed25519Exports.generateKeyPairFromSeed(se)}async function signJWT(se,Y,ne,fe,ye=cjsExports$4.fromMiliseconds(Date.now())){const me={alg:JWT_IRIDIUM_ALG,typ:JWT_IRIDIUM_TYP},be=encodeIss(fe.publicKey),we=ye+ne,Ee={iss:be,sub:se,aud:Y,iat:ye,exp:we},xe=encodeData({header:me,payload:Ee}),Se=ed25519Exports.sign(fe.secretKey,xe);return encodeJWT({header:me,payload:Ee,signature:Se})}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(se){return RESERVED_ERROR_CODES.includes(se)}function getError(se){return Object.keys(STANDARD_ERROR_MAP).includes(se)?STANDARD_ERROR_MAP[se]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(se){const Y=Object.values(STANDARD_ERROR_MAP).find(ne=>ne.code===se);return Y||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(se,Y,ne){return se.message.includes("getaddrinfo ENOTFOUND")||se.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${ne} RPC url at ${Y}`):se}var cjs$1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(se,Y){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var ye in fe)fe.hasOwnProperty(ye)&&(ne[ye]=fe[ye])},extendStatics$1(se,Y)};function __extends$1(se,Y){extendStatics$1(se,Y);function ne(){this.constructor=se}se.prototype=Y===null?Object.create(Y):(ne.prototype=Y.prototype,new ne)}var __assign$1=function(){return __assign$1=Object.assign||function(Y){for(var ne,fe=1,ye=arguments.length;fe<ye;fe++){ne=arguments[fe];for(var me in ne)Object.prototype.hasOwnProperty.call(ne,me)&&(Y[me]=ne[me])}return Y},__assign$1.apply(this,arguments)};function __rest$1(se,Y){var ne={};for(var fe in se)Object.prototype.hasOwnProperty.call(se,fe)&&Y.indexOf(fe)<0&&(ne[fe]=se[fe]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,fe=Object.getOwnPropertySymbols(se);ye<fe.length;ye++)Y.indexOf(fe[ye])<0&&Object.prototype.propertyIsEnumerable.call(se,fe[ye])&&(ne[fe[ye]]=se[fe[ye]]);return ne}function __decorate$1(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me}function __param$1(se,Y){return function(ne,fe){Y(ne,fe,se)}}function __metadata$1(se,Y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(se,Y)}function __awaiter$1(se,Y,ne,fe){function ye(me){return me instanceof ne?me:new ne(function(be){be(me)})}return new(ne||(ne=Promise))(function(me,be){function we(Se){try{xe(fe.next(Se))}catch(Ie){be(Ie)}}function Ee(Se){try{xe(fe.throw(Se))}catch(Ie){be(Ie)}}function xe(Se){Se.done?me(Se.value):ye(Se.value).then(we,Ee)}xe((fe=fe.apply(se,Y||[])).next())})}function __generator$1(se,Y){var ne={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},fe,ye,me,be;return be={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function we(xe){return function(Se){return Ee([xe,Se])}}function Ee(xe){if(fe)throw new TypeError("Generator is already executing.");for(;ne;)try{if(fe=1,ye&&(me=xe[0]&2?ye.return:xe[0]?ye.throw||((me=ye.return)&&me.call(ye),0):ye.next)&&!(me=me.call(ye,xe[1])).done)return me;switch(ye=0,me&&(xe=[xe[0]&2,me.value]),xe[0]){case 0:case 1:me=xe;break;case 4:return ne.label++,{value:xe[1],done:!1};case 5:ne.label++,ye=xe[1],xe=[0];continue;case 7:xe=ne.ops.pop(),ne.trys.pop();continue;default:if(me=ne.trys,!(me=me.length>0&&me[me.length-1])&&(xe[0]===6||xe[0]===2)){ne=0;continue}if(xe[0]===3&&(!me||xe[1]>me[0]&&xe[1]<me[3])){ne.label=xe[1];break}if(xe[0]===6&&ne.label<me[1]){ne.label=me[1],me=xe;break}if(me&&ne.label<me[2]){ne.label=me[2],ne.ops.push(xe);break}me[2]&&ne.ops.pop(),ne.trys.pop();continue}xe=Y.call(se,ne)}catch(Se){xe=[6,Se],ye=0}finally{fe=me=0}if(xe[0]&5)throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}}function __createBinding$1(se,Y,ne,fe){fe===void 0&&(fe=ne),se[fe]=Y[ne]}function __exportStar$1(se,Y){for(var ne in se)ne!=="default"&&!Y.hasOwnProperty(ne)&&(Y[ne]=se[ne])}function __values$1(se){var Y=typeof Symbol=="function"&&Symbol.iterator,ne=Y&&se[Y],fe=0;if(ne)return ne.call(se);if(se&&typeof se.length=="number")return{next:function(){return se&&fe>=se.length&&(se=void 0),{value:se&&se[fe++],done:!se}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(se,Y){var ne=typeof Symbol=="function"&&se[Symbol.iterator];if(!ne)return se;var fe=ne.call(se),ye,me=[],be;try{for(;(Y===void 0||Y-- >0)&&!(ye=fe.next()).done;)me.push(ye.value)}catch(we){be={error:we}}finally{try{ye&&!ye.done&&(ne=fe.return)&&ne.call(fe)}finally{if(be)throw be.error}}return me}function __spread$1(){for(var se=[],Y=0;Y<arguments.length;Y++)se=se.concat(__read$1(arguments[Y]));return se}function __spreadArrays$1(){for(var se=0,Y=0,ne=arguments.length;Y<ne;Y++)se+=arguments[Y].length;for(var fe=Array(se),ye=0,Y=0;Y<ne;Y++)for(var me=arguments[Y],be=0,we=me.length;be<we;be++,ye++)fe[ye]=me[be];return fe}function __await$1(se){return this instanceof __await$1?(this.v=se,this):new __await$1(se)}function __asyncGenerator$1(se,Y,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe=ne.apply(se,Y||[]),ye,me=[];return ye={},be("next"),be("throw"),be("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function be(fr){fe[fr]&&(ye[fr]=function(br){return new Promise(function(kr,Wr){me.push([fr,br,kr,Wr])>1||we(fr,br)})})}function we(fr,br){try{Ee(fe[fr](br))}catch(kr){Ie(me[0][3],kr)}}function Ee(fr){fr.value instanceof __await$1?Promise.resolve(fr.value.v).then(xe,Se):Ie(me[0][2],fr)}function xe(fr){we("next",fr)}function Se(fr){we("throw",fr)}function Ie(fr,br){fr(br),me.shift(),me.length&&we(me[0][0],me[0][1])}}function __asyncDelegator$1(se){var Y,ne;return Y={},fe("next"),fe("throw",function(ye){throw ye}),fe("return"),Y[Symbol.iterator]=function(){return this},Y;function fe(ye,me){Y[ye]=se[ye]?function(be){return(ne=!ne)?{value:__await$1(se[ye](be)),done:ye==="return"}:me?me(be):be}:me}}function __asyncValues$1(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=se[Symbol.asyncIterator],ne;return Y?Y.call(se):(se=typeof __values$1=="function"?__values$1(se):se[Symbol.iterator](),ne={},fe("next"),fe("throw"),fe("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function fe(me){ne[me]=se[me]&&function(be){return new Promise(function(we,Ee){be=se[me](be),ye(we,Ee,be.done,be.value)})}}function ye(me,be,we,Ee){Promise.resolve(Ee).then(function(xe){me({value:xe,done:we})},be)}}function __makeTemplateObject$1(se,Y){return Object.defineProperty?Object.defineProperty(se,"raw",{value:Y}):se.raw=Y,se}function __importStar$1(se){if(se&&se.__esModule)return se;var Y={};if(se!=null)for(var ne in se)Object.hasOwnProperty.call(se,ne)&&(Y[ne]=se[ne]);return Y.default=se,Y}function __importDefault$1(se){return se&&se.__esModule?se:{default:se}}function __classPrivateFieldGet$1(se,Y){if(!Y.has(se))throw new TypeError("attempted to get private field on non-instance");return Y.get(se)}function __classPrivateFieldSet$1(se,Y,ne){if(!Y.has(se))throw new TypeError("attempted to set private field on non-instance");return Y.set(se,ne),ne}const tslib_es6$2=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$1},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$1,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding:__createBinding$1,__decorate:__decorate$1,__exportStar:__exportStar$1,__extends:__extends$1,__generator:__generator$1,__importDefault:__importDefault$1,__importStar:__importStar$1,__makeTemplateObject:__makeTemplateObject$1,__metadata:__metadata$1,__param:__param$1,__read:__read$1,__rest:__rest$1,__spread:__spread$1,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(tslib_es6$2);var crypto$2={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$2;hasRequiredCrypto=1,Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.isBrowserCryptoAvailable=crypto$2.getSubtleCrypto=crypto$2.getBrowerCrypto=void 0;function se(){return(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.crypto)||(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.msCrypto)||{}}crypto$2.getBrowerCrypto=se;function Y(){const fe=se();return fe.subtle||fe.webkitSubtle}crypto$2.getSubtleCrypto=Y;function ne(){return!!se()&&!!Y()}return crypto$2.isBrowserCryptoAvailable=ne,crypto$2}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function se(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=se;function Y(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=Y;function ne(){return!se()&&!Y()}return env.isBrowser=ne,env}var hasRequiredCjs$1;function requireCjs$1(){return hasRequiredCjs$1||(hasRequiredCjs$1=1,function(se){Object.defineProperty(se,"__esModule",{value:!0});const Y=require$$0$3;Y.__exportStar(requireCrypto(),se),Y.__exportStar(requireEnv(),se)}(cjs$1)),cjs$1}var cjsExports=requireCjs$1();function payloadId(se=3){const Y=Date.now()*Math.pow(10,se),ne=Math.floor(Math.random()*Math.pow(10,se));return Y+ne}function getBigIntRpcId(se=6){return BigInt(payloadId(se))}function formatJsonRpcRequest(se,Y,ne){return{id:ne||payloadId(),jsonrpc:"2.0",method:se,params:Y}}function formatJsonRpcResult(se,Y){return{id:se,jsonrpc:"2.0",result:Y}}function formatJsonRpcError(se,Y,ne){return{id:se,jsonrpc:"2.0",error:formatErrorMessage(Y)}}function formatErrorMessage(se,Y){return typeof se>"u"?getError(INTERNAL_ERROR):(typeof se=="string"&&(se=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:se})),isReservedErrorCode(se.code)&&(se=getErrorByCode(se.code)),se)}let e$2=class{},n$3=class extends e$2{constructor(){super()}},r$3=class extends n$3{constructor(Y){super()}};const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(se){const Y=se.match(new RegExp(/^\w+:/,"gi"));if(!(!Y||!Y.length))return Y[0]}function matchRegexProtocol(se,Y){const ne=getUrlProtocol(se);return typeof ne>"u"?!1:new RegExp(Y).test(ne)}function isHttpUrl(se){return matchRegexProtocol(se,HTTP_REGEX)}function isWsUrl(se){return matchRegexProtocol(se,WS_REGEX)}function isLocalhostUrl(se){return new RegExp("wss?://localhost(:d{2,5})?").test(se)}function isJsonRpcPayload(se){return typeof se=="object"&&"id"in se&&"jsonrpc"in se&&se.jsonrpc==="2.0"}function isJsonRpcRequest(se){return isJsonRpcPayload(se)&&"method"in se}function isJsonRpcResponse(se){return isJsonRpcPayload(se)&&(isJsonRpcResult(se)||isJsonRpcError(se))}function isJsonRpcResult(se){return"result"in se}function isJsonRpcError(se){return"error"in se}let JsonRpcProvider$1=class extends r$3{constructor(Y){super(Y),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(Y),this.connection.connected&&this.registerEventListeners()}async connect(Y=this.connection){await this.open(Y)}async disconnect(){await this.close()}on(Y,ne){this.events.on(Y,ne)}once(Y,ne){this.events.once(Y,ne)}off(Y,ne){this.events.off(Y,ne)}removeListener(Y,ne){this.events.removeListener(Y,ne)}async request(Y,ne){return this.requestStrict(formatJsonRpcRequest(Y.method,Y.params||[],Y.id||getBigIntRpcId().toString()),ne)}async requestStrict(Y,ne){return new Promise(async(fe,ye)=>{if(!this.connection.connected)try{await this.open()}catch(me){ye(me)}this.events.on(`${Y.id}`,me=>{isJsonRpcError(me)?ye(me.error):fe(me.result)});try{await this.connection.send(Y,ne)}catch(me){ye(me)}})}setConnection(Y=this.connection){return Y}onPayload(Y){this.events.emit("payload",Y),isJsonRpcResponse(Y)?this.events.emit(`${Y.id}`,Y):this.events.emit("message",{type:Y.method,data:Y.params})}onClose(Y){Y&&Y.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${Y.code} ${Y.reason?`(${Y.reason})`:""}`)),this.events.emit("disconnect")}async open(Y=this.connection){this.connection===Y&&this.connection.connected||(this.connection.connected&&this.close(),typeof Y=="string"&&(await this.connection.open(Y),Y=this.connection),this.connection=this.setConnection(Y),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",Y=>this.onPayload(Y)),this.connection.on("close",Y=>this.onClose(Y)),this.connection.on("error",Y=>this.events.emit("error",Y)),this.connection.on("register_error",Y=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const w$4=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),b$4=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a$2=se=>se.split("?")[0],h$2=10,S$2=w$4();let f$4=class{constructor(Y){if(this.url=Y,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(Y))throw new Error(`Provided URL is not compatible with WebSocket connection: ${Y}`);this.url=Y}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(Y,ne){this.events.on(Y,ne)}once(Y,ne){this.events.once(Y,ne)}off(Y,ne){this.events.off(Y,ne)}removeListener(Y,ne){this.events.removeListener(Y,ne)}async open(Y=this.url){await this.register(Y)}async close(){return new Promise((Y,ne)=>{if(typeof this.socket>"u"){ne(new Error("Connection already closed"));return}this.socket.onclose=fe=>{this.onClose(fe),Y()},this.socket.close()})}async send(Y){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(Y))}catch(ne){this.onError(Y.id,ne)}}register(Y=this.url){if(!isWsUrl(Y))throw new Error(`Provided URL is not compatible with WebSocket connection: ${Y}`);if(this.registering){const ne=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=ne||this.events.listenerCount("open")>=ne)&&this.events.setMaxListeners(ne+1),new Promise((fe,ye)=>{this.events.once("register_error",me=>{this.resetMaxListeners(),ye(me)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return ye(new Error("WebSocket connection is missing or invalid"));fe(this.socket)})})}return this.url=Y,this.registering=!0,new Promise((ne,fe)=>{const ye=new URLSearchParams(Y).get("origin"),me=cjsExports.isReactNative()?{headers:{origin:ye}}:{rejectUnauthorized:!isLocalhostUrl(Y)},be=new S$2(Y,[],me);b$4()?be.onerror=we=>{const Ee=we;fe(this.emitError(Ee.error))}:be.on("error",we=>{fe(this.emitError(we))}),be.onopen=()=>{this.onOpen(be),ne(be)}})}onOpen(Y){Y.onmessage=ne=>this.onPayload(ne),Y.onclose=ne=>this.onClose(ne),this.socket=Y,this.registering=!1,this.events.emit("open")}onClose(Y){this.socket=void 0,this.registering=!1,this.events.emit("close",Y)}onPayload(Y){if(typeof Y.data>"u")return;const ne=typeof Y.data=="string"?safeJsonParse(Y.data):Y.data;this.events.emit("payload",ne)}onError(Y,ne){const fe=this.parseError(ne),ye=fe.message||fe.toString(),me=formatJsonRpcError(Y,ye);this.events.emit("payload",me)}parseError(Y,ne=this.url){return parseConnectionError(Y,a$2(ne),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h$2&&this.events.setMaxListeners(h$2)}emitError(Y){const ne=this.parseError(new Error((Y==null?void 0:Y.message)||`WebSocket connection failed for host: ${a$2(this.url)}`));return this.events.emit("register_error",ne),ne}};var lodash_isequal={exports:{}};lodash_isequal.exports;var hasRequiredLodash_isequal;function requireLodash_isequal(){return hasRequiredLodash_isequal||(hasRequiredLodash_isequal=1,function(se,Y){var ne=200,fe="__lodash_hash_undefined__",ye=1,me=2,be=9007199254740991,we="[object Arguments]",Ee="[object Array]",xe="[object AsyncFunction]",Se="[object Boolean]",Ie="[object Date]",fr="[object Error]",br="[object Function]",kr="[object GeneratorFunction]",Wr="[object Map]",Gr="[object Number]",jr="[object Null]",Qr="[object Object]",wn="[object Promise]",En="[object Proxy]",Rn="[object RegExp]",An="[object Set]",$n="[object String]",Tn="[object Symbol]",ti="[object Undefined]",ai="[object WeakMap]",On="[object ArrayBuffer]",Sn="[object DataView]",Zr="[object Float32Array]",Oe="[object Float64Array]",wr="[object Int8Array]",qr="[object Int16Array]",Vr="[object Int32Array]",Jr="[object Uint8Array]",Xr="[object Uint8ClampedArray]",Kr="[object Uint16Array]",Yr="[object Uint32Array]",Br=/[\\^$.*+?()[\]{}|]/g,_n=/^\[object .+?Constructor\]$/,ii=/^(?:0|[1-9]\d*)$/,ni={};ni[Zr]=ni[Oe]=ni[wr]=ni[qr]=ni[Vr]=ni[Jr]=ni[Xr]=ni[Kr]=ni[Yr]=!0,ni[we]=ni[Ee]=ni[On]=ni[Se]=ni[Sn]=ni[Ie]=ni[fr]=ni[br]=ni[Wr]=ni[Gr]=ni[Qr]=ni[Rn]=ni[An]=ni[$n]=ni[ai]=!1;var si=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Nn=typeof self=="object"&&self&&self.Object===Object&&self,jn=si||Nn||Function("return this")(),ei=Y&&!Y.nodeType&&Y,Pn=ei&&!0&&se&&!se.nodeType&&se,zn=Pn&&Pn.exports===ei,ri=zn&&si.process,hi=function(){try{return ri&&ri.binding&&ri.binding("util")}catch{}}(),mi=hi&&hi.isTypedArray;function $i(di,yi){for(var ta=-1,ka=di==null?0:di.length,bo=0,Ja=[];++ta<ka;){var xo=di[ta];yi(xo,ta,di)&&(Ja[bo++]=xo)}return Ja}function Ti(di,yi){for(var ta=-1,ka=yi.length,bo=di.length;++ta<ka;)di[bo+ta]=yi[ta];return di}function xi(di,yi){for(var ta=-1,ka=di==null?0:di.length;++ta<ka;)if(yi(di[ta],ta,di))return!0;return!1}function Ri(di,yi){for(var ta=-1,ka=Array(di);++ta<di;)ka[ta]=yi(ta);return ka}function vi(di){return function(yi){return di(yi)}}function Pi(di,yi){return di.has(yi)}function Ei(di,yi){return di==null?void 0:di[yi]}function ha(di){var yi=-1,ta=Array(di.size);return di.forEach(function(ka,bo){ta[++yi]=[bo,ka]}),ta}function Ni(di,yi){return function(ta){return di(yi(ta))}}function Ai(di){var yi=-1,ta=Array(di.size);return di.forEach(function(ka){ta[++yi]=ka}),ta}var ga=Array.prototype,Bi=Function.prototype,Ci=Object.prototype,ma=jn["__core-js_shared__"],Vi=Bi.toString,Ii=Ci.hasOwnProperty,Pa=function(){var di=/[^.]+$/.exec(ma&&ma.keys&&ma.keys.IE_PROTO||"");return di?"Symbol(src)_1."+di:""}(),ra=Ci.toString,Oi=RegExp("^"+Vi.call(Ii).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Na=zn?jn.Buffer:void 0,na=jn.Symbol,ia=jn.Uint8Array,Ga=Ci.propertyIsEnumerable,wa=ga.splice,sa=na?na.toStringTag:void 0,Ka=Object.getOwnPropertySymbols,_a=Na?Na.isBuffer:void 0,ca=Ni(Object.keys,Object),Da=Tc(jn,"DataView"),la=Tc(jn,"Map"),ji=Tc(jn,"Promise"),qa=Tc(jn,"Set"),ua=Tc(jn,"WeakMap"),qi=Tc(Object,"create"),Fa=tu(Da),pa=tu(la),zi=tu(ji),Wa=tu(qa),fa=tu(ua),Ki=na?na.prototype:void 0,Ua=Ki?Ki.valueOf:void 0;function oa(di){var yi=-1,ta=di==null?0:di.length;for(this.clear();++yi<ta;){var ka=di[yi];this.set(ka[0],ka[1])}}function ea(){this.__data__=qi?qi(null):{},this.size=0}function ja(di){var yi=this.has(di)&&delete this.__data__[di];return this.size-=yi?1:0,yi}function Aa(di){var yi=this.__data__;if(qi){var ta=yi[di];return ta===fe?void 0:ta}return Ii.call(yi,di)?yi[di]:void 0}function da(di){var yi=this.__data__;return qi?yi[di]!==void 0:Ii.call(yi,di)}function no(di,yi){var ta=this.__data__;return this.size+=this.has(di)?0:1,ta[di]=qi&&yi===void 0?fe:yi,this}oa.prototype.clear=ea,oa.prototype.delete=ja,oa.prototype.get=Aa,oa.prototype.has=da,oa.prototype.set=no;function va(di){var yi=-1,ta=di==null?0:di.length;for(this.clear();++yi<ta;){var ka=di[yi];this.set(ka[0],ka[1])}}function Ca(){this.__data__=[],this.size=0}function Io(di){var yi=this.__data__,ta=Wf(yi,di);if(ta<0)return!1;var ka=yi.length-1;return ta==ka?yi.pop():wa.call(yi,ta,1),--this.size,!0}function Po(di){var yi=this.__data__,ta=Wf(yi,di);return ta<0?void 0:yi[ta][1]}function To(di){return Wf(this.__data__,di)>-1}function No(di,yi){var ta=this.__data__,ka=Wf(ta,di);return ka<0?(++this.size,ta.push([di,yi])):ta[ka][1]=yi,this}va.prototype.clear=Ca,va.prototype.delete=Io,va.prototype.get=Po,va.prototype.has=To,va.prototype.set=No;function ho(di){var yi=-1,ta=di==null?0:di.length;for(this.clear();++yi<ta;){var ka=di[yi];this.set(ka[0],ka[1])}}function _o(){this.size=0,this.__data__={hash:new oa,map:new(la||va),string:new oa}}function ko(di){var yi=Wu(this,di).delete(di);return this.size-=yi?1:0,yi}function $o(di){return Wu(this,di).get(di)}function Mo(di){return Wu(this,di).has(di)}function Oo(di,yi){var ta=Wu(this,di),ka=ta.size;return ta.set(di,yi),this.size+=ta.size==ka?0:1,this}ho.prototype.clear=_o,ho.prototype.delete=ko,ho.prototype.get=$o,ho.prototype.has=Mo,ho.prototype.set=Oo;function Eo(di){var yi=-1,ta=di==null?0:di.length;for(this.__data__=new ho;++yi<ta;)this.add(di[yi])}function So(di){return this.__data__.set(di,fe),this}function Ao(di){return this.__data__.has(di)}Eo.prototype.add=Eo.prototype.push=So,Eo.prototype.has=Ao;function co(di){var yi=this.__data__=new va(di);this.size=yi.size}function Bo(){this.__data__=new va,this.size=0}function Ho(di){var yi=this.__data__,ta=yi.delete(di);return this.size=yi.size,ta}function zo(di){return this.__data__.get(di)}function fc(di){return this.__data__.has(di)}function rc(di,yi){var ta=this.__data__;if(ta instanceof va){var ka=ta.__data__;if(!la||ka.length<ne-1)return ka.push([di,yi]),this.size=++ta.size,this;ta=this.__data__=new ho(ka)}return ta.set(di,yi),this.size=ta.size,this}co.prototype.clear=Bo,co.prototype.delete=Ho,co.prototype.get=zo,co.prototype.has=fc,co.prototype.set=rc;function a1(di,yi){var ta=sd(di),ka=!ta&&b1(di),bo=!ta&&!ka&&op(di),Ja=!ta&&!ka&&!bo&&_1(di),xo=ta||ka||bo||Ja,Wo=xo?Ri(di.length,String):[],ao=Wo.length;for(var vo in di)Ii.call(di,vo)&&!(xo&&(vo=="length"||bo&&(vo=="offset"||vo=="parent")||Ja&&(vo=="buffer"||vo=="byteLength"||vo=="byteOffset")||d1(vo,ao)))&&Wo.push(vo);return Wo}function Wf(di,yi){for(var ta=di.length;ta--;)if(y1(di[ta][0],yi))return ta;return-1}function sp(di,yi,ta){var ka=yi(di);return sd(di)?ka:Ti(ka,ta(di))}function jf(di){return di==null?di===void 0?ti:jr:sa&&sa in Object(di)?f1(di):rm(di)}function ap(di){return zf(di)&&jf(di)==we}function Hf(di,yi,ta,ka,bo){return di===yi?!0:di==null||yi==null||!zf(di)&&!zf(yi)?di!==di&&yi!==yi:o1(di,yi,ta,ka,Hf,bo)}function o1(di,yi,ta,ka,bo,Ja){var xo=sd(di),Wo=sd(yi),ao=xo?Ee:Il(di),vo=Wo?Ee:Il(yi);ao=ao==we?Qr:ao,vo=vo==we?Qr:vo;var qo=ao==Qr,_c=vo==Qr,jo=ao==vo;if(jo&&op(di)){if(!op(yi))return!1;xo=!0,qo=!1}if(jo&&!qo)return Ja||(Ja=new co),xo||_1(di)?rd(di,yi,ta,ka,bo,Ja):tm(di,yi,ao,ta,ka,bo,Ja);if(!(ta&ye)){var Co=qo&&Ii.call(di,"__wrapped__"),hc=_c&&Ii.call(yi,"__wrapped__");if(Co||hc){var dl=Co?di.value():di,Gc=hc?yi.value():yi;return Ja||(Ja=new co),bo(dl,Gc,ta,ka,Ja)}}return jo?(Ja||(Ja=new co),u1(di,yi,ta,ka,bo,Ja)):!1}function em(di){if(!w1(di)||g1(di))return!1;var yi=ad(di)?Oi:_n;return yi.test(tu(di))}function c1(di){return zf(di)&&v1(di.length)&&!!ni[jf(di)]}function l1(di){if(!m1(di))return ca(di);var yi=[];for(var ta in Object(di))Ii.call(di,ta)&&ta!="constructor"&&yi.push(ta);return yi}function rd(di,yi,ta,ka,bo,Ja){var xo=ta&ye,Wo=di.length,ao=yi.length;if(Wo!=ao&&!(xo&&ao>Wo))return!1;var vo=Ja.get(di);if(vo&&Ja.get(yi))return vo==yi;var qo=-1,_c=!0,jo=ta&me?new Eo:void 0;for(Ja.set(di,yi),Ja.set(yi,di);++qo<Wo;){var Co=di[qo],hc=yi[qo];if(ka)var dl=xo?ka(hc,Co,qo,yi,di,Ja):ka(Co,hc,qo,di,yi,Ja);if(dl!==void 0){if(dl)continue;_c=!1;break}if(jo){if(!xi(yi,function(Gc,Pl){if(!Pi(jo,Pl)&&(Co===Gc||bo(Co,Gc,ta,ka,Ja)))return jo.push(Pl)})){_c=!1;break}}else if(!(Co===hc||bo(Co,hc,ta,ka,Ja))){_c=!1;break}}return Ja.delete(di),Ja.delete(yi),_c}function tm(di,yi,ta,ka,bo,Ja,xo){switch(ta){case Sn:if(di.byteLength!=yi.byteLength||di.byteOffset!=yi.byteOffset)return!1;di=di.buffer,yi=yi.buffer;case On:return!(di.byteLength!=yi.byteLength||!Ja(new ia(di),new ia(yi)));case Se:case Ie:case Gr:return y1(+di,+yi);case fr:return di.name==yi.name&&di.message==yi.message;case Rn:case $n:return di==yi+"";case Wr:var Wo=ha;case An:var ao=ka&ye;if(Wo||(Wo=Ai),di.size!=yi.size&&!ao)return!1;var vo=xo.get(di);if(vo)return vo==yi;ka|=me,xo.set(di,yi);var qo=rd(Wo(di),Wo(yi),ka,bo,Ja,xo);return xo.delete(di),qo;case Tn:if(Ua)return Ua.call(di)==Ua.call(yi)}return!1}function u1(di,yi,ta,ka,bo,Ja){var xo=ta&ye,Wo=nd(di),ao=Wo.length,vo=nd(yi),qo=vo.length;if(ao!=qo&&!xo)return!1;for(var _c=ao;_c--;){var jo=Wo[_c];if(!(xo?jo in yi:Ii.call(yi,jo)))return!1}var Co=Ja.get(di);if(Co&&Ja.get(yi))return Co==yi;var hc=!0;Ja.set(di,yi),Ja.set(yi,di);for(var dl=xo;++_c<ao;){jo=Wo[_c];var Gc=di[jo],Pl=yi[jo];if(ka)var cp=xo?ka(Pl,Gc,jo,yi,di,Ja):ka(Gc,Pl,jo,di,yi,Ja);if(!(cp===void 0?Gc===Pl||bo(Gc,Pl,ta,ka,Ja):cp)){hc=!1;break}dl||(dl=jo=="constructor")}if(hc&&!dl){var Vf=di.constructor,Zo=yi.constructor;Vf!=Zo&&"constructor"in di&&"constructor"in yi&&!(typeof Vf=="function"&&Vf instanceof Vf&&typeof Zo=="function"&&Zo instanceof Zo)&&(hc=!1)}return Ja.delete(di),Ja.delete(yi),hc}function nd(di){return sp(di,sm,h1)}function Wu(di,yi){var ta=di.__data__;return p1(yi)?ta[typeof yi=="string"?"string":"hash"]:ta.map}function Tc(di,yi){var ta=Ei(di,yi);return em(ta)?ta:void 0}function f1(di){var yi=Ii.call(di,sa),ta=di[sa];try{di[sa]=void 0;var ka=!0}catch{}var bo=ra.call(di);return ka&&(yi?di[sa]=ta:delete di[sa]),bo}var h1=Ka?function(di){return di==null?[]:(di=Object(di),$i(Ka(di),function(yi){return Ga.call(di,yi)}))}:yo,Il=jf;(Da&&Il(new Da(new ArrayBuffer(1)))!=Sn||la&&Il(new la)!=Wr||ji&&Il(ji.resolve())!=wn||qa&&Il(new qa)!=An||ua&&Il(new ua)!=ai)&&(Il=function(di){var yi=jf(di),ta=yi==Qr?di.constructor:void 0,ka=ta?tu(ta):"";if(ka)switch(ka){case Fa:return Sn;case pa:return Wr;case zi:return wn;case Wa:return An;case fa:return ai}return yi});function d1(di,yi){return yi=yi??be,!!yi&&(typeof di=="number"||ii.test(di))&&di>-1&&di%1==0&&di<yi}function p1(di){var yi=typeof di;return yi=="string"||yi=="number"||yi=="symbol"||yi=="boolean"?di!=="__proto__":di===null}function g1(di){return!!Pa&&Pa in di}function m1(di){var yi=di&&di.constructor,ta=typeof yi=="function"&&yi.prototype||Ci;return di===ta}function rm(di){return ra.call(di)}function tu(di){if(di!=null){try{return Vi.call(di)}catch{}try{return di+""}catch{}}return""}function y1(di,yi){return di===yi||di!==di&&yi!==yi}var b1=ap(function(){return arguments}())?ap:function(di){return zf(di)&&Ii.call(di,"callee")&&!Ga.call(di,"callee")},sd=Array.isArray;function nm(di){return di!=null&&v1(di.length)&&!ad(di)}var op=_a||go;function im(di,yi){return Hf(di,yi)}function ad(di){if(!w1(di))return!1;var yi=jf(di);return yi==br||yi==kr||yi==xe||yi==En}function v1(di){return typeof di=="number"&&di>-1&&di%1==0&&di<=be}function w1(di){var yi=typeof di;return di!=null&&(yi=="object"||yi=="function")}function zf(di){return di!=null&&typeof di=="object"}var _1=mi?vi(mi):c1;function sm(di){return nm(di)?a1(di):l1(di)}function yo(){return[]}function go(){return!1}se.exports=im}(lodash_isequal,lodash_isequal.exports)),lodash_isequal.exports}var lodash_isequalExports=requireLodash_isequal();const Gi=getDefaultExportFromCjs(lodash_isequalExports);function unfetch_module(se,Y){return Y=Y||{},new Promise(function(ne,fe){var ye=new XMLHttpRequest,me=[],be=[],we={},Ee=function(){return{ok:(ye.status/100|0)==2,statusText:ye.statusText,status:ye.status,url:ye.responseURL,text:function(){return Promise.resolve(ye.responseText)},json:function(){return Promise.resolve(ye.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([ye.response]))},clone:Ee,headers:{keys:function(){return me},entries:function(){return be},get:function(Se){return we[Se.toLowerCase()]},has:function(Se){return Se.toLowerCase()in we}}}};for(var xe in ye.open(Y.method||"get",se,!0),ye.onload=function(){ye.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(Se,Ie,fr){me.push(Ie=Ie.toLowerCase()),be.push([Ie,fr]),we[Ie]=we[Ie]?we[Ie]+","+fr:fr}),ne(Ee())},ye.onerror=fe,ye.withCredentials=Y.credentials=="include",Y.headers)ye.setRequestHeader(xe,Y.headers[xe]);ye.send(Y.body||null)})}const unfetch_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:unfetch_module},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(unfetch_module$1);var browser$1,hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,browser$1=self.fetch||(self.fetch=require$$0$2.default||require$$0$2)),browser$1}var browserExports=requireBrowser$1();const Yi=getDefaultExportFromCjs(browserExports);var define_process_env_default={};function Hi(se,Y){if(se.length>=255)throw new TypeError("Alphabet too long");for(var ne=new Uint8Array(256),fe=0;fe<ne.length;fe++)ne[fe]=255;for(var ye=0;ye<se.length;ye++){var me=se.charAt(ye),be=me.charCodeAt(0);if(ne[be]!==255)throw new TypeError(me+" is ambiguous");ne[be]=ye}var we=se.length,Ee=se.charAt(0),xe=Math.log(we)/Math.log(256),Se=Math.log(256)/Math.log(we);function Ie(kr){if(kr instanceof Uint8Array||(ArrayBuffer.isView(kr)?kr=new Uint8Array(kr.buffer,kr.byteOffset,kr.byteLength):Array.isArray(kr)&&(kr=Uint8Array.from(kr))),!(kr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(kr.length===0)return"";for(var Wr=0,Gr=0,jr=0,Qr=kr.length;jr!==Qr&&kr[jr]===0;)jr++,Wr++;for(var wn=(Qr-jr)*Se+1>>>0,En=new Uint8Array(wn);jr!==Qr;){for(var Rn=kr[jr],An=0,$n=wn-1;(Rn!==0||An<Gr)&&$n!==-1;$n--,An++)Rn+=256*En[$n]>>>0,En[$n]=Rn%we>>>0,Rn=Rn/we>>>0;if(Rn!==0)throw new Error("Non-zero carry");Gr=An,jr++}for(var Tn=wn-Gr;Tn!==wn&&En[Tn]===0;)Tn++;for(var ti=Ee.repeat(Wr);Tn<wn;++Tn)ti+=se.charAt(En[Tn]);return ti}function fr(kr){if(typeof kr!="string")throw new TypeError("Expected String");if(kr.length===0)return new Uint8Array;var Wr=0;if(kr[Wr]!==" "){for(var Gr=0,jr=0;kr[Wr]===Ee;)Gr++,Wr++;for(var Qr=(kr.length-Wr)*xe+1>>>0,wn=new Uint8Array(Qr);kr[Wr];){var En=ne[kr.charCodeAt(Wr)];if(En===255)return;for(var Rn=0,An=Qr-1;(En!==0||Rn<jr)&&An!==-1;An--,Rn++)En+=we*wn[An]>>>0,wn[An]=En%256>>>0,En=En/256>>>0;if(En!==0)throw new Error("Non-zero carry");jr=Rn,Wr++}if(kr[Wr]!==" "){for(var $n=Qr-jr;$n!==Qr&&wn[$n]===0;)$n++;for(var Tn=new Uint8Array(Gr+(Qr-$n)),ti=Gr;$n!==Qr;)Tn[ti++]=wn[$n++];return Tn}}}function br(kr){var Wr=fr(kr);if(Wr)return Wr;throw new Error(`Non-${Y} character`)}return{encode:Ie,decodeUnsafe:fr,decode:br}}var Ji=Hi,Xi=Ji;const Ne=se=>{if(se instanceof Uint8Array&&se.constructor.name==="Uint8Array")return se;if(se instanceof ArrayBuffer)return new Uint8Array(se);if(ArrayBuffer.isView(se))return new Uint8Array(se.buffer,se.byteOffset,se.byteLength);throw new Error("Unknown type, must be binary type")},Wi$1=se=>new TextEncoder().encode(se),Qi=se=>new TextDecoder().decode(se);class Zi{constructor(Y,ne,fe){this.name=Y,this.prefix=ne,this.baseEncode=fe}encode(Y){if(Y instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Y)}`;throw Error("Unknown type, must be binary type")}}class es{constructor(Y,ne,fe){if(this.name=Y,this.prefix=ne,ne.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=ne.codePointAt(0),this.baseDecode=fe}decode(Y){if(typeof Y=="string"){if(Y.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Y)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Y.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Y){return Ue(this,Y)}}class ts{constructor(Y){this.decoders=Y}or(Y){return Ue(this,Y)}decode(Y){const ne=Y[0],fe=this.decoders[ne];if(fe)return fe.decode(Y);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Y)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ue=(se,Y)=>new ts({...se.decoders||{[se.prefix]:se},...Y.decoders||{[Y.prefix]:Y}});let is$1=class{constructor(Y,ne,fe,ye){this.name=Y,this.prefix=ne,this.baseEncode=fe,this.baseDecode=ye,this.encoder=new Zi(Y,ne,fe),this.decoder=new es(Y,ne,ye)}encode(Y){return this.encoder.encode(Y)}decode(Y){return this.decoder.decode(Y)}};const W=({name:se,prefix:Y,encode:ne,decode:fe})=>new is$1(se,Y,ne,fe),B$2=({prefix:se,name:Y,alphabet:ne})=>{const{encode:fe,decode:ye}=Xi(ne,Y);return W({prefix:se,name:Y,encode:fe,decode:me=>Ne(ye(me))})},ss=(se,Y,ne,fe)=>{const ye={};for(let Se=0;Se<Y.length;++Se)ye[Y[Se]]=Se;let me=se.length;for(;se[me-1]==="=";)--me;const be=new Uint8Array(me*ne/8|0);let we=0,Ee=0,xe=0;for(let Se=0;Se<me;++Se){const Ie=ye[se[Se]];if(Ie===void 0)throw new SyntaxError(`Non-${fe} character`);Ee=Ee<<ne|Ie,we+=ne,we>=8&&(we-=8,be[xe++]=255&Ee>>we)}if(we>=ne||255&Ee<<8-we)throw new SyntaxError("Unexpected end of data");return be},rs=(se,Y,ne)=>{const fe=Y[Y.length-1]==="=",ye=(1<<ne)-1;let me="",be=0,we=0;for(let Ee=0;Ee<se.length;++Ee)for(we=we<<8|se[Ee],be+=8;be>ne;)be-=ne,me+=Y[ye&we>>be];if(be&&(me+=Y[ye&we<<ne-be]),fe)for(;me.length*ne&7;)me+="=";return me},g$5=({name:se,prefix:Y,bitsPerChar:ne,alphabet:fe})=>W({prefix:Y,name:se,encode(ye){return rs(ye,fe,ne)},decode(ye){return ss(ye,fe,ne,se)}}),ns=W({prefix:"\0",name:"identity",encode:se=>Qi(se),decode:se=>Wi$1(se)});var os=Object.freeze({__proto__:null,identity:ns});const as$1=g$5({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hs$1=Object.freeze({__proto__:null,base2:as$1});const cs$1=g$5({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var us$1=Object.freeze({__proto__:null,base8:cs$1});const ls$1=B$2({prefix:"9",name:"base10",alphabet:"0123456789"});var ds$1=Object.freeze({__proto__:null,base10:ls$1});const gs$1=g$5({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ps$1=g$5({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ds=Object.freeze({__proto__:null,base16:gs$1,base16upper:ps$1});const ys=g$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ms$1=g$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bs=g$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fs=g$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Es=g$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ws=g$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vs=g$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Is=g$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cs=g$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rs=Object.freeze({__proto__:null,base32:ys,base32upper:ms$1,base32pad:bs,base32padupper:fs,base32hex:Es,base32hexupper:ws,base32hexpad:vs,base32hexpadupper:Is,base32z:Cs});const _s=B$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ts=B$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ss=Object.freeze({__proto__:null,base36:_s,base36upper:Ts});const Ps=B$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xs=B$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Os=Object.freeze({__proto__:null,base58btc:Ps,base58flickr:xs});const As=g$5({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zs=g$5({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ns=g$5({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Us=g$5({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ls=Object.freeze({__proto__:null,base64:As,base64pad:zs,base64url:Ns,base64urlpad:Us});const Le=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),$s=Le.reduce((se,Y,ne)=>(se[ne]=Y,se),[]),Fs=Le.reduce((se,Y,ne)=>(se[Y.codePointAt(0)]=ne,se),[]);function Ms(se){return se.reduce((Y,ne)=>(Y+=$s[ne],Y),"")}function ks(se){const Y=[];for(const ne of se){const fe=Fs[ne.codePointAt(0)];if(fe===void 0)throw new Error(`Non-base256emoji character: ${ne}`);Y.push(fe)}return new Uint8Array(Y)}const Ks=W({prefix:"🚀",name:"base256emoji",encode:Ms,decode:ks});var Bs=Object.freeze({__proto__:null,base256emoji:Ks}),Vs=Fe,$e=128,qs=127,js$1=~qs,Gs=Math.pow(2,31);function Fe(se,Y,ne){Y=Y||[],ne=ne||0;for(var fe=ne;se>=Gs;)Y[ne++]=se&255|$e,se/=128;for(;se&js$1;)Y[ne++]=se&255|$e,se>>>=7;return Y[ne]=se|0,Fe.bytes=ne-fe+1,Y}var Ys=he$1,Hs=128,Me=127;function he$1(se,fe){var ne=0,fe=fe||0,ye=0,me=fe,be,we=se.length;do{if(me>=we)throw he$1.bytes=0,new RangeError("Could not decode varint");be=se[me++],ne+=ye<28?(be&Me)<<ye:(be&Me)*Math.pow(2,ye),ye+=7}while(be>=Hs);return he$1.bytes=me-fe,ne}var Js=Math.pow(2,7),Xs=Math.pow(2,14),Ws=Math.pow(2,21),Qs=Math.pow(2,28),Zs=Math.pow(2,35),er=Math.pow(2,42),tr=Math.pow(2,49),ir=Math.pow(2,56),sr=Math.pow(2,63),rr=function(se){return se<Js?1:se<Xs?2:se<Ws?3:se<Qs?4:se<Zs?5:se<er?6:se<tr?7:se<ir?8:se<sr?9:10},nr={encode:Vs,decode:Ys,encodingLength:rr},ke=nr;const Ke=(se,Y,ne=0)=>(ke.encode(se,Y,ne),Y),Be=se=>ke.encodingLength(se),ce$1=(se,Y)=>{const ne=Y.byteLength,fe=Be(se),ye=fe+Be(ne),me=new Uint8Array(ye+ne);return Ke(se,me,0),Ke(ne,me,fe),me.set(Y,ye),new or(se,ne,Y,me)};class or{constructor(Y,ne,fe,ye){this.code=Y,this.size=ne,this.digest=fe,this.bytes=ye}}const Ve=({name:se,code:Y,encode:ne})=>new ar(se,Y,ne);class ar{constructor(Y,ne,fe){this.name=Y,this.code=ne,this.encode=fe}digest(Y){if(Y instanceof Uint8Array){const ne=this.encode(Y);return ne instanceof Uint8Array?ce$1(this.code,ne):ne.then(fe=>ce$1(this.code,fe))}else throw Error("Unknown type, must be binary type")}}const qe=se=>async Y=>new Uint8Array(await crypto.subtle.digest(se,Y)),hr$1=Ve({name:"sha2-256",code:18,encode:qe("SHA-256")}),cr$1=Ve({name:"sha2-512",code:19,encode:qe("SHA-512")});var ur=Object.freeze({__proto__:null,sha256:hr$1,sha512:cr$1});const je=0,lr$1="identity",Ge=Ne,dr=se=>ce$1(je,Ge(se)),gr={code:je,name:lr$1,encode:Ge,digest:dr};var pr=Object.freeze({__proto__:null,identity:gr});new TextEncoder,new TextDecoder;const Ye={...os,...hs$1,...us$1,...ds$1,...Ds,...Rs,...Ss,...Os,...Ls,...Bs};({...ur,...pr});function He(se){return globalThis.Buffer!=null?new Uint8Array(se.buffer,se.byteOffset,se.byteLength):se}function Dr(se=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?He(globalThis.Buffer.allocUnsafe(se)):new Uint8Array(se)}function Je(se,Y,ne,fe){return{name:se,prefix:Y,encoder:{name:se,prefix:Y,encode:ne},decoder:{decode:fe}}}const Xe=Je("utf8","u",se=>"u"+new TextDecoder("utf8").decode(se),se=>new TextEncoder().encode(se.substring(1))),ue$1=Je("ascii","a",se=>{let Y="a";for(let ne=0;ne<se.length;ne++)Y+=String.fromCharCode(se[ne]);return Y},se=>{se=se.substring(1);const Y=Dr(se.length);for(let ne=0;ne<se.length;ne++)Y[ne]=se.charCodeAt(ne);return Y}),yr={utf8:Xe,"utf-8":Xe,hex:Ye.base16,latin1:ue$1,ascii:ue$1,binary:ue$1,...Ye};function mr(se,Y="utf8"){const ne=yr[Y];if(!ne)throw new Error(`Unsupported encoding "${Y}"`);return(Y==="utf8"||Y==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?He(globalThis.Buffer.from(se,"utf-8")):ne.decoder.decode(`${ne.prefix}${se}`)}const le$1="wc",We=2,Q$2="core",O$3=`${le$1}@2:${Q$2}:`,Qe={name:Q$2,logger:"error"},Ze={database:":memory:"},et="crypto",de$1="client_ed25519_seed",tt=cjsExports$4.ONE_DAY,it="keychain",st="0.3",rt="messages",nt="0.3",ot=cjsExports$4.SIX_HOURS,at="publisher",ht="irn",ct="error",ge$2="wss://relay.walletconnect.com",pe$1="wss://relay.walletconnect.org",ut$1="relayer",D$4={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lt="_subscription",P$4={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dt=cjsExports$4.ONE_SECOND,gt="2.11.1",pt=1e4,Dt="0.3",yt="WALLETCONNECT_CLIENT_ID",w$3={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},mt="subscription",bt="0.3",ft$1=cjsExports$4.FIVE_SECONDS*1e3,Et="pairing",wt="0.3",$$2={wc_pairingDelete:{req:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjsExports$4.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjsExports$4.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:0}}},V$1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},R$1={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},vt="history",It="0.3",Ct$1="expirer",v$4={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Rt="0.3",Z="verify-api",F$3="https://verify.walletconnect.com",ee="https://verify.walletconnect.org",_t=[F$3,ee],Tt="echo",St="https://echo.walletconnect.com";class Pt{constructor(Y,ne){this.core=Y,this.logger=ne,this.keychain=new Map,this.name=it,this.version=st,this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{if(!this.initialized){const fe=await this.getKeyChain();typeof fe<"u"&&(this.keychain=fe),this.initialized=!0}},this.has=fe=>(this.isInitialized(),this.keychain.has(fe)),this.set=async(fe,ye)=>{this.isInitialized(),this.keychain.set(fe,ye),await this.persist()},this.get=fe=>{this.isInitialized();const ye=this.keychain.get(fe);if(typeof ye>"u"){const{message:me}=N$3("NO_MATCHING_KEY",`${this.name}: ${fe}`);throw new Error(me)}return ye},this.del=async fe=>{this.isInitialized(),this.keychain.delete(fe),await this.persist()},this.core=Y,this.logger=E$4(ne,this.name)}get context(){return y$4(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(Y){await this.core.storage.setItem(this.storageKey,rt$1(Y))}async getKeyChain(){const Y=await this.core.storage.getItem(this.storageKey);return typeof Y<"u"?ot$1(Y):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}}class xt{constructor(Y,ne,fe){this.core=Y,this.logger=ne,this.name=et,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=ye=>(this.isInitialized(),this.keychain.has(ye)),this.getClientId=async()=>{this.isInitialized();const ye=await this.getClientSeed(),me=generateKeyPair(ye);return encodeIss(me.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const ye=kn();return this.setPrivateKey(ye.publicKey,ye.privateKey)},this.signJWT=async ye=>{this.isInitialized();const me=await this.getClientSeed(),be=generateKeyPair(me),we=Vn$1();return await signJWT(we,ye,tt,be)},this.generateSharedKey=(ye,me,be)=>{this.isInitialized();const we=this.getPrivateKey(ye),Ee=Mn(we,me);return this.setSymKey(Ee,be)},this.setSymKey=async(ye,me)=>{this.isInitialized();const be=me||Kn(ye);return await this.keychain.set(be,ye),be},this.deleteKeyPair=async ye=>{this.isInitialized(),await this.keychain.del(ye)},this.deleteSymKey=async ye=>{this.isInitialized(),await this.keychain.del(ye)},this.encode=async(ye,me,be)=>{this.isInitialized();const we=Ae(be),Ee=safeJsonStringify(me);if(qn(we)){const fr=we.senderPublicKey,br=we.receiverPublicKey;ye=await this.generateSharedKey(fr,br)}const xe=this.getSymKey(ye),{type:Se,senderPublicKey:Ie}=we;return xn({type:Se,symKey:xe,message:Ee,senderPublicKey:Ie})},this.decode=async(ye,me,be)=>{this.isInitialized();const we=Hn(me,be);if(qn(we)){const Ee=we.receiverPublicKey,xe=we.senderPublicKey;ye=await this.generateSharedKey(Ee,xe)}try{const Ee=this.getSymKey(ye),xe=Fn({symKey:Ee,encoded:me});return safeJsonParse(xe)}catch(Ee){this.logger.error(`Failed to decode message from topic: '${ye}', clientId: '${await this.getClientId()}'`),this.logger.error(Ee)}},this.getPayloadType=ye=>{const me=ee$1(ye);return j$5(me.type)},this.getPayloadSenderPublicKey=ye=>{const me=ee$1(ye);return me.senderPublicKey?toString$1(me.senderPublicKey,p$6):void 0},this.core=Y,this.logger=E$4(ne,this.name),this.keychain=fe||new Pt(this.core,this.logger)}get context(){return y$4(this.logger)}async setPrivateKey(Y,ne){return await this.keychain.set(Y,ne),Y}getPrivateKey(Y){return this.keychain.get(Y)}async getClientSeed(){let Y="";try{Y=this.keychain.get(de$1)}catch{Y=Vn$1(),await this.keychain.set(de$1,Y)}return mr(Y,"base16")}getSymKey(Y){return this.keychain.get(Y)}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}}class Ot extends a$3{constructor(Y,ne){super(Y,ne),this.logger=Y,this.core=ne,this.messages=new Map,this.name=rt,this.version=nt,this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const fe=await this.getRelayerMessages();typeof fe<"u"&&(this.messages=fe),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(fe){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(fe)}finally{this.initialized=!0}}},this.set=async(fe,ye)=>{this.isInitialized();const me=Ln(ye);let be=this.messages.get(fe);return typeof be>"u"&&(be={}),typeof be[me]<"u"||(be[me]=ye,this.messages.set(fe,be),await this.persist()),me},this.get=fe=>{this.isInitialized();let ye=this.messages.get(fe);return typeof ye>"u"&&(ye={}),ye},this.has=(fe,ye)=>{this.isInitialized();const me=this.get(fe),be=Ln(ye);return typeof me[be]<"u"},this.del=async fe=>{this.isInitialized(),this.messages.delete(fe),await this.persist()},this.logger=E$4(Y,this.name),this.core=ne}get context(){return y$4(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(Y){await this.core.storage.setItem(this.storageKey,rt$1(Y))}async getRelayerMessages(){const Y=await this.core.storage.getItem(this.storageKey);return typeof Y<"u"?ot$1(Y):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}}class vr extends u$3{constructor(Y,ne){super(Y,ne),this.relayer=Y,this.logger=ne,this.events=new eventsExports.EventEmitter,this.name=at,this.queue=new Map,this.publishTimeout=cjsExports$4.toMiliseconds(cjsExports$4.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(fe,ye,me)=>{var be;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:fe,message:ye,opts:me}});try{const we=(me==null?void 0:me.ttl)||ot,Ee=vt$1(me),xe=(me==null?void 0:me.prompt)||!1,Se=(me==null?void 0:me.tag)||0,Ie=(me==null?void 0:me.id)||getBigIntRpcId().toString(),fr={topic:fe,message:ye,opts:{ttl:we,relay:Ee,prompt:xe,tag:Se,id:Ie}},br=setTimeout(()=>this.queue.set(Ie,fr),this.publishTimeout);try{await await ut$2(this.rpcPublish(fe,ye,we,Ee,xe,Se,Ie),this.publishTimeout,`Failed to publish payload, please try again. id:${Ie} tag:${Se}`),this.removeRequestFromQueue(Ie),this.relayer.events.emit(D$4.publish,fr)}catch(kr){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(be=me==null?void 0:me.internal)!=null&&be.throwOnFailedPublish)throw this.removeRequestFromQueue(Ie),kr;return}finally{clearTimeout(br)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:fe,message:ye,opts:me}})}catch(we){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(we),we}},this.on=(fe,ye)=>{this.events.on(fe,ye)},this.once=(fe,ye)=>{this.events.once(fe,ye)},this.off=(fe,ye)=>{this.events.off(fe,ye)},this.removeListener=(fe,ye)=>{this.events.removeListener(fe,ye)},this.relayer=Y,this.logger=E$4(ne,this.name),this.registerEventListeners()}get context(){return y$4(this.logger)}rpcPublish(Y,ne,fe,ye,me,be,we){var Ee,xe,Se,Ie;const fr={method:Et$1(ye.protocol).publish,params:{topic:Y,message:ne,ttl:fe,prompt:me,tag:be},id:we};return w$7((Ee=fr.params)==null?void 0:Ee.prompt)&&((xe=fr.params)==null||delete xe.prompt),w$7((Se=fr.params)==null?void 0:Se.tag)&&((Ie=fr.params)==null||delete Ie.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:fr}),this.relayer.request(fr)}removeRequestFromQueue(Y){this.queue.delete(Y)}checkQueue(){this.queue.forEach(async Y=>{const{topic:ne,message:fe,opts:ye}=Y;await this.publish(ne,fe,ye)})}registerEventListeners(){this.relayer.core.heartbeat.on(cjsExports$1.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(D$4.connection_stalled);return}this.checkQueue()}),this.relayer.on(D$4.message_ack,Y=>{this.removeRequestFromQueue(Y.id.toString())})}}class Ir{constructor(){this.map=new Map,this.set=(Y,ne)=>{const fe=this.get(Y);this.exists(Y,ne)||this.map.set(Y,[...fe,ne])},this.get=Y=>this.map.get(Y)||[],this.exists=(Y,ne)=>this.get(Y).includes(ne),this.delete=(Y,ne)=>{if(typeof ne>"u"){this.map.delete(Y);return}if(!this.map.has(Y))return;const fe=this.get(Y);if(!this.exists(Y,ne))return;const ye=fe.filter(me=>me!==ne);if(!ye.length){this.map.delete(Y);return}this.map.set(Y,ye)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Cr=Object.defineProperty,Rr=Object.defineProperties,_r=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable,zt=(se,Y,ne)=>Y in se?Cr(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,q$3=(se,Y)=>{for(var ne in Y||(Y={}))Tr.call(Y,ne)&&zt(se,ne,Y[ne]);if(At)for(var ne of At(Y))Sr.call(Y,ne)&&zt(se,ne,Y[ne]);return se},De=(se,Y)=>Rr(se,_r(Y));class Nt extends d$3{constructor(Y,ne){super(Y,ne),this.relayer=Y,this.logger=ne,this.subscriptions=new Map,this.topicMap=new Ir,this.events=new eventsExports.EventEmitter,this.name=mt,this.version=bt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=O$3,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(fe,ye)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:fe,opts:ye}});try{const me=vt$1(ye),be={topic:fe,relay:me};this.pending.set(fe,be);const we=await this.rpcSubscribe(fe,me);return this.onSubscribe(we,be),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:fe,opts:ye}}),we}catch(me){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(me),me}},this.unsubscribe=async(fe,ye)=>{await this.restartToComplete(),this.isInitialized(),typeof(ye==null?void 0:ye.id)<"u"?await this.unsubscribeById(fe,ye.id,ye):await this.unsubscribeByTopic(fe,ye)},this.isSubscribed=async fe=>{if(this.topics.includes(fe))return!0;const ye=`${this.pendingSubscriptionWatchLabel}_${fe}`;return await new Promise((me,be)=>{const we=new cjsExports$4.Watch;we.start(ye);const Ee=setInterval(()=>{!this.pending.has(fe)&&this.topics.includes(fe)&&(clearInterval(Ee),we.stop(ye),me(!0)),we.elapsed(ye)>=ft$1&&(clearInterval(Ee),we.stop(ye),be(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(fe,ye)=>{this.events.on(fe,ye)},this.once=(fe,ye)=>{this.events.once(fe,ye)},this.off=(fe,ye)=>{this.events.off(fe,ye)},this.removeListener=(fe,ye)=>{this.events.removeListener(fe,ye)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=Y,this.logger=E$4(ne,this.name),this.clientId=""}get context(){return y$4(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(Y,ne){let fe=!1;try{fe=this.getSubscription(Y).topic===ne}catch{}return fe}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(Y,ne){const fe=this.topicMap.get(Y);await Promise.all(fe.map(async ye=>await this.unsubscribeById(Y,ye,ne)))}async unsubscribeById(Y,ne,fe){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:Y,id:ne,opts:fe}});try{const ye=vt$1(fe);await this.rpcUnsubscribe(Y,ne,ye);const me=U$2("USER_DISCONNECTED",`${this.name}, ${Y}`);await this.onUnsubscribe(Y,ne,me),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:Y,id:ne,opts:fe}})}catch(ye){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(ye),ye}}async rpcSubscribe(Y,ne){const fe={method:Et$1(ne.protocol).subscribe,params:{topic:Y}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:fe});try{await await ut$2(this.relayer.request(fe),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(D$4.connection_stalled)}return Ln(Y+this.clientId)}async rpcBatchSubscribe(Y){if(!Y.length)return;const ne=Y[0].relay,fe={method:Et$1(ne.protocol).batchSubscribe,params:{topics:Y.map(ye=>ye.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:fe});try{return await await ut$2(this.relayer.request(fe),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(D$4.connection_stalled)}}rpcUnsubscribe(Y,ne,fe){const ye={method:Et$1(fe.protocol).unsubscribe,params:{topic:Y,id:ne}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ye}),this.relayer.request(ye)}onSubscribe(Y,ne){this.setSubscription(Y,De(q$3({},ne),{id:Y})),this.pending.delete(ne.topic)}onBatchSubscribe(Y){Y.length&&Y.forEach(ne=>{this.setSubscription(ne.id,q$3({},ne)),this.pending.delete(ne.topic)})}async onUnsubscribe(Y,ne,fe){this.events.removeAllListeners(ne),this.hasSubscription(ne,Y)&&this.deleteSubscription(ne,fe),await this.relayer.messages.del(Y)}async setRelayerSubscriptions(Y){await this.relayer.core.storage.setItem(this.storageKey,Y)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(Y,ne){this.subscriptions.has(Y)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:Y,subscription:ne}),this.addSubscription(Y,ne))}addSubscription(Y,ne){this.subscriptions.set(Y,q$3({},ne)),this.topicMap.set(ne.topic,Y),this.events.emit(w$3.created,ne)}getSubscription(Y){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:Y});const ne=this.subscriptions.get(Y);if(!ne){const{message:fe}=N$3("NO_MATCHING_KEY",`${this.name}: ${Y}`);throw new Error(fe)}return ne}deleteSubscription(Y,ne){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:Y,reason:ne});const fe=this.getSubscription(Y);this.subscriptions.delete(Y),this.topicMap.delete(fe.topic,Y),this.events.emit(w$3.deleted,De(q$3({},fe),{reason:ne}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(w$3.sync)}async reset(){if(this.cached.length){const Y=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let ne=0;ne<Y;ne++){const fe=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(fe)}}this.events.emit(w$3.resubscribed)}async restore(){try{const Y=await this.getRelayerSubscriptions();if(typeof Y>"u"||!Y.length)return;if(this.subscriptions.size){const{message:ne}=N$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ne),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(ne)}this.cached=Y,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(Y){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(Y)}}async batchSubscribe(Y){if(!Y.length)return;const ne=await this.rpcBatchSubscribe(Y);k$4(ne)&&this.onBatchSubscribe(ne.map((fe,ye)=>De(q$3({},Y[ye]),{id:fe})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const Y=[];this.pending.forEach(ne=>{Y.push(ne)}),await this.batchSubscribe(Y)}registerEventListeners(){this.relayer.core.heartbeat.on(cjsExports$1.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(D$4.connect,async()=>{await this.onConnect()}),this.relayer.on(D$4.disconnect,()=>{this.onDisconnect()}),this.events.on(w$3.created,async Y=>{const ne=w$3.created;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,data:Y}),await this.persist()}),this.events.on(w$3.deleted,async Y=>{const ne=w$3.deleted;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,data:Y}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}async restartToComplete(){this.restartInProgress&&await new Promise(Y=>{const ne=setInterval(()=>{this.restartInProgress||(clearInterval(ne),Y())},this.pollingInterval)})}}var Pr=Object.defineProperty,Ut=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,Lt=(se,Y,ne)=>Y in se?Pr(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,Ar=(se,Y)=>{for(var ne in Y)xr.call(Y,ne)&&Lt(se,ne,Y[ne]);if(Ut)for(var ne of Ut(Y))Or.call(Y,ne)&&Lt(se,ne,Y[ne]);return se};class $t extends g$6{constructor(Y){super(Y),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=ut$1,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async ne=>{this.logger.debug("Publishing Request Payload");const fe=ne.id,ye=this.provider.request(ne);this.requestsInFlight.set(fe,{promise:ye,request:ne});try{return await this.toEstablishConnection(),await ye}catch(me){throw this.logger.debug("Failed to Publish Request"),this.logger.error(me),me}finally{this.requestsInFlight.delete(fe)}},this.onPayloadHandler=ne=>{this.onProviderPayload(ne)},this.onConnectHandler=()=>{this.events.emit(D$4.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=ne=>{this.logger.error(ne),this.events.emit(D$4.error,ne),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(P$4.payload,this.onPayloadHandler),this.provider.on(P$4.connect,this.onConnectHandler),this.provider.on(P$4.disconnect,this.onDisconnectHandler),this.provider.on(P$4.error,this.onProviderErrorHandler)},this.core=Y.core,this.logger=typeof Y.logger<"u"&&typeof Y.logger!="string"?E$4(Y.logger,this.name):Hg(k$2({level:Y.logger||ct})),this.messages=new Ot(this.logger,Y.core),this.subscriber=new Nt(this,this.logger),this.publisher=new vr(this,this.logger),this.relayUrl=(Y==null?void 0:Y.relayUrl)||ge$2,this.projectId=Y.projectId,this.bundleId=Jn(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${pe$1}...`),await this.restartTransport(pe$1)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},pt)}get context(){return y$4(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(Y,ne,fe){this.isInitialized(),await this.publisher.publish(Y,ne,fe),await this.recordMessageEvent({topic:Y,message:ne,publishedAt:Date.now()})}async subscribe(Y,ne){var fe;this.isInitialized();let ye=((fe=this.subscriber.topicMap.get(Y))==null?void 0:fe[0])||"";if(ye)return ye;let me;const be=we=>{we.topic===Y&&(this.subscriber.off(w$3.created,be),me())};return await Promise.all([new Promise(we=>{me=we,this.subscriber.on(w$3.created,be)}),new Promise(async we=>{ye=await this.subscriber.subscribe(Y,ne),we()})]),ye}async unsubscribe(Y,ne){this.isInitialized(),await this.subscriber.unsubscribe(Y,ne)}on(Y,ne){this.events.on(Y,ne)}once(Y,ne){this.events.once(Y,ne)}off(Y,ne){this.events.off(Y,ne)}removeListener(Y,ne){this.events.removeListener(Y,ne)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async Y=>{await Y.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await ut$2(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(Y){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){Y&&Y!==this.relayUrl&&(this.relayUrl=Y,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(ne=>{if(!this.initialized)return ne();this.subscriber.once(w$3.resubscribed,()=>{ne()})}),new Promise(async(ne,fe)=>{try{await ut$2(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(ye){fe(ye);return}ne()})])}catch(ne){this.logger.error(ne);const fe=ne;if(!this.isConnectionStalled(fe.message))throw ne;this.provider.events.emit(P$4.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(Y){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=Y||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await rr$1())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(Y){return this.staleConnectionErrors.some(ne=>Y.includes(ne))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const Y=await this.core.crypto.signJWT(this.relayUrl);this.provider=new JsonRpcProvider$1(new f$4(Xn({sdkVersion:gt,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:Y,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(Y){const{topic:ne,message:fe}=Y;await this.messages.set(ne,fe)}async shouldIgnoreMessageEvent(Y){const{topic:ne,message:fe}=Y;if(!fe||fe.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${fe}`),!0;if(!await this.subscriber.isSubscribed(ne))return this.logger.debug(`Ignoring message for non-subscribed topic ${ne}`),!0;const ye=this.messages.has(ne,fe);return ye&&this.logger.debug(`Ignoring duplicate message: ${fe}`),ye}async onProviderPayload(Y){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:Y}),isJsonRpcRequest(Y)){if(!Y.method.endsWith(lt))return;const ne=Y.params,{topic:fe,message:ye,publishedAt:me}=ne.data,be={topic:fe,message:ye,publishedAt:me};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ar({type:"event",event:ne.id},be)),this.events.emit(ne.id,be),await this.acknowledgePayload(Y),await this.onMessageEvent(be)}else isJsonRpcResponse(Y)&&this.events.emit(D$4.message_ack,Y)}async onMessageEvent(Y){await this.shouldIgnoreMessageEvent(Y)||(this.events.emit(D$4.message,Y),await this.recordMessageEvent(Y))}async acknowledgePayload(Y){const ne=formatJsonRpcResult(Y.id,!0);await this.provider.connection.send(ne)}unregisterProviderListeners(){this.provider.off(P$4.payload,this.onPayloadHandler),this.provider.off(P$4.connect,this.onConnectHandler),this.provider.off(P$4.disconnect,this.onDisconnectHandler),this.provider.off(P$4.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(D$4.connection_stalled,()=>{this.restartTransport().catch(ne=>this.logger.error(ne))});let Y=await rr$1();or$1(async ne=>{this.initialized&&Y!==ne&&(Y=ne,ne?await this.restartTransport().catch(fe=>this.logger.error(fe)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(fe=>this.logger.error(fe))))})}onProviderDisconnect(){this.events.emit(D$4.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(Y=>this.logger.error(Y))},cjsExports$4.toMiliseconds(dt)))}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(Y=>{const ne=setInterval(()=>{this.connected&&(clearInterval(ne),Y())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var zr=Object.defineProperty,Ft=Object.getOwnPropertySymbols,Nr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Mt=(se,Y,ne)=>Y in se?zr(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,kt=(se,Y)=>{for(var ne in Y||(Y={}))Nr.call(Y,ne)&&Mt(se,ne,Y[ne]);if(Ft)for(var ne of Ft(Y))Ur.call(Y,ne)&&Mt(se,ne,Y[ne]);return se};class Kt extends p$4{constructor(Y,ne,fe,ye=O$3,me=void 0){super(Y,ne,fe,ye),this.core=Y,this.logger=ne,this.name=fe,this.map=new Map,this.version=Dt,this.cached=[],this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(be=>{this.getKey&&be!==null&&!w$7(be)?this.map.set(this.getKey(be),be):Lt$1(be)?this.map.set(be.id,be):xt$1(be)&&this.map.set(be.topic,be)}),this.cached=[],this.initialized=!0)},this.set=async(be,we)=>{this.isInitialized(),this.map.has(be)?await this.update(be,we):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:be,value:we}),this.map.set(be,we),await this.persist())},this.get=be=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:be}),this.getData(be)),this.getAll=be=>(this.isInitialized(),be?this.values.filter(we=>Object.keys(be).every(Ee=>Gi(we[Ee],be[Ee]))):this.values),this.update=async(be,we)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:be,update:we});const Ee=kt(kt({},this.getData(be)),we);this.map.set(be,Ee),await this.persist()},this.delete=async(be,we)=>{this.isInitialized(),this.map.has(be)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:be,reason:we}),this.map.delete(be),await this.persist())},this.logger=E$4(ne,this.name),this.storagePrefix=ye,this.getKey=me}get context(){return y$4(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(Y){await this.core.storage.setItem(this.storageKey,Y)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(Y){const ne=this.map.get(Y);if(!ne){const{message:fe}=N$3("NO_MATCHING_KEY",`${this.name}: ${Y}`);throw this.logger.error(fe),new Error(fe)}return ne}async persist(){await this.setDataStore(this.values)}async restore(){try{const Y=await this.getDataStore();if(typeof Y>"u"||!Y.length)return;if(this.map.size){const{message:ne}=N$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ne),new Error(ne)}this.cached=Y,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(Y){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(Y)}}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}}class Bt{constructor(Y,ne){this.core=Y,this.logger=ne,this.name=Et,this.version=wt,this.events=new Ug,this.initialized=!1,this.storagePrefix=O$3,this.ignoredPayloadTypes=[_$5],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:fe})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...fe])]},this.create=async()=>{this.isInitialized();const fe=Vn$1(),ye=await this.core.crypto.setSymKey(fe),me=pt$1(cjsExports$4.FIVE_MINUTES),be={protocol:ht},we={topic:ye,expiry:me,relay:be,active:!1},Ee=Rt$1({protocol:this.core.protocol,version:this.core.version,topic:ye,symKey:fe,relay:be,expiryTimestamp:me});return await this.pairings.set(ye,we),await this.core.relayer.subscribe(ye),this.core.expirer.set(ye,me),{topic:ye,uri:Ee}},this.pair=async fe=>{this.isInitialized(),this.isValidPair(fe);const{topic:ye,symKey:me,relay:be,expiryTimestamp:we}=Pt$1(fe.uri);let Ee;if(this.pairings.keys.includes(ye)&&(Ee=this.pairings.get(ye),Ee.active))throw new Error(`Pairing already exists: ${ye}. Please try again with a new connection URI.`);const xe=we||pt$1(cjsExports$4.FIVE_MINUTES),Se={topic:ye,relay:be,expiry:xe,active:!1};return await this.pairings.set(ye,Se),this.core.expirer.set(ye,xe),fe.activatePairing&&await this.activate({topic:ye}),this.events.emit(V$1.create,Se),this.core.crypto.keychain.has(ye)||(await this.core.crypto.setSymKey(me,ye),await this.core.relayer.subscribe(ye,{relay:be})),Se},this.activate=async({topic:fe})=>{this.isInitialized();const ye=pt$1(cjsExports$4.THIRTY_DAYS);await this.pairings.update(fe,{active:!0,expiry:ye}),this.core.expirer.set(fe,ye)},this.ping=async fe=>{this.isInitialized(),await this.isValidPing(fe);const{topic:ye}=fe;if(this.pairings.keys.includes(ye)){const me=await this.sendRequest(ye,"wc_pairingPing",{}),{done:be,resolve:we,reject:Ee}=at$1();this.events.once(yt$1("pairing_ping",me),({error:xe})=>{xe?Ee(xe):we()}),await be()}},this.updateExpiry=async({topic:fe,expiry:ye})=>{this.isInitialized(),await this.pairings.update(fe,{expiry:ye})},this.updateMetadata=async({topic:fe,metadata:ye})=>{this.isInitialized(),await this.pairings.update(fe,{peerMetadata:ye})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async fe=>{this.isInitialized(),await this.isValidDisconnect(fe);const{topic:ye}=fe;this.pairings.keys.includes(ye)&&(await this.sendRequest(ye,"wc_pairingDelete",U$2("USER_DISCONNECTED")),await this.deletePairing(ye))},this.sendRequest=async(fe,ye,me)=>{const be=formatJsonRpcRequest(ye,me),we=await this.core.crypto.encode(fe,be),Ee=$$2[ye].req;return this.core.history.set(fe,be),this.core.relayer.publish(fe,we,Ee),be.id},this.sendResult=async(fe,ye,me)=>{const be=formatJsonRpcResult(fe,me),we=await this.core.crypto.encode(ye,be),Ee=await this.core.history.get(ye,fe),xe=$$2[Ee.request.method].res;await this.core.relayer.publish(ye,we,xe),await this.core.history.resolve(be)},this.sendError=async(fe,ye,me)=>{const be=formatJsonRpcError(fe,me),we=await this.core.crypto.encode(ye,be),Ee=await this.core.history.get(ye,fe),xe=$$2[Ee.request.method]?$$2[Ee.request.method].res:$$2.unregistered_method.res;await this.core.relayer.publish(ye,we,xe),await this.core.history.resolve(be)},this.deletePairing=async(fe,ye)=>{await this.core.relayer.unsubscribe(fe),await Promise.all([this.pairings.delete(fe,U$2("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(fe),ye?Promise.resolve():this.core.expirer.del(fe)])},this.cleanup=async()=>{const fe=this.pairings.getAll().filter(ye=>mt$1(ye.expiry));await Promise.all(fe.map(ye=>this.deletePairing(ye.topic)))},this.onRelayEventRequest=fe=>{const{topic:ye,payload:me}=fe;switch(me.method){case"wc_pairingPing":return this.onPairingPingRequest(ye,me);case"wc_pairingDelete":return this.onPairingDeleteRequest(ye,me);default:return this.onUnknownRpcMethodRequest(ye,me)}},this.onRelayEventResponse=async fe=>{const{topic:ye,payload:me}=fe,be=(await this.core.history.get(ye,me.id)).request.method;switch(be){case"wc_pairingPing":return this.onPairingPingResponse(ye,me);default:return this.onUnknownRpcMethodResponse(be)}},this.onPairingPingRequest=async(fe,ye)=>{const{id:me}=ye;try{this.isValidPing({topic:fe}),await this.sendResult(me,fe,!0),this.events.emit(V$1.ping,{id:me,topic:fe})}catch(be){await this.sendError(me,fe,be),this.logger.error(be)}},this.onPairingPingResponse=(fe,ye)=>{const{id:me}=ye;setTimeout(()=>{isJsonRpcResult(ye)?this.events.emit(yt$1("pairing_ping",me),{}):isJsonRpcError(ye)&&this.events.emit(yt$1("pairing_ping",me),{error:ye.error})},500)},this.onPairingDeleteRequest=async(fe,ye)=>{const{id:me}=ye;try{this.isValidDisconnect({topic:fe}),await this.deletePairing(fe),this.events.emit(V$1.delete,{id:me,topic:fe})}catch(be){await this.sendError(me,fe,be),this.logger.error(be)}},this.onUnknownRpcMethodRequest=async(fe,ye)=>{const{id:me,method:be}=ye;try{if(this.registeredMethods.includes(be))return;const we=U$2("WC_METHOD_UNSUPPORTED",be);await this.sendError(me,fe,we),this.logger.error(we)}catch(we){await this.sendError(me,fe,we),this.logger.error(we)}},this.onUnknownRpcMethodResponse=fe=>{this.registeredMethods.includes(fe)||this.logger.error(U$2("WC_METHOD_UNSUPPORTED",fe))},this.isValidPair=fe=>{var ye;if(!Gt$1(fe)){const{message:be}=N$3("MISSING_OR_INVALID",`pair() params: ${fe}`);throw new Error(be)}if(!Kt$1(fe.uri)){const{message:be}=N$3("MISSING_OR_INVALID",`pair() uri: ${fe.uri}`);throw new Error(be)}const me=Pt$1(fe.uri);if(!((ye=me==null?void 0:me.relay)!=null&&ye.protocol)){const{message:be}=N$3("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(be)}if(!(me!=null&&me.symKey)){const{message:be}=N$3("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(be)}if(me!=null&&me.expiryTimestamp&&cjsExports$4.toMiliseconds(me==null?void 0:me.expiryTimestamp)<Date.now()){const{message:be}=N$3("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(be)}},this.isValidPing=async fe=>{if(!Gt$1(fe)){const{message:me}=N$3("MISSING_OR_INVALID",`ping() params: ${fe}`);throw new Error(me)}const{topic:ye}=fe;await this.isValidPairingTopic(ye)},this.isValidDisconnect=async fe=>{if(!Gt$1(fe)){const{message:me}=N$3("MISSING_OR_INVALID",`disconnect() params: ${fe}`);throw new Error(me)}const{topic:ye}=fe;await this.isValidPairingTopic(ye)},this.isValidPairingTopic=async fe=>{if(!g$8(fe,!1)){const{message:ye}=N$3("MISSING_OR_INVALID",`pairing topic should be a string: ${fe}`);throw new Error(ye)}if(!this.pairings.keys.includes(fe)){const{message:ye}=N$3("NO_MATCHING_KEY",`pairing topic doesn't exist: ${fe}`);throw new Error(ye)}if(mt$1(this.pairings.get(fe).expiry)){await this.deletePairing(fe);const{message:ye}=N$3("EXPIRED",`pairing topic: ${fe}`);throw new Error(ye)}},this.core=Y,this.logger=E$4(ne,this.name),this.pairings=new Kt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$4(this.logger)}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}registerRelayerEvents(){this.core.relayer.on(D$4.message,async Y=>{const{topic:ne,message:fe}=Y;if(!this.pairings.keys.includes(ne)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(fe)))return;const ye=await this.core.crypto.decode(ne,fe);try{isJsonRpcRequest(ye)?(this.core.history.set(ne,ye),this.onRelayEventRequest({topic:ne,payload:ye})):isJsonRpcResponse(ye)&&(await this.core.history.resolve(ye),await this.onRelayEventResponse({topic:ne,payload:ye}),this.core.history.delete(ne,ye.id))}catch(me){this.logger.error(me)}})}registerExpirerEvents(){this.core.expirer.on(v$4.expired,async Y=>{const{topic:ne}=ft$2(Y.target);ne&&this.pairings.keys.includes(ne)&&(await this.deletePairing(ne,!0),this.events.emit(V$1.expire,{topic:ne}))})}}class Vt extends h$3{constructor(Y,ne){super(Y,ne),this.core=Y,this.logger=ne,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=vt,this.version=It,this.cached=[],this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(fe=>this.records.set(fe.id,fe)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(fe,ye,me)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:fe,request:ye,chainId:me}),this.records.has(ye.id))return;const be={id:ye.id,topic:fe,request:{method:ye.method,params:ye.params||null},chainId:me,expiry:pt$1(cjsExports$4.THIRTY_DAYS)};this.records.set(be.id,be),this.events.emit(R$1.created,be)},this.resolve=async fe=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:fe}),!this.records.has(fe.id))return;const ye=await this.getRecord(fe.id);typeof ye.response>"u"&&(ye.response=isJsonRpcError(fe)?{error:fe.error}:{result:fe.result},this.records.set(ye.id,ye),this.events.emit(R$1.updated,ye))},this.get=async(fe,ye)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:fe,id:ye}),await this.getRecord(ye)),this.delete=(fe,ye)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:ye}),this.values.forEach(me=>{if(me.topic===fe){if(typeof ye<"u"&&me.id!==ye)return;this.records.delete(me.id),this.events.emit(R$1.deleted,me)}})},this.exists=async(fe,ye)=>(this.isInitialized(),this.records.has(ye)?(await this.getRecord(ye)).topic===fe:!1),this.on=(fe,ye)=>{this.events.on(fe,ye)},this.once=(fe,ye)=>{this.events.once(fe,ye)},this.off=(fe,ye)=>{this.events.off(fe,ye)},this.removeListener=(fe,ye)=>{this.events.removeListener(fe,ye)},this.logger=E$4(ne,this.name)}get context(){return y$4(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const Y=[];return this.values.forEach(ne=>{if(typeof ne.response<"u")return;const fe={topic:ne.topic,request:formatJsonRpcRequest(ne.request.method,ne.request.params,ne.id),chainId:ne.chainId};return Y.push(fe)}),Y}async setJsonRpcRecords(Y){await this.core.storage.setItem(this.storageKey,Y)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(Y){this.isInitialized();const ne=this.records.get(Y);if(!ne){const{message:fe}=N$3("NO_MATCHING_KEY",`${this.name}: ${Y}`);throw new Error(fe)}return ne}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(R$1.sync)}async restore(){try{const Y=await this.getJsonRpcRecords();if(typeof Y>"u"||!Y.length)return;if(this.records.size){const{message:ne}=N$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ne),new Error(ne)}this.cached=Y,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(Y){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(Y)}}registerEventListeners(){this.events.on(R$1.created,Y=>{const ne=R$1.created;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,record:Y}),this.persist()}),this.events.on(R$1.updated,Y=>{const ne=R$1.updated;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,record:Y}),this.persist()}),this.events.on(R$1.deleted,Y=>{const ne=R$1.deleted;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,record:Y}),this.persist()}),this.core.heartbeat.on(cjsExports$1.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(Y=>{cjsExports$4.toMiliseconds(Y.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${Y.id}`),this.delete(Y.topic,Y.id))})}catch(Y){this.logger.warn(Y)}}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}}class qt extends E$3{constructor(Y,ne){super(Y,ne),this.core=Y,this.logger=ne,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=Ct$1,this.version=Rt,this.cached=[],this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(fe=>this.expirations.set(fe.target,fe)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=fe=>{try{const ye=this.formatTarget(fe);return typeof this.getExpiration(ye)<"u"}catch{return!1}},this.set=(fe,ye)=>{this.isInitialized();const me=this.formatTarget(fe),be={target:me,expiry:ye};this.expirations.set(me,be),this.checkExpiry(me,be),this.events.emit(v$4.created,{target:me,expiration:be})},this.get=fe=>{this.isInitialized();const ye=this.formatTarget(fe);return this.getExpiration(ye)},this.del=fe=>{if(this.isInitialized(),this.has(fe)){const ye=this.formatTarget(fe),me=this.getExpiration(ye);this.expirations.delete(ye),this.events.emit(v$4.deleted,{target:ye,expiration:me})}},this.on=(fe,ye)=>{this.events.on(fe,ye)},this.once=(fe,ye)=>{this.events.once(fe,ye)},this.off=(fe,ye)=>{this.events.off(fe,ye)},this.removeListener=(fe,ye)=>{this.events.removeListener(fe,ye)},this.logger=E$4(ne,this.name)}get context(){return y$4(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(Y){if(typeof Y=="string")return lt$1(Y);if(typeof Y=="number")return dt$1(Y);const{message:ne}=N$3("UNKNOWN_TYPE",`Target type: ${typeof Y}`);throw new Error(ne)}async setExpirations(Y){await this.core.storage.setItem(this.storageKey,Y)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(v$4.sync)}async restore(){try{const Y=await this.getExpirations();if(typeof Y>"u"||!Y.length)return;if(this.expirations.size){const{message:ne}=N$3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ne),new Error(ne)}this.cached=Y,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(Y){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(Y)}}getExpiration(Y){const ne=this.expirations.get(Y);if(!ne){const{message:fe}=N$3("NO_MATCHING_KEY",`${this.name}: ${Y}`);throw this.logger.error(fe),new Error(fe)}return ne}checkExpiry(Y,ne){const{expiry:fe}=ne;cjsExports$4.toMiliseconds(fe)-Date.now()<=0&&this.expire(Y,ne)}expire(Y,ne){this.expirations.delete(Y),this.events.emit(v$4.expired,{target:Y,expiration:ne})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((Y,ne)=>this.checkExpiry(ne,Y))}registerEventListeners(){this.core.heartbeat.on(cjsExports$1.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(v$4.created,Y=>{const ne=v$4.created;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,data:Y}),this.persist()}),this.events.on(v$4.expired,Y=>{const ne=v$4.expired;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,data:Y}),this.persist()}),this.events.on(v$4.deleted,Y=>{const ne=v$4.deleted;this.logger.info(`Emitting ${ne}`),this.logger.debug({type:"event",event:ne,data:Y}),this.persist()})}isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}}}class jt extends y$3{constructor(Y,ne){super(Y,ne),this.projectId=Y,this.logger=ne,this.name=Z,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async fe=>{if(this.verifyDisabled||$$3()||!D$6())return;const ye=this.getVerifyUrl(fe==null?void 0:fe.verifyUrl);this.verifyUrl!==ye&&this.removeIframe(),this.verifyUrl=ye;try{await this.createIframe()}catch(me){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(me)}if(!this.initialized){this.removeIframe(),this.verifyUrl=ee;try{await this.createIframe()}catch(me){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(me),this.verifyDisabled=!0}}},this.register=async fe=>{this.initialized?this.sendPost(fe.attestationId):(this.addToQueue(fe.attestationId),await this.init())},this.resolve=async fe=>{if(this.isDevEnv)return"";const ye=this.getVerifyUrl(fe==null?void 0:fe.verifyUrl);let me;try{me=await this.fetchAttestation(fe.attestationId,ye)}catch(be){this.logger.info(`failed to resolve attestation: ${fe.attestationId} from url: ${ye}`),this.logger.info(be),me=await this.fetchAttestation(fe.attestationId,ee)}return me},this.fetchAttestation=async(fe,ye)=>{this.logger.info(`resolving attestation: ${fe} from url: ${ye}`);const me=this.startAbortTimer(cjsExports$4.ONE_SECOND*2),be=await fetch(`${ye}/attestation/${fe}`,{signal:this.abortController.signal});return clearTimeout(me),be.status===200?await be.json():void 0},this.addToQueue=fe=>{this.queue.push(fe)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(fe=>this.sendPost(fe)),this.queue=[])},this.sendPost=fe=>{var ye;try{if(!this.iframe)return;(ye=this.iframe.contentWindow)==null||ye.postMessage(fe,"*"),this.logger.info(`postMessage sent: ${fe} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let fe;const ye=me=>{me.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",ye),fe())};await Promise.race([new Promise(me=>{if(document.getElementById(Z))return me();window.addEventListener("message",ye);const be=document.createElement("iframe");be.id=Z,be.src=`${this.verifyUrl}/${this.projectId}`,be.style.display="none",document.body.append(be),this.iframe=be,fe=me}),new Promise((me,be)=>setTimeout(()=>{window.removeEventListener("message",ye),be("verify iframe load timeout")},cjsExports$4.toMiliseconds(cjsExports$4.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=fe=>{let ye=fe||F$3;return _t.includes(ye)||(this.logger.info(`verify url: ${ye}, not included in trusted list, assigning default: ${F$3}`),ye=F$3),ye},this.logger=E$4(ne,this.name),this.verifyUrl=F$3,this.abortController=new AbortController,this.isDevEnv=te$1()&&define_process_env_default.IS_VITEST}get context(){return y$4(this.logger)}startAbortTimer(Y){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjsExports$4.toMiliseconds(Y))}}class Gt extends v$5{constructor(Y,ne){super(Y,ne),this.projectId=Y,this.logger=ne,this.context=Tt,this.registerDeviceToken=async fe=>{const{clientId:ye,token:me,notificationType:be,enableEncrypted:we=!1}=fe,Ee=`${St}/${this.projectId}/clients`;await Yi(Ee,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:ye,type:be,token:me,always_raw:we})})},this.logger=E$4(ne,this.context)}}var Lr=Object.defineProperty,Yt=Object.getOwnPropertySymbols,$r=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,Ht=(se,Y,ne)=>Y in se?Lr(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,Jt=(se,Y)=>{for(var ne in Y||(Y={}))$r.call(Y,ne)&&Ht(se,ne,Y[ne]);if(Yt)for(var ne of Yt(Y))Fr.call(Y,ne)&&Ht(se,ne,Y[ne]);return se};class te extends n$4{constructor(Y){super(Y),this.protocol=le$1,this.version=We,this.name=Q$2,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(fe,ye)=>this.events.on(fe,ye),this.once=(fe,ye)=>this.events.once(fe,ye),this.off=(fe,ye)=>this.events.off(fe,ye),this.removeListener=(fe,ye)=>this.events.removeListener(fe,ye),this.projectId=Y==null?void 0:Y.projectId,this.relayUrl=(Y==null?void 0:Y.relayUrl)||ge$2,this.customStoragePrefix=Y!=null&&Y.customStoragePrefix?`:${Y.customStoragePrefix}`:"";const ne=typeof(Y==null?void 0:Y.logger)<"u"&&typeof(Y==null?void 0:Y.logger)!="string"?Y.logger:Hg(k$2({level:(Y==null?void 0:Y.logger)||Qe.logger}));this.logger=E$4(ne,this.name),this.heartbeat=new cjsExports$1.HeartBeat,this.crypto=new xt(this,this.logger,Y==null?void 0:Y.keychain),this.history=new Vt(this,this.logger),this.expirer=new qt(this,this.logger),this.storage=Y!=null&&Y.storage?Y.storage:new h$4(Jt(Jt({},Ze),Y==null?void 0:Y.storageOptions)),this.relayer=new $t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Bt(this,this.logger),this.verify=new jt(this.projectId||"",this.logger),this.echoClient=new Gt(this.projectId||"",this.logger)}static async init(Y){const ne=new te(Y);await ne.initialize();const fe=await ne.crypto.getClientId();return await ne.storage.setItem(yt,fe),ne}get context(){return y$4(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(Y){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,Y),this.logger.error(Y.message),Y}}}const Mr=te,J$1="wc",F$2=2,X="client",G$1=`${J$1}@${F$2}:${X}:`,M$2={name:X,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},H$1="WALLETCONNECT_DEEPLINK_CHOICE",oe="proposal",ae="Proposal expired",ce="session",L$3=cjsExports$4.SEVEN_DAYS,le="engine",R={wc_sessionPropose:{req:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjsExports$4.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjsExports$4.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjsExports$4.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:cjsExports$4.THIRTY_SECONDS,prompt:!1,tag:1115}}},U$1={min:cjsExports$4.FIVE_MINUTES,max:cjsExports$4.SEVEN_DAYS},I$1={idle:"IDLE",active:"ACTIVE"},pe="request",he=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var as=Object.defineProperty,cs=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,ps=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable,ue=(se,Y,ne)=>Y in se?as(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,g$4=(se,Y)=>{for(var ne in Y||(Y={}))ps.call(Y,ne)&&ue(se,ne,Y[ne]);if(de)for(var ne of de(Y))hs.call(Y,ne)&&ue(se,ne,Y[ne]);return se},D$3=(se,Y)=>cs(se,ls(Y));class ds extends w$5{constructor(Y){super(Y),this.name=le,this.events=new Ug,this.initialized=!1,this.ignoredPayloadTypes=[_$5],this.requestQueue={state:I$1.idle,queue:[]},this.sessionRequestQueue={state:I$1.idle,queue:[]},this.requestQueueDelay=cjsExports$4.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(R)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjsExports$4.toMiliseconds(this.requestQueueDelay)))},this.connect=async ne=>{await this.isInitialized();const fe=D$3(g$4({},ne),{requiredNamespaces:ne.requiredNamespaces||{},optionalNamespaces:ne.optionalNamespaces||{}});await this.isValidConnect(fe);const{pairingTopic:ye,requiredNamespaces:me,optionalNamespaces:be,sessionProperties:we,relays:Ee}=fe;let xe=ye,Se,Ie=!1;if(xe&&(Ie=this.client.core.pairing.pairings.get(xe).active),!xe||!Ie){const{topic:En,uri:Rn}=await this.client.core.pairing.create();xe=En,Se=Rn}const fr=await this.client.core.crypto.generateKeyPair(),br=R.wc_sessionPropose.req.ttl||cjsExports$4.FIVE_MINUTES,kr=pt$1(br),Wr=g$4({requiredNamespaces:me,optionalNamespaces:be,relays:Ee??[{protocol:ht}],proposer:{publicKey:fr,metadata:this.client.metadata},expiryTimestamp:kr},we&&{sessionProperties:we}),{reject:Gr,resolve:jr,done:Qr}=at$1(br,ae);if(this.events.once(yt$1("session_connect"),async({error:En,session:Rn})=>{if(En)Gr(En);else if(Rn){Rn.self.publicKey=fr;const An=D$3(g$4({},Rn),{requiredNamespaces:Wr.requiredNamespaces,optionalNamespaces:Wr.optionalNamespaces});await this.client.session.set(Rn.topic,An),await this.setExpiry(Rn.topic,Rn.expiry),xe&&await this.client.core.pairing.updateMetadata({topic:xe,metadata:Rn.peer.metadata}),jr(An)}}),!xe){const{message:En}=N$3("NO_MATCHING_KEY",`connect() pairing topic: ${xe}`);throw new Error(En)}const wn=await this.sendRequest({topic:xe,method:"wc_sessionPropose",params:Wr,throwOnFailedPublish:!0});return await this.setProposal(wn,g$4({id:wn},Wr)),{uri:Se,approval:Qr}},this.pair=async ne=>(await this.isInitialized(),await this.client.core.pairing.pair(ne)),this.approve=async ne=>{await this.isInitialized(),await this.isValidApprove(ne);const{id:fe,relayProtocol:ye,namespaces:me,sessionProperties:be}=ne,we=this.client.proposal.get(fe);let{pairingTopic:Ee,proposer:xe,requiredNamespaces:Se,optionalNamespaces:Ie}=we;Ee=Ee||"";const fr=await this.client.core.crypto.generateKeyPair(),br=xe.publicKey,kr=await this.client.core.crypto.generateSharedKey(fr,br);Ee&&fe&&(await this.client.core.pairing.updateMetadata({topic:Ee,metadata:xe.metadata}),await this.sendResult({id:fe,topic:Ee,result:{relay:{protocol:ye??"irn"},responderPublicKey:fr}}),await this.client.proposal.delete(fe,U$2("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:Ee}));const Wr=g$4({relay:{protocol:ye??"irn"},namespaces:me,pairingTopic:Ee,controller:{publicKey:fr,metadata:this.client.metadata},expiry:pt$1(L$3)},be&&{sessionProperties:be});await this.client.core.relayer.subscribe(kr);const Gr=D$3(g$4({},Wr),{topic:kr,requiredNamespaces:Se,optionalNamespaces:Ie,pairingTopic:Ee,acknowledged:!1,self:Wr.controller,peer:{publicKey:xe.publicKey,metadata:xe.metadata},controller:fr});await this.client.session.set(kr,Gr);try{await this.sendRequest({topic:kr,method:"wc_sessionSettle",params:Wr,throwOnFailedPublish:!0})}catch(jr){throw this.client.logger.error(jr),this.client.session.delete(kr,U$2("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(kr),jr}return await this.setExpiry(kr,pt$1(L$3)),{topic:kr,acknowledged:()=>new Promise(jr=>setTimeout(()=>jr(this.client.session.get(kr)),500))}},this.reject=async ne=>{await this.isInitialized(),await this.isValidReject(ne);const{id:fe,reason:ye}=ne,{pairingTopic:me}=this.client.proposal.get(fe);me&&(await this.sendError(fe,me,ye),await this.client.proposal.delete(fe,U$2("USER_DISCONNECTED")))},this.update=async ne=>{await this.isInitialized(),await this.isValidUpdate(ne);const{topic:fe,namespaces:ye}=ne,me=await this.sendRequest({topic:fe,method:"wc_sessionUpdate",params:{namespaces:ye}}),{done:be,resolve:we,reject:Ee}=at$1();return this.events.once(yt$1("session_update",me),({error:xe})=>{xe?Ee(xe):we()}),await this.client.session.update(fe,{namespaces:ye}),{acknowledged:be}},this.extend=async ne=>{await this.isInitialized(),await this.isValidExtend(ne);const{topic:fe}=ne,ye=await this.sendRequest({topic:fe,method:"wc_sessionExtend",params:{}}),{done:me,resolve:be,reject:we}=at$1();return this.events.once(yt$1("session_extend",ye),({error:Ee})=>{Ee?we(Ee):be()}),await this.setExpiry(fe,pt$1(L$3)),{acknowledged:me}},this.request=async ne=>{await this.isInitialized(),await this.isValidRequest(ne);const{chainId:fe,request:ye,topic:me,expiry:be=R.wc_sessionRequest.req.ttl}=ne,we=payloadId(),{done:Ee,resolve:xe,reject:Se}=at$1(be,"Request expired. Please try again.");return this.events.once(yt$1("session_request",we),({error:Ie,result:fr})=>{Ie?Se(Ie):xe(fr)}),await Promise.all([new Promise(async Ie=>{await this.sendRequest({clientRpcId:we,topic:me,method:"wc_sessionRequest",params:{request:D$3(g$4({},ye),{expiryTimestamp:pt$1(be)}),chainId:fe},expiry:be,throwOnFailedPublish:!0}).catch(fr=>Se(fr)),this.client.events.emit("session_request_sent",{topic:me,request:ye,chainId:fe,id:we}),Ie()}),new Promise(async Ie=>{const fr=await ht$1(this.client.core.storage,H$1);gt$1({id:we,topic:me,wcDeepLink:fr}),Ie()}),Ee()]).then(Ie=>Ie[2])},this.respond=async ne=>{await this.isInitialized(),await this.isValidRespond(ne);const{topic:fe,response:ye}=ne,{id:me}=ye;isJsonRpcResult(ye)?await this.sendResult({id:me,topic:fe,result:ye.result,throwOnFailedPublish:!0}):isJsonRpcError(ye)&&await this.sendError(me,fe,ye.error),this.cleanupAfterResponse(ne)},this.ping=async ne=>{await this.isInitialized(),await this.isValidPing(ne);const{topic:fe}=ne;if(this.client.session.keys.includes(fe)){const ye=await this.sendRequest({topic:fe,method:"wc_sessionPing",params:{}}),{done:me,resolve:be,reject:we}=at$1();this.events.once(yt$1("session_ping",ye),({error:Ee})=>{Ee?we(Ee):be()}),await me()}else this.client.core.pairing.pairings.keys.includes(fe)&&await this.client.core.pairing.ping({topic:fe})},this.emit=async ne=>{await this.isInitialized(),await this.isValidEmit(ne);const{topic:fe,event:ye,chainId:me}=ne;await this.sendRequest({topic:fe,method:"wc_sessionEvent",params:{event:ye,chainId:me}})},this.disconnect=async ne=>{await this.isInitialized(),await this.isValidDisconnect(ne);const{topic:fe}=ne;if(this.client.session.keys.includes(fe))await this.sendRequest({topic:fe,method:"wc_sessionDelete",params:U$2("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:fe,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(fe))await this.client.core.pairing.disconnect({topic:fe});else{const{message:ye}=N$3("MISMATCHED_TOPIC",`Session or pairing topic not found: ${fe}`);throw new Error(ye)}},this.find=ne=>(this.isInitialized(),this.client.session.getAll().filter(fe=>Mt$1(fe,ne))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async ne=>{if(ne.pairingTopic)try{const fe=this.client.core.pairing.pairings.get(ne.pairingTopic),ye=this.client.core.pairing.pairings.getAll().filter(me=>{var be,we;return((be=me.peerMetadata)==null?void 0:be.url)&&((we=me.peerMetadata)==null?void 0:we.url)===ne.peer.metadata.url&&me.topic&&me.topic!==fe.topic});if(ye.length===0)return;this.client.logger.info(`Cleaning up ${ye.length} duplicate pairing(s)`),await Promise.all(ye.map(me=>this.client.core.pairing.disconnect({topic:me.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(fe){this.client.logger.error(fe)}},this.deleteSession=async ne=>{const{topic:fe,expirerHasDeleted:ye=!1,emitEvent:me=!0,id:be=0}=ne,{self:we}=this.client.session.get(fe);await this.client.core.relayer.unsubscribe(fe),await this.client.session.delete(fe,U$2("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(we.publicKey)&&await this.client.core.crypto.deleteKeyPair(we.publicKey),this.client.core.crypto.keychain.has(fe)&&await this.client.core.crypto.deleteSymKey(fe),ye||this.client.core.expirer.del(fe),this.client.core.storage.removeItem(H$1).catch(Ee=>this.client.logger.warn(Ee)),this.getPendingSessionRequests().forEach(Ee=>{Ee.topic===fe&&this.deletePendingSessionRequest(Ee.id,U$2("USER_DISCONNECTED"))}),me&&this.client.events.emit("session_delete",{id:be,topic:fe})},this.deleteProposal=async(ne,fe)=>{await Promise.all([this.client.proposal.delete(ne,U$2("USER_DISCONNECTED")),fe?Promise.resolve():this.client.core.expirer.del(ne)])},this.deletePendingSessionRequest=async(ne,fe,ye=!1)=>{await Promise.all([this.client.pendingRequest.delete(ne,fe),ye?Promise.resolve():this.client.core.expirer.del(ne)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(me=>me.id!==ne),ye&&(this.sessionRequestQueue.state=I$1.idle,this.client.events.emit("session_request_expire",{id:ne}))},this.setExpiry=async(ne,fe)=>{this.client.session.keys.includes(ne)&&await this.client.session.update(ne,{expiry:fe}),this.client.core.expirer.set(ne,fe)},this.setProposal=async(ne,fe)=>{await this.client.proposal.set(ne,fe),this.client.core.expirer.set(ne,pt$1(R.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async ne=>{const{id:fe,topic:ye,params:me,verifyContext:be}=ne,we=me.request.expiryTimestamp||pt$1(R.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(fe,{id:fe,topic:ye,params:me,verifyContext:be}),we&&this.client.core.expirer.set(fe,we)},this.sendRequest=async ne=>{const{topic:fe,method:ye,params:me,expiry:be,relayRpcId:we,clientRpcId:Ee,throwOnFailedPublish:xe}=ne,Se=formatJsonRpcRequest(ye,me,Ee);if(D$6()&&he.includes(ye)){const br=Ln(JSON.stringify(Se));this.client.core.verify.register({attestationId:br})}const Ie=await this.client.core.crypto.encode(fe,Se),fr=R[ye].req;return be&&(fr.ttl=be),we&&(fr.id=we),this.client.core.history.set(fe,Se),xe?(fr.internal=D$3(g$4({},fr.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(fe,Ie,fr)):this.client.core.relayer.publish(fe,Ie,fr).catch(br=>this.client.logger.error(br)),Se.id},this.sendResult=async ne=>{const{id:fe,topic:ye,result:me,throwOnFailedPublish:be}=ne,we=formatJsonRpcResult(fe,me),Ee=await this.client.core.crypto.encode(ye,we),xe=await this.client.core.history.get(ye,fe),Se=R[xe.request.method].res;be?(Se.internal=D$3(g$4({},Se.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(ye,Ee,Se)):this.client.core.relayer.publish(ye,Ee,Se).catch(Ie=>this.client.logger.error(Ie)),await this.client.core.history.resolve(we)},this.sendError=async(ne,fe,ye)=>{const me=formatJsonRpcError(ne,ye),be=await this.client.core.crypto.encode(fe,me),we=await this.client.core.history.get(fe,ne),Ee=R[we.request.method].res;this.client.core.relayer.publish(fe,be,Ee),await this.client.core.history.resolve(me)},this.cleanup=async()=>{const ne=[],fe=[];this.client.session.getAll().forEach(ye=>{let me=!1;mt$1(ye.expiry)&&(me=!0),this.client.core.crypto.keychain.has(ye.topic)||(me=!0),me&&ne.push(ye.topic)}),this.client.proposal.getAll().forEach(ye=>{mt$1(ye.expiryTimestamp)&&fe.push(ye.id)}),await Promise.all([...ne.map(ye=>this.deleteSession({topic:ye})),...fe.map(ye=>this.deleteProposal(ye))])},this.onRelayEventRequest=async ne=>{this.requestQueue.queue.push(ne),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===I$1.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=I$1.active;const ne=this.requestQueue.queue.shift();if(ne)try{this.processRequest(ne),await new Promise(fe=>setTimeout(fe,300))}catch(fe){this.client.logger.warn(fe)}}this.requestQueue.state=I$1.idle},this.processRequest=ne=>{const{topic:fe,payload:ye}=ne,me=ye.method;switch(me){case"wc_sessionPropose":return this.onSessionProposeRequest(fe,ye);case"wc_sessionSettle":return this.onSessionSettleRequest(fe,ye);case"wc_sessionUpdate":return this.onSessionUpdateRequest(fe,ye);case"wc_sessionExtend":return this.onSessionExtendRequest(fe,ye);case"wc_sessionPing":return this.onSessionPingRequest(fe,ye);case"wc_sessionDelete":return this.onSessionDeleteRequest(fe,ye);case"wc_sessionRequest":return this.onSessionRequest(fe,ye);case"wc_sessionEvent":return this.onSessionEventRequest(fe,ye);default:return this.client.logger.info(`Unsupported request method ${me}`)}},this.onRelayEventResponse=async ne=>{const{topic:fe,payload:ye}=ne,me=(await this.client.core.history.get(fe,ye.id)).request.method;switch(me){case"wc_sessionPropose":return this.onSessionProposeResponse(fe,ye);case"wc_sessionSettle":return this.onSessionSettleResponse(fe,ye);case"wc_sessionUpdate":return this.onSessionUpdateResponse(fe,ye);case"wc_sessionExtend":return this.onSessionExtendResponse(fe,ye);case"wc_sessionPing":return this.onSessionPingResponse(fe,ye);case"wc_sessionRequest":return this.onSessionRequestResponse(fe,ye);default:return this.client.logger.info(`Unsupported response method ${me}`)}},this.onRelayEventUnknownPayload=ne=>{const{topic:fe}=ne,{message:ye}=N$3("MISSING_OR_INVALID",`Decoded payload on topic ${fe} is not identifiable as a JSON-RPC request or a response.`);throw new Error(ye)},this.onSessionProposeRequest=async(ne,fe)=>{const{params:ye,id:me}=fe;try{this.isValidConnect(g$4({},fe.params));const be=ye.expiryTimestamp||pt$1(R.wc_sessionPropose.req.ttl),we=g$4({id:me,pairingTopic:ne,expiryTimestamp:be},ye);await this.setProposal(me,we);const Ee=Ln(JSON.stringify(fe)),xe=await this.getVerifyContext(Ee,we.proposer.metadata);this.client.events.emit("session_proposal",{id:me,params:we,verifyContext:xe})}catch(be){await this.sendError(me,ne,be),this.client.logger.error(be)}},this.onSessionProposeResponse=async(ne,fe)=>{const{id:ye}=fe;if(isJsonRpcResult(fe)){const{result:me}=fe;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:me});const be=this.client.proposal.get(ye);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:be});const we=be.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:we});const Ee=me.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:Ee});const xe=await this.client.core.crypto.generateSharedKey(we,Ee);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:xe});const Se=await this.client.core.relayer.subscribe(xe);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Se}),await this.client.core.pairing.activate({topic:ne})}else isJsonRpcError(fe)&&(await this.client.proposal.delete(ye,U$2("USER_DISCONNECTED")),this.events.emit(yt$1("session_connect"),{error:fe.error}))},this.onSessionSettleRequest=async(ne,fe)=>{const{id:ye,params:me}=fe;try{this.isValidSessionSettleRequest(me);const{relay:be,controller:we,expiry:Ee,namespaces:xe,sessionProperties:Se,pairingTopic:Ie}=fe.params,fr=g$4({topic:ne,relay:be,expiry:Ee,namespaces:xe,acknowledged:!0,pairingTopic:Ie,requiredNamespaces:{},optionalNamespaces:{},controller:we.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:we.publicKey,metadata:we.metadata}},Se&&{sessionProperties:Se});await this.sendResult({id:fe.id,topic:ne,result:!0}),this.events.emit(yt$1("session_connect"),{session:fr}),this.cleanupDuplicatePairings(fr)}catch(be){await this.sendError(ye,ne,be),this.client.logger.error(be)}},this.onSessionSettleResponse=async(ne,fe)=>{const{id:ye}=fe;isJsonRpcResult(fe)?(await this.client.session.update(ne,{acknowledged:!0}),this.events.emit(yt$1("session_approve",ye),{})):isJsonRpcError(fe)&&(await this.client.session.delete(ne,U$2("USER_DISCONNECTED")),this.events.emit(yt$1("session_approve",ye),{error:fe.error}))},this.onSessionUpdateRequest=async(ne,fe)=>{const{params:ye,id:me}=fe;try{const be=`${ne}_session_update`,we=sr$1.get(be);if(we&&this.isRequestOutOfSync(we,me)){this.client.logger.info(`Discarding out of sync request - ${me}`);return}this.isValidUpdate(g$4({topic:ne},ye)),await this.client.session.update(ne,{namespaces:ye.namespaces}),await this.sendResult({id:me,topic:ne,result:!0}),this.client.events.emit("session_update",{id:me,topic:ne,params:ye}),sr$1.set(be,me)}catch(be){await this.sendError(me,ne,be),this.client.logger.error(be)}},this.isRequestOutOfSync=(ne,fe)=>parseInt(fe.toString().slice(0,-3))<=parseInt(ne.toString().slice(0,-3)),this.onSessionUpdateResponse=(ne,fe)=>{const{id:ye}=fe;isJsonRpcResult(fe)?this.events.emit(yt$1("session_update",ye),{}):isJsonRpcError(fe)&&this.events.emit(yt$1("session_update",ye),{error:fe.error})},this.onSessionExtendRequest=async(ne,fe)=>{const{id:ye}=fe;try{this.isValidExtend({topic:ne}),await this.setExpiry(ne,pt$1(L$3)),await this.sendResult({id:ye,topic:ne,result:!0}),this.client.events.emit("session_extend",{id:ye,topic:ne})}catch(me){await this.sendError(ye,ne,me),this.client.logger.error(me)}},this.onSessionExtendResponse=(ne,fe)=>{const{id:ye}=fe;isJsonRpcResult(fe)?this.events.emit(yt$1("session_extend",ye),{}):isJsonRpcError(fe)&&this.events.emit(yt$1("session_extend",ye),{error:fe.error})},this.onSessionPingRequest=async(ne,fe)=>{const{id:ye}=fe;try{this.isValidPing({topic:ne}),await this.sendResult({id:ye,topic:ne,result:!0}),this.client.events.emit("session_ping",{id:ye,topic:ne})}catch(me){await this.sendError(ye,ne,me),this.client.logger.error(me)}},this.onSessionPingResponse=(ne,fe)=>{const{id:ye}=fe;setTimeout(()=>{isJsonRpcResult(fe)?this.events.emit(yt$1("session_ping",ye),{}):isJsonRpcError(fe)&&this.events.emit(yt$1("session_ping",ye),{error:fe.error})},500)},this.onSessionDeleteRequest=async(ne,fe)=>{const{id:ye}=fe;try{this.isValidDisconnect({topic:ne,reason:fe.params}),await Promise.all([new Promise(me=>{this.client.core.relayer.once(D$4.publish,async()=>{me(await this.deleteSession({topic:ne,id:ye}))})}),this.sendResult({id:ye,topic:ne,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:ne,error:U$2("USER_DISCONNECTED")})])}catch(me){this.client.logger.error(me)}},this.onSessionRequest=async(ne,fe)=>{const{id:ye,params:me}=fe;try{this.isValidRequest(g$4({topic:ne},me));const be=Ln(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",me,ye))),we=this.client.session.get(ne),Ee=await this.getVerifyContext(be,we.peer.metadata),xe={id:ye,topic:ne,params:me,verifyContext:Ee};await this.setPendingSessionRequest(xe),this.addSessionRequestToSessionRequestQueue(xe),this.processSessionRequestQueue()}catch(be){await this.sendError(ye,ne,be),this.client.logger.error(be)}},this.onSessionRequestResponse=(ne,fe)=>{const{id:ye}=fe;isJsonRpcResult(fe)?this.events.emit(yt$1("session_request",ye),{result:fe.result}):isJsonRpcError(fe)&&this.events.emit(yt$1("session_request",ye),{error:fe.error})},this.onSessionEventRequest=async(ne,fe)=>{const{id:ye,params:me}=fe;try{const be=`${ne}_session_event_${me.event.name}`,we=sr$1.get(be);if(we&&this.isRequestOutOfSync(we,ye)){this.client.logger.info(`Discarding out of sync request - ${ye}`);return}this.isValidEmit(g$4({topic:ne},me)),this.client.events.emit("session_event",{id:ye,topic:ne,params:me}),sr$1.set(be,ye)}catch(be){await this.sendError(ye,ne,be),this.client.logger.error(be)}},this.addSessionRequestToSessionRequestQueue=ne=>{this.sessionRequestQueue.queue.push(ne)},this.cleanupAfterResponse=ne=>{this.deletePendingSessionRequest(ne.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=I$1.idle,this.processSessionRequestQueue()},cjsExports$4.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:ne,error:fe})=>{const ye=this.client.core.history.pending;ye.length>0&&ye.filter(me=>me.topic===ne&&me.request.method==="wc_sessionRequest").forEach(me=>{this.events.emit(yt$1("session_request",me.request.id),{error:fe})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===I$1.active){this.client.logger.info("session request queue is already active.");return}const ne=this.sessionRequestQueue.queue[0];if(!ne){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=I$1.active,this.client.events.emit("session_request",ne)}catch(fe){this.client.logger.error(fe)}},this.onPairingCreated=ne=>{if(ne.active)return;const fe=this.client.proposal.getAll().find(ye=>ye.pairingTopic===ne.topic);fe&&this.onSessionProposeRequest(ne.topic,formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:fe.requiredNamespaces,optionalNamespaces:fe.optionalNamespaces,relays:fe.relays,proposer:fe.proposer,sessionProperties:fe.sessionProperties},fe.id))},this.isValidConnect=async ne=>{if(!Gt$1(ne)){const{message:Ee}=N$3("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(ne)}`);throw new Error(Ee)}const{pairingTopic:fe,requiredNamespaces:ye,optionalNamespaces:me,sessionProperties:be,relays:we}=ne;if(w$7(fe)||await this.isValidPairingTopic(fe),!qt$1(we)){const{message:Ee}=N$3("MISSING_OR_INVALID",`connect() relays: ${we}`);throw new Error(Ee)}!w$7(ye)&&B$3(ye)!==0&&this.validateNamespaces(ye,"requiredNamespaces"),!w$7(me)&&B$3(me)!==0&&this.validateNamespaces(me,"optionalNamespaces"),w$7(be)||this.validateSessionProps(be,"sessionProperties")},this.validateNamespaces=(ne,fe)=>{const ye=Ht$1(ne,"connect()",fe);if(ye)throw new Error(ye.message)},this.isValidApprove=async ne=>{if(!Gt$1(ne))throw new Error(N$3("MISSING_OR_INVALID",`approve() params: ${ne}`).message);const{id:fe,namespaces:ye,relayProtocol:me,sessionProperties:be}=ne;await this.isValidProposalId(fe);const we=this.client.proposal.get(fe),Ee=ln(ye,"approve()");if(Ee)throw new Error(Ee.message);const xe=fn(we.requiredNamespaces,ye,"approve()");if(xe)throw new Error(xe.message);if(!g$8(me,!0)){const{message:Se}=N$3("MISSING_OR_INVALID",`approve() relayProtocol: ${me}`);throw new Error(Se)}w$7(be)||this.validateSessionProps(be,"sessionProperties")},this.isValidReject=async ne=>{if(!Gt$1(ne)){const{message:me}=N$3("MISSING_OR_INVALID",`reject() params: ${ne}`);throw new Error(me)}const{id:fe,reason:ye}=ne;if(await this.isValidProposalId(fe),!Wt(ye)){const{message:me}=N$3("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(ye)}`);throw new Error(me)}},this.isValidSessionSettleRequest=ne=>{if(!Gt$1(ne)){const{message:xe}=N$3("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${ne}`);throw new Error(xe)}const{relay:fe,controller:ye,namespaces:me,expiry:be}=ne;if(!dn(fe)){const{message:xe}=N$3("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(xe)}const we=Ft$1(ye,"onSessionSettleRequest()");if(we)throw new Error(we.message);const Ee=ln(me,"onSessionSettleRequest()");if(Ee)throw new Error(Ee.message);if(mt$1(be)){const{message:xe}=N$3("EXPIRED","onSessionSettleRequest()");throw new Error(xe)}},this.isValidUpdate=async ne=>{if(!Gt$1(ne)){const{message:Ee}=N$3("MISSING_OR_INVALID",`update() params: ${ne}`);throw new Error(Ee)}const{topic:fe,namespaces:ye}=ne;await this.isValidSessionTopic(fe);const me=this.client.session.get(fe),be=ln(ye,"update()");if(be)throw new Error(be.message);const we=fn(me.requiredNamespaces,ye,"update()");if(we)throw new Error(we.message)},this.isValidExtend=async ne=>{if(!Gt$1(ne)){const{message:ye}=N$3("MISSING_OR_INVALID",`extend() params: ${ne}`);throw new Error(ye)}const{topic:fe}=ne;await this.isValidSessionTopic(fe)},this.isValidRequest=async ne=>{if(!Gt$1(ne)){const{message:Ee}=N$3("MISSING_OR_INVALID",`request() params: ${ne}`);throw new Error(Ee)}const{topic:fe,request:ye,chainId:me,expiry:be}=ne;await this.isValidSessionTopic(fe);const{namespaces:we}=this.client.session.get(fe);if(!Qt(we,me)){const{message:Ee}=N$3("MISSING_OR_INVALID",`request() chainId: ${me}`);throw new Error(Ee)}if(!zt$1(ye)){const{message:Ee}=N$3("MISSING_OR_INVALID",`request() ${JSON.stringify(ye)}`);throw new Error(Ee)}if(!Zt(we,me,ye.method)){const{message:Ee}=N$3("MISSING_OR_INVALID",`request() method: ${ye.method}`);throw new Error(Ee)}if(be&&!tr$1(be,U$1)){const{message:Ee}=N$3("MISSING_OR_INVALID",`request() expiry: ${be}. Expiry must be a number (in seconds) between ${U$1.min} and ${U$1.max}`);throw new Error(Ee)}},this.isValidRespond=async ne=>{var fe;if(!Gt$1(ne)){const{message:be}=N$3("MISSING_OR_INVALID",`respond() params: ${ne}`);throw new Error(be)}const{topic:ye,response:me}=ne;try{await this.isValidSessionTopic(ye)}catch(be){throw(fe=ne==null?void 0:ne.response)!=null&&fe.id&&this.cleanupAfterResponse(ne),be}if(!Yt$1(me)){const{message:be}=N$3("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(me)}`);throw new Error(be)}},this.isValidPing=async ne=>{if(!Gt$1(ne)){const{message:ye}=N$3("MISSING_OR_INVALID",`ping() params: ${ne}`);throw new Error(ye)}const{topic:fe}=ne;await this.isValidSessionOrPairingTopic(fe)},this.isValidEmit=async ne=>{if(!Gt$1(ne)){const{message:we}=N$3("MISSING_OR_INVALID",`emit() params: ${ne}`);throw new Error(we)}const{topic:fe,event:ye,chainId:me}=ne;await this.isValidSessionTopic(fe);const{namespaces:be}=this.client.session.get(fe);if(!Qt(be,me)){const{message:we}=N$3("MISSING_OR_INVALID",`emit() chainId: ${me}`);throw new Error(we)}if(!Jt$1(ye)){const{message:we}=N$3("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(ye)}`);throw new Error(we)}if(!Xt(be,me,ye.name)){const{message:we}=N$3("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(ye)}`);throw new Error(we)}},this.isValidDisconnect=async ne=>{if(!Gt$1(ne)){const{message:ye}=N$3("MISSING_OR_INVALID",`disconnect() params: ${ne}`);throw new Error(ye)}const{topic:fe}=ne;await this.isValidSessionOrPairingTopic(fe)},this.getVerifyContext=async(ne,fe)=>{const ye={verified:{verifyUrl:fe.verifyUrl||F$3,validation:"UNKNOWN",origin:fe.url||""}};try{const me=await this.client.core.verify.resolve({attestationId:ne,verifyUrl:fe.verifyUrl});me&&(ye.verified.origin=me.origin,ye.verified.isScam=me.isScam,ye.verified.validation=me.origin===new URL(fe.url).origin?"VALID":"INVALID")}catch(me){this.client.logger.info(me)}return this.client.logger.info(`Verify context: ${JSON.stringify(ye)}`),ye},this.validateSessionProps=(ne,fe)=>{Object.values(ne).forEach(ye=>{if(!g$8(ye,!1)){const{message:me}=N$3("MISSING_OR_INVALID",`${fe} must be in Record<string, string> format. Received: ${JSON.stringify(ye)}`);throw new Error(me)}})}}async isInitialized(){if(!this.initialized){const{message:Y}=N$3("NOT_INITIALIZED",this.name);throw new Error(Y)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(D$4.message,async Y=>{const{topic:ne,message:fe}=Y;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(fe)))return;const ye=await this.client.core.crypto.decode(ne,fe);try{isJsonRpcRequest(ye)?(this.client.core.history.set(ne,ye),this.onRelayEventRequest({topic:ne,payload:ye})):isJsonRpcResponse(ye)?(await this.client.core.history.resolve(ye),await this.onRelayEventResponse({topic:ne,payload:ye}),this.client.core.history.delete(ne,ye.id)):this.onRelayEventUnknownPayload({topic:ne,payload:ye})}catch(me){this.client.logger.error(me)}})}registerExpirerEvents(){this.client.core.expirer.on(v$4.expired,async Y=>{const{topic:ne,id:fe}=ft$2(Y.target);if(fe&&this.client.pendingRequest.keys.includes(fe))return await this.deletePendingSessionRequest(fe,N$3("EXPIRED"),!0);ne?this.client.session.keys.includes(ne)&&(await this.deleteSession({topic:ne,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:ne})):fe&&(await this.deleteProposal(fe,!0),this.client.events.emit("proposal_expire",{id:fe}))})}registerPairingEvents(){this.client.core.pairing.events.on(V$1.create,Y=>this.onPairingCreated(Y))}isValidPairingTopic(Y){if(!g$8(Y,!1)){const{message:ne}=N$3("MISSING_OR_INVALID",`pairing topic should be a string: ${Y}`);throw new Error(ne)}if(!this.client.core.pairing.pairings.keys.includes(Y)){const{message:ne}=N$3("NO_MATCHING_KEY",`pairing topic doesn't exist: ${Y}`);throw new Error(ne)}if(mt$1(this.client.core.pairing.pairings.get(Y).expiry)){const{message:ne}=N$3("EXPIRED",`pairing topic: ${Y}`);throw new Error(ne)}}async isValidSessionTopic(Y){if(!g$8(Y,!1)){const{message:ne}=N$3("MISSING_OR_INVALID",`session topic should be a string: ${Y}`);throw new Error(ne)}if(!this.client.session.keys.includes(Y)){const{message:ne}=N$3("NO_MATCHING_KEY",`session topic doesn't exist: ${Y}`);throw new Error(ne)}if(mt$1(this.client.session.get(Y).expiry)){await this.deleteSession({topic:Y});const{message:ne}=N$3("EXPIRED",`session topic: ${Y}`);throw new Error(ne)}if(!this.client.core.crypto.keychain.has(Y)){const{message:ne}=N$3("MISSING_OR_INVALID",`session topic does not exist in keychain: ${Y}`);throw await this.deleteSession({topic:Y}),new Error(ne)}}async isValidSessionOrPairingTopic(Y){if(this.client.session.keys.includes(Y))await this.isValidSessionTopic(Y);else if(this.client.core.pairing.pairings.keys.includes(Y))this.isValidPairingTopic(Y);else if(g$8(Y,!1)){const{message:ne}=N$3("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${Y}`);throw new Error(ne)}else{const{message:ne}=N$3("MISSING_OR_INVALID",`session or pairing topic should be a string: ${Y}`);throw new Error(ne)}}async isValidProposalId(Y){if(!Bt$1(Y)){const{message:ne}=N$3("MISSING_OR_INVALID",`proposal id should be a number: ${Y}`);throw new Error(ne)}if(!this.client.proposal.keys.includes(Y)){const{message:ne}=N$3("NO_MATCHING_KEY",`proposal id doesn't exist: ${Y}`);throw new Error(ne)}if(mt$1(this.client.proposal.get(Y).expiryTimestamp)){await this.deleteProposal(Y);const{message:ne}=N$3("EXPIRED",`proposal id: ${Y}`);throw new Error(ne)}}}class us extends Kt{constructor(Y,ne){super(Y,ne,oe,G$1),this.core=Y,this.logger=ne}}let ge$1=class extends Kt{constructor(Y,ne){super(Y,ne,ce,G$1),this.core=Y,this.logger=ne}};class gs extends Kt{constructor(Y,ne){super(Y,ne,pe,G$1,fe=>fe.id),this.core=Y,this.logger=ne}}let Q$1=class ww extends b$5{constructor(Y){super(Y),this.protocol=J$1,this.version=F$2,this.name=M$2.name,this.events=new eventsExports.EventEmitter,this.on=(fe,ye)=>this.events.on(fe,ye),this.once=(fe,ye)=>this.events.once(fe,ye),this.off=(fe,ye)=>this.events.off(fe,ye),this.removeListener=(fe,ye)=>this.events.removeListener(fe,ye),this.removeAllListeners=fe=>this.events.removeAllListeners(fe),this.connect=async fe=>{try{return await this.engine.connect(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.pair=async fe=>{try{return await this.engine.pair(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.approve=async fe=>{try{return await this.engine.approve(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.reject=async fe=>{try{return await this.engine.reject(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.update=async fe=>{try{return await this.engine.update(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.extend=async fe=>{try{return await this.engine.extend(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.request=async fe=>{try{return await this.engine.request(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.respond=async fe=>{try{return await this.engine.respond(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.ping=async fe=>{try{return await this.engine.ping(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.emit=async fe=>{try{return await this.engine.emit(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.disconnect=async fe=>{try{return await this.engine.disconnect(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.find=fe=>{try{return this.engine.find(fe)}catch(ye){throw this.logger.error(ye.message),ye}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(fe){throw this.logger.error(fe.message),fe}},this.name=(Y==null?void 0:Y.name)||M$2.name,this.metadata=(Y==null?void 0:Y.metadata)||Qn();const ne=typeof(Y==null?void 0:Y.logger)<"u"&&typeof(Y==null?void 0:Y.logger)!="string"?Y.logger:Hg(k$2({level:(Y==null?void 0:Y.logger)||M$2.logger}));this.core=(Y==null?void 0:Y.core)||new Mr(Y),this.logger=E$4(ne,this.name),this.session=new ge$1(this.core,this.logger),this.proposal=new us(this.core,this.logger),this.pendingRequest=new gs(this.core,this.logger),this.engine=new ds(this)}static async init(Y){const ne=new ww(Y);return await ne.initialize(),ne}get context(){return y$4(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(Y){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(Y.message),Y}}};var browserPonyfillExports=requireBrowserPonyfill();const o$2=getDefaultExportFromCjs(browserPonyfillExports);var P$3=Object.defineProperty,w$2=Object.defineProperties,E$2=Object.getOwnPropertyDescriptors,c$2=Object.getOwnPropertySymbols,L$2=Object.prototype.hasOwnProperty,O$2=Object.prototype.propertyIsEnumerable,l$2=(se,Y,ne)=>Y in se?P$3(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,p$3=(se,Y)=>{for(var ne in Y)L$2.call(Y,ne)&&l$2(se,ne,Y[ne]);if(c$2)for(var ne of c$2(Y))O$2.call(Y,ne)&&l$2(se,ne,Y[ne]);return se},v$3=(se,Y)=>w$2(se,E$2(Y));const j$3={Accept:"application/json","Content-Type":"application/json"},T$2="POST",d$2={headers:j$3,method:T$2},g$3=10;let f$3=class{constructor(Y,ne=!1){if(this.url=Y,this.disableProviderPing=ne,this.events=new eventsExports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(Y))throw new Error(`Provided URL is not compatible with HTTP connection: ${Y}`);this.url=Y,this.disableProviderPing=ne}get connected(){return this.isAvailable}get connecting(){return this.registering}on(Y,ne){this.events.on(Y,ne)}once(Y,ne){this.events.once(Y,ne)}off(Y,ne){this.events.off(Y,ne)}removeListener(Y,ne){this.events.removeListener(Y,ne)}async open(Y=this.url){await this.register(Y)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(Y){this.isAvailable||await this.register();try{const ne=safeJsonStringify(Y),fe=await(await o$2(this.url,v$3(p$3({},d$2),{body:ne}))).json();this.onPayload({data:fe})}catch(ne){this.onError(Y.id,ne)}}async register(Y=this.url){if(!isHttpUrl(Y))throw new Error(`Provided URL is not compatible with HTTP connection: ${Y}`);if(this.registering){const ne=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=ne||this.events.listenerCount("open")>=ne)&&this.events.setMaxListeners(ne+1),new Promise((fe,ye)=>{this.events.once("register_error",me=>{this.resetMaxListeners(),ye(me)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return ye(new Error("HTTP connection is missing or invalid"));fe()})})}this.url=Y,this.registering=!0;try{if(!this.disableProviderPing){const ne=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await o$2(Y,v$3(p$3({},d$2),{body:ne}))}this.onOpen()}catch(ne){const fe=this.parseError(ne);throw this.events.emit("register_error",fe),this.onClose(),fe}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(Y){if(typeof Y.data>"u")return;const ne=typeof Y.data=="string"?safeJsonParse(Y.data):Y.data;this.events.emit("payload",ne)}onError(Y,ne){const fe=this.parseError(ne),ye=fe.message||fe.toString(),me=formatJsonRpcError(Y,ye);this.events.emit("payload",me)}parseError(Y,ne=this.url){return parseConnectionError(Y,ne,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>g$3&&this.events.setMaxListeners(g$3)}};const Ia="error",Fg="wss://relay.walletconnect.com",Mg="wc",qg="universal_provider",xa=`${Mg}@2:${qg}:`,Bg="https://rpc.walletconnect.com/v1/",Vn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(se,Y){(function(){var ne,fe="4.17.21",ye=200,me="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",be="Expected a function",we="Invalid `variable` option passed into `_.template`",Ee="__lodash_hash_undefined__",xe=500,Se="__lodash_placeholder__",Ie=1,fr=2,br=4,kr=1,Wr=2,Gr=1,jr=2,Qr=4,wn=8,En=16,Rn=32,An=64,$n=128,Tn=256,ti=512,ai=30,On="...",Sn=800,Zr=16,Oe=1,wr=2,qr=3,Vr=1/0,Jr=9007199254740991,Xr=17976931348623157e292,Kr=NaN,Yr=4294967295,Br=Yr-1,_n=Yr>>>1,ii=[["ary",$n],["bind",Gr],["bindKey",jr],["curry",wn],["curryRight",En],["flip",ti],["partial",Rn],["partialRight",An],["rearg",Tn]],ni="[object Arguments]",si="[object Array]",Nn="[object AsyncFunction]",jn="[object Boolean]",ei="[object Date]",Pn="[object DOMException]",zn="[object Error]",ri="[object Function]",hi="[object GeneratorFunction]",mi="[object Map]",$i="[object Number]",Ti="[object Null]",xi="[object Object]",Ri="[object Promise]",vi="[object Proxy]",Pi="[object RegExp]",Ei="[object Set]",ha="[object String]",Ni="[object Symbol]",Ai="[object Undefined]",ga="[object WeakMap]",Bi="[object WeakSet]",Ci="[object ArrayBuffer]",ma="[object DataView]",Vi="[object Float32Array]",Ii="[object Float64Array]",Pa="[object Int8Array]",ra="[object Int16Array]",Oi="[object Int32Array]",Na="[object Uint8Array]",na="[object Uint8ClampedArray]",ia="[object Uint16Array]",Ga="[object Uint32Array]",wa=/\b__p \+= '';/g,sa=/\b(__p \+=) '' \+/g,Ka=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_a=/&(?:amp|lt|gt|quot|#39);/g,ca=/[&<>"']/g,Da=RegExp(_a.source),la=RegExp(ca.source),ji=/<%-([\s\S]+?)%>/g,qa=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,qi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fa=/^\w*$/,pa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zi=/[\\^$.*+?()[\]{}|]/g,Wa=RegExp(zi.source),fa=/^\s+/,Ki=/\s/,Ua=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,oa=/\{\n\/\* \[wrapped with (.+)\] \*/,ea=/,? & /,ja=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Aa=/[()=,{}\[\]\/\s]/,da=/\\(\\)?/g,no=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,va=/\w*$/,Ca=/^[-+]0x[0-9a-f]+$/i,Io=/^0b[01]+$/i,Po=/^\[object .+?Constructor\]$/,To=/^0o[0-7]+$/i,No=/^(?:0|[1-9]\d*)$/,ho=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_o=/($^)/,ko=/['\n\r\u2028\u2029\\]/g,$o="\\ud800-\\udfff",Mo="\\u0300-\\u036f",Oo="\\ufe20-\\ufe2f",Eo="\\u20d0-\\u20ff",So=Mo+Oo+Eo,Ao="\\u2700-\\u27bf",co="a-z\\xdf-\\xf6\\xf8-\\xff",Bo="\\xac\\xb1\\xd7\\xf7",Ho="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zo="\\u2000-\\u206f",fc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rc="A-Z\\xc0-\\xd6\\xd8-\\xde",a1="\\ufe0e\\ufe0f",Wf=Bo+Ho+zo+fc,sp="['’]",jf="["+$o+"]",ap="["+Wf+"]",Hf="["+So+"]",o1="\\d+",em="["+Ao+"]",c1="["+co+"]",l1="[^"+$o+Wf+o1+Ao+co+rc+"]",rd="\\ud83c[\\udffb-\\udfff]",tm="(?:"+Hf+"|"+rd+")",u1="[^"+$o+"]",nd="(?:\\ud83c[\\udde6-\\uddff]){2}",Wu="[\\ud800-\\udbff][\\udc00-\\udfff]",Tc="["+rc+"]",f1="\\u200d",h1="(?:"+c1+"|"+l1+")",Il="(?:"+Tc+"|"+l1+")",d1="(?:"+sp+"(?:d|ll|m|re|s|t|ve))?",p1="(?:"+sp+"(?:D|LL|M|RE|S|T|VE))?",g1=tm+"?",m1="["+a1+"]?",rm="(?:"+f1+"(?:"+[u1,nd,Wu].join("|")+")"+m1+g1+")*",tu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",y1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",b1=m1+g1+rm,sd="(?:"+[em,nd,Wu].join("|")+")"+b1,nm="(?:"+[u1+Hf+"?",Hf,nd,Wu,jf].join("|")+")",op=RegExp(sp,"g"),im=RegExp(Hf,"g"),ad=RegExp(rd+"(?="+rd+")|"+nm+b1,"g"),v1=RegExp([Tc+"?"+c1+"+"+d1+"(?="+[ap,Tc,"$"].join("|")+")",Il+"+"+p1+"(?="+[ap,Tc+h1,"$"].join("|")+")",Tc+"?"+h1+"+"+d1,Tc+"+"+p1,y1,tu,o1,sd].join("|"),"g"),w1=RegExp("["+f1+$o+So+a1+"]"),zf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],sm=-1,yo={};yo[Vi]=yo[Ii]=yo[Pa]=yo[ra]=yo[Oi]=yo[Na]=yo[na]=yo[ia]=yo[Ga]=!0,yo[ni]=yo[si]=yo[Ci]=yo[jn]=yo[ma]=yo[ei]=yo[zn]=yo[ri]=yo[mi]=yo[$i]=yo[xi]=yo[Pi]=yo[Ei]=yo[ha]=yo[ga]=!1;var go={};go[ni]=go[si]=go[Ci]=go[ma]=go[jn]=go[ei]=go[Vi]=go[Ii]=go[Pa]=go[ra]=go[Oi]=go[mi]=go[$i]=go[xi]=go[Pi]=go[Ei]=go[ha]=go[Ni]=go[Na]=go[na]=go[ia]=go[Ga]=!0,go[zn]=go[ri]=go[ga]=!1;var di={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},yi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ta={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ka={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bo=parseFloat,Ja=parseInt,xo=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Wo=typeof self=="object"&&self&&self.Object===Object&&self,ao=xo||Wo||Function("return this")(),vo=Y&&!Y.nodeType&&Y,qo=vo&&!0&&se&&!se.nodeType&&se,_c=qo&&qo.exports===vo,jo=_c&&xo.process,Co=function(){try{var bi=qo&&qo.require&&qo.require("util").types;return bi||jo&&jo.binding&&jo.binding("util")}catch{}}(),hc=Co&&Co.isArrayBuffer,dl=Co&&Co.isDate,Gc=Co&&Co.isMap,Pl=Co&&Co.isRegExp,cp=Co&&Co.isSet,Vf=Co&&Co.isTypedArray;function Zo(bi,ki,Si){switch(Si.length){case 0:return bi.call(ki);case 1:return bi.call(ki,Si[0]);case 2:return bi.call(ki,Si[0],Si[1]);case 3:return bi.call(ki,Si[0],Si[1],Si[2])}return bi.apply(ki,Si)}function Lw(bi,ki,Si,Ma){for(var Za=-1,lo=bi==null?0:bi.length;++Za<lo;){var Vo=bi[Za];ki(Ma,Vo,Si(Vo),bi)}return Ma}function Zc(bi,ki){for(var Si=-1,Ma=bi==null?0:bi.length;++Si<Ma&&ki(bi[Si],Si,bi)!==!1;);return bi}function qw(bi,ki){for(var Si=bi==null?0:bi.length;Si--&&ki(bi[Si],Si,bi)!==!1;);return bi}function My(bi,ki){for(var Si=-1,Ma=bi==null?0:bi.length;++Si<Ma;)if(!ki(bi[Si],Si,bi))return!1;return!0}function ju(bi,ki){for(var Si=-1,Ma=bi==null?0:bi.length,Za=0,lo=[];++Si<Ma;){var Vo=bi[Si];ki(Vo,Si,bi)&&(lo[Za++]=Vo)}return lo}function $1(bi,ki){var Si=bi==null?0:bi.length;return!!Si&&od(bi,ki,0)>-1}function am(bi,ki,Si){for(var Ma=-1,Za=bi==null?0:bi.length;++Ma<Za;)if(Si(ki,bi[Ma]))return!0;return!1}function Ro(bi,ki){for(var Si=-1,Ma=bi==null?0:bi.length,Za=Array(Ma);++Si<Ma;)Za[Si]=ki(bi[Si],Si,bi);return Za}function Hu(bi,ki){for(var Si=-1,Ma=ki.length,Za=bi.length;++Si<Ma;)bi[Za+Si]=ki[Si];return bi}function om(bi,ki,Si,Ma){var Za=-1,lo=bi==null?0:bi.length;for(Ma&&lo&&(Si=bi[++Za]);++Za<lo;)Si=ki(Si,bi[Za],Za,bi);return Si}function Uw(bi,ki,Si,Ma){var Za=bi==null?0:bi.length;for(Ma&&Za&&(Si=bi[--Za]);Za--;)Si=ki(Si,bi[Za],Za,bi);return Si}function cm(bi,ki){for(var Si=-1,Ma=bi==null?0:bi.length;++Si<Ma;)if(ki(bi[Si],Si,bi))return!0;return!1}var Fw=lm("length");function Ww(bi){return bi.split("")}function jw(bi){return bi.match(ja)||[]}function Oy(bi,ki,Si){var Ma;return Si(bi,function(Za,lo,Vo){if(ki(Za,lo,Vo))return Ma=lo,!1}),Ma}function E1(bi,ki,Si,Ma){for(var Za=bi.length,lo=Si+(Ma?1:-1);Ma?lo--:++lo<Za;)if(ki(bi[lo],lo,bi))return lo;return-1}function od(bi,ki,Si){return ki===ki?t2(bi,ki,Si):E1(bi,By,Si)}function Hw(bi,ki,Si,Ma){for(var Za=Si-1,lo=bi.length;++Za<lo;)if(Ma(bi[Za],ki))return Za;return-1}function By(bi){return bi!==bi}function Dy(bi,ki){var Si=bi==null?0:bi.length;return Si?fm(bi,ki)/Si:Kr}function lm(bi){return function(ki){return ki==null?ne:ki[bi]}}function um(bi){return function(ki){return bi==null?ne:bi[ki]}}function Ly(bi,ki,Si,Ma,Za){return Za(bi,function(lo,Vo,wo){Si=Ma?(Ma=!1,lo):ki(Si,lo,Vo,wo)}),Si}function zw(bi,ki){var Si=bi.length;for(bi.sort(ki);Si--;)bi[Si]=bi[Si].value;return bi}function fm(bi,ki){for(var Si,Ma=-1,Za=bi.length;++Ma<Za;){var lo=ki(bi[Ma]);lo!==ne&&(Si=Si===ne?lo:Si+lo)}return Si}function hm(bi,ki){for(var Si=-1,Ma=Array(bi);++Si<bi;)Ma[Si]=ki(Si);return Ma}function Vw(bi,ki){return Ro(ki,function(Si){return[Si,bi[Si]]})}function qy(bi){return bi&&bi.slice(0,jy(bi)+1).replace(fa,"")}function Nc(bi){return function(ki){return bi(ki)}}function dm(bi,ki){return Ro(ki,function(Si){return bi[Si]})}function lp(bi,ki){return bi.has(ki)}function Uy(bi,ki){for(var Si=-1,Ma=bi.length;++Si<Ma&&od(ki,bi[Si],0)>-1;);return Si}function Fy(bi,ki){for(var Si=bi.length;Si--&&od(ki,bi[Si],0)>-1;);return Si}function Gw(bi,ki){for(var Si=bi.length,Ma=0;Si--;)bi[Si]===ki&&++Ma;return Ma}var Zw=um(di),Kw=um(yi);function Jw(bi){return"\\"+ka[bi]}function Qw(bi,ki){return bi==null?ne:bi[ki]}function cd(bi){return w1.test(bi)}function Yw(bi){return zf.test(bi)}function Xw(bi){for(var ki,Si=[];!(ki=bi.next()).done;)Si.push(ki.value);return Si}function pm(bi){var ki=-1,Si=Array(bi.size);return bi.forEach(function(Ma,Za){Si[++ki]=[Za,Ma]}),Si}function Wy(bi,ki){return function(Si){return bi(ki(Si))}}function zu(bi,ki){for(var Si=-1,Ma=bi.length,Za=0,lo=[];++Si<Ma;){var Vo=bi[Si];(Vo===ki||Vo===Se)&&(bi[Si]=Se,lo[Za++]=Si)}return lo}function x1(bi){var ki=-1,Si=Array(bi.size);return bi.forEach(function(Ma){Si[++ki]=Ma}),Si}function e2(bi){var ki=-1,Si=Array(bi.size);return bi.forEach(function(Ma){Si[++ki]=[Ma,Ma]}),Si}function t2(bi,ki,Si){for(var Ma=Si-1,Za=bi.length;++Ma<Za;)if(bi[Ma]===ki)return Ma;return-1}function r2(bi,ki,Si){for(var Ma=Si+1;Ma--;)if(bi[Ma]===ki)return Ma;return Ma}function ld(bi){return cd(bi)?i2(bi):Fw(bi)}function pl(bi){return cd(bi)?s2(bi):Ww(bi)}function jy(bi){for(var ki=bi.length;ki--&&Ki.test(bi.charAt(ki)););return ki}var n2=um(ta);function i2(bi){for(var ki=ad.lastIndex=0;ad.test(bi);)++ki;return ki}function s2(bi){return bi.match(ad)||[]}function a2(bi){return bi.match(v1)||[]}var o2=function bi(ki){ki=ki==null?ao:ud.defaults(ao.Object(),ki,ud.pick(ao,_1));var Si=ki.Array,Ma=ki.Date,Za=ki.Error,lo=ki.Function,Vo=ki.Math,wo=ki.Object,gm=ki.RegExp,c2=ki.String,Kc=ki.TypeError,C1=Si.prototype,l2=lo.prototype,fd=wo.prototype,A1=ki["__core-js_shared__"],R1=l2.toString,po=fd.hasOwnProperty,u2=0,Hy=function(){var Er=/[^.]+$/.exec(A1&&A1.keys&&A1.keys.IE_PROTO||"");return Er?"Symbol(src)_1."+Er:""}(),I1=fd.toString,f2=R1.call(wo),h2=ao._,d2=gm("^"+R1.call(po).replace(zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P1=_c?ki.Buffer:ne,Vu=ki.Symbol,N1=ki.Uint8Array,zy=P1?P1.allocUnsafe:ne,k1=Wy(wo.getPrototypeOf,wo),Vy=wo.create,Gy=fd.propertyIsEnumerable,M1=C1.splice,Zy=Vu?Vu.isConcatSpreadable:ne,up=Vu?Vu.iterator:ne,Gf=Vu?Vu.toStringTag:ne,O1=function(){try{var Er=Yf(wo,"defineProperty");return Er({},"",{}),Er}catch{}}(),p2=ki.clearTimeout!==ao.clearTimeout&&ki.clearTimeout,g2=Ma&&Ma.now!==ao.Date.now&&Ma.now,m2=ki.setTimeout!==ao.setTimeout&&ki.setTimeout,B1=Vo.ceil,D1=Vo.floor,mm=wo.getOwnPropertySymbols,y2=P1?P1.isBuffer:ne,Ky=ki.isFinite,b2=C1.join,v2=Wy(wo.keys,wo),Go=Vo.max,nc=Vo.min,w2=Ma.now,_2=ki.parseInt,Jy=Vo.random,$2=C1.reverse,ym=Yf(ki,"DataView"),fp=Yf(ki,"Map"),bm=Yf(ki,"Promise"),hd=Yf(ki,"Set"),hp=Yf(ki,"WeakMap"),dp=Yf(wo,"create"),q1=hp&&new hp,dd={},E2=Xf(ym),x2=Xf(fp),C2=Xf(bm),S2=Xf(hd),A2=Xf(hp),U1=Vu?Vu.prototype:ne,pp=U1?U1.valueOf:ne,Qy=U1?U1.toString:ne;function ci(Er){if(Lo(Er)&&!Qa(Er)&&!(Er instanceof so)){if(Er instanceof Jc)return Er;if(po.call(Er,"__wrapped__"))return Yb(Er)}return new Jc(Er)}var pd=function(){function Er(){}return function(Hr){if(!Do(Hr))return{};if(Vy)return Vy(Hr);Er.prototype=Hr;var Cn=new Er;return Er.prototype=ne,Cn}}();function F1(){}function Jc(Er,Hr){this.__wrapped__=Er,this.__actions__=[],this.__chain__=!!Hr,this.__index__=0,this.__values__=ne}ci.templateSettings={escape:ji,evaluate:qa,interpolate:ua,variable:"",imports:{_:ci}},ci.prototype=F1.prototype,ci.prototype.constructor=ci,Jc.prototype=pd(F1.prototype),Jc.prototype.constructor=Jc;function so(Er){this.__wrapped__=Er,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Yr,this.__views__=[]}function R2(){var Er=new so(this.__wrapped__);return Er.__actions__=$c(this.__actions__),Er.__dir__=this.__dir__,Er.__filtered__=this.__filtered__,Er.__iteratees__=$c(this.__iteratees__),Er.__takeCount__=this.__takeCount__,Er.__views__=$c(this.__views__),Er}function I2(){if(this.__filtered__){var Er=new so(this);Er.__dir__=-1,Er.__filtered__=!0}else Er=this.clone(),Er.__dir__*=-1;return Er}function P2(){var Er=this.__wrapped__.value(),Hr=this.__dir__,Cn=Qa(Er),Zn=Hr<0,oi=Cn?Er.length:0,ui=W3(0,oi,this.__views__),pi=ui.start,gi=ui.end,wi=gi-pi,Di=Zn?gi:pi-1,Li=this.__iteratees__,aa=Li.length,$a=0,Ba=nc(wi,this.__takeCount__);if(!Cn||!Zn&&oi==wi&&Ba==wi)return _b(Er,this.__actions__);var za=[];e:for(;wi--&&$a<Ba;){Di+=Hr;for(var Xa=-1,Va=Er[Di];++Xa<aa;){var io=Li[Xa],oo=io.iteratee,Oc=io.type,gc=oo(Va);if(Oc==wr)Va=gc;else if(!gc){if(Oc==Oe)continue e;break e}}za[$a++]=Va}return za}so.prototype=pd(F1.prototype),so.prototype.constructor=so;function Zf(Er){var Hr=-1,Cn=Er==null?0:Er.length;for(this.clear();++Hr<Cn;){var Zn=Er[Hr];this.set(Zn[0],Zn[1])}}function T2(){this.__data__=dp?dp(null):{},this.size=0}function N2(Er){var Hr=this.has(Er)&&delete this.__data__[Er];return this.size-=Hr?1:0,Hr}function k2(Er){var Hr=this.__data__;if(dp){var Cn=Hr[Er];return Cn===Ee?ne:Cn}return po.call(Hr,Er)?Hr[Er]:ne}function M2(Er){var Hr=this.__data__;return dp?Hr[Er]!==ne:po.call(Hr,Er)}function O2(Er,Hr){var Cn=this.__data__;return this.size+=this.has(Er)?0:1,Cn[Er]=dp&&Hr===ne?Ee:Hr,this}Zf.prototype.clear=T2,Zf.prototype.delete=N2,Zf.prototype.get=k2,Zf.prototype.has=M2,Zf.prototype.set=O2;function ru(Er){var Hr=-1,Cn=Er==null?0:Er.length;for(this.clear();++Hr<Cn;){var Zn=Er[Hr];this.set(Zn[0],Zn[1])}}function B2(){this.__data__=[],this.size=0}function D2(Er){var Hr=this.__data__,Cn=W1(Hr,Er);if(Cn<0)return!1;var Zn=Hr.length-1;return Cn==Zn?Hr.pop():M1.call(Hr,Cn,1),--this.size,!0}function L2(Er){var Hr=this.__data__,Cn=W1(Hr,Er);return Cn<0?ne:Hr[Cn][1]}function q2(Er){return W1(this.__data__,Er)>-1}function U2(Er,Hr){var Cn=this.__data__,Zn=W1(Cn,Er);return Zn<0?(++this.size,Cn.push([Er,Hr])):Cn[Zn][1]=Hr,this}ru.prototype.clear=B2,ru.prototype.delete=D2,ru.prototype.get=L2,ru.prototype.has=q2,ru.prototype.set=U2;function nu(Er){var Hr=-1,Cn=Er==null?0:Er.length;for(this.clear();++Hr<Cn;){var Zn=Er[Hr];this.set(Zn[0],Zn[1])}}function F2(){this.size=0,this.__data__={hash:new Zf,map:new(fp||ru),string:new Zf}}function W2(Er){var Hr=tg(this,Er).delete(Er);return this.size-=Hr?1:0,Hr}function j2(Er){return tg(this,Er).get(Er)}function H2(Er){return tg(this,Er).has(Er)}function z2(Er,Hr){var Cn=tg(this,Er),Zn=Cn.size;return Cn.set(Er,Hr),this.size+=Cn.size==Zn?0:1,this}nu.prototype.clear=F2,nu.prototype.delete=W2,nu.prototype.get=j2,nu.prototype.has=H2,nu.prototype.set=z2;function Kf(Er){var Hr=-1,Cn=Er==null?0:Er.length;for(this.__data__=new nu;++Hr<Cn;)this.add(Er[Hr])}function V2(Er){return this.__data__.set(Er,Ee),this}function G2(Er){return this.__data__.has(Er)}Kf.prototype.add=Kf.prototype.push=V2,Kf.prototype.has=G2;function gl(Er){var Hr=this.__data__=new ru(Er);this.size=Hr.size}function Z2(){this.__data__=new ru,this.size=0}function K2(Er){var Hr=this.__data__,Cn=Hr.delete(Er);return this.size=Hr.size,Cn}function J2(Er){return this.__data__.get(Er)}function Q2(Er){return this.__data__.has(Er)}function Y2(Er,Hr){var Cn=this.__data__;if(Cn instanceof ru){var Zn=Cn.__data__;if(!fp||Zn.length<ye-1)return Zn.push([Er,Hr]),this.size=++Cn.size,this;Cn=this.__data__=new nu(Zn)}return Cn.set(Er,Hr),this.size=Cn.size,this}gl.prototype.clear=Z2,gl.prototype.delete=K2,gl.prototype.get=J2,gl.prototype.has=Q2,gl.prototype.set=Y2;function Yy(Er,Hr){var Cn=Qa(Er),Zn=!Cn&&eh(Er),oi=!Cn&&!Zn&&Qu(Er),ui=!Cn&&!Zn&&!oi&&bd(Er),pi=Cn||Zn||oi||ui,gi=pi?hm(Er.length,c2):[],wi=gi.length;for(var Di in Er)(Hr||po.call(Er,Di))&&!(pi&&(Di=="length"||oi&&(Di=="offset"||Di=="parent")||ui&&(Di=="buffer"||Di=="byteLength"||Di=="byteOffset")||ou(Di,wi)))&&gi.push(Di);return gi}function Xy(Er){var Hr=Er.length;return Hr?Er[Im(0,Hr-1)]:ne}function X2(Er,Hr){return rg($c(Er),Jf(Hr,0,Er.length))}function e3(Er){return rg($c(Er))}function vm(Er,Hr,Cn){(Cn!==ne&&!ml(Er[Hr],Cn)||Cn===ne&&!(Hr in Er))&&iu(Er,Hr,Cn)}function gp(Er,Hr,Cn){var Zn=Er[Hr];(!(po.call(Er,Hr)&&ml(Zn,Cn))||Cn===ne&&!(Hr in Er))&&iu(Er,Hr,Cn)}function W1(Er,Hr){for(var Cn=Er.length;Cn--;)if(ml(Er[Cn][0],Hr))return Cn;return-1}function t3(Er,Hr,Cn,Zn){return Gu(Er,function(oi,ui,pi){Hr(Zn,oi,Cn(oi),pi)}),Zn}function eb(Er,Hr){return Er&&Nl(Hr,Ko(Hr),Er)}function r3(Er,Hr){return Er&&Nl(Hr,xc(Hr),Er)}function iu(Er,Hr,Cn){Hr=="__proto__"&&O1?O1(Er,Hr,{configurable:!0,enumerable:!0,value:Cn,writable:!0}):Er[Hr]=Cn}function wm(Er,Hr){for(var Cn=-1,Zn=Hr.length,oi=Si(Zn),ui=Er==null;++Cn<Zn;)oi[Cn]=ui?ne:ey(Er,Hr[Cn]);return oi}function Jf(Er,Hr,Cn){return Er===Er&&(Cn!==ne&&(Er=Er<=Cn?Er:Cn),Hr!==ne&&(Er=Er>=Hr?Er:Hr)),Er}function Qc(Er,Hr,Cn,Zn,oi,ui){var pi,gi=Hr&Ie,wi=Hr&fr,Di=Hr&br;if(Cn&&(pi=oi?Cn(Er,Zn,oi,ui):Cn(Er)),pi!==ne)return pi;if(!Do(Er))return Er;var Li=Qa(Er);if(Li){if(pi=H3(Er),!gi)return $c(Er,pi)}else{var aa=ic(Er),$a=aa==ri||aa==hi;if(Qu(Er))return xb(Er,gi);if(aa==xi||aa==ni||$a&&!oi){if(pi=wi||$a?{}:jb(Er),!gi)return wi?k3(Er,r3(pi,Er)):N3(Er,eb(pi,Er))}else{if(!go[aa])return oi?Er:{};pi=z3(Er,aa,gi)}}ui||(ui=new gl);var Ba=ui.get(Er);if(Ba)return Ba;ui.set(Er,pi),Pv(Er)?Er.forEach(function(Va){pi.add(Qc(Va,Hr,Cn,Va,Er,ui))}):Rv(Er)&&Er.forEach(function(Va,io){pi.set(io,Qc(Va,Hr,Cn,io,Er,ui))});var za=Di?wi?Um:qm:wi?xc:Ko,Xa=Li?ne:za(Er);return Zc(Xa||Er,function(Va,io){Xa&&(io=Va,Va=Er[io]),gp(pi,io,Qc(Va,Hr,Cn,io,Er,ui))}),pi}function n3(Er){var Hr=Ko(Er);return function(Cn){return tb(Cn,Er,Hr)}}function tb(Er,Hr,Cn){var Zn=Cn.length;if(Er==null)return!Zn;for(Er=wo(Er);Zn--;){var oi=Cn[Zn],ui=Hr[oi],pi=Er[oi];if(pi===ne&&!(oi in Er)||!ui(pi))return!1}return!0}function rb(Er,Hr,Cn){if(typeof Er!="function")throw new Kc(be);return $p(function(){Er.apply(ne,Cn)},Hr)}function mp(Er,Hr,Cn,Zn){var oi=-1,ui=$1,pi=!0,gi=Er.length,wi=[],Di=Hr.length;if(!gi)return wi;Cn&&(Hr=Ro(Hr,Nc(Cn))),Zn?(ui=am,pi=!1):Hr.length>=ye&&(ui=lp,pi=!1,Hr=new Kf(Hr));e:for(;++oi<gi;){var Li=Er[oi],aa=Cn==null?Li:Cn(Li);if(Li=Zn||Li!==0?Li:0,pi&&aa===aa){for(var $a=Di;$a--;)if(Hr[$a]===aa)continue e;wi.push(Li)}else ui(Hr,aa,Zn)||wi.push(Li)}return wi}var Gu=Ib(Tl),nb=Ib($m,!0);function i3(Er,Hr){var Cn=!0;return Gu(Er,function(Zn,oi,ui){return Cn=!!Hr(Zn,oi,ui),Cn}),Cn}function j1(Er,Hr,Cn){for(var Zn=-1,oi=Er.length;++Zn<oi;){var ui=Er[Zn],pi=Hr(ui);if(pi!=null&&(gi===ne?pi===pi&&!Mc(pi):Cn(pi,gi)))var gi=pi,wi=ui}return wi}function s3(Er,Hr,Cn,Zn){var oi=Er.length;for(Cn=Ya(Cn),Cn<0&&(Cn=-Cn>oi?0:oi+Cn),Zn=Zn===ne||Zn>oi?oi:Ya(Zn),Zn<0&&(Zn+=oi),Zn=Cn>Zn?0:Nv(Zn);Cn<Zn;)Er[Cn++]=Hr;return Er}function ib(Er,Hr){var Cn=[];return Gu(Er,function(Zn,oi,ui){Hr(Zn,oi,ui)&&Cn.push(Zn)}),Cn}function Yo(Er,Hr,Cn,Zn,oi){var ui=-1,pi=Er.length;for(Cn||(Cn=G3),oi||(oi=[]);++ui<pi;){var gi=Er[ui];Hr>0&&Cn(gi)?Hr>1?Yo(gi,Hr-1,Cn,Zn,oi):Hu(oi,gi):Zn||(oi[oi.length]=gi)}return oi}var _m=Pb(),sb=Pb(!0);function Tl(Er,Hr){return Er&&_m(Er,Hr,Ko)}function $m(Er,Hr){return Er&&sb(Er,Hr,Ko)}function H1(Er,Hr){return ju(Hr,function(Cn){return cu(Er[Cn])})}function Qf(Er,Hr){Hr=Ku(Hr,Er);for(var Cn=0,Zn=Hr.length;Er!=null&&Cn<Zn;)Er=Er[kl(Hr[Cn++])];return Cn&&Cn==Zn?Er:ne}function ab(Er,Hr,Cn){var Zn=Hr(Er);return Qa(Er)?Zn:Hu(Zn,Cn(Er))}function dc(Er){return Er==null?Er===ne?Ai:Ti:Gf&&Gf in wo(Er)?F3(Er):e_(Er)}function Em(Er,Hr){return Er>Hr}function a3(Er,Hr){return Er!=null&&po.call(Er,Hr)}function o3(Er,Hr){return Er!=null&&Hr in wo(Er)}function c3(Er,Hr,Cn){return Er>=nc(Hr,Cn)&&Er<Go(Hr,Cn)}function xm(Er,Hr,Cn){for(var Zn=Cn?am:$1,oi=Er[0].length,ui=Er.length,pi=ui,gi=Si(ui),wi=1/0,Di=[];pi--;){var Li=Er[pi];pi&&Hr&&(Li=Ro(Li,Nc(Hr))),wi=nc(Li.length,wi),gi[pi]=!Cn&&(Hr||oi>=120&&Li.length>=120)?new Kf(pi&&Li):ne}Li=Er[0];var aa=-1,$a=gi[0];e:for(;++aa<oi&&Di.length<wi;){var Ba=Li[aa],za=Hr?Hr(Ba):Ba;if(Ba=Cn||Ba!==0?Ba:0,!($a?lp($a,za):Zn(Di,za,Cn))){for(pi=ui;--pi;){var Xa=gi[pi];if(!(Xa?lp(Xa,za):Zn(Er[pi],za,Cn)))continue e}$a&&$a.push(za),Di.push(Ba)}}return Di}function l3(Er,Hr,Cn,Zn){return Tl(Er,function(oi,ui,pi){Hr(Zn,Cn(oi),ui,pi)}),Zn}function yp(Er,Hr,Cn){Hr=Ku(Hr,Er),Er=Gb(Er,Hr);var Zn=Er==null?Er:Er[kl(Xc(Hr))];return Zn==null?ne:Zo(Zn,Er,Cn)}function ob(Er){return Lo(Er)&&dc(Er)==ni}function u3(Er){return Lo(Er)&&dc(Er)==Ci}function f3(Er){return Lo(Er)&&dc(Er)==ei}function bp(Er,Hr,Cn,Zn,oi){return Er===Hr?!0:Er==null||Hr==null||!Lo(Er)&&!Lo(Hr)?Er!==Er&&Hr!==Hr:h3(Er,Hr,Cn,Zn,bp,oi)}function h3(Er,Hr,Cn,Zn,oi,ui){var pi=Qa(Er),gi=Qa(Hr),wi=pi?si:ic(Er),Di=gi?si:ic(Hr);wi=wi==ni?xi:wi,Di=Di==ni?xi:Di;var Li=wi==xi,aa=Di==xi,$a=wi==Di;if($a&&Qu(Er)){if(!Qu(Hr))return!1;pi=!0,Li=!1}if($a&&!Li)return ui||(ui=new gl),pi||bd(Er)?Ub(Er,Hr,Cn,Zn,oi,ui):q3(Er,Hr,wi,Cn,Zn,oi,ui);if(!(Cn&kr)){var Ba=Li&&po.call(Er,"__wrapped__"),za=aa&&po.call(Hr,"__wrapped__");if(Ba||za){var Xa=Ba?Er.value():Er,Va=za?Hr.value():Hr;return ui||(ui=new gl),oi(Xa,Va,Cn,Zn,ui)}}return $a?(ui||(ui=new gl),U3(Er,Hr,Cn,Zn,oi,ui)):!1}function d3(Er){return Lo(Er)&&ic(Er)==mi}function Cm(Er,Hr,Cn,Zn){var oi=Cn.length,ui=oi,pi=!Zn;if(Er==null)return!ui;for(Er=wo(Er);oi--;){var gi=Cn[oi];if(pi&&gi[2]?gi[1]!==Er[gi[0]]:!(gi[0]in Er))return!1}for(;++oi<ui;){gi=Cn[oi];var wi=gi[0],Di=Er[wi],Li=gi[1];if(pi&&gi[2]){if(Di===ne&&!(wi in Er))return!1}else{var aa=new gl;if(Zn)var $a=Zn(Di,Li,wi,Er,Hr,aa);if(!($a===ne?bp(Li,Di,kr|Wr,Zn,aa):$a))return!1}}return!0}function cb(Er){if(!Do(Er)||K3(Er))return!1;var Hr=cu(Er)?d2:Po;return Hr.test(Xf(Er))}function p3(Er){return Lo(Er)&&dc(Er)==Pi}function g3(Er){return Lo(Er)&&ic(Er)==Ei}function m3(Er){return Lo(Er)&&cg(Er.length)&&!!yo[dc(Er)]}function lb(Er){return typeof Er=="function"?Er:Er==null?Cc:typeof Er=="object"?Qa(Er)?hb(Er[0],Er[1]):fb(Er):jv(Er)}function Sm(Er){if(!_p(Er))return v2(Er);var Hr=[];for(var Cn in wo(Er))po.call(Er,Cn)&&Cn!="constructor"&&Hr.push(Cn);return Hr}function y3(Er){if(!Do(Er))return X3(Er);var Hr=_p(Er),Cn=[];for(var Zn in Er)Zn=="constructor"&&(Hr||!po.call(Er,Zn))||Cn.push(Zn);return Cn}function Am(Er,Hr){return Er<Hr}function ub(Er,Hr){var Cn=-1,Zn=Ec(Er)?Si(Er.length):[];return Gu(Er,function(oi,ui,pi){Zn[++Cn]=Hr(oi,ui,pi)}),Zn}function fb(Er){var Hr=Wm(Er);return Hr.length==1&&Hr[0][2]?zb(Hr[0][0],Hr[0][1]):function(Cn){return Cn===Er||Cm(Cn,Er,Hr)}}function hb(Er,Hr){return Hm(Er)&&Hb(Hr)?zb(kl(Er),Hr):function(Cn){var Zn=ey(Cn,Er);return Zn===ne&&Zn===Hr?ty(Cn,Er):bp(Hr,Zn,kr|Wr)}}function z1(Er,Hr,Cn,Zn,oi){Er!==Hr&&_m(Hr,function(ui,pi){if(oi||(oi=new gl),Do(ui))b3(Er,Hr,pi,Cn,z1,Zn,oi);else{var gi=Zn?Zn(Vm(Er,pi),ui,pi+"",Er,Hr,oi):ne;gi===ne&&(gi=ui),vm(Er,pi,gi)}},xc)}function b3(Er,Hr,Cn,Zn,oi,ui,pi){var gi=Vm(Er,Cn),wi=Vm(Hr,Cn),Di=pi.get(wi);if(Di){vm(Er,Cn,Di);return}var Li=ui?ui(gi,wi,Cn+"",Er,Hr,pi):ne,aa=Li===ne;if(aa){var $a=Qa(wi),Ba=!$a&&Qu(wi),za=!$a&&!Ba&&bd(wi);Li=wi,$a||Ba||za?Qa(gi)?Li=gi:Uo(gi)?Li=$c(gi):Ba?(aa=!1,Li=xb(wi,!0)):za?(aa=!1,Li=Cb(wi,!0)):Li=[]:Ep(wi)||eh(wi)?(Li=gi,eh(gi)?Li=kv(gi):(!Do(gi)||cu(gi))&&(Li=jb(wi))):aa=!1}aa&&(pi.set(wi,Li),oi(Li,wi,Zn,ui,pi),pi.delete(wi)),vm(Er,Cn,Li)}function db(Er,Hr){var Cn=Er.length;if(Cn)return Hr+=Hr<0?Cn:0,ou(Hr,Cn)?Er[Hr]:ne}function pb(Er,Hr,Cn){Hr.length?Hr=Ro(Hr,function(ui){return Qa(ui)?function(pi){return Qf(pi,ui.length===1?ui[0]:ui)}:ui}):Hr=[Cc];var Zn=-1;Hr=Ro(Hr,Nc(Ha()));var oi=ub(Er,function(ui,pi,gi){var wi=Ro(Hr,function(Di){return Di(ui)});return{criteria:wi,index:++Zn,value:ui}});return zw(oi,function(ui,pi){return T3(ui,pi,Cn)})}function v3(Er,Hr){return gb(Er,Hr,function(Cn,Zn){return ty(Er,Zn)})}function gb(Er,Hr,Cn){for(var Zn=-1,oi=Hr.length,ui={};++Zn<oi;){var pi=Hr[Zn],gi=Qf(Er,pi);Cn(gi,pi)&&vp(ui,Ku(pi,Er),gi)}return ui}function w3(Er){return function(Hr){return Qf(Hr,Er)}}function Rm(Er,Hr,Cn,Zn){var oi=Zn?Hw:od,ui=-1,pi=Hr.length,gi=Er;for(Er===Hr&&(Hr=$c(Hr)),Cn&&(gi=Ro(Er,Nc(Cn)));++ui<pi;)for(var wi=0,Di=Hr[ui],Li=Cn?Cn(Di):Di;(wi=oi(gi,Li,wi,Zn))>-1;)gi!==Er&&M1.call(gi,wi,1),M1.call(Er,wi,1);return Er}function mb(Er,Hr){for(var Cn=Er?Hr.length:0,Zn=Cn-1;Cn--;){var oi=Hr[Cn];if(Cn==Zn||oi!==ui){var ui=oi;ou(oi)?M1.call(Er,oi,1):Nm(Er,oi)}}return Er}function Im(Er,Hr){return Er+D1(Jy()*(Hr-Er+1))}function _3(Er,Hr,Cn,Zn){for(var oi=-1,ui=Go(B1((Hr-Er)/(Cn||1)),0),pi=Si(ui);ui--;)pi[Zn?ui:++oi]=Er,Er+=Cn;return pi}function Pm(Er,Hr){var Cn="";if(!Er||Hr<1||Hr>Jr)return Cn;do Hr%2&&(Cn+=Er),Hr=D1(Hr/2),Hr&&(Er+=Er);while(Hr);return Cn}function eo(Er,Hr){return Gm(Vb(Er,Hr,Cc),Er+"")}function $3(Er){return Xy(vd(Er))}function E3(Er,Hr){var Cn=vd(Er);return rg(Cn,Jf(Hr,0,Cn.length))}function vp(Er,Hr,Cn,Zn){if(!Do(Er))return Er;Hr=Ku(Hr,Er);for(var oi=-1,ui=Hr.length,pi=ui-1,gi=Er;gi!=null&&++oi<ui;){var wi=kl(Hr[oi]),Di=Cn;if(wi==="__proto__"||wi==="constructor"||wi==="prototype")return Er;if(oi!=pi){var Li=gi[wi];Di=Zn?Zn(Li,wi,gi):ne,Di===ne&&(Di=Do(Li)?Li:ou(Hr[oi+1])?[]:{})}gp(gi,wi,Di),gi=gi[wi]}return Er}var yb=q1?function(Er,Hr){return q1.set(Er,Hr),Er}:Cc,x3=O1?function(Er,Hr){return O1(Er,"toString",{configurable:!0,enumerable:!1,value:ny(Hr),writable:!0})}:Cc;function C3(Er){return rg(vd(Er))}function Yc(Er,Hr,Cn){var Zn=-1,oi=Er.length;Hr<0&&(Hr=-Hr>oi?0:oi+Hr),Cn=Cn>oi?oi:Cn,Cn<0&&(Cn+=oi),oi=Hr>Cn?0:Cn-Hr>>>0,Hr>>>=0;for(var ui=Si(oi);++Zn<oi;)ui[Zn]=Er[Zn+Hr];return ui}function S3(Er,Hr){var Cn;return Gu(Er,function(Zn,oi,ui){return Cn=Hr(Zn,oi,ui),!Cn}),!!Cn}function G1(Er,Hr,Cn){var Zn=0,oi=Er==null?Zn:Er.length;if(typeof Hr=="number"&&Hr===Hr&&oi<=_n){for(;Zn<oi;){var ui=Zn+oi>>>1,pi=Er[ui];pi!==null&&!Mc(pi)&&(Cn?pi<=Hr:pi<Hr)?Zn=ui+1:oi=ui}return oi}return Tm(Er,Hr,Cc,Cn)}function Tm(Er,Hr,Cn,Zn){var oi=0,ui=Er==null?0:Er.length;if(ui===0)return 0;Hr=Cn(Hr);for(var pi=Hr!==Hr,gi=Hr===null,wi=Mc(Hr),Di=Hr===ne;oi<ui;){var Li=D1((oi+ui)/2),aa=Cn(Er[Li]),$a=aa!==ne,Ba=aa===null,za=aa===aa,Xa=Mc(aa);if(pi)var Va=Zn||za;else Di?Va=za&&(Zn||$a):gi?Va=za&&$a&&(Zn||!Ba):wi?Va=za&&$a&&!Ba&&(Zn||!Xa):Ba||Xa?Va=!1:Va=Zn?aa<=Hr:aa<Hr;Va?oi=Li+1:ui=Li}return nc(ui,Br)}function bb(Er,Hr){for(var Cn=-1,Zn=Er.length,oi=0,ui=[];++Cn<Zn;){var pi=Er[Cn],gi=Hr?Hr(pi):pi;if(!Cn||!ml(gi,wi)){var wi=gi;ui[oi++]=pi===0?0:pi}}return ui}function vb(Er){return typeof Er=="number"?Er:Mc(Er)?Kr:+Er}function kc(Er){if(typeof Er=="string")return Er;if(Qa(Er))return Ro(Er,kc)+"";if(Mc(Er))return Qy?Qy.call(Er):"";var Hr=Er+"";return Hr=="0"&&1/Er==-Vr?"-0":Hr}function Zu(Er,Hr,Cn){var Zn=-1,oi=$1,ui=Er.length,pi=!0,gi=[],wi=gi;if(Cn)pi=!1,oi=am;else if(ui>=ye){var Di=Hr?null:D3(Er);if(Di)return x1(Di);pi=!1,oi=lp,wi=new Kf}else wi=Hr?[]:gi;e:for(;++Zn<ui;){var Li=Er[Zn],aa=Hr?Hr(Li):Li;if(Li=Cn||Li!==0?Li:0,pi&&aa===aa){for(var $a=wi.length;$a--;)if(wi[$a]===aa)continue e;Hr&&wi.push(aa),gi.push(Li)}else oi(wi,aa,Cn)||(wi!==gi&&wi.push(aa),gi.push(Li))}return gi}function Nm(Er,Hr){return Hr=Ku(Hr,Er),Er=Gb(Er,Hr),Er==null||delete Er[kl(Xc(Hr))]}function wb(Er,Hr,Cn,Zn){return vp(Er,Hr,Cn(Qf(Er,Hr)),Zn)}function Z1(Er,Hr,Cn,Zn){for(var oi=Er.length,ui=Zn?oi:-1;(Zn?ui--:++ui<oi)&&Hr(Er[ui],ui,Er););return Cn?Yc(Er,Zn?0:ui,Zn?ui+1:oi):Yc(Er,Zn?ui+1:0,Zn?oi:ui)}function _b(Er,Hr){var Cn=Er;return Cn instanceof so&&(Cn=Cn.value()),om(Hr,function(Zn,oi){return oi.func.apply(oi.thisArg,Hu([Zn],oi.args))},Cn)}function km(Er,Hr,Cn){var Zn=Er.length;if(Zn<2)return Zn?Zu(Er[0]):[];for(var oi=-1,ui=Si(Zn);++oi<Zn;)for(var pi=Er[oi],gi=-1;++gi<Zn;)gi!=oi&&(ui[oi]=mp(ui[oi]||pi,Er[gi],Hr,Cn));return Zu(Yo(ui,1),Hr,Cn)}function $b(Er,Hr,Cn){for(var Zn=-1,oi=Er.length,ui=Hr.length,pi={};++Zn<oi;){var gi=Zn<ui?Hr[Zn]:ne;Cn(pi,Er[Zn],gi)}return pi}function Mm(Er){return Uo(Er)?Er:[]}function Om(Er){return typeof Er=="function"?Er:Cc}function Ku(Er,Hr){return Qa(Er)?Er:Hm(Er,Hr)?[Er]:Qb(uo(Er))}var A3=eo;function Ju(Er,Hr,Cn){var Zn=Er.length;return Cn=Cn===ne?Zn:Cn,!Hr&&Cn>=Zn?Er:Yc(Er,Hr,Cn)}var Eb=p2||function(Er){return ao.clearTimeout(Er)};function xb(Er,Hr){if(Hr)return Er.slice();var Cn=Er.length,Zn=zy?zy(Cn):new Er.constructor(Cn);return Er.copy(Zn),Zn}function Bm(Er){var Hr=new Er.constructor(Er.byteLength);return new N1(Hr).set(new N1(Er)),Hr}function R3(Er,Hr){var Cn=Hr?Bm(Er.buffer):Er.buffer;return new Er.constructor(Cn,Er.byteOffset,Er.byteLength)}function I3(Er){var Hr=new Er.constructor(Er.source,va.exec(Er));return Hr.lastIndex=Er.lastIndex,Hr}function P3(Er){return pp?wo(pp.call(Er)):{}}function Cb(Er,Hr){var Cn=Hr?Bm(Er.buffer):Er.buffer;return new Er.constructor(Cn,Er.byteOffset,Er.length)}function Sb(Er,Hr){if(Er!==Hr){var Cn=Er!==ne,Zn=Er===null,oi=Er===Er,ui=Mc(Er),pi=Hr!==ne,gi=Hr===null,wi=Hr===Hr,Di=Mc(Hr);if(!gi&&!Di&&!ui&&Er>Hr||ui&&pi&&wi&&!gi&&!Di||Zn&&pi&&wi||!Cn&&wi||!oi)return 1;if(!Zn&&!ui&&!Di&&Er<Hr||Di&&Cn&&oi&&!Zn&&!ui||gi&&Cn&&oi||!pi&&oi||!wi)return-1}return 0}function T3(Er,Hr,Cn){for(var Zn=-1,oi=Er.criteria,ui=Hr.criteria,pi=oi.length,gi=Cn.length;++Zn<pi;){var wi=Sb(oi[Zn],ui[Zn]);if(wi){if(Zn>=gi)return wi;var Di=Cn[Zn];return wi*(Di=="desc"?-1:1)}}return Er.index-Hr.index}function Ab(Er,Hr,Cn,Zn){for(var oi=-1,ui=Er.length,pi=Cn.length,gi=-1,wi=Hr.length,Di=Go(ui-pi,0),Li=Si(wi+Di),aa=!Zn;++gi<wi;)Li[gi]=Hr[gi];for(;++oi<pi;)(aa||oi<ui)&&(Li[Cn[oi]]=Er[oi]);for(;Di--;)Li[gi++]=Er[oi++];return Li}function Rb(Er,Hr,Cn,Zn){for(var oi=-1,ui=Er.length,pi=-1,gi=Cn.length,wi=-1,Di=Hr.length,Li=Go(ui-gi,0),aa=Si(Li+Di),$a=!Zn;++oi<Li;)aa[oi]=Er[oi];for(var Ba=oi;++wi<Di;)aa[Ba+wi]=Hr[wi];for(;++pi<gi;)($a||oi<ui)&&(aa[Ba+Cn[pi]]=Er[oi++]);return aa}function $c(Er,Hr){var Cn=-1,Zn=Er.length;for(Hr||(Hr=Si(Zn));++Cn<Zn;)Hr[Cn]=Er[Cn];return Hr}function Nl(Er,Hr,Cn,Zn){var oi=!Cn;Cn||(Cn={});for(var ui=-1,pi=Hr.length;++ui<pi;){var gi=Hr[ui],wi=Zn?Zn(Cn[gi],Er[gi],gi,Cn,Er):ne;wi===ne&&(wi=Er[gi]),oi?iu(Cn,gi,wi):gp(Cn,gi,wi)}return Cn}function N3(Er,Hr){return Nl(Er,jm(Er),Hr)}function k3(Er,Hr){return Nl(Er,Fb(Er),Hr)}function K1(Er,Hr){return function(Cn,Zn){var oi=Qa(Cn)?Lw:t3,ui=Hr?Hr():{};return oi(Cn,Er,Ha(Zn,2),ui)}}function gd(Er){return eo(function(Hr,Cn){var Zn=-1,oi=Cn.length,ui=oi>1?Cn[oi-1]:ne,pi=oi>2?Cn[2]:ne;for(ui=Er.length>3&&typeof ui=="function"?(oi--,ui):ne,pi&&pc(Cn[0],Cn[1],pi)&&(ui=oi<3?ne:ui,oi=1),Hr=wo(Hr);++Zn<oi;){var gi=Cn[Zn];gi&&Er(Hr,gi,Zn,ui)}return Hr})}function Ib(Er,Hr){return function(Cn,Zn){if(Cn==null)return Cn;if(!Ec(Cn))return Er(Cn,Zn);for(var oi=Cn.length,ui=Hr?oi:-1,pi=wo(Cn);(Hr?ui--:++ui<oi)&&Zn(pi[ui],ui,pi)!==!1;);return Cn}}function Pb(Er){return function(Hr,Cn,Zn){for(var oi=-1,ui=wo(Hr),pi=Zn(Hr),gi=pi.length;gi--;){var wi=pi[Er?gi:++oi];if(Cn(ui[wi],wi,ui)===!1)break}return Hr}}function M3(Er,Hr,Cn){var Zn=Hr&Gr,oi=wp(Er);function ui(){var pi=this&&this!==ao&&this instanceof ui?oi:Er;return pi.apply(Zn?Cn:this,arguments)}return ui}function Tb(Er){return function(Hr){Hr=uo(Hr);var Cn=cd(Hr)?pl(Hr):ne,Zn=Cn?Cn[0]:Hr.charAt(0),oi=Cn?Ju(Cn,1).join(""):Hr.slice(1);return Zn[Er]()+oi}}function md(Er){return function(Hr){return om(Fv(Uv(Hr).replace(op,"")),Er,"")}}function wp(Er){return function(){var Hr=arguments;switch(Hr.length){case 0:return new Er;case 1:return new Er(Hr[0]);case 2:return new Er(Hr[0],Hr[1]);case 3:return new Er(Hr[0],Hr[1],Hr[2]);case 4:return new Er(Hr[0],Hr[1],Hr[2],Hr[3]);case 5:return new Er(Hr[0],Hr[1],Hr[2],Hr[3],Hr[4]);case 6:return new Er(Hr[0],Hr[1],Hr[2],Hr[3],Hr[4],Hr[5]);case 7:return new Er(Hr[0],Hr[1],Hr[2],Hr[3],Hr[4],Hr[5],Hr[6])}var Cn=pd(Er.prototype),Zn=Er.apply(Cn,Hr);return Do(Zn)?Zn:Cn}}function O3(Er,Hr,Cn){var Zn=wp(Er);function oi(){for(var ui=arguments.length,pi=Si(ui),gi=ui,wi=yd(oi);gi--;)pi[gi]=arguments[gi];var Di=ui<3&&pi[0]!==wi&&pi[ui-1]!==wi?[]:zu(pi,wi);if(ui-=Di.length,ui<Cn)return Bb(Er,Hr,J1,oi.placeholder,ne,pi,Di,ne,ne,Cn-ui);var Li=this&&this!==ao&&this instanceof oi?Zn:Er;return Zo(Li,this,pi)}return oi}function Nb(Er){return function(Hr,Cn,Zn){var oi=wo(Hr);if(!Ec(Hr)){var ui=Ha(Cn,3);Hr=Ko(Hr),Cn=function(gi){return ui(oi[gi],gi,oi)}}var pi=Er(Hr,Cn,Zn);return pi>-1?oi[ui?Hr[pi]:pi]:ne}}function kb(Er){return au(function(Hr){var Cn=Hr.length,Zn=Cn,oi=Jc.prototype.thru;for(Er&&Hr.reverse();Zn--;){var ui=Hr[Zn];if(typeof ui!="function")throw new Kc(be);if(oi&&!pi&&eg(ui)=="wrapper")var pi=new Jc([],!0)}for(Zn=pi?Zn:Cn;++Zn<Cn;){ui=Hr[Zn];var gi=eg(ui),wi=gi=="wrapper"?Fm(ui):ne;wi&&zm(wi[0])&&wi[1]==($n|wn|Rn|Tn)&&!wi[4].length&&wi[9]==1?pi=pi[eg(wi[0])].apply(pi,wi[3]):pi=ui.length==1&&zm(ui)?pi[gi]():pi.thru(ui)}return function(){var Di=arguments,Li=Di[0];if(pi&&Di.length==1&&Qa(Li))return pi.plant(Li).value();for(var aa=0,$a=Cn?Hr[aa].apply(this,Di):Li;++aa<Cn;)$a=Hr[aa].call(this,$a);return $a}})}function J1(Er,Hr,Cn,Zn,oi,ui,pi,gi,wi,Di){var Li=Hr&$n,aa=Hr&Gr,$a=Hr&jr,Ba=Hr&(wn|En),za=Hr&ti,Xa=$a?ne:wp(Er);function Va(){for(var io=arguments.length,oo=Si(io),Oc=io;Oc--;)oo[Oc]=arguments[Oc];if(Ba)var gc=yd(Va),Bc=Gw(oo,gc);if(Zn&&(oo=Ab(oo,Zn,oi,Ba)),ui&&(oo=Rb(oo,ui,pi,Ba)),io-=Bc,Ba&&io<Di){var Fo=zu(oo,gc);return Bb(Er,Hr,J1,Va.placeholder,Cn,oo,Fo,gi,wi,Di-io)}var yl=aa?Cn:this,uu=$a?yl[Er]:Er;return io=oo.length,gi?oo=t_(oo,gi):za&&io>1&&oo.reverse(),Li&&wi<io&&(oo.length=wi),this&&this!==ao&&this instanceof Va&&(uu=Xa||wp(uu)),uu.apply(yl,oo)}return Va}function Mb(Er,Hr){return function(Cn,Zn){return l3(Cn,Er,Hr(Zn),{})}}function Q1(Er,Hr){return function(Cn,Zn){var oi;if(Cn===ne&&Zn===ne)return Hr;if(Cn!==ne&&(oi=Cn),Zn!==ne){if(oi===ne)return Zn;typeof Cn=="string"||typeof Zn=="string"?(Cn=kc(Cn),Zn=kc(Zn)):(Cn=vb(Cn),Zn=vb(Zn)),oi=Er(Cn,Zn)}return oi}}function Dm(Er){return au(function(Hr){return Hr=Ro(Hr,Nc(Ha())),eo(function(Cn){var Zn=this;return Er(Hr,function(oi){return Zo(oi,Zn,Cn)})})})}function Y1(Er,Hr){Hr=Hr===ne?" ":kc(Hr);var Cn=Hr.length;if(Cn<2)return Cn?Pm(Hr,Er):Hr;var Zn=Pm(Hr,B1(Er/ld(Hr)));return cd(Hr)?Ju(pl(Zn),0,Er).join(""):Zn.slice(0,Er)}function B3(Er,Hr,Cn,Zn){var oi=Hr&Gr,ui=wp(Er);function pi(){for(var gi=-1,wi=arguments.length,Di=-1,Li=Zn.length,aa=Si(Li+wi),$a=this&&this!==ao&&this instanceof pi?ui:Er;++Di<Li;)aa[Di]=Zn[Di];for(;wi--;)aa[Di++]=arguments[++gi];return Zo($a,oi?Cn:this,aa)}return pi}function Ob(Er){return function(Hr,Cn,Zn){return Zn&&typeof Zn!="number"&&pc(Hr,Cn,Zn)&&(Cn=Zn=ne),Hr=lu(Hr),Cn===ne?(Cn=Hr,Hr=0):Cn=lu(Cn),Zn=Zn===ne?Hr<Cn?1:-1:lu(Zn),_3(Hr,Cn,Zn,Er)}}function X1(Er){return function(Hr,Cn){return typeof Hr=="string"&&typeof Cn=="string"||(Hr=el(Hr),Cn=el(Cn)),Er(Hr,Cn)}}function Bb(Er,Hr,Cn,Zn,oi,ui,pi,gi,wi,Di){var Li=Hr&wn,aa=Li?pi:ne,$a=Li?ne:pi,Ba=Li?ui:ne,za=Li?ne:ui;Hr|=Li?Rn:An,Hr&=~(Li?An:Rn),Hr&Qr||(Hr&=~(Gr|jr));var Xa=[Er,Hr,oi,Ba,aa,za,$a,gi,wi,Di],Va=Cn.apply(ne,Xa);return zm(Er)&&Zb(Va,Xa),Va.placeholder=Zn,Kb(Va,Er,Hr)}function Lm(Er){var Hr=Vo[Er];return function(Cn,Zn){if(Cn=el(Cn),Zn=Zn==null?0:nc(Ya(Zn),292),Zn&&Ky(Cn)){var oi=(uo(Cn)+"e").split("e"),ui=Hr(oi[0]+"e"+(+oi[1]+Zn));return oi=(uo(ui)+"e").split("e"),+(oi[0]+"e"+(+oi[1]-Zn))}return Hr(Cn)}}var D3=hd&&1/x1(new hd([,-0]))[1]==Vr?function(Er){return new hd(Er)}:ay;function Db(Er){return function(Hr){var Cn=ic(Hr);return Cn==mi?pm(Hr):Cn==Ei?e2(Hr):Vw(Hr,Er(Hr))}}function su(Er,Hr,Cn,Zn,oi,ui,pi,gi){var wi=Hr&jr;if(!wi&&typeof Er!="function")throw new Kc(be);var Di=Zn?Zn.length:0;if(Di||(Hr&=~(Rn|An),Zn=oi=ne),pi=pi===ne?pi:Go(Ya(pi),0),gi=gi===ne?gi:Ya(gi),Di-=oi?oi.length:0,Hr&An){var Li=Zn,aa=oi;Zn=oi=ne}var $a=wi?ne:Fm(Er),Ba=[Er,Hr,Cn,Zn,oi,Li,aa,ui,pi,gi];if($a&&Y3(Ba,$a),Er=Ba[0],Hr=Ba[1],Cn=Ba[2],Zn=Ba[3],oi=Ba[4],gi=Ba[9]=Ba[9]===ne?wi?0:Er.length:Go(Ba[9]-Di,0),!gi&&Hr&(wn|En)&&(Hr&=~(wn|En)),!Hr||Hr==Gr)var za=M3(Er,Hr,Cn);else Hr==wn||Hr==En?za=O3(Er,Hr,gi):(Hr==Rn||Hr==(Gr|Rn))&&!oi.length?za=B3(Er,Hr,Cn,Zn):za=J1.apply(ne,Ba);var Xa=$a?yb:Zb;return Kb(Xa(za,Ba),Er,Hr)}function Lb(Er,Hr,Cn,Zn){return Er===ne||ml(Er,fd[Cn])&&!po.call(Zn,Cn)?Hr:Er}function qb(Er,Hr,Cn,Zn,oi,ui){return Do(Er)&&Do(Hr)&&(ui.set(Hr,Er),z1(Er,Hr,ne,qb,ui),ui.delete(Hr)),Er}function L3(Er){return Ep(Er)?ne:Er}function Ub(Er,Hr,Cn,Zn,oi,ui){var pi=Cn&kr,gi=Er.length,wi=Hr.length;if(gi!=wi&&!(pi&&wi>gi))return!1;var Di=ui.get(Er),Li=ui.get(Hr);if(Di&&Li)return Di==Hr&&Li==Er;var aa=-1,$a=!0,Ba=Cn&Wr?new Kf:ne;for(ui.set(Er,Hr),ui.set(Hr,Er);++aa<gi;){var za=Er[aa],Xa=Hr[aa];if(Zn)var Va=pi?Zn(Xa,za,aa,Hr,Er,ui):Zn(za,Xa,aa,Er,Hr,ui);if(Va!==ne){if(Va)continue;$a=!1;break}if(Ba){if(!cm(Hr,function(io,oo){if(!lp(Ba,oo)&&(za===io||oi(za,io,Cn,Zn,ui)))return Ba.push(oo)})){$a=!1;break}}else if(!(za===Xa||oi(za,Xa,Cn,Zn,ui))){$a=!1;break}}return ui.delete(Er),ui.delete(Hr),$a}function q3(Er,Hr,Cn,Zn,oi,ui,pi){switch(Cn){case ma:if(Er.byteLength!=Hr.byteLength||Er.byteOffset!=Hr.byteOffset)return!1;Er=Er.buffer,Hr=Hr.buffer;case Ci:return!(Er.byteLength!=Hr.byteLength||!ui(new N1(Er),new N1(Hr)));case jn:case ei:case $i:return ml(+Er,+Hr);case zn:return Er.name==Hr.name&&Er.message==Hr.message;case Pi:case ha:return Er==Hr+"";case mi:var gi=pm;case Ei:var wi=Zn&kr;if(gi||(gi=x1),Er.size!=Hr.size&&!wi)return!1;var Di=pi.get(Er);if(Di)return Di==Hr;Zn|=Wr,pi.set(Er,Hr);var Li=Ub(gi(Er),gi(Hr),Zn,oi,ui,pi);return pi.delete(Er),Li;case Ni:if(pp)return pp.call(Er)==pp.call(Hr)}return!1}function U3(Er,Hr,Cn,Zn,oi,ui){var pi=Cn&kr,gi=qm(Er),wi=gi.length,Di=qm(Hr),Li=Di.length;if(wi!=Li&&!pi)return!1;for(var aa=wi;aa--;){var $a=gi[aa];if(!(pi?$a in Hr:po.call(Hr,$a)))return!1}var Ba=ui.get(Er),za=ui.get(Hr);if(Ba&&za)return Ba==Hr&&za==Er;var Xa=!0;ui.set(Er,Hr),ui.set(Hr,Er);for(var Va=pi;++aa<wi;){$a=gi[aa];var io=Er[$a],oo=Hr[$a];if(Zn)var Oc=pi?Zn(oo,io,$a,Hr,Er,ui):Zn(io,oo,$a,Er,Hr,ui);if(!(Oc===ne?io===oo||oi(io,oo,Cn,Zn,ui):Oc)){Xa=!1;break}Va||(Va=$a=="constructor")}if(Xa&&!Va){var gc=Er.constructor,Bc=Hr.constructor;gc!=Bc&&"constructor"in Er&&"constructor"in Hr&&!(typeof gc=="function"&&gc instanceof gc&&typeof Bc=="function"&&Bc instanceof Bc)&&(Xa=!1)}return ui.delete(Er),ui.delete(Hr),Xa}function au(Er){return Gm(Vb(Er,ne,dv),Er+"")}function qm(Er){return ab(Er,Ko,jm)}function Um(Er){return ab(Er,xc,Fb)}var Fm=q1?function(Er){return q1.get(Er)}:ay;function eg(Er){for(var Hr=Er.name+"",Cn=dd[Hr],Zn=po.call(dd,Hr)?Cn.length:0;Zn--;){var oi=Cn[Zn],ui=oi.func;if(ui==null||ui==Er)return oi.name}return Hr}function yd(Er){var Hr=po.call(ci,"placeholder")?ci:Er;return Hr.placeholder}function Ha(){var Er=ci.iteratee||iy;return Er=Er===iy?lb:Er,arguments.length?Er(arguments[0],arguments[1]):Er}function tg(Er,Hr){var Cn=Er.__data__;return Z3(Hr)?Cn[typeof Hr=="string"?"string":"hash"]:Cn.map}function Wm(Er){for(var Hr=Ko(Er),Cn=Hr.length;Cn--;){var Zn=Hr[Cn],oi=Er[Zn];Hr[Cn]=[Zn,oi,Hb(oi)]}return Hr}function Yf(Er,Hr){var Cn=Qw(Er,Hr);return cb(Cn)?Cn:ne}function F3(Er){var Hr=po.call(Er,Gf),Cn=Er[Gf];try{Er[Gf]=ne;var Zn=!0}catch{}var oi=I1.call(Er);return Zn&&(Hr?Er[Gf]=Cn:delete Er[Gf]),oi}var jm=mm?function(Er){return Er==null?[]:(Er=wo(Er),ju(mm(Er),function(Hr){return Gy.call(Er,Hr)}))}:oy,Fb=mm?function(Er){for(var Hr=[];Er;)Hu(Hr,jm(Er)),Er=k1(Er);return Hr}:oy,ic=dc;(ym&&ic(new ym(new ArrayBuffer(1)))!=ma||fp&&ic(new fp)!=mi||bm&&ic(bm.resolve())!=Ri||hd&&ic(new hd)!=Ei||hp&&ic(new hp)!=ga)&&(ic=function(Er){var Hr=dc(Er),Cn=Hr==xi?Er.constructor:ne,Zn=Cn?Xf(Cn):"";if(Zn)switch(Zn){case E2:return ma;case x2:return mi;case C2:return Ri;case S2:return Ei;case A2:return ga}return Hr});function W3(Er,Hr,Cn){for(var Zn=-1,oi=Cn.length;++Zn<oi;){var ui=Cn[Zn],pi=ui.size;switch(ui.type){case"drop":Er+=pi;break;case"dropRight":Hr-=pi;break;case"take":Hr=nc(Hr,Er+pi);break;case"takeRight":Er=Go(Er,Hr-pi);break}}return{start:Er,end:Hr}}function j3(Er){var Hr=Er.match(oa);return Hr?Hr[1].split(ea):[]}function Wb(Er,Hr,Cn){Hr=Ku(Hr,Er);for(var Zn=-1,oi=Hr.length,ui=!1;++Zn<oi;){var pi=kl(Hr[Zn]);if(!(ui=Er!=null&&Cn(Er,pi)))break;Er=Er[pi]}return ui||++Zn!=oi?ui:(oi=Er==null?0:Er.length,!!oi&&cg(oi)&&ou(pi,oi)&&(Qa(Er)||eh(Er)))}function H3(Er){var Hr=Er.length,Cn=new Er.constructor(Hr);return Hr&&typeof Er[0]=="string"&&po.call(Er,"index")&&(Cn.index=Er.index,Cn.input=Er.input),Cn}function jb(Er){return typeof Er.constructor=="function"&&!_p(Er)?pd(k1(Er)):{}}function z3(Er,Hr,Cn){var Zn=Er.constructor;switch(Hr){case Ci:return Bm(Er);case jn:case ei:return new Zn(+Er);case ma:return R3(Er,Cn);case Vi:case Ii:case Pa:case ra:case Oi:case Na:case na:case ia:case Ga:return Cb(Er,Cn);case mi:return new Zn;case $i:case ha:return new Zn(Er);case Pi:return I3(Er);case Ei:return new Zn;case Ni:return P3(Er)}}function V3(Er,Hr){var Cn=Hr.length;if(!Cn)return Er;var Zn=Cn-1;return Hr[Zn]=(Cn>1?"& ":"")+Hr[Zn],Hr=Hr.join(Cn>2?", ":" "),Er.replace(Ua,`{
/* [wrapped with `+Hr+`] */
`)}function G3(Er){return Qa(Er)||eh(Er)||!!(Zy&&Er&&Er[Zy])}function ou(Er,Hr){var Cn=typeof Er;return Hr=Hr??Jr,!!Hr&&(Cn=="number"||Cn!="symbol"&&No.test(Er))&&Er>-1&&Er%1==0&&Er<Hr}function pc(Er,Hr,Cn){if(!Do(Cn))return!1;var Zn=typeof Hr;return(Zn=="number"?Ec(Cn)&&ou(Hr,Cn.length):Zn=="string"&&Hr in Cn)?ml(Cn[Hr],Er):!1}function Hm(Er,Hr){if(Qa(Er))return!1;var Cn=typeof Er;return Cn=="number"||Cn=="symbol"||Cn=="boolean"||Er==null||Mc(Er)?!0:Fa.test(Er)||!qi.test(Er)||Hr!=null&&Er in wo(Hr)}function Z3(Er){var Hr=typeof Er;return Hr=="string"||Hr=="number"||Hr=="symbol"||Hr=="boolean"?Er!=="__proto__":Er===null}function zm(Er){var Hr=eg(Er),Cn=ci[Hr];if(typeof Cn!="function"||!(Hr in so.prototype))return!1;if(Er===Cn)return!0;var Zn=Fm(Cn);return!!Zn&&Er===Zn[0]}function K3(Er){return!!Hy&&Hy in Er}var J3=A1?cu:cy;function _p(Er){var Hr=Er&&Er.constructor,Cn=typeof Hr=="function"&&Hr.prototype||fd;return Er===Cn}function Hb(Er){return Er===Er&&!Do(Er)}function zb(Er,Hr){return function(Cn){return Cn==null?!1:Cn[Er]===Hr&&(Hr!==ne||Er in wo(Cn))}}function Q3(Er){var Hr=ag(Er,function(Zn){return Cn.size===xe&&Cn.clear(),Zn}),Cn=Hr.cache;return Hr}function Y3(Er,Hr){var Cn=Er[1],Zn=Hr[1],oi=Cn|Zn,ui=oi<(Gr|jr|$n),pi=Zn==$n&&Cn==wn||Zn==$n&&Cn==Tn&&Er[7].length<=Hr[8]||Zn==($n|Tn)&&Hr[7].length<=Hr[8]&&Cn==wn;if(!(ui||pi))return Er;Zn&Gr&&(Er[2]=Hr[2],oi|=Cn&Gr?0:Qr);var gi=Hr[3];if(gi){var wi=Er[3];Er[3]=wi?Ab(wi,gi,Hr[4]):gi,Er[4]=wi?zu(Er[3],Se):Hr[4]}return gi=Hr[5],gi&&(wi=Er[5],Er[5]=wi?Rb(wi,gi,Hr[6]):gi,Er[6]=wi?zu(Er[5],Se):Hr[6]),gi=Hr[7],gi&&(Er[7]=gi),Zn&$n&&(Er[8]=Er[8]==null?Hr[8]:nc(Er[8],Hr[8])),Er[9]==null&&(Er[9]=Hr[9]),Er[0]=Hr[0],Er[1]=oi,Er}function X3(Er){var Hr=[];if(Er!=null)for(var Cn in wo(Er))Hr.push(Cn);return Hr}function e_(Er){return I1.call(Er)}function Vb(Er,Hr,Cn){return Hr=Go(Hr===ne?Er.length-1:Hr,0),function(){for(var Zn=arguments,oi=-1,ui=Go(Zn.length-Hr,0),pi=Si(ui);++oi<ui;)pi[oi]=Zn[Hr+oi];oi=-1;for(var gi=Si(Hr+1);++oi<Hr;)gi[oi]=Zn[oi];return gi[Hr]=Cn(pi),Zo(Er,this,gi)}}function Gb(Er,Hr){return Hr.length<2?Er:Qf(Er,Yc(Hr,0,-1))}function t_(Er,Hr){for(var Cn=Er.length,Zn=nc(Hr.length,Cn),oi=$c(Er);Zn--;){var ui=Hr[Zn];Er[Zn]=ou(ui,Cn)?oi[ui]:ne}return Er}function Vm(Er,Hr){if(!(Hr==="constructor"&&typeof Er[Hr]=="function")&&Hr!="__proto__")return Er[Hr]}var Zb=Jb(yb),$p=m2||function(Er,Hr){return ao.setTimeout(Er,Hr)},Gm=Jb(x3);function Kb(Er,Hr,Cn){var Zn=Hr+"";return Gm(Er,V3(Zn,r_(j3(Zn),Cn)))}function Jb(Er){var Hr=0,Cn=0;return function(){var Zn=w2(),oi=Zr-(Zn-Cn);if(Cn=Zn,oi>0){if(++Hr>=Sn)return arguments[0]}else Hr=0;return Er.apply(ne,arguments)}}function rg(Er,Hr){var Cn=-1,Zn=Er.length,oi=Zn-1;for(Hr=Hr===ne?Zn:Hr;++Cn<Hr;){var ui=Im(Cn,oi),pi=Er[ui];Er[ui]=Er[Cn],Er[Cn]=pi}return Er.length=Hr,Er}var Qb=Q3(function(Er){var Hr=[];return Er.charCodeAt(0)===46&&Hr.push(""),Er.replace(pa,function(Cn,Zn,oi,ui){Hr.push(oi?ui.replace(da,"$1"):Zn||Cn)}),Hr});function kl(Er){if(typeof Er=="string"||Mc(Er))return Er;var Hr=Er+"";return Hr=="0"&&1/Er==-Vr?"-0":Hr}function Xf(Er){if(Er!=null){try{return R1.call(Er)}catch{}try{return Er+""}catch{}}return""}function r_(Er,Hr){return Zc(ii,function(Cn){var Zn="_."+Cn[0];Hr&Cn[1]&&!$1(Er,Zn)&&Er.push(Zn)}),Er.sort()}function Yb(Er){if(Er instanceof so)return Er.clone();var Hr=new Jc(Er.__wrapped__,Er.__chain__);return Hr.__actions__=$c(Er.__actions__),Hr.__index__=Er.__index__,Hr.__values__=Er.__values__,Hr}function n_(Er,Hr,Cn){(Cn?pc(Er,Hr,Cn):Hr===ne)?Hr=1:Hr=Go(Ya(Hr),0);var Zn=Er==null?0:Er.length;if(!Zn||Hr<1)return[];for(var oi=0,ui=0,pi=Si(B1(Zn/Hr));oi<Zn;)pi[ui++]=Yc(Er,oi,oi+=Hr);return pi}function i_(Er){for(var Hr=-1,Cn=Er==null?0:Er.length,Zn=0,oi=[];++Hr<Cn;){var ui=Er[Hr];ui&&(oi[Zn++]=ui)}return oi}function s_(){var Er=arguments.length;if(!Er)return[];for(var Hr=Si(Er-1),Cn=arguments[0],Zn=Er;Zn--;)Hr[Zn-1]=arguments[Zn];return Hu(Qa(Cn)?$c(Cn):[Cn],Yo(Hr,1))}var a_=eo(function(Er,Hr){return Uo(Er)?mp(Er,Yo(Hr,1,Uo,!0)):[]}),o_=eo(function(Er,Hr){var Cn=Xc(Hr);return Uo(Cn)&&(Cn=ne),Uo(Er)?mp(Er,Yo(Hr,1,Uo,!0),Ha(Cn,2)):[]}),c_=eo(function(Er,Hr){var Cn=Xc(Hr);return Uo(Cn)&&(Cn=ne),Uo(Er)?mp(Er,Yo(Hr,1,Uo,!0),ne,Cn):[]});function l_(Er,Hr,Cn){var Zn=Er==null?0:Er.length;return Zn?(Hr=Cn||Hr===ne?1:Ya(Hr),Yc(Er,Hr<0?0:Hr,Zn)):[]}function u_(Er,Hr,Cn){var Zn=Er==null?0:Er.length;return Zn?(Hr=Cn||Hr===ne?1:Ya(Hr),Hr=Zn-Hr,Yc(Er,0,Hr<0?0:Hr)):[]}function f_(Er,Hr){return Er&&Er.length?Z1(Er,Ha(Hr,3),!0,!0):[]}function h_(Er,Hr){return Er&&Er.length?Z1(Er,Ha(Hr,3),!0):[]}function d_(Er,Hr,Cn,Zn){var oi=Er==null?0:Er.length;return oi?(Cn&&typeof Cn!="number"&&pc(Er,Hr,Cn)&&(Cn=0,Zn=oi),s3(Er,Hr,Cn,Zn)):[]}function Xb(Er,Hr,Cn){var Zn=Er==null?0:Er.length;if(!Zn)return-1;var oi=Cn==null?0:Ya(Cn);return oi<0&&(oi=Go(Zn+oi,0)),E1(Er,Ha(Hr,3),oi)}function lv(Er,Hr,Cn){var Zn=Er==null?0:Er.length;if(!Zn)return-1;var oi=Zn-1;return Cn!==ne&&(oi=Ya(Cn),oi=Cn<0?Go(Zn+oi,0):nc(oi,Zn-1)),E1(Er,Ha(Hr,3),oi,!0)}function dv(Er){var Hr=Er==null?0:Er.length;return Hr?Yo(Er,1):[]}function p_(Er){var Hr=Er==null?0:Er.length;return Hr?Yo(Er,Vr):[]}function g_(Er,Hr){var Cn=Er==null?0:Er.length;return Cn?(Hr=Hr===ne?1:Ya(Hr),Yo(Er,Hr)):[]}function m_(Er){for(var Hr=-1,Cn=Er==null?0:Er.length,Zn={};++Hr<Cn;){var oi=Er[Hr];Zn[oi[0]]=oi[1]}return Zn}function pv(Er){return Er&&Er.length?Er[0]:ne}function y_(Er,Hr,Cn){var Zn=Er==null?0:Er.length;if(!Zn)return-1;var oi=Cn==null?0:Ya(Cn);return oi<0&&(oi=Go(Zn+oi,0)),od(Er,Hr,oi)}function b_(Er){var Hr=Er==null?0:Er.length;return Hr?Yc(Er,0,-1):[]}var v_=eo(function(Er){var Hr=Ro(Er,Mm);return Hr.length&&Hr[0]===Er[0]?xm(Hr):[]}),w_=eo(function(Er){var Hr=Xc(Er),Cn=Ro(Er,Mm);return Hr===Xc(Cn)?Hr=ne:Cn.pop(),Cn.length&&Cn[0]===Er[0]?xm(Cn,Ha(Hr,2)):[]}),__=eo(function(Er){var Hr=Xc(Er),Cn=Ro(Er,Mm);return Hr=typeof Hr=="function"?Hr:ne,Hr&&Cn.pop(),Cn.length&&Cn[0]===Er[0]?xm(Cn,ne,Hr):[]});function $_(Er,Hr){return Er==null?"":b2.call(Er,Hr)}function Xc(Er){var Hr=Er==null?0:Er.length;return Hr?Er[Hr-1]:ne}function E_(Er,Hr,Cn){var Zn=Er==null?0:Er.length;if(!Zn)return-1;var oi=Zn;return Cn!==ne&&(oi=Ya(Cn),oi=oi<0?Go(Zn+oi,0):nc(oi,Zn-1)),Hr===Hr?r2(Er,Hr,oi):E1(Er,By,oi,!0)}function x_(Er,Hr){return Er&&Er.length?db(Er,Ya(Hr)):ne}var C_=eo(gv);function gv(Er,Hr){return Er&&Er.length&&Hr&&Hr.length?Rm(Er,Hr):Er}function S_(Er,Hr,Cn){return Er&&Er.length&&Hr&&Hr.length?Rm(Er,Hr,Ha(Cn,2)):Er}function A_(Er,Hr,Cn){return Er&&Er.length&&Hr&&Hr.length?Rm(Er,Hr,ne,Cn):Er}var R_=au(function(Er,Hr){var Cn=Er==null?0:Er.length,Zn=wm(Er,Hr);return mb(Er,Ro(Hr,function(oi){return ou(oi,Cn)?+oi:oi}).sort(Sb)),Zn});function I_(Er,Hr){var Cn=[];if(!(Er&&Er.length))return Cn;var Zn=-1,oi=[],ui=Er.length;for(Hr=Ha(Hr,3);++Zn<ui;){var pi=Er[Zn];Hr(pi,Zn,Er)&&(Cn.push(pi),oi.push(Zn))}return mb(Er,oi),Cn}function Zm(Er){return Er==null?Er:$2.call(Er)}function P_(Er,Hr,Cn){var Zn=Er==null?0:Er.length;return Zn?(Cn&&typeof Cn!="number"&&pc(Er,Hr,Cn)?(Hr=0,Cn=Zn):(Hr=Hr==null?0:Ya(Hr),Cn=Cn===ne?Zn:Ya(Cn)),Yc(Er,Hr,Cn)):[]}function T_(Er,Hr){return G1(Er,Hr)}function N_(Er,Hr,Cn){return Tm(Er,Hr,Ha(Cn,2))}function k_(Er,Hr){var Cn=Er==null?0:Er.length;if(Cn){var Zn=G1(Er,Hr);if(Zn<Cn&&ml(Er[Zn],Hr))return Zn}return-1}function M_(Er,Hr){return G1(Er,Hr,!0)}function O_(Er,Hr,Cn){return Tm(Er,Hr,Ha(Cn,2),!0)}function B_(Er,Hr){var Cn=Er==null?0:Er.length;if(Cn){var Zn=G1(Er,Hr,!0)-1;if(ml(Er[Zn],Hr))return Zn}return-1}function D_(Er){return Er&&Er.length?bb(Er):[]}function L_(Er,Hr){return Er&&Er.length?bb(Er,Ha(Hr,2)):[]}function q_(Er){var Hr=Er==null?0:Er.length;return Hr?Yc(Er,1,Hr):[]}function U_(Er,Hr,Cn){return Er&&Er.length?(Hr=Cn||Hr===ne?1:Ya(Hr),Yc(Er,0,Hr<0?0:Hr)):[]}function F_(Er,Hr,Cn){var Zn=Er==null?0:Er.length;return Zn?(Hr=Cn||Hr===ne?1:Ya(Hr),Hr=Zn-Hr,Yc(Er,Hr<0?0:Hr,Zn)):[]}function W_(Er,Hr){return Er&&Er.length?Z1(Er,Ha(Hr,3),!1,!0):[]}function j_(Er,Hr){return Er&&Er.length?Z1(Er,Ha(Hr,3)):[]}var H_=eo(function(Er){return Zu(Yo(Er,1,Uo,!0))}),z_=eo(function(Er){var Hr=Xc(Er);return Uo(Hr)&&(Hr=ne),Zu(Yo(Er,1,Uo,!0),Ha(Hr,2))}),V_=eo(function(Er){var Hr=Xc(Er);return Hr=typeof Hr=="function"?Hr:ne,Zu(Yo(Er,1,Uo,!0),ne,Hr)});function G_(Er){return Er&&Er.length?Zu(Er):[]}function Z_(Er,Hr){return Er&&Er.length?Zu(Er,Ha(Hr,2)):[]}function K_(Er,Hr){return Hr=typeof Hr=="function"?Hr:ne,Er&&Er.length?Zu(Er,ne,Hr):[]}function Km(Er){if(!(Er&&Er.length))return[];var Hr=0;return Er=ju(Er,function(Cn){if(Uo(Cn))return Hr=Go(Cn.length,Hr),!0}),hm(Hr,function(Cn){return Ro(Er,lm(Cn))})}function mv(Er,Hr){if(!(Er&&Er.length))return[];var Cn=Km(Er);return Hr==null?Cn:Ro(Cn,function(Zn){return Zo(Hr,ne,Zn)})}var J_=eo(function(Er,Hr){return Uo(Er)?mp(Er,Hr):[]}),Q_=eo(function(Er){return km(ju(Er,Uo))}),Y_=eo(function(Er){var Hr=Xc(Er);return Uo(Hr)&&(Hr=ne),km(ju(Er,Uo),Ha(Hr,2))}),X_=eo(function(Er){var Hr=Xc(Er);return Hr=typeof Hr=="function"?Hr:ne,km(ju(Er,Uo),ne,Hr)}),e5=eo(Km);function t5(Er,Hr){return $b(Er||[],Hr||[],gp)}function r5(Er,Hr){return $b(Er||[],Hr||[],vp)}var n5=eo(function(Er){var Hr=Er.length,Cn=Hr>1?Er[Hr-1]:ne;return Cn=typeof Cn=="function"?(Er.pop(),Cn):ne,mv(Er,Cn)});function yv(Er){var Hr=ci(Er);return Hr.__chain__=!0,Hr}function i5(Er,Hr){return Hr(Er),Er}function ng(Er,Hr){return Hr(Er)}var s5=au(function(Er){var Hr=Er.length,Cn=Hr?Er[0]:0,Zn=this.__wrapped__,oi=function(ui){return wm(ui,Er)};return Hr>1||this.__actions__.length||!(Zn instanceof so)||!ou(Cn)?this.thru(oi):(Zn=Zn.slice(Cn,+Cn+(Hr?1:0)),Zn.__actions__.push({func:ng,args:[oi],thisArg:ne}),new Jc(Zn,this.__chain__).thru(function(ui){return Hr&&!ui.length&&ui.push(ne),ui}))});function a5(){return yv(this)}function o5(){return new Jc(this.value(),this.__chain__)}function c5(){this.__values__===ne&&(this.__values__=Tv(this.value()));var Er=this.__index__>=this.__values__.length,Hr=Er?ne:this.__values__[this.__index__++];return{done:Er,value:Hr}}function l5(){return this}function u5(Er){for(var Hr,Cn=this;Cn instanceof F1;){var Zn=Yb(Cn);Zn.__index__=0,Zn.__values__=ne,Hr?oi.__wrapped__=Zn:Hr=Zn;var oi=Zn;Cn=Cn.__wrapped__}return oi.__wrapped__=Er,Hr}function f5(){var Er=this.__wrapped__;if(Er instanceof so){var Hr=Er;return this.__actions__.length&&(Hr=new so(this)),Hr=Hr.reverse(),Hr.__actions__.push({func:ng,args:[Zm],thisArg:ne}),new Jc(Hr,this.__chain__)}return this.thru(Zm)}function h5(){return _b(this.__wrapped__,this.__actions__)}var d5=K1(function(Er,Hr,Cn){po.call(Er,Cn)?++Er[Cn]:iu(Er,Cn,1)});function p5(Er,Hr,Cn){var Zn=Qa(Er)?My:i3;return Cn&&pc(Er,Hr,Cn)&&(Hr=ne),Zn(Er,Ha(Hr,3))}function g5(Er,Hr){var Cn=Qa(Er)?ju:ib;return Cn(Er,Ha(Hr,3))}var m5=Nb(Xb),y5=Nb(lv);function b5(Er,Hr){return Yo(ig(Er,Hr),1)}function v5(Er,Hr){return Yo(ig(Er,Hr),Vr)}function w5(Er,Hr,Cn){return Cn=Cn===ne?1:Ya(Cn),Yo(ig(Er,Hr),Cn)}function bv(Er,Hr){var Cn=Qa(Er)?Zc:Gu;return Cn(Er,Ha(Hr,3))}function vv(Er,Hr){var Cn=Qa(Er)?qw:nb;return Cn(Er,Ha(Hr,3))}var _5=K1(function(Er,Hr,Cn){po.call(Er,Cn)?Er[Cn].push(Hr):iu(Er,Cn,[Hr])});function $5(Er,Hr,Cn,Zn){Er=Ec(Er)?Er:vd(Er),Cn=Cn&&!Zn?Ya(Cn):0;var oi=Er.length;return Cn<0&&(Cn=Go(oi+Cn,0)),lg(Er)?Cn<=oi&&Er.indexOf(Hr,Cn)>-1:!!oi&&od(Er,Hr,Cn)>-1}var E5=eo(function(Er,Hr,Cn){var Zn=-1,oi=typeof Hr=="function",ui=Ec(Er)?Si(Er.length):[];return Gu(Er,function(pi){ui[++Zn]=oi?Zo(Hr,pi,Cn):yp(pi,Hr,Cn)}),ui}),x5=K1(function(Er,Hr,Cn){iu(Er,Cn,Hr)});function ig(Er,Hr){var Cn=Qa(Er)?Ro:ub;return Cn(Er,Ha(Hr,3))}function C5(Er,Hr,Cn,Zn){return Er==null?[]:(Qa(Hr)||(Hr=Hr==null?[]:[Hr]),Cn=Zn?ne:Cn,Qa(Cn)||(Cn=Cn==null?[]:[Cn]),pb(Er,Hr,Cn))}var S5=K1(function(Er,Hr,Cn){Er[Cn?0:1].push(Hr)},function(){return[[],[]]});function A5(Er,Hr,Cn){var Zn=Qa(Er)?om:Ly,oi=arguments.length<3;return Zn(Er,Ha(Hr,4),Cn,oi,Gu)}function R5(Er,Hr,Cn){var Zn=Qa(Er)?Uw:Ly,oi=arguments.length<3;return Zn(Er,Ha(Hr,4),Cn,oi,nb)}function I5(Er,Hr){var Cn=Qa(Er)?ju:ib;return Cn(Er,og(Ha(Hr,3)))}function P5(Er){var Hr=Qa(Er)?Xy:$3;return Hr(Er)}function T5(Er,Hr,Cn){(Cn?pc(Er,Hr,Cn):Hr===ne)?Hr=1:Hr=Ya(Hr);var Zn=Qa(Er)?X2:E3;return Zn(Er,Hr)}function N5(Er){var Hr=Qa(Er)?e3:C3;return Hr(Er)}function k5(Er){if(Er==null)return 0;if(Ec(Er))return lg(Er)?ld(Er):Er.length;var Hr=ic(Er);return Hr==mi||Hr==Ei?Er.size:Sm(Er).length}function M5(Er,Hr,Cn){var Zn=Qa(Er)?cm:S3;return Cn&&pc(Er,Hr,Cn)&&(Hr=ne),Zn(Er,Ha(Hr,3))}var O5=eo(function(Er,Hr){if(Er==null)return[];var Cn=Hr.length;return Cn>1&&pc(Er,Hr[0],Hr[1])?Hr=[]:Cn>2&&pc(Hr[0],Hr[1],Hr[2])&&(Hr=[Hr[0]]),pb(Er,Yo(Hr,1),[])}),sg=g2||function(){return ao.Date.now()};function B5(Er,Hr){if(typeof Hr!="function")throw new Kc(be);return Er=Ya(Er),function(){if(--Er<1)return Hr.apply(this,arguments)}}function wv(Er,Hr,Cn){return Hr=Cn?ne:Hr,Hr=Er&&Hr==null?Er.length:Hr,su(Er,$n,ne,ne,ne,ne,Hr)}function _v(Er,Hr){var Cn;if(typeof Hr!="function")throw new Kc(be);return Er=Ya(Er),function(){return--Er>0&&(Cn=Hr.apply(this,arguments)),Er<=1&&(Hr=ne),Cn}}var Jm=eo(function(Er,Hr,Cn){var Zn=Gr;if(Cn.length){var oi=zu(Cn,yd(Jm));Zn|=Rn}return su(Er,Zn,Hr,Cn,oi)}),$v=eo(function(Er,Hr,Cn){var Zn=Gr|jr;if(Cn.length){var oi=zu(Cn,yd($v));Zn|=Rn}return su(Hr,Zn,Er,Cn,oi)});function Ev(Er,Hr,Cn){Hr=Cn?ne:Hr;var Zn=su(Er,wn,ne,ne,ne,ne,ne,Hr);return Zn.placeholder=Ev.placeholder,Zn}function xv(Er,Hr,Cn){Hr=Cn?ne:Hr;var Zn=su(Er,En,ne,ne,ne,ne,ne,Hr);return Zn.placeholder=xv.placeholder,Zn}function Cv(Er,Hr,Cn){var Zn,oi,ui,pi,gi,wi,Di=0,Li=!1,aa=!1,$a=!0;if(typeof Er!="function")throw new Kc(be);Hr=el(Hr)||0,Do(Cn)&&(Li=!!Cn.leading,aa="maxWait"in Cn,ui=aa?Go(el(Cn.maxWait)||0,Hr):ui,$a="trailing"in Cn?!!Cn.trailing:$a);function Ba(Fo){var yl=Zn,uu=oi;return Zn=oi=ne,Di=Fo,pi=Er.apply(uu,yl),pi}function za(Fo){return Di=Fo,gi=$p(io,Hr),Li?Ba(Fo):pi}function Xa(Fo){var yl=Fo-wi,uu=Fo-Di,Hv=Hr-yl;return aa?nc(Hv,ui-uu):Hv}function Va(Fo){var yl=Fo-wi,uu=Fo-Di;return wi===ne||yl>=Hr||yl<0||aa&&uu>=ui}function io(){var Fo=sg();if(Va(Fo))return oo(Fo);gi=$p(io,Xa(Fo))}function oo(Fo){return gi=ne,$a&&Zn?Ba(Fo):(Zn=oi=ne,pi)}function Oc(){gi!==ne&&Eb(gi),Di=0,Zn=wi=oi=gi=ne}function gc(){return gi===ne?pi:oo(sg())}function Bc(){var Fo=sg(),yl=Va(Fo);if(Zn=arguments,oi=this,wi=Fo,yl){if(gi===ne)return za(wi);if(aa)return Eb(gi),gi=$p(io,Hr),Ba(wi)}return gi===ne&&(gi=$p(io,Hr)),pi}return Bc.cancel=Oc,Bc.flush=gc,Bc}var D5=eo(function(Er,Hr){return rb(Er,1,Hr)}),L5=eo(function(Er,Hr,Cn){return rb(Er,el(Hr)||0,Cn)});function q5(Er){return su(Er,ti)}function ag(Er,Hr){if(typeof Er!="function"||Hr!=null&&typeof Hr!="function")throw new Kc(be);var Cn=function(){var Zn=arguments,oi=Hr?Hr.apply(this,Zn):Zn[0],ui=Cn.cache;if(ui.has(oi))return ui.get(oi);var pi=Er.apply(this,Zn);return Cn.cache=ui.set(oi,pi)||ui,pi};return Cn.cache=new(ag.Cache||nu),Cn}ag.Cache=nu;function og(Er){if(typeof Er!="function")throw new Kc(be);return function(){var Hr=arguments;switch(Hr.length){case 0:return!Er.call(this);case 1:return!Er.call(this,Hr[0]);case 2:return!Er.call(this,Hr[0],Hr[1]);case 3:return!Er.call(this,Hr[0],Hr[1],Hr[2])}return!Er.apply(this,Hr)}}function U5(Er){return _v(2,Er)}var F5=A3(function(Er,Hr){Hr=Hr.length==1&&Qa(Hr[0])?Ro(Hr[0],Nc(Ha())):Ro(Yo(Hr,1),Nc(Ha()));var Cn=Hr.length;return eo(function(Zn){for(var oi=-1,ui=nc(Zn.length,Cn);++oi<ui;)Zn[oi]=Hr[oi].call(this,Zn[oi]);return Zo(Er,this,Zn)})}),Qm=eo(function(Er,Hr){var Cn=zu(Hr,yd(Qm));return su(Er,Rn,ne,Hr,Cn)}),Sv=eo(function(Er,Hr){var Cn=zu(Hr,yd(Sv));return su(Er,An,ne,Hr,Cn)}),W5=au(function(Er,Hr){return su(Er,Tn,ne,ne,ne,Hr)});function j5(Er,Hr){if(typeof Er!="function")throw new Kc(be);return Hr=Hr===ne?Hr:Ya(Hr),eo(Er,Hr)}function H5(Er,Hr){if(typeof Er!="function")throw new Kc(be);return Hr=Hr==null?0:Go(Ya(Hr),0),eo(function(Cn){var Zn=Cn[Hr],oi=Ju(Cn,0,Hr);return Zn&&Hu(oi,Zn),Zo(Er,this,oi)})}function z5(Er,Hr,Cn){var Zn=!0,oi=!0;if(typeof Er!="function")throw new Kc(be);return Do(Cn)&&(Zn="leading"in Cn?!!Cn.leading:Zn,oi="trailing"in Cn?!!Cn.trailing:oi),Cv(Er,Hr,{leading:Zn,maxWait:Hr,trailing:oi})}function V5(Er){return wv(Er,1)}function G5(Er,Hr){return Qm(Om(Hr),Er)}function Z5(){if(!arguments.length)return[];var Er=arguments[0];return Qa(Er)?Er:[Er]}function K5(Er){return Qc(Er,br)}function J5(Er,Hr){return Hr=typeof Hr=="function"?Hr:ne,Qc(Er,br,Hr)}function Q5(Er){return Qc(Er,Ie|br)}function Y5(Er,Hr){return Hr=typeof Hr=="function"?Hr:ne,Qc(Er,Ie|br,Hr)}function X5(Er,Hr){return Hr==null||tb(Er,Hr,Ko(Hr))}function ml(Er,Hr){return Er===Hr||Er!==Er&&Hr!==Hr}var e4=X1(Em),t4=X1(function(Er,Hr){return Er>=Hr}),eh=ob(function(){return arguments}())?ob:function(Er){return Lo(Er)&&po.call(Er,"callee")&&!Gy.call(Er,"callee")},Qa=Si.isArray,r4=hc?Nc(hc):u3;function Ec(Er){return Er!=null&&cg(Er.length)&&!cu(Er)}function Uo(Er){return Lo(Er)&&Ec(Er)}function n4(Er){return Er===!0||Er===!1||Lo(Er)&&dc(Er)==jn}var Qu=y2||cy,i4=dl?Nc(dl):f3;function s4(Er){return Lo(Er)&&Er.nodeType===1&&!Ep(Er)}function a4(Er){if(Er==null)return!0;if(Ec(Er)&&(Qa(Er)||typeof Er=="string"||typeof Er.splice=="function"||Qu(Er)||bd(Er)||eh(Er)))return!Er.length;var Hr=ic(Er);if(Hr==mi||Hr==Ei)return!Er.size;if(_p(Er))return!Sm(Er).length;for(var Cn in Er)if(po.call(Er,Cn))return!1;return!0}function o4(Er,Hr){return bp(Er,Hr)}function c4(Er,Hr,Cn){Cn=typeof Cn=="function"?Cn:ne;var Zn=Cn?Cn(Er,Hr):ne;return Zn===ne?bp(Er,Hr,ne,Cn):!!Zn}function Ym(Er){if(!Lo(Er))return!1;var Hr=dc(Er);return Hr==zn||Hr==Pn||typeof Er.message=="string"&&typeof Er.name=="string"&&!Ep(Er)}function l4(Er){return typeof Er=="number"&&Ky(Er)}function cu(Er){if(!Do(Er))return!1;var Hr=dc(Er);return Hr==ri||Hr==hi||Hr==Nn||Hr==vi}function Av(Er){return typeof Er=="number"&&Er==Ya(Er)}function cg(Er){return typeof Er=="number"&&Er>-1&&Er%1==0&&Er<=Jr}function Do(Er){var Hr=typeof Er;return Er!=null&&(Hr=="object"||Hr=="function")}function Lo(Er){return Er!=null&&typeof Er=="object"}var Rv=Gc?Nc(Gc):d3;function u4(Er,Hr){return Er===Hr||Cm(Er,Hr,Wm(Hr))}function f4(Er,Hr,Cn){return Cn=typeof Cn=="function"?Cn:ne,Cm(Er,Hr,Wm(Hr),Cn)}function h4(Er){return Iv(Er)&&Er!=+Er}function d4(Er){if(J3(Er))throw new Za(me);return cb(Er)}function p4(Er){return Er===null}function g4(Er){return Er==null}function Iv(Er){return typeof Er=="number"||Lo(Er)&&dc(Er)==$i}function Ep(Er){if(!Lo(Er)||dc(Er)!=xi)return!1;var Hr=k1(Er);if(Hr===null)return!0;var Cn=po.call(Hr,"constructor")&&Hr.constructor;return typeof Cn=="function"&&Cn instanceof Cn&&R1.call(Cn)==f2}var Xm=Pl?Nc(Pl):p3;function m4(Er){return Av(Er)&&Er>=-Jr&&Er<=Jr}var Pv=cp?Nc(cp):g3;function lg(Er){return typeof Er=="string"||!Qa(Er)&&Lo(Er)&&dc(Er)==ha}function Mc(Er){return typeof Er=="symbol"||Lo(Er)&&dc(Er)==Ni}var bd=Vf?Nc(Vf):m3;function y4(Er){return Er===ne}function b4(Er){return Lo(Er)&&ic(Er)==ga}function v4(Er){return Lo(Er)&&dc(Er)==Bi}var w4=X1(Am),_4=X1(function(Er,Hr){return Er<=Hr});function Tv(Er){if(!Er)return[];if(Ec(Er))return lg(Er)?pl(Er):$c(Er);if(up&&Er[up])return Xw(Er[up]());var Hr=ic(Er),Cn=Hr==mi?pm:Hr==Ei?x1:vd;return Cn(Er)}function lu(Er){if(!Er)return Er===0?Er:0;if(Er=el(Er),Er===Vr||Er===-Vr){var Hr=Er<0?-1:1;return Hr*Xr}return Er===Er?Er:0}function Ya(Er){var Hr=lu(Er),Cn=Hr%1;return Hr===Hr?Cn?Hr-Cn:Hr:0}function Nv(Er){return Er?Jf(Ya(Er),0,Yr):0}function el(Er){if(typeof Er=="number")return Er;if(Mc(Er))return Kr;if(Do(Er)){var Hr=typeof Er.valueOf=="function"?Er.valueOf():Er;Er=Do(Hr)?Hr+"":Hr}if(typeof Er!="string")return Er===0?Er:+Er;Er=qy(Er);var Cn=Io.test(Er);return Cn||To.test(Er)?Ja(Er.slice(2),Cn?2:8):Ca.test(Er)?Kr:+Er}function kv(Er){return Nl(Er,xc(Er))}function $4(Er){return Er?Jf(Ya(Er),-Jr,Jr):Er===0?Er:0}function uo(Er){return Er==null?"":kc(Er)}var E4=gd(function(Er,Hr){if(_p(Hr)||Ec(Hr)){Nl(Hr,Ko(Hr),Er);return}for(var Cn in Hr)po.call(Hr,Cn)&&gp(Er,Cn,Hr[Cn])}),Mv=gd(function(Er,Hr){Nl(Hr,xc(Hr),Er)}),ug=gd(function(Er,Hr,Cn,Zn){Nl(Hr,xc(Hr),Er,Zn)}),x4=gd(function(Er,Hr,Cn,Zn){Nl(Hr,Ko(Hr),Er,Zn)}),C4=au(wm);function S4(Er,Hr){var Cn=pd(Er);return Hr==null?Cn:eb(Cn,Hr)}var A4=eo(function(Er,Hr){Er=wo(Er);var Cn=-1,Zn=Hr.length,oi=Zn>2?Hr[2]:ne;for(oi&&pc(Hr[0],Hr[1],oi)&&(Zn=1);++Cn<Zn;)for(var ui=Hr[Cn],pi=xc(ui),gi=-1,wi=pi.length;++gi<wi;){var Di=pi[gi],Li=Er[Di];(Li===ne||ml(Li,fd[Di])&&!po.call(Er,Di))&&(Er[Di]=ui[Di])}return Er}),R4=eo(function(Er){return Er.push(ne,qb),Zo(Ov,ne,Er)});function I4(Er,Hr){return Oy(Er,Ha(Hr,3),Tl)}function P4(Er,Hr){return Oy(Er,Ha(Hr,3),$m)}function T4(Er,Hr){return Er==null?Er:_m(Er,Ha(Hr,3),xc)}function N4(Er,Hr){return Er==null?Er:sb(Er,Ha(Hr,3),xc)}function k4(Er,Hr){return Er&&Tl(Er,Ha(Hr,3))}function M4(Er,Hr){return Er&&$m(Er,Ha(Hr,3))}function O4(Er){return Er==null?[]:H1(Er,Ko(Er))}function B4(Er){return Er==null?[]:H1(Er,xc(Er))}function ey(Er,Hr,Cn){var Zn=Er==null?ne:Qf(Er,Hr);return Zn===ne?Cn:Zn}function D4(Er,Hr){return Er!=null&&Wb(Er,Hr,a3)}function ty(Er,Hr){return Er!=null&&Wb(Er,Hr,o3)}var L4=Mb(function(Er,Hr,Cn){Hr!=null&&typeof Hr.toString!="function"&&(Hr=I1.call(Hr)),Er[Hr]=Cn},ny(Cc)),q4=Mb(function(Er,Hr,Cn){Hr!=null&&typeof Hr.toString!="function"&&(Hr=I1.call(Hr)),po.call(Er,Hr)?Er[Hr].push(Cn):Er[Hr]=[Cn]},Ha),U4=eo(yp);function Ko(Er){return Ec(Er)?Yy(Er):Sm(Er)}function xc(Er){return Ec(Er)?Yy(Er,!0):y3(Er)}function F4(Er,Hr){var Cn={};return Hr=Ha(Hr,3),Tl(Er,function(Zn,oi,ui){iu(Cn,Hr(Zn,oi,ui),Zn)}),Cn}function W4(Er,Hr){var Cn={};return Hr=Ha(Hr,3),Tl(Er,function(Zn,oi,ui){iu(Cn,oi,Hr(Zn,oi,ui))}),Cn}var j4=gd(function(Er,Hr,Cn){z1(Er,Hr,Cn)}),Ov=gd(function(Er,Hr,Cn,Zn){z1(Er,Hr,Cn,Zn)}),H4=au(function(Er,Hr){var Cn={};if(Er==null)return Cn;var Zn=!1;Hr=Ro(Hr,function(ui){return ui=Ku(ui,Er),Zn||(Zn=ui.length>1),ui}),Nl(Er,Um(Er),Cn),Zn&&(Cn=Qc(Cn,Ie|fr|br,L3));for(var oi=Hr.length;oi--;)Nm(Cn,Hr[oi]);return Cn});function z4(Er,Hr){return Bv(Er,og(Ha(Hr)))}var V4=au(function(Er,Hr){return Er==null?{}:v3(Er,Hr)});function Bv(Er,Hr){if(Er==null)return{};var Cn=Ro(Um(Er),function(Zn){return[Zn]});return Hr=Ha(Hr),gb(Er,Cn,function(Zn,oi){return Hr(Zn,oi[0])})}function G4(Er,Hr,Cn){Hr=Ku(Hr,Er);var Zn=-1,oi=Hr.length;for(oi||(oi=1,Er=ne);++Zn<oi;){var ui=Er==null?ne:Er[kl(Hr[Zn])];ui===ne&&(Zn=oi,ui=Cn),Er=cu(ui)?ui.call(Er):ui}return Er}function Z4(Er,Hr,Cn){return Er==null?Er:vp(Er,Hr,Cn)}function K4(Er,Hr,Cn,Zn){return Zn=typeof Zn=="function"?Zn:ne,Er==null?Er:vp(Er,Hr,Cn,Zn)}var Dv=Db(Ko),Lv=Db(xc);function J4(Er,Hr,Cn){var Zn=Qa(Er),oi=Zn||Qu(Er)||bd(Er);if(Hr=Ha(Hr,4),Cn==null){var ui=Er&&Er.constructor;oi?Cn=Zn?new ui:[]:Do(Er)?Cn=cu(ui)?pd(k1(Er)):{}:Cn={}}return(oi?Zc:Tl)(Er,function(pi,gi,wi){return Hr(Cn,pi,gi,wi)}),Cn}function Q4(Er,Hr){return Er==null?!0:Nm(Er,Hr)}function Y4(Er,Hr,Cn){return Er==null?Er:wb(Er,Hr,Om(Cn))}function X4(Er,Hr,Cn,Zn){return Zn=typeof Zn=="function"?Zn:ne,Er==null?Er:wb(Er,Hr,Om(Cn),Zn)}function vd(Er){return Er==null?[]:dm(Er,Ko(Er))}function e6(Er){return Er==null?[]:dm(Er,xc(Er))}function t6(Er,Hr,Cn){return Cn===ne&&(Cn=Hr,Hr=ne),Cn!==ne&&(Cn=el(Cn),Cn=Cn===Cn?Cn:0),Hr!==ne&&(Hr=el(Hr),Hr=Hr===Hr?Hr:0),Jf(el(Er),Hr,Cn)}function r6(Er,Hr,Cn){return Hr=lu(Hr),Cn===ne?(Cn=Hr,Hr=0):Cn=lu(Cn),Er=el(Er),c3(Er,Hr,Cn)}function n6(Er,Hr,Cn){if(Cn&&typeof Cn!="boolean"&&pc(Er,Hr,Cn)&&(Hr=Cn=ne),Cn===ne&&(typeof Hr=="boolean"?(Cn=Hr,Hr=ne):typeof Er=="boolean"&&(Cn=Er,Er=ne)),Er===ne&&Hr===ne?(Er=0,Hr=1):(Er=lu(Er),Hr===ne?(Hr=Er,Er=0):Hr=lu(Hr)),Er>Hr){var Zn=Er;Er=Hr,Hr=Zn}if(Cn||Er%1||Hr%1){var oi=Jy();return nc(Er+oi*(Hr-Er+bo("1e-"+((oi+"").length-1))),Hr)}return Im(Er,Hr)}var i6=md(function(Er,Hr,Cn){return Hr=Hr.toLowerCase(),Er+(Cn?qv(Hr):Hr)});function qv(Er){return ry(uo(Er).toLowerCase())}function Uv(Er){return Er=uo(Er),Er&&Er.replace(ho,Zw).replace(im,"")}function s6(Er,Hr,Cn){Er=uo(Er),Hr=kc(Hr);var Zn=Er.length;Cn=Cn===ne?Zn:Jf(Ya(Cn),0,Zn);var oi=Cn;return Cn-=Hr.length,Cn>=0&&Er.slice(Cn,oi)==Hr}function a6(Er){return Er=uo(Er),Er&&la.test(Er)?Er.replace(ca,Kw):Er}function o6(Er){return Er=uo(Er),Er&&Wa.test(Er)?Er.replace(zi,"\\$&"):Er}var c6=md(function(Er,Hr,Cn){return Er+(Cn?"-":"")+Hr.toLowerCase()}),l6=md(function(Er,Hr,Cn){return Er+(Cn?" ":"")+Hr.toLowerCase()}),u6=Tb("toLowerCase");function f6(Er,Hr,Cn){Er=uo(Er),Hr=Ya(Hr);var Zn=Hr?ld(Er):0;if(!Hr||Zn>=Hr)return Er;var oi=(Hr-Zn)/2;return Y1(D1(oi),Cn)+Er+Y1(B1(oi),Cn)}function h6(Er,Hr,Cn){Er=uo(Er),Hr=Ya(Hr);var Zn=Hr?ld(Er):0;return Hr&&Zn<Hr?Er+Y1(Hr-Zn,Cn):Er}function d6(Er,Hr,Cn){Er=uo(Er),Hr=Ya(Hr);var Zn=Hr?ld(Er):0;return Hr&&Zn<Hr?Y1(Hr-Zn,Cn)+Er:Er}function p6(Er,Hr,Cn){return Cn||Hr==null?Hr=0:Hr&&(Hr=+Hr),_2(uo(Er).replace(fa,""),Hr||0)}function g6(Er,Hr,Cn){return(Cn?pc(Er,Hr,Cn):Hr===ne)?Hr=1:Hr=Ya(Hr),Pm(uo(Er),Hr)}function m6(){var Er=arguments,Hr=uo(Er[0]);return Er.length<3?Hr:Hr.replace(Er[1],Er[2])}var y6=md(function(Er,Hr,Cn){return Er+(Cn?"_":"")+Hr.toLowerCase()});function b6(Er,Hr,Cn){return Cn&&typeof Cn!="number"&&pc(Er,Hr,Cn)&&(Hr=Cn=ne),Cn=Cn===ne?Yr:Cn>>>0,Cn?(Er=uo(Er),Er&&(typeof Hr=="string"||Hr!=null&&!Xm(Hr))&&(Hr=kc(Hr),!Hr&&cd(Er))?Ju(pl(Er),0,Cn):Er.split(Hr,Cn)):[]}var v6=md(function(Er,Hr,Cn){return Er+(Cn?" ":"")+ry(Hr)});function w6(Er,Hr,Cn){return Er=uo(Er),Cn=Cn==null?0:Jf(Ya(Cn),0,Er.length),Hr=kc(Hr),Er.slice(Cn,Cn+Hr.length)==Hr}function _6(Er,Hr,Cn){var Zn=ci.templateSettings;Cn&&pc(Er,Hr,Cn)&&(Hr=ne),Er=uo(Er),Hr=ug({},Hr,Zn,Lb);var oi=ug({},Hr.imports,Zn.imports,Lb),ui=Ko(oi),pi=dm(oi,ui),gi,wi,Di=0,Li=Hr.interpolate||_o,aa="__p += '",$a=gm((Hr.escape||_o).source+"|"+Li.source+"|"+(Li===ua?no:_o).source+"|"+(Hr.evaluate||_o).source+"|$","g"),Ba="//# sourceURL="+(po.call(Hr,"sourceURL")?(Hr.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++sm+"]")+`
`;Er.replace($a,function(Va,io,oo,Oc,gc,Bc){return oo||(oo=Oc),aa+=Er.slice(Di,Bc).replace(ko,Jw),io&&(gi=!0,aa+=`' +
__e(`+io+`) +
'`),gc&&(wi=!0,aa+=`';
`+gc+`;
__p += '`),oo&&(aa+=`' +
((__t = (`+oo+`)) == null ? '' : __t) +
'`),Di=Bc+Va.length,Va}),aa+=`';
`;var za=po.call(Hr,"variable")&&Hr.variable;if(!za)aa=`with (obj) {
`+aa+`
}
`;else if(Aa.test(za))throw new Za(we);aa=(wi?aa.replace(wa,""):aa).replace(sa,"$1").replace(Ka,"$1;"),aa="function("+(za||"obj")+`) {
`+(za?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(gi?", __e = _.escape":"")+(wi?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+aa+`return __p
}`;var Xa=Wv(function(){return lo(ui,Ba+"return "+aa).apply(ne,pi)});if(Xa.source=aa,Ym(Xa))throw Xa;return Xa}function $6(Er){return uo(Er).toLowerCase()}function E6(Er){return uo(Er).toUpperCase()}function x6(Er,Hr,Cn){if(Er=uo(Er),Er&&(Cn||Hr===ne))return qy(Er);if(!Er||!(Hr=kc(Hr)))return Er;var Zn=pl(Er),oi=pl(Hr),ui=Uy(Zn,oi),pi=Fy(Zn,oi)+1;return Ju(Zn,ui,pi).join("")}function C6(Er,Hr,Cn){if(Er=uo(Er),Er&&(Cn||Hr===ne))return Er.slice(0,jy(Er)+1);if(!Er||!(Hr=kc(Hr)))return Er;var Zn=pl(Er),oi=Fy(Zn,pl(Hr))+1;return Ju(Zn,0,oi).join("")}function S6(Er,Hr,Cn){if(Er=uo(Er),Er&&(Cn||Hr===ne))return Er.replace(fa,"");if(!Er||!(Hr=kc(Hr)))return Er;var Zn=pl(Er),oi=Uy(Zn,pl(Hr));return Ju(Zn,oi).join("")}function A6(Er,Hr){var Cn=ai,Zn=On;if(Do(Hr)){var oi="separator"in Hr?Hr.separator:oi;Cn="length"in Hr?Ya(Hr.length):Cn,Zn="omission"in Hr?kc(Hr.omission):Zn}Er=uo(Er);var ui=Er.length;if(cd(Er)){var pi=pl(Er);ui=pi.length}if(Cn>=ui)return Er;var gi=Cn-ld(Zn);if(gi<1)return Zn;var wi=pi?Ju(pi,0,gi).join(""):Er.slice(0,gi);if(oi===ne)return wi+Zn;if(pi&&(gi+=wi.length-gi),Xm(oi)){if(Er.slice(gi).search(oi)){var Di,Li=wi;for(oi.global||(oi=gm(oi.source,uo(va.exec(oi))+"g")),oi.lastIndex=0;Di=oi.exec(Li);)var aa=Di.index;wi=wi.slice(0,aa===ne?gi:aa)}}else if(Er.indexOf(kc(oi),gi)!=gi){var $a=wi.lastIndexOf(oi);$a>-1&&(wi=wi.slice(0,$a))}return wi+Zn}function R6(Er){return Er=uo(Er),Er&&Da.test(Er)?Er.replace(_a,n2):Er}var I6=md(function(Er,Hr,Cn){return Er+(Cn?" ":"")+Hr.toUpperCase()}),ry=Tb("toUpperCase");function Fv(Er,Hr,Cn){return Er=uo(Er),Hr=Cn?ne:Hr,Hr===ne?Yw(Er)?a2(Er):jw(Er):Er.match(Hr)||[]}var Wv=eo(function(Er,Hr){try{return Zo(Er,ne,Hr)}catch(Cn){return Ym(Cn)?Cn:new Za(Cn)}}),P6=au(function(Er,Hr){return Zc(Hr,function(Cn){Cn=kl(Cn),iu(Er,Cn,Jm(Er[Cn],Er))}),Er});function T6(Er){var Hr=Er==null?0:Er.length,Cn=Ha();return Er=Hr?Ro(Er,function(Zn){if(typeof Zn[1]!="function")throw new Kc(be);return[Cn(Zn[0]),Zn[1]]}):[],eo(function(Zn){for(var oi=-1;++oi<Hr;){var ui=Er[oi];if(Zo(ui[0],this,Zn))return Zo(ui[1],this,Zn)}})}function N6(Er){return n3(Qc(Er,Ie))}function ny(Er){return function(){return Er}}function k6(Er,Hr){return Er==null||Er!==Er?Hr:Er}var M6=kb(),O6=kb(!0);function Cc(Er){return Er}function iy(Er){return lb(typeof Er=="function"?Er:Qc(Er,Ie))}function B6(Er){return fb(Qc(Er,Ie))}function D6(Er,Hr){return hb(Er,Qc(Hr,Ie))}var L6=eo(function(Er,Hr){return function(Cn){return yp(Cn,Er,Hr)}}),q6=eo(function(Er,Hr){return function(Cn){return yp(Er,Cn,Hr)}});function sy(Er,Hr,Cn){var Zn=Ko(Hr),oi=H1(Hr,Zn);Cn==null&&!(Do(Hr)&&(oi.length||!Zn.length))&&(Cn=Hr,Hr=Er,Er=this,oi=H1(Hr,Ko(Hr)));var ui=!(Do(Cn)&&"chain"in Cn)||!!Cn.chain,pi=cu(Er);return Zc(oi,function(gi){var wi=Hr[gi];Er[gi]=wi,pi&&(Er.prototype[gi]=function(){var Di=this.__chain__;if(ui||Di){var Li=Er(this.__wrapped__),aa=Li.__actions__=$c(this.__actions__);return aa.push({func:wi,args:arguments,thisArg:Er}),Li.__chain__=Di,Li}return wi.apply(Er,Hu([this.value()],arguments))})}),Er}function U6(){return ao._===this&&(ao._=h2),this}function ay(){}function F6(Er){return Er=Ya(Er),eo(function(Hr){return db(Hr,Er)})}var W6=Dm(Ro),j6=Dm(My),H6=Dm(cm);function jv(Er){return Hm(Er)?lm(kl(Er)):w3(Er)}function z6(Er){return function(Hr){return Er==null?ne:Qf(Er,Hr)}}var V6=Ob(),G6=Ob(!0);function oy(){return[]}function cy(){return!1}function Z6(){return{}}function K6(){return""}function J6(){return!0}function Q6(Er,Hr){if(Er=Ya(Er),Er<1||Er>Jr)return[];var Cn=Yr,Zn=nc(Er,Yr);Hr=Ha(Hr),Er-=Yr;for(var oi=hm(Zn,Hr);++Cn<Er;)Hr(Cn);return oi}function Y6(Er){return Qa(Er)?Ro(Er,kl):Mc(Er)?[Er]:$c(Qb(uo(Er)))}function X6(Er){var Hr=++u2;return uo(Er)+Hr}var e$=Q1(function(Er,Hr){return Er+Hr},0),t$=Lm("ceil"),r$=Q1(function(Er,Hr){return Er/Hr},1),n$=Lm("floor");function i$(Er){return Er&&Er.length?j1(Er,Cc,Em):ne}function s$(Er,Hr){return Er&&Er.length?j1(Er,Ha(Hr,2),Em):ne}function a$(Er){return Dy(Er,Cc)}function o$(Er,Hr){return Dy(Er,Ha(Hr,2))}function c$(Er){return Er&&Er.length?j1(Er,Cc,Am):ne}function l$(Er,Hr){return Er&&Er.length?j1(Er,Ha(Hr,2),Am):ne}var u$=Q1(function(Er,Hr){return Er*Hr},1),f$=Lm("round"),h$=Q1(function(Er,Hr){return Er-Hr},0);function d$(Er){return Er&&Er.length?fm(Er,Cc):0}function p$(Er,Hr){return Er&&Er.length?fm(Er,Ha(Hr,2)):0}return ci.after=B5,ci.ary=wv,ci.assign=E4,ci.assignIn=Mv,ci.assignInWith=ug,ci.assignWith=x4,ci.at=C4,ci.before=_v,ci.bind=Jm,ci.bindAll=P6,ci.bindKey=$v,ci.castArray=Z5,ci.chain=yv,ci.chunk=n_,ci.compact=i_,ci.concat=s_,ci.cond=T6,ci.conforms=N6,ci.constant=ny,ci.countBy=d5,ci.create=S4,ci.curry=Ev,ci.curryRight=xv,ci.debounce=Cv,ci.defaults=A4,ci.defaultsDeep=R4,ci.defer=D5,ci.delay=L5,ci.difference=a_,ci.differenceBy=o_,ci.differenceWith=c_,ci.drop=l_,ci.dropRight=u_,ci.dropRightWhile=f_,ci.dropWhile=h_,ci.fill=d_,ci.filter=g5,ci.flatMap=b5,ci.flatMapDeep=v5,ci.flatMapDepth=w5,ci.flatten=dv,ci.flattenDeep=p_,ci.flattenDepth=g_,ci.flip=q5,ci.flow=M6,ci.flowRight=O6,ci.fromPairs=m_,ci.functions=O4,ci.functionsIn=B4,ci.groupBy=_5,ci.initial=b_,ci.intersection=v_,ci.intersectionBy=w_,ci.intersectionWith=__,ci.invert=L4,ci.invertBy=q4,ci.invokeMap=E5,ci.iteratee=iy,ci.keyBy=x5,ci.keys=Ko,ci.keysIn=xc,ci.map=ig,ci.mapKeys=F4,ci.mapValues=W4,ci.matches=B6,ci.matchesProperty=D6,ci.memoize=ag,ci.merge=j4,ci.mergeWith=Ov,ci.method=L6,ci.methodOf=q6,ci.mixin=sy,ci.negate=og,ci.nthArg=F6,ci.omit=H4,ci.omitBy=z4,ci.once=U5,ci.orderBy=C5,ci.over=W6,ci.overArgs=F5,ci.overEvery=j6,ci.overSome=H6,ci.partial=Qm,ci.partialRight=Sv,ci.partition=S5,ci.pick=V4,ci.pickBy=Bv,ci.property=jv,ci.propertyOf=z6,ci.pull=C_,ci.pullAll=gv,ci.pullAllBy=S_,ci.pullAllWith=A_,ci.pullAt=R_,ci.range=V6,ci.rangeRight=G6,ci.rearg=W5,ci.reject=I5,ci.remove=I_,ci.rest=j5,ci.reverse=Zm,ci.sampleSize=T5,ci.set=Z4,ci.setWith=K4,ci.shuffle=N5,ci.slice=P_,ci.sortBy=O5,ci.sortedUniq=D_,ci.sortedUniqBy=L_,ci.split=b6,ci.spread=H5,ci.tail=q_,ci.take=U_,ci.takeRight=F_,ci.takeRightWhile=W_,ci.takeWhile=j_,ci.tap=i5,ci.throttle=z5,ci.thru=ng,ci.toArray=Tv,ci.toPairs=Dv,ci.toPairsIn=Lv,ci.toPath=Y6,ci.toPlainObject=kv,ci.transform=J4,ci.unary=V5,ci.union=H_,ci.unionBy=z_,ci.unionWith=V_,ci.uniq=G_,ci.uniqBy=Z_,ci.uniqWith=K_,ci.unset=Q4,ci.unzip=Km,ci.unzipWith=mv,ci.update=Y4,ci.updateWith=X4,ci.values=vd,ci.valuesIn=e6,ci.without=J_,ci.words=Fv,ci.wrap=G5,ci.xor=Q_,ci.xorBy=Y_,ci.xorWith=X_,ci.zip=e5,ci.zipObject=t5,ci.zipObjectDeep=r5,ci.zipWith=n5,ci.entries=Dv,ci.entriesIn=Lv,ci.extend=Mv,ci.extendWith=ug,sy(ci,ci),ci.add=e$,ci.attempt=Wv,ci.camelCase=i6,ci.capitalize=qv,ci.ceil=t$,ci.clamp=t6,ci.clone=K5,ci.cloneDeep=Q5,ci.cloneDeepWith=Y5,ci.cloneWith=J5,ci.conformsTo=X5,ci.deburr=Uv,ci.defaultTo=k6,ci.divide=r$,ci.endsWith=s6,ci.eq=ml,ci.escape=a6,ci.escapeRegExp=o6,ci.every=p5,ci.find=m5,ci.findIndex=Xb,ci.findKey=I4,ci.findLast=y5,ci.findLastIndex=lv,ci.findLastKey=P4,ci.floor=n$,ci.forEach=bv,ci.forEachRight=vv,ci.forIn=T4,ci.forInRight=N4,ci.forOwn=k4,ci.forOwnRight=M4,ci.get=ey,ci.gt=e4,ci.gte=t4,ci.has=D4,ci.hasIn=ty,ci.head=pv,ci.identity=Cc,ci.includes=$5,ci.indexOf=y_,ci.inRange=r6,ci.invoke=U4,ci.isArguments=eh,ci.isArray=Qa,ci.isArrayBuffer=r4,ci.isArrayLike=Ec,ci.isArrayLikeObject=Uo,ci.isBoolean=n4,ci.isBuffer=Qu,ci.isDate=i4,ci.isElement=s4,ci.isEmpty=a4,ci.isEqual=o4,ci.isEqualWith=c4,ci.isError=Ym,ci.isFinite=l4,ci.isFunction=cu,ci.isInteger=Av,ci.isLength=cg,ci.isMap=Rv,ci.isMatch=u4,ci.isMatchWith=f4,ci.isNaN=h4,ci.isNative=d4,ci.isNil=g4,ci.isNull=p4,ci.isNumber=Iv,ci.isObject=Do,ci.isObjectLike=Lo,ci.isPlainObject=Ep,ci.isRegExp=Xm,ci.isSafeInteger=m4,ci.isSet=Pv,ci.isString=lg,ci.isSymbol=Mc,ci.isTypedArray=bd,ci.isUndefined=y4,ci.isWeakMap=b4,ci.isWeakSet=v4,ci.join=$_,ci.kebabCase=c6,ci.last=Xc,ci.lastIndexOf=E_,ci.lowerCase=l6,ci.lowerFirst=u6,ci.lt=w4,ci.lte=_4,ci.max=i$,ci.maxBy=s$,ci.mean=a$,ci.meanBy=o$,ci.min=c$,ci.minBy=l$,ci.stubArray=oy,ci.stubFalse=cy,ci.stubObject=Z6,ci.stubString=K6,ci.stubTrue=J6,ci.multiply=u$,ci.nth=x_,ci.noConflict=U6,ci.noop=ay,ci.now=sg,ci.pad=f6,ci.padEnd=h6,ci.padStart=d6,ci.parseInt=p6,ci.random=n6,ci.reduce=A5,ci.reduceRight=R5,ci.repeat=g6,ci.replace=m6,ci.result=G4,ci.round=f$,ci.runInContext=bi,ci.sample=P5,ci.size=k5,ci.snakeCase=y6,ci.some=M5,ci.sortedIndex=T_,ci.sortedIndexBy=N_,ci.sortedIndexOf=k_,ci.sortedLastIndex=M_,ci.sortedLastIndexBy=O_,ci.sortedLastIndexOf=B_,ci.startCase=v6,ci.startsWith=w6,ci.subtract=h$,ci.sum=d$,ci.sumBy=p$,ci.template=_6,ci.times=Q6,ci.toFinite=lu,ci.toInteger=Ya,ci.toLength=Nv,ci.toLower=$6,ci.toNumber=el,ci.toSafeInteger=$4,ci.toString=uo,ci.toUpper=E6,ci.trim=x6,ci.trimEnd=C6,ci.trimStart=S6,ci.truncate=A6,ci.unescape=R6,ci.uniqueId=X6,ci.upperCase=I6,ci.upperFirst=ry,ci.each=bv,ci.eachRight=vv,ci.first=pv,sy(ci,function(){var Er={};return Tl(ci,function(Hr,Cn){po.call(ci.prototype,Cn)||(Er[Cn]=Hr)}),Er}(),{chain:!1}),ci.VERSION=fe,Zc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(Er){ci[Er].placeholder=ci}),Zc(["drop","take"],function(Er,Hr){so.prototype[Er]=function(Cn){Cn=Cn===ne?1:Go(Ya(Cn),0);var Zn=this.__filtered__&&!Hr?new so(this):this.clone();return Zn.__filtered__?Zn.__takeCount__=nc(Cn,Zn.__takeCount__):Zn.__views__.push({size:nc(Cn,Yr),type:Er+(Zn.__dir__<0?"Right":"")}),Zn},so.prototype[Er+"Right"]=function(Cn){return this.reverse()[Er](Cn).reverse()}}),Zc(["filter","map","takeWhile"],function(Er,Hr){var Cn=Hr+1,Zn=Cn==Oe||Cn==qr;so.prototype[Er]=function(oi){var ui=this.clone();return ui.__iteratees__.push({iteratee:Ha(oi,3),type:Cn}),ui.__filtered__=ui.__filtered__||Zn,ui}}),Zc(["head","last"],function(Er,Hr){var Cn="take"+(Hr?"Right":"");so.prototype[Er]=function(){return this[Cn](1).value()[0]}}),Zc(["initial","tail"],function(Er,Hr){var Cn="drop"+(Hr?"":"Right");so.prototype[Er]=function(){return this.__filtered__?new so(this):this[Cn](1)}}),so.prototype.compact=function(){return this.filter(Cc)},so.prototype.find=function(Er){return this.filter(Er).head()},so.prototype.findLast=function(Er){return this.reverse().find(Er)},so.prototype.invokeMap=eo(function(Er,Hr){return typeof Er=="function"?new so(this):this.map(function(Cn){return yp(Cn,Er,Hr)})}),so.prototype.reject=function(Er){return this.filter(og(Ha(Er)))},so.prototype.slice=function(Er,Hr){Er=Ya(Er);var Cn=this;return Cn.__filtered__&&(Er>0||Hr<0)?new so(Cn):(Er<0?Cn=Cn.takeRight(-Er):Er&&(Cn=Cn.drop(Er)),Hr!==ne&&(Hr=Ya(Hr),Cn=Hr<0?Cn.dropRight(-Hr):Cn.take(Hr-Er)),Cn)},so.prototype.takeRightWhile=function(Er){return this.reverse().takeWhile(Er).reverse()},so.prototype.toArray=function(){return this.take(Yr)},Tl(so.prototype,function(Er,Hr){var Cn=/^(?:filter|find|map|reject)|While$/.test(Hr),Zn=/^(?:head|last)$/.test(Hr),oi=ci[Zn?"take"+(Hr=="last"?"Right":""):Hr],ui=Zn||/^find/.test(Hr);oi&&(ci.prototype[Hr]=function(){var pi=this.__wrapped__,gi=Zn?[1]:arguments,wi=pi instanceof so,Di=gi[0],Li=wi||Qa(pi),aa=function(io){var oo=oi.apply(ci,Hu([io],gi));return Zn&&$a?oo[0]:oo};Li&&Cn&&typeof Di=="function"&&Di.length!=1&&(wi=Li=!1);var $a=this.__chain__,Ba=!!this.__actions__.length,za=ui&&!$a,Xa=wi&&!Ba;if(!ui&&Li){pi=Xa?pi:new so(this);var Va=Er.apply(pi,gi);return Va.__actions__.push({func:ng,args:[aa],thisArg:ne}),new Jc(Va,$a)}return za&&Xa?Er.apply(this,gi):(Va=this.thru(aa),za?Zn?Va.value()[0]:Va.value():Va)})}),Zc(["pop","push","shift","sort","splice","unshift"],function(Er){var Hr=C1[Er],Cn=/^(?:push|sort|unshift)$/.test(Er)?"tap":"thru",Zn=/^(?:pop|shift)$/.test(Er);ci.prototype[Er]=function(){var oi=arguments;if(Zn&&!this.__chain__){var ui=this.value();return Hr.apply(Qa(ui)?ui:[],oi)}return this[Cn](function(pi){return Hr.apply(Qa(pi)?pi:[],oi)})}}),Tl(so.prototype,function(Er,Hr){var Cn=ci[Hr];if(Cn){var Zn=Cn.name+"";po.call(dd,Zn)||(dd[Zn]=[]),dd[Zn].push({name:Hr,func:Cn})}}),dd[J1(ne,jr).name]=[{name:"wrapper",func:ne}],so.prototype.clone=R2,so.prototype.reverse=I2,so.prototype.value=P2,ci.prototype.at=s5,ci.prototype.chain=a5,ci.prototype.commit=o5,ci.prototype.next=c5,ci.prototype.plant=u5,ci.prototype.reverse=f5,ci.prototype.toJSON=ci.prototype.valueOf=ci.prototype.value=h5,ci.prototype.first=ci.prototype.head,up&&(ci.prototype[up]=l5),ci},ud=o2();qo?((qo.exports=ud)._=ud,vo._=ud):ao._=ud}).call(ge)})(Ui,Ui.exports);var Gg=Object.defineProperty,zg=Object.defineProperties,Kg=Object.getOwnPropertyDescriptors,Ea=Object.getOwnPropertySymbols,Yg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,ya=(se,Y,ne)=>Y in se?Gg(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,cr=(se,Y)=>{for(var ne in Y||(Y={}))Yg.call(Y,ne)&&ya(se,ne,Y[ne]);if(Ea)for(var ne of Ea(Y))Zg.call(Y,ne)&&ya(se,ne,Y[ne]);return se},Jg=(se,Y)=>zg(se,Kg(Y));function ft(se,Y,ne){var fe;const ye=ve(se);return((fe=Y.rpcMap)==null?void 0:fe[ye.reference])||`${Bg}?chainId=${ye.namespace}:${ye.reference}&projectId=${ne}`}function Ct(se){return se.includes(":")?se.split(":")[1]:se}function Sa(se){return se.map(Y=>`${Y.split(":")[0]}:${Y.split(":")[1]}`)}function Xg(se,Y){const ne=Object.keys(Y.namespaces).filter(ye=>ye.includes(se));if(!ne.length)return[];const fe=[];return ne.forEach(ye=>{const me=Y.namespaces[ye].accounts;fe.push(...me)}),fe}function Oa(se={},Y={}){const ne=Ra(se),fe=Ra(Y);return Ui.exports.merge(ne,fe)}function Ra(se){var Y,ne,fe,ye;const me={};if(!B$3(se))return me;for(const[be,we]of Object.entries(se)){const Ee=oe$1(be)?[be]:we.chains,xe=we.methods||[],Se=we.events||[],Ie=we.rpcMap||{},fr=en(be);me[fr]=Jg(cr(cr({},me[fr]),we),{chains:S$4(Ee,(Y=me[fr])==null?void 0:Y.chains),methods:S$4(xe,(ne=me[fr])==null?void 0:ne.methods),events:S$4(Se,(fe=me[fr])==null?void 0:fe.events),rpcMap:cr(cr({},Ie),(ye=me[fr])==null?void 0:ye.rpcMap)})}return me}function Qg(se){return se.includes(":")?se.split(":")[2]:se}function Vg(se){const Y={};for(const[ne,fe]of Object.entries(se)){const ye=fe.methods||[],me=fe.events||[],be=fe.accounts||[],we=oe$1(ne)?[ne]:fe.chains?fe.chains:Sa(fe.accounts);Y[ne]={chains:we,methods:ye,events:me,accounts:be}}return Y}function Wi(se){return typeof se=="number"?se:se.includes("0x")?parseInt(se,16):(se=se.includes(":")?se.split(":")[1]:se,isNaN(Number(se))?se:Number(se))}const ba={},z$2=se=>ba[se],Fi=(se,Y)=>{ba[se]=Y};class kg{constructor(Y){this.name="polkadot",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}request(Y){return this.namespace.methods.includes(Y.request.method)?this.client.request(Y):this.getHttpProvider().request(Y.request)}setDefaultChain(Y,ne){this.httpProviders[Y]||this.setHttpProvider(Y,ne),this.chainId=Y,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${Y}`)}getAccounts(){const Y=this.namespace.accounts;return Y?Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2])||[]:[]}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{var fe;const ye=Ct(ne);Y[ye]=this.createHttpProvider(ye,(fe=this.namespace.rpcMap)==null?void 0:fe[ne])}),Y}getHttpProvider(){const Y=`${this.name}:${this.chainId}`,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProvider(Y,ne){const fe=ne||ft(Y,this.namespace,this.client.core.projectId);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);return new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}}class jg{constructor(Y){this.name="eip155",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(Y){switch(Y.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(Y);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(Y.request.method)?await this.client.request(Y):this.getHttpProvider().request(Y.request)}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}setDefaultChain(Y,ne){this.httpProviders[Y]||this.setHttpProvider(parseInt(Y),ne),this.chainId=parseInt(Y),this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${Y}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}createHttpProvider(Y,ne){const fe=ne||ft(`${this.name}:${Y}`,this.namespace,this.client.core.projectId);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);return new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{var fe;const ye=parseInt(Ct(ne));Y[ye]=this.createHttpProvider(ye,(fe=this.namespace.rpcMap)==null?void 0:fe[ne])}),Y}getAccounts(){const Y=this.namespace.accounts;return Y?[...new Set(Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2]))]:[]}getHttpProvider(){const Y=this.chainId,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}async handleSwitchChain(Y){var ne,fe;let ye=Y.request.params?(ne=Y.request.params[0])==null?void 0:ne.chainId:"0x0";ye=ye.startsWith("0x")?ye:`0x${ye}`;const me=parseInt(ye,16);if(this.isChainApproved(me))this.setDefaultChain(`${me}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:Y.topic,request:{method:Y.request.method,params:[{chainId:ye}]},chainId:(fe=this.namespace.chains)==null?void 0:fe[0]}),this.setDefaultChain(`${me}`);else throw new Error(`Failed to switch to chain 'eip155:${me}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(Y){return this.namespace.chains.includes(`${this.name}:${Y}`)}}class nv{constructor(Y){this.name="solana",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}requestAccounts(){return this.getAccounts()}request(Y){return this.namespace.methods.includes(Y.request.method)?this.client.request(Y):this.getHttpProvider().request(Y.request)}setDefaultChain(Y,ne){this.httpProviders[Y]||this.setHttpProvider(Y,ne),this.chainId=Y,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${Y}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}getAccounts(){const Y=this.namespace.accounts;return Y?[...new Set(Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2]))]:[]}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{var fe;const ye=Ct(ne);Y[ye]=this.createHttpProvider(ye,(fe=this.namespace.rpcMap)==null?void 0:fe[ne])}),Y}getHttpProvider(){const Y=`${this.name}:${this.chainId}`,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProvider(Y,ne){const fe=ne||ft(Y,this.namespace,this.client.core.projectId);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);return new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}}class tv{constructor(Y){this.name="cosmos",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}request(Y){return this.namespace.methods.includes(Y.request.method)?this.client.request(Y):this.getHttpProvider().request(Y.request)}setDefaultChain(Y,ne){this.httpProviders[Y]||this.setHttpProvider(Y,ne),this.chainId=Y,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const Y=this.namespace.accounts;return Y?[...new Set(Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2]))]:[]}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{var fe;const ye=Ct(ne);Y[ye]=this.createHttpProvider(ye,(fe=this.namespace.rpcMap)==null?void 0:fe[ne])}),Y}getHttpProvider(){const Y=`${this.name}:${this.chainId}`,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProvider(Y,ne){const fe=ne||ft(Y,this.namespace,this.client.core.projectId);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);return new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}}class ev{constructor(Y){this.name="cip34",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}request(Y){return this.namespace.methods.includes(Y.request.method)?this.client.request(Y):this.getHttpProvider().request(Y.request)}setDefaultChain(Y,ne){this.httpProviders[Y]||this.setHttpProvider(Y,ne),this.chainId=Y,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const Y=this.namespace.accounts;return Y?[...new Set(Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2]))]:[]}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{const fe=this.getCardanoRPCUrl(ne),ye=Ct(ne);Y[ye]=this.createHttpProvider(ye,fe)}),Y}getHttpProvider(){const Y=`${this.name}:${this.chainId}`,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}getCardanoRPCUrl(Y){const ne=this.namespace.rpcMap;if(ne)return ne[Y]}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProvider(Y,ne){const fe=ne||this.getCardanoRPCUrl(Y);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);return new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}}class rv{constructor(Y){this.name="elrond",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}requestAccounts(){return this.getAccounts()}request(Y){return this.namespace.methods.includes(Y.request.method)?this.client.request(Y):this.getHttpProvider().request(Y.request)}setDefaultChain(Y,ne){this.httpProviders[Y]||this.setHttpProvider(Y,ne),this.chainId=Y,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${Y}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}getAccounts(){const Y=this.namespace.accounts;return Y?[...new Set(Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2]))]:[]}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{var fe;const ye=Ct(ne);Y[ye]=this.createHttpProvider(ye,(fe=this.namespace.rpcMap)==null?void 0:fe[ne])}),Y}getHttpProvider(){const Y=`${this.name}:${this.chainId}`,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProvider(Y,ne){const fe=ne||ft(Y,this.namespace,this.client.core.projectId);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);return new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}}class iv{constructor(Y){this.name="multiversx",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}requestAccounts(){return this.getAccounts()}request(Y){return this.namespace.methods.includes(Y.request.method)?this.client.request(Y):this.getHttpProvider().request(Y.request)}setDefaultChain(Y,ne){this.httpProviders[Y]||this.setHttpProvider(Y,ne),this.chainId=Y,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${Y}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}getAccounts(){const Y=this.namespace.accounts;return Y?[...new Set(Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2]))]:[]}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{var fe;const ye=Ct(ne);Y[ye]=this.createHttpProvider(ye,(fe=this.namespace.rpcMap)==null?void 0:fe[ne])}),Y}getHttpProvider(){const Y=`${this.name}:${this.chainId}`,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProvider(Y,ne){const fe=ne||ft(Y,this.namespace,this.client.core.projectId);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);return new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}}class sv{constructor(Y){this.name="near",this.namespace=Y.namespace,this.events=z$2("events"),this.client=z$2("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Y){this.namespace=Object.assign(this.namespace,Y)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Y=this.namespace.chains[0];if(!Y)throw new Error("ChainId not found");return Y.split(":")[1]}request(Y){return this.namespace.methods.includes(Y.request.method)?this.client.request(Y):this.getHttpProvider().request(Y.request)}setDefaultChain(Y,ne){if(this.chainId=Y,!this.httpProviders[Y]){const fe=ne||ft(`${this.name}:${Y}`,this.namespace);if(!fe)throw new Error(`No RPC url provided for chainId: ${Y}`);this.setHttpProvider(Y,fe)}this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const Y=this.namespace.accounts;return Y?Y.filter(ne=>ne.split(":")[1]===this.chainId.toString()).map(ne=>ne.split(":")[2])||[]:[]}createHttpProviders(){const Y={};return this.namespace.chains.forEach(ne=>{var fe;Y[ne]=this.createHttpProvider(ne,(fe=this.namespace.rpcMap)==null?void 0:fe[ne])}),Y}getHttpProvider(){const Y=`${this.name}:${this.chainId}`,ne=this.httpProviders[Y];if(typeof ne>"u")throw new Error(`JSON-RPC provider for ${Y} not found`);return ne}setHttpProvider(Y,ne){const fe=this.createHttpProvider(Y,ne);fe&&(this.httpProviders[Y]=fe)}createHttpProvider(Y,ne){const fe=ne||ft(Y,this.namespace);return typeof fe>"u"?void 0:new JsonRpcProvider$1(new f$3(fe,z$2("disableProviderPing")))}}var uv=Object.defineProperty,av=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,Ta=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,cv=Object.prototype.propertyIsEnumerable,La=(se,Y,ne)=>Y in se?uv(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,hr=(se,Y)=>{for(var ne in Y||(Y={}))fv.call(Y,ne)&&La(se,ne,Y[ne]);if(Ta)for(var ne of Ta(Y))cv.call(Y,ne)&&La(se,ne,Y[ne]);return se},Mi=(se,Y)=>av(se,ov(Y));class lr{constructor(Y){this.events=new Ug,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=Y,this.logger=typeof(Y==null?void 0:Y.logger)<"u"&&typeof(Y==null?void 0:Y.logger)!="string"?Y.logger:Hg(k$2({level:(Y==null?void 0:Y.logger)||Ia})),this.disableProviderPing=(Y==null?void 0:Y.disableProviderPing)||!1}static async init(Y){const ne=new lr(Y);return await ne.initialize(),ne}async request(Y,ne,fe){const[ye,me]=this.validateChain(ne);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(ye).request({request:hr({},Y),chainId:`${ye}:${me}`,topic:this.session.topic,expiry:fe})}sendAsync(Y,ne,fe,ye){const me=new Date().getTime();this.request(Y,fe,ye).then(be=>ne(null,formatJsonRpcResult(me,be))).catch(be=>ne(be,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var Y;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(Y=this.session)==null?void 0:Y.topic,reason:U$2("USER_DISCONNECTED")}),await this.cleanup()}async connect(Y){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(Y),await this.cleanupPendingPairings(),!Y.skipPairing)return await this.pair(Y.pairingTopic)}on(Y,ne){this.events.on(Y,ne)}once(Y,ne){this.events.once(Y,ne)}removeListener(Y,ne){this.events.removeListener(Y,ne)}off(Y,ne){this.events.off(Y,ne)}get isWalletConnect(){return!0}async pair(Y){this.shouldAbortPairingAttempt=!1;let ne=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(ne>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:fe,approval:ye}=await this.client.connect({pairingTopic:Y,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});fe&&(this.uri=fe,this.events.emit("display_uri",fe)),await ye().then(me=>{this.session=me;const be=Vg(me.namespaces);this.namespaces=Oa(this.namespaces,be),this.persist("namespaces",this.namespaces)}).catch(me=>{if(me.message!==ae)throw me;ne++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(Y,ne){try{if(!this.session)return;const[fe,ye]=this.validateChain(Y);this.getProvider(fe).setDefaultChain(ye,ne)}catch(fe){if(!/Please call connect/.test(fe.message))throw fe}}async cleanupPendingPairings(Y={}){this.logger.info("Cleaning up inactive pairings...");const ne=this.client.pairing.getAll();if(k$4(ne)){for(const fe of ne)Y.deletePairings?this.client.core.expirer.set(fe.topic,0):await this.client.core.relayer.subscriber.unsubscribe(fe.topic);this.logger.info(`Inactive pairings cleared: ${ne.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const Y=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[Y]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Q$1.init({logger:this.providerOpts.logger||Ia,relayUrl:this.providerOpts.relayUrl||Fg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const Y=[...new Set(Object.keys(this.session.namespaces).map(ne=>en(ne)))];Fi("client",this.client),Fi("events",this.events),Fi("disableProviderPing",this.disableProviderPing),Y.forEach(ne=>{if(!this.session)return;const fe=Xg(ne,this.session),ye=Sa(fe),me=Oa(this.namespaces,this.optionalNamespaces),be=Mi(hr({},me[ne]),{accounts:fe,chains:ye});switch(ne){case"eip155":this.rpcProviders[ne]=new jg({namespace:be});break;case"solana":this.rpcProviders[ne]=new nv({namespace:be});break;case"cosmos":this.rpcProviders[ne]=new tv({namespace:be});break;case"polkadot":this.rpcProviders[ne]=new kg({namespace:be});break;case"cip34":this.rpcProviders[ne]=new ev({namespace:be});break;case"elrond":this.rpcProviders[ne]=new rv({namespace:be});break;case"multiversx":this.rpcProviders[ne]=new iv({namespace:be});break;case"near":this.rpcProviders[ne]=new sv({namespace:be});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",Y=>{this.events.emit("session_ping",Y)}),this.client.on("session_event",Y=>{const{params:ne}=Y,{event:fe}=ne;if(fe.name==="accountsChanged"){const ye=fe.data;ye&&k$4(ye)&&this.events.emit("accountsChanged",ye.map(Qg))}else if(fe.name==="chainChanged"){const ye=ne.chainId,me=ne.event.data,be=en(ye),we=Wi(ye)!==Wi(me)?`${be}:${Wi(me)}`:ye;this.onChainChanged(we)}else this.events.emit(fe.name,fe.data);this.events.emit("session_event",Y)}),this.client.on("session_update",({topic:Y,params:ne})=>{var fe;const{namespaces:ye}=ne,me=(fe=this.client)==null?void 0:fe.session.get(Y);this.session=Mi(hr({},me),{namespaces:ye}),this.onSessionUpdate(),this.events.emit("session_update",{topic:Y,params:ne})}),this.client.on("session_delete",async Y=>{await this.cleanup(),this.events.emit("session_delete",Y),this.events.emit("disconnect",Mi(hr({},U$2("USER_DISCONNECTED")),{data:Y.topic}))}),this.on(Vn.DEFAULT_CHAIN_CHANGED,Y=>{this.onChainChanged(Y,!0)})}getProvider(Y){if(!this.rpcProviders[Y])throw new Error(`Provider not found: ${Y}`);return this.rpcProviders[Y]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(Y=>{var ne;this.getProvider(Y).updateNamespace((ne=this.session)==null?void 0:ne.namespaces[Y])})}setNamespaces(Y){const{namespaces:ne,optionalNamespaces:fe,sessionProperties:ye}=Y;ne&&Object.keys(ne).length&&(this.namespaces=ne),fe&&Object.keys(fe).length&&(this.optionalNamespaces=fe),this.sessionProperties=ye,this.persist("namespaces",ne),this.persist("optionalNamespaces",fe)}validateChain(Y){const[ne,fe]=(Y==null?void 0:Y.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[ne,fe];if(ne&&!Object.keys(this.namespaces||{}).map(be=>en(be)).includes(ne))throw new Error(`Namespace '${ne}' is not configured. Please call connect() first with namespace config.`);if(ne&&fe)return[ne,fe];const ye=en(Object.keys(this.namespaces)[0]),me=this.rpcProviders[ye].getDefaultChain();return[ye,me]}async requestAccounts(){const[Y]=this.validateChain();return await this.getProvider(Y).requestAccounts()}onChainChanged(Y,ne=!1){if(!this.namespaces)return;const[fe,ye]=this.validateChain(Y);ye&&(ne||this.getProvider(fe).setDefaultChain(ye),this.namespaces[fe]?this.namespaces[fe].defaultChain=ye:this.namespaces[`${fe}:${ye}`]?this.namespaces[`${fe}:${ye}`].defaultChain=ye:this.namespaces[`${fe}:${ye}`]={defaultChain:ye},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",ye))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(Y,ne){this.client.core.storage.setItem(`${xa}/${Y}`,ne)}async getFromStore(Y){return await this.client.core.storage.getItem(`${xa}/${Y}`)}}const hv=lr,P$2="wc",S$1="ethereum_provider",$$1=`${P$2}@2:${S$1}:`,j$2="https://rpc.walletconnect.com/v1/",u$2=["eth_sendTransaction","personal_sign"],E$1=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],m$2=["chainChanged","accountsChanged"],_$2=["chainChanged","accountsChanged","message","disconnect","connect"];var N$1=Object.defineProperty,q$2=Object.defineProperties,D$2=Object.getOwnPropertyDescriptors,y$2=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,O$1=(se,Y,ne)=>Y in se?N$1(se,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):se[Y]=ne,p$2=(se,Y)=>{for(var ne in Y||(Y={}))U.call(Y,ne)&&O$1(se,ne,Y[ne]);if(y$2)for(var ne of y$2(Y))Q.call(Y,ne)&&O$1(se,ne,Y[ne]);return se},M$1=(se,Y)=>q$2(se,D$2(Y));function g$2(se){return Number(se[0].split(":")[1])}function f$2(se){return`0x${se.toString(16)}`}function L$1(se){const{chains:Y,optionalChains:ne,methods:fe,optionalMethods:ye,events:me,optionalEvents:be,rpcMap:we}=se;if(!k$4(Y))throw new Error("Invalid chains");const Ee={chains:Y,methods:fe||u$2,events:me||m$2,rpcMap:p$2({},Y.length?{[g$2(Y)]:we[g$2(Y)]}:{})},xe=me==null?void 0:me.filter(br=>!m$2.includes(br)),Se=fe==null?void 0:fe.filter(br=>!u$2.includes(br));if(!ne&&!be&&!ye&&!(xe!=null&&xe.length)&&!(Se!=null&&Se.length))return{required:Y.length?Ee:void 0};const Ie=(xe==null?void 0:xe.length)&&(Se==null?void 0:Se.length)||!ne,fr={chains:[...new Set(Ie?Ee.chains.concat(ne||[]):ne)],methods:[...new Set(Ee.methods.concat(ye!=null&&ye.length?ye:E$1))],events:[...new Set(Ee.events.concat(be!=null&&be.length?be:_$2))],rpcMap:we};return{required:Y.length?Ee:void 0,optional:ne.length?fr:void 0}}let v$2=class _w{constructor(){this.events=new eventsExports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=$$1,this.on=(Y,ne)=>(this.events.on(Y,ne),this),this.once=(Y,ne)=>(this.events.once(Y,ne),this),this.removeListener=(Y,ne)=>(this.events.removeListener(Y,ne),this),this.off=(Y,ne)=>(this.events.off(Y,ne),this),this.parseAccount=Y=>this.isCompatibleChainId(Y)?this.parseAccountId(Y).address:Y,this.signer={},this.rpc={}}static async init(Y){const ne=new _w;return await ne.initialize(Y),ne}async request(Y,ne){return await this.signer.request(Y,this.formatChainId(this.chainId),ne)}sendAsync(Y,ne,fe){this.signer.sendAsync(Y,ne,this.formatChainId(this.chainId),fe)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(Y){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(Y);const{required:ne,optional:fe}=L$1(this.rpc);try{const ye=await new Promise(async(be,we)=>{var Ee;this.rpc.showQrModal&&((Ee=this.modal)==null||Ee.subscribeModal(xe=>{!xe.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),we(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(M$1(p$2({namespaces:p$2({},ne&&{[this.namespace]:ne})},fe&&{optionalNamespaces:{[this.namespace]:fe}}),{pairingTopic:Y==null?void 0:Y.pairingTopic})).then(xe=>{be(xe)}).catch(xe=>{we(new Error(xe.message))})});if(!ye)return;const me=Un(ye.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:me),this.setAccounts(me),this.events.emit("connect",{chainId:f$2(this.chainId)})}catch(ye){throw this.signer.logger.error(ye),ye}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",Y=>{const{params:ne}=Y,{event:fe}=ne;fe.name==="accountsChanged"?(this.accounts=this.parseAccounts(fe.data),this.events.emit("accountsChanged",this.accounts)):fe.name==="chainChanged"?this.setChainId(this.formatChainId(fe.data)):this.events.emit(fe.name,fe.data),this.events.emit("session_event",Y)}),this.signer.on("chainChanged",Y=>{const ne=parseInt(Y);this.chainId=ne,this.events.emit("chainChanged",f$2(this.chainId)),this.persist()}),this.signer.on("session_update",Y=>{this.events.emit("session_update",Y)}),this.signer.on("session_delete",Y=>{this.reset(),this.events.emit("session_delete",Y),this.events.emit("disconnect",M$1(p$2({},U$2("USER_DISCONNECTED")),{data:Y.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",Y=>{var ne,fe;this.rpc.showQrModal&&((ne=this.modal)==null||ne.closeModal(),(fe=this.modal)==null||fe.openModal({uri:Y})),this.events.emit("display_uri",Y)})}switchEthereumChain(Y){this.request({method:"wallet_switchEthereumChain",params:[{chainId:Y.toString(16)}]})}isCompatibleChainId(Y){return typeof Y=="string"?Y.startsWith(`${this.namespace}:`):!1}formatChainId(Y){return`${this.namespace}:${Y}`}parseChainId(Y){return Number(Y.split(":")[1])}setChainIds(Y){const ne=Y.filter(fe=>this.isCompatibleChainId(fe)).map(fe=>this.parseChainId(fe));ne.length&&(this.chainId=ne[0],this.events.emit("chainChanged",f$2(this.chainId)),this.persist())}setChainId(Y){if(this.isCompatibleChainId(Y)){const ne=this.parseChainId(Y);this.chainId=ne,this.switchEthereumChain(ne)}}parseAccountId(Y){const[ne,fe,ye]=Y.split(":");return{chainId:`${ne}:${fe}`,address:ye}}setAccounts(Y){this.accounts=Y.filter(ne=>this.parseChainId(this.parseAccountId(ne).chainId)===this.chainId).map(ne=>this.parseAccountId(ne).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(Y){var ne,fe;const ye=(ne=Y==null?void 0:Y.chains)!=null?ne:[],me=(fe=Y==null?void 0:Y.optionalChains)!=null?fe:[],be=ye.concat(me);if(!be.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const we=ye.length?(Y==null?void 0:Y.methods)||u$2:[],Ee=ye.length?(Y==null?void 0:Y.events)||m$2:[],xe=(Y==null?void 0:Y.optionalMethods)||[],Se=(Y==null?void 0:Y.optionalEvents)||[],Ie=(Y==null?void 0:Y.rpcMap)||this.buildRpcMap(be,Y.projectId),fr=(Y==null?void 0:Y.qrModalOptions)||void 0;return{chains:ye==null?void 0:ye.map(br=>this.formatChainId(br)),optionalChains:me.map(br=>this.formatChainId(br)),methods:we,events:Ee,optionalMethods:xe,optionalEvents:Se,rpcMap:Ie,showQrModal:!!(Y!=null&&Y.showQrModal),qrModalOptions:fr,projectId:Y.projectId,metadata:Y.metadata}}buildRpcMap(Y,ne){const fe={};return Y.forEach(ye=>{fe[ye]=this.getRpcUrl(ye,ne)}),fe}async initialize(Y){if(this.rpc=this.getRpcConfig(Y),this.chainId=this.rpc.chains.length?g$2(this.rpc.chains):g$2(this.rpc.optionalChains),this.signer=await hv.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:Y.disableProviderPing,relayUrl:Y.relayUrl,storageOptions:Y.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let ne;try{const{WalletConnectModal:fe}=await __vitePreload(()=>import("./index-DWHCJFdV.js").then(ye=>ye.i),__vite__mapDeps([0,1,2]),import.meta.url);ne=fe}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(ne)try{this.modal=new ne(p$2({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(fe){throw this.signer.logger.error(fe),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(Y){if(!Y)return;const{chains:ne,optionalChains:fe,rpcMap:ye}=Y;ne&&k$4(ne)&&(this.rpc.chains=ne.map(me=>this.formatChainId(me)),ne.forEach(me=>{this.rpc.rpcMap[me]=(ye==null?void 0:ye[me])||this.getRpcUrl(me)})),fe&&k$4(fe)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=fe==null?void 0:fe.map(me=>this.formatChainId(me)),fe.forEach(me=>{this.rpc.rpcMap[me]=(ye==null?void 0:ye[me])||this.getRpcUrl(me)}))}getRpcUrl(Y,ne){var fe;return((fe=this.rpc.rpcMap)==null?void 0:fe[Y])||`${j$2}?chainId=eip155:${Y}&projectId=${ne||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const Y=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),ne=this.session.namespaces[`${this.namespace}:${Y}`]?this.session.namespaces[`${this.namespace}:${Y}`]:this.session.namespaces[this.namespace];this.setChainIds(Y?[this.formatChainId(Y)]:ne==null?void 0:ne.accounts),this.setAccounts(ne==null?void 0:ne.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(Y){return typeof Y=="string"||Y instanceof String?[this.parseAccount(Y)]:Y.map(ne=>this.parseAccount(ne))}};const version$2="6.13.4";function checkType$1(se,Y,ne){const fe=Y.split("|").map(me=>me.trim());for(let me=0;me<fe.length;me++)switch(Y){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof se===Y)return}const ye=new Error(`invalid value for type ${Y}`);throw ye.code="INVALID_ARGUMENT",ye.argument=`value.${ne}`,ye.value=se,ye}async function resolveProperties$1(se){const Y=Object.keys(se);return(await Promise.all(Y.map(fe=>Promise.resolve(se[fe])))).reduce((fe,ye,me)=>(fe[Y[me]]=ye,fe),{})}function defineProperties$1(se,Y,ne){for(let fe in Y){let ye=Y[fe];const me=ne?ne[fe]:null;me&&checkType$1(ye,me,fe),Object.defineProperty(se,fe,{enumerable:!0,value:ye,writable:!1})}}function stringify$1(se){if(se==null)return"null";if(Array.isArray(se))return"[ "+se.map(stringify$1).join(", ")+" ]";if(se instanceof Uint8Array){const Y="0123456789abcdef";let ne="0x";for(let fe=0;fe<se.length;fe++)ne+=Y[se[fe]>>4],ne+=Y[se[fe]&15];return ne}if(typeof se=="object"&&typeof se.toJSON=="function")return stringify$1(se.toJSON());switch(typeof se){case"boolean":case"symbol":return se.toString();case"bigint":return BigInt(se).toString();case"number":return se.toString();case"string":return JSON.stringify(se);case"object":{const Y=Object.keys(se);return Y.sort(),"{ "+Y.map(ne=>`${stringify$1(ne)}: ${stringify$1(se[ne])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function isError$1(se,Y){return se&&se.code===Y}function isCallException$1(se){return isError$1(se,"CALL_EXCEPTION")}function makeError$1(se,Y,ne){let fe=se;{const me=[];if(ne){if("message"in ne||"code"in ne||"name"in ne)throw new Error(`value will overwrite populated values: ${stringify$1(ne)}`);for(const be in ne){if(be==="shortMessage")continue;const we=ne[be];me.push(be+"="+stringify$1(we))}}me.push(`code=${Y}`),me.push(`version=${version$2}`),me.length&&(se+=" ("+me.join(", ")+")")}let ye;switch(Y){case"INVALID_ARGUMENT":ye=new TypeError(se);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":ye=new RangeError(se);break;default:ye=new Error(se)}return defineProperties$1(ye,{code:Y}),ne&&Object.assign(ye,ne),ye.shortMessage==null&&defineProperties$1(ye,{shortMessage:fe}),ye}function assert$3(se,Y,ne,fe){if(!se)throw makeError$1(Y,ne,fe)}function assertArgument$1(se,Y,ne,fe){assert$3(se,Y,"INVALID_ARGUMENT",{argument:ne,value:fe})}function assertArgumentCount$1(se,Y,ne){ne==null&&(ne=""),ne&&(ne=": "+ne),assert$3(se>=Y,"missing arguemnt"+ne,"MISSING_ARGUMENT",{count:se,expectedCount:Y}),assert$3(se<=Y,"too many arguments"+ne,"UNEXPECTED_ARGUMENT",{count:se,expectedCount:Y})}["NFD","NFC","NFKD","NFKC"].reduce((se,Y)=>{try{if("test".normalize(Y)!=="test")throw new Error("bad");if(Y==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");se.push(Y)}catch{}return se},[]);function assertPrivate$1(se,Y,ne){if(ne==null&&(ne=""),se!==Y){let fe=ne,ye="new";ne&&(fe+=".",ye+=" "+ne),assert$3(!1,`private constructor; use ${fe}from* methods`,"UNSUPPORTED_OPERATION",{operation:ye})}}function _getBytes$1(se,Y,ne){if(se instanceof Uint8Array)return ne?new Uint8Array(se):se;if(typeof se=="string"&&se.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const fe=new Uint8Array((se.length-2)/2);let ye=2;for(let me=0;me<fe.length;me++)fe[me]=parseInt(se.substring(ye,ye+2),16),ye+=2;return fe}assertArgument$1(!1,"invalid BytesLike value",Y||"value",se)}function getBytes$1(se,Y){return _getBytes$1(se,Y,!1)}function getBytesCopy$1(se,Y){return _getBytes$1(se,Y,!0)}function isHexString$1(se,Y){return!(typeof se!="string"||!se.match(/^0x[0-9A-Fa-f]*$/)||typeof Y=="number"&&se.length!==2+2*Y||Y===!0&&se.length%2!==0)}function isBytesLike$1(se){return isHexString$1(se,!0)||se instanceof Uint8Array}const HexCharacters$1="0123456789abcdef";function hexlify$1(se){const Y=getBytes$1(se);let ne="0x";for(let fe=0;fe<Y.length;fe++){const ye=Y[fe];ne+=HexCharacters$1[(ye&240)>>4]+HexCharacters$1[ye&15]}return ne}function concat$1(se){return"0x"+se.map(Y=>hexlify$1(Y).substring(2)).join("")}function dataLength$1(se){return isHexString$1(se,!0)?(se.length-2)/2:getBytes$1(se).length}function dataSlice$1(se,Y,ne){const fe=getBytes$1(se);return ne!=null&&ne>fe.length&&assert$3(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:fe,length:fe.length,offset:ne}),hexlify$1(fe.slice(Y??0,ne??fe.length))}function zeroPad$1(se,Y,ne){const fe=getBytes$1(se);assert$3(Y>=fe.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(fe),length:Y,offset:Y+1});const ye=new Uint8Array(Y);return ye.fill(0),ne?ye.set(fe,Y-fe.length):ye.set(fe,0),hexlify$1(ye)}function zeroPadValue$1(se,Y){return zeroPad$1(se,Y,!0)}function zeroPadBytes$1(se,Y){return zeroPad$1(se,Y,!1)}const BN_0$i=BigInt(0),BN_1$8=BigInt(1),maxValue$1=9007199254740991;function fromTwos$1(se,Y){const ne=getUint$1(se,"value"),fe=BigInt(getNumber$1(Y,"width"));if(assert$3(ne>>fe===BN_0$i,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:se}),ne>>fe-BN_1$8){const ye=(BN_1$8<<fe)-BN_1$8;return-((~ne&ye)+BN_1$8)}return ne}function toTwos$1(se,Y){let ne=getBigInt$1(se,"value");const fe=BigInt(getNumber$1(Y,"width")),ye=BN_1$8<<fe-BN_1$8;if(ne<BN_0$i){ne=-ne,assert$3(ne<=ye,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:se});const me=(BN_1$8<<fe)-BN_1$8;return(~ne&me)+BN_1$8}else assert$3(ne<ye,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:se});return ne}function mask$2(se,Y){const ne=getUint$1(se,"value"),fe=BigInt(getNumber$1(Y,"bits"));return ne&(BN_1$8<<fe)-BN_1$8}function getBigInt$1(se,Y){switch(typeof se){case"bigint":return se;case"number":return assertArgument$1(Number.isInteger(se),"underflow",Y||"value",se),assertArgument$1(se>=-maxValue$1&&se<=maxValue$1,"overflow",Y||"value",se),BigInt(se);case"string":try{if(se==="")throw new Error("empty string");return se[0]==="-"&&se[1]!=="-"?-BigInt(se.substring(1)):BigInt(se)}catch(ne){assertArgument$1(!1,`invalid BigNumberish string: ${ne.message}`,Y||"value",se)}}assertArgument$1(!1,"invalid BigNumberish value",Y||"value",se)}function getUint$1(se,Y){const ne=getBigInt$1(se,Y);return assert$3(ne>=BN_0$i,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:se}),ne}const Nibbles$1="0123456789abcdef";function toBigInt$1(se){if(se instanceof Uint8Array){let Y="0x0";for(const ne of se)Y+=Nibbles$1[ne>>4],Y+=Nibbles$1[ne&15];return BigInt(Y)}return getBigInt$1(se)}function getNumber$1(se,Y){switch(typeof se){case"bigint":return assertArgument$1(se>=-maxValue$1&&se<=maxValue$1,"overflow",Y||"value",se),Number(se);case"number":return assertArgument$1(Number.isInteger(se),"underflow",Y||"value",se),assertArgument$1(se>=-maxValue$1&&se<=maxValue$1,"overflow",Y||"value",se),se;case"string":try{if(se==="")throw new Error("empty string");return getNumber$1(BigInt(se),Y)}catch(ne){assertArgument$1(!1,`invalid numeric string: ${ne.message}`,Y||"value",se)}}assertArgument$1(!1,"invalid numeric value",Y||"value",se)}function toNumber$1(se){return getNumber$1(toBigInt$1(se))}function toBeHex$1(se,Y){let fe=getUint$1(se,"value").toString(16);if(Y==null)fe.length%2&&(fe="0"+fe);else{const ye=getNumber$1(Y,"width");for(assert$3(ye*2>=fe.length,`value exceeds width (${ye} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:se});fe.length<ye*2;)fe="0"+fe}return"0x"+fe}function toBeArray$1(se){const Y=getUint$1(se,"value");if(Y===BN_0$i)return new Uint8Array([]);let ne=Y.toString(16);ne.length%2&&(ne="0"+ne);const fe=new Uint8Array(ne.length/2);for(let ye=0;ye<fe.length;ye++){const me=ye*2;fe[ye]=parseInt(ne.substring(me,me+2),16)}return fe}function toQuantity$1(se){let Y=hexlify$1(isBytesLike$1(se)?se:toBeArray$1(se)).substring(2);for(;Y.startsWith("0");)Y=Y.substring(1);return Y===""&&(Y="0"),"0x"+Y}const Alphabet$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const BN_58$1=BigInt(58);function encodeBase58$1(se){const Y=getBytes$1(se);let ne=toBigInt$1(Y),fe="";for(;ne;)fe=Alphabet$1[Number(ne%BN_58$1)]+fe,ne/=BN_58$1;for(let ye=0;ye<Y.length&&!Y[ye];ye++)fe=Alphabet$1[0]+fe;return fe}function decodeBase64$1(se){se=atob(se);const Y=new Uint8Array(se.length);for(let ne=0;ne<se.length;ne++)Y[ne]=se.charCodeAt(ne);return getBytes$1(Y)}function encodeBase64$1(se){const Y=getBytes$1(se);let ne="";for(let fe=0;fe<Y.length;fe++)ne+=String.fromCharCode(Y[fe]);return btoa(ne)}var Rd,Gv;let EventPayload$1=(Gv=class{constructor(Y,ne,fe){li(this,"filter");li(this,"emitter");fi(this,Rd);Yn(this,Rd,ne),defineProperties$1(this,{emitter:Y,filter:fe})}async removeListener(){In(this,Rd)!=null&&await this.emitter.off(this.filter,In(this,Rd))}},Rd=new WeakMap,Gv);function errorFunc$1(se,Y,ne,fe,ye){assertArgument$1(!1,`invalid codepoint at offset ${Y}; ${se}`,"bytes",ne)}function ignoreFunc$1(se,Y,ne,fe,ye){if(se==="BAD_PREFIX"||se==="UNEXPECTED_CONTINUE"){let me=0;for(let be=Y+1;be<ne.length&&ne[be]>>6===2;be++)me++;return me}return se==="OVERRUN"?ne.length-Y-1:0}function replaceFunc$1(se,Y,ne,fe,ye){return se==="OVERLONG"?(assertArgument$1(typeof ye=="number","invalid bad code point for replacement","badCodepoint",ye),fe.push(ye),0):(fe.push(65533),ignoreFunc$1(se,Y,ne))}const Utf8ErrorFuncs$1=Object.freeze({error:errorFunc$1,ignore:ignoreFunc$1,replace:replaceFunc$1});function getUtf8CodePoints$1(se,Y){Y==null&&(Y=Utf8ErrorFuncs$1.error);const ne=getBytes$1(se,"bytes"),fe=[];let ye=0;for(;ye<ne.length;){const me=ne[ye++];if(!(me>>7)){fe.push(me);continue}let be=null,we=null;if((me&224)===192)be=1,we=127;else if((me&240)===224)be=2,we=2047;else if((me&248)===240)be=3,we=65535;else{(me&192)===128?ye+=Y("UNEXPECTED_CONTINUE",ye-1,ne,fe):ye+=Y("BAD_PREFIX",ye-1,ne,fe);continue}if(ye-1+be>=ne.length){ye+=Y("OVERRUN",ye-1,ne,fe);continue}let Ee=me&(1<<8-be-1)-1;for(let xe=0;xe<be;xe++){let Se=ne[ye];if((Se&192)!=128){ye+=Y("MISSING_CONTINUE",ye,ne,fe),Ee=null;break}Ee=Ee<<6|Se&63,ye++}if(Ee!==null){if(Ee>1114111){ye+=Y("OUT_OF_RANGE",ye-1-be,ne,fe,Ee);continue}if(Ee>=55296&&Ee<=57343){ye+=Y("UTF16_SURROGATE",ye-1-be,ne,fe,Ee);continue}if(Ee<=we){ye+=Y("OVERLONG",ye-1-be,ne,fe,Ee);continue}fe.push(Ee)}}return fe}function toUtf8Bytes$1(se,Y){assertArgument$1(typeof se=="string","invalid string value","str",se);let ne=[];for(let fe=0;fe<se.length;fe++){const ye=se.charCodeAt(fe);if(ye<128)ne.push(ye);else if(ye<2048)ne.push(ye>>6|192),ne.push(ye&63|128);else if((ye&64512)==55296){fe++;const me=se.charCodeAt(fe);assertArgument$1(fe<se.length&&(me&64512)===56320,"invalid surrogate pair","str",se);const be=65536+((ye&1023)<<10)+(me&1023);ne.push(be>>18|240),ne.push(be>>12&63|128),ne.push(be>>6&63|128),ne.push(be&63|128)}else ne.push(ye>>12|224),ne.push(ye>>6&63|128),ne.push(ye&63|128)}return new Uint8Array(ne)}function _toUtf8String$1(se){return se.map(Y=>Y<=65535?String.fromCharCode(Y):(Y-=65536,String.fromCharCode((Y>>10&1023)+55296,(Y&1023)+56320))).join("")}function toUtf8String$1(se,Y){return _toUtf8String$1(getUtf8CodePoints$1(se,Y))}function createGetUrl$1(se){async function Y(ne,fe){assert$3(fe==null||!fe.cancelled,"request cancelled before sending","CANCELLED");const ye=ne.url.split(":")[0].toLowerCase();assert$3(ye==="http"||ye==="https",`unsupported protocol ${ye}`,"UNSUPPORTED_OPERATION",{info:{protocol:ye},operation:"request"}),assert$3(ye==="https"||!ne.credentials||ne.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let me=null;const be=new AbortController,we=setTimeout(()=>{me=makeError$1("request timeout","TIMEOUT"),be.abort()},ne.timeout);fe&&fe.addListener(()=>{me=makeError$1("request cancelled","CANCELLED"),be.abort()});const Ee={method:ne.method,headers:new Headers(Array.from(ne)),body:ne.body||void 0,signal:be.signal};let xe;try{xe=await fetch(ne.url,Ee)}catch(br){throw clearTimeout(we),me||br}clearTimeout(we);const Se={};xe.headers.forEach((br,kr)=>{Se[kr.toLowerCase()]=br});const Ie=await xe.arrayBuffer(),fr=Ie==null?null:new Uint8Array(Ie);return{statusCode:xe.status,statusMessage:xe.statusText,headers:Se,body:fr}}return Y}const MAX_ATTEMPTS$1=12,SLOT_INTERVAL$1=250;let defaultGetUrlFunc$1=createGetUrl$1();const reData$1=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),reIpfs$1=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let locked$3=!1;async function dataGatewayFunc$1(se,Y){try{const ne=se.match(reData$1);if(!ne)throw new Error("invalid data");return new FetchResponse$1(200,"OK",{"content-type":ne[1]||"text/plain"},ne[2]?decodeBase64$1(ne[3]):unpercent$1(ne[3]))}catch{return new FetchResponse$1(599,"BAD REQUEST (invalid data: URI)",{},null,new FetchRequest$1(se))}}function getIpfsGatewayFunc$1(se){async function Y(ne,fe){try{const ye=ne.match(reIpfs$1);if(!ye)throw new Error("invalid link");return new FetchRequest$1(`${se}${ye[2]}`)}catch{return new FetchResponse$1(599,"BAD REQUEST (invalid IPFS URI)",{},null,new FetchRequest$1(ne))}}return Y}const Gateways$1={data:dataGatewayFunc$1,ipfs:getIpfsGatewayFunc$1("https://gateway.ipfs.io/ipfs/")},fetchSignals$1=new WeakMap;var oh,ef,Zv;let FetchCancelSignal$1=(Zv=class{constructor(Y){fi(this,oh);fi(this,ef);Yn(this,oh,[]),Yn(this,ef,!1),fetchSignals$1.set(Y,()=>{if(!In(this,ef)){Yn(this,ef,!0);for(const ne of In(this,oh))setTimeout(()=>{ne()},0);Yn(this,oh,[])}})}addListener(Y){assert$3(!In(this,ef),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),In(this,oh).push(Y)}get cancelled(){return In(this,ef)}checkSignal(){assert$3(!this.cancelled,"cancelled","CANCELLED",{})}},oh=new WeakMap,ef=new WeakMap,Zv);function checkSignal$1(se){if(se==null)throw new Error("missing signal; should not happen");return se.checkSignal(),se}var Id,Pd,vl,gu,Td,Nd,Jo,qc,mu,ch,lh,uh,Ml,wl,tf,fh,xp,Qh;let FetchRequest$1=(Qh=class{constructor(Y){fi(this,fh);fi(this,Id);fi(this,Pd);fi(this,vl);fi(this,gu);fi(this,Td);fi(this,Nd);fi(this,Jo);fi(this,qc);fi(this,mu);fi(this,ch);fi(this,lh);fi(this,uh);fi(this,Ml);fi(this,wl);fi(this,tf);Yn(this,Nd,String(Y)),Yn(this,Id,!1),Yn(this,Pd,!0),Yn(this,vl,{}),Yn(this,gu,""),Yn(this,Td,3e5),Yn(this,wl,{slotInterval:SLOT_INTERVAL$1,maxAttempts:MAX_ATTEMPTS$1}),Yn(this,tf,null)}get url(){return In(this,Nd)}set url(Y){Yn(this,Nd,String(Y))}get body(){return In(this,Jo)==null?null:new Uint8Array(In(this,Jo))}set body(Y){if(Y==null)Yn(this,Jo,void 0),Yn(this,qc,void 0);else if(typeof Y=="string")Yn(this,Jo,toUtf8Bytes$1(Y)),Yn(this,qc,"text/plain");else if(Y instanceof Uint8Array)Yn(this,Jo,Y),Yn(this,qc,"application/octet-stream");else if(typeof Y=="object")Yn(this,Jo,toUtf8Bytes$1(JSON.stringify(Y))),Yn(this,qc,"application/json");else throw new Error("invalid body")}hasBody(){return In(this,Jo)!=null}get method(){return In(this,gu)?In(this,gu):this.hasBody()?"POST":"GET"}set method(Y){Y==null&&(Y=""),Yn(this,gu,String(Y).toUpperCase())}get headers(){const Y=Object.assign({},In(this,vl));return In(this,mu)&&(Y.authorization=`Basic ${encodeBase64$1(toUtf8Bytes$1(In(this,mu)))}`),this.allowGzip&&(Y["accept-encoding"]="gzip"),Y["content-type"]==null&&In(this,qc)&&(Y["content-type"]=In(this,qc)),this.body&&(Y["content-length"]=String(this.body.length)),Y}getHeader(Y){return this.headers[Y.toLowerCase()]}setHeader(Y,ne){In(this,vl)[String(Y).toLowerCase()]=String(ne)}clearHeaders(){Yn(this,vl,{})}[Symbol.iterator](){const Y=this.headers,ne=Object.keys(Y);let fe=0;return{next:()=>{if(fe<ne.length){const ye=ne[fe++];return{value:[ye,Y[ye]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return In(this,mu)||null}setCredentials(Y,ne){assertArgument$1(!Y.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Yn(this,mu,`${Y}:${ne}`)}get allowGzip(){return In(this,Pd)}set allowGzip(Y){Yn(this,Pd,!!Y)}get allowInsecureAuthentication(){return!!In(this,Id)}set allowInsecureAuthentication(Y){Yn(this,Id,!!Y)}get timeout(){return In(this,Td)}set timeout(Y){assertArgument$1(Y>=0,"timeout must be non-zero","timeout",Y),Yn(this,Td,Y)}get preflightFunc(){return In(this,ch)||null}set preflightFunc(Y){Yn(this,ch,Y)}get processFunc(){return In(this,lh)||null}set processFunc(Y){Yn(this,lh,Y)}get retryFunc(){return In(this,uh)||null}set retryFunc(Y){Yn(this,uh,Y)}get getUrlFunc(){return In(this,tf)||defaultGetUrlFunc$1}set getUrlFunc(Y){Yn(this,tf,Y)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${In(this,Jo)?hexlify$1(In(this,Jo)):"null"}>`}setThrottleParams(Y){Y.slotInterval!=null&&(In(this,wl).slotInterval=Y.slotInterval),Y.maxAttempts!=null&&(In(this,wl).maxAttempts=Y.maxAttempts)}send(){return assert$3(In(this,Ml)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Yn(this,Ml,new FetchCancelSignal$1(this)),_i(this,fh,xp).call(this,0,getTime$3()+this.timeout,0,this,new FetchResponse$1(0,"",{},null,this))}cancel(){assert$3(In(this,Ml)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const Y=fetchSignals$1.get(this);if(!Y)throw new Error("missing signal; should not happen");Y()}redirect(Y){const ne=this.url.split(":")[0].toLowerCase(),fe=Y.split(":")[0].toLowerCase();assert$3(this.method==="GET"&&(ne!=="https"||fe!=="http")&&Y.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(Y)})`});const ye=new Qh(Y);return ye.method="GET",ye.allowGzip=this.allowGzip,ye.timeout=this.timeout,Yn(ye,vl,Object.assign({},In(this,vl))),In(this,Jo)&&Yn(ye,Jo,new Uint8Array(In(this,Jo))),Yn(ye,qc,In(this,qc)),ye}clone(){const Y=new Qh(this.url);return Yn(Y,gu,In(this,gu)),In(this,Jo)&&Yn(Y,Jo,In(this,Jo)),Yn(Y,qc,In(this,qc)),Yn(Y,vl,Object.assign({},In(this,vl))),Yn(Y,mu,In(this,mu)),this.allowGzip&&(Y.allowGzip=!0),Y.timeout=this.timeout,this.allowInsecureAuthentication&&(Y.allowInsecureAuthentication=!0),Yn(Y,ch,In(this,ch)),Yn(Y,lh,In(this,lh)),Yn(Y,uh,In(this,uh)),Yn(Y,wl,Object.assign({},In(this,wl))),Yn(Y,tf,In(this,tf)),Y}static lockConfig(){locked$3=!0}static getGateway(Y){return Gateways$1[Y.toLowerCase()]||null}static registerGateway(Y,ne){if(Y=Y.toLowerCase(),Y==="http"||Y==="https")throw new Error(`cannot intercept ${Y}; use registerGetUrl`);if(locked$3)throw new Error("gateways locked");Gateways$1[Y]=ne}static registerGetUrl(Y){if(locked$3)throw new Error("gateways locked");defaultGetUrlFunc$1=Y}static createGetUrlFunc(Y){return createGetUrl$1()}static createDataGateway(){return dataGatewayFunc$1}static createIpfsGatewayFunc(Y){return getIpfsGatewayFunc$1(Y)}},Id=new WeakMap,Pd=new WeakMap,vl=new WeakMap,gu=new WeakMap,Td=new WeakMap,Nd=new WeakMap,Jo=new WeakMap,qc=new WeakMap,mu=new WeakMap,ch=new WeakMap,lh=new WeakMap,uh=new WeakMap,Ml=new WeakMap,wl=new WeakMap,tf=new WeakMap,fh=new WeakSet,xp=async function(Y,ne,fe,ye,me){var Se,Ie,fr;if(Y>=In(this,wl).maxAttempts)return me.makeServerError("exceeded maximum retry limit");assert$3(getTime$3()<=ne,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:ye}),fe>0&&await wait$1(fe);let be=this.clone();const we=(be.url.split(":")[0]||"").toLowerCase();if(we in Gateways$1){const br=await Gateways$1[we](be.url,checkSignal$1(In(ye,Ml)));if(br instanceof FetchResponse$1){let kr=br;if(this.processFunc){checkSignal$1(In(ye,Ml));try{kr=await this.processFunc(be,kr)}catch(Wr){(Wr.throttle==null||typeof Wr.stall!="number")&&kr.makeServerError("error in post-processing function",Wr).assertOk()}}return kr}be=br}this.preflightFunc&&(be=await this.preflightFunc(be));const Ee=await this.getUrlFunc(be,checkSignal$1(In(ye,Ml)));let xe=new FetchResponse$1(Ee.statusCode,Ee.statusMessage,Ee.headers,Ee.body,ye);if(xe.statusCode===301||xe.statusCode===302){try{const br=xe.headers.location||"";return _i(Se=be.redirect(br),fh,xp).call(Se,Y+1,ne,0,ye,xe)}catch{}return xe}else if(xe.statusCode===429&&(this.retryFunc==null||await this.retryFunc(be,xe,Y))){const br=xe.headers["retry-after"];let kr=In(this,wl).slotInterval*Math.trunc(Math.random()*Math.pow(2,Y));return typeof br=="string"&&br.match(/^[1-9][0-9]*$/)&&(kr=parseInt(br)),_i(Ie=be.clone(),fh,xp).call(Ie,Y+1,ne,kr,ye,xe)}if(this.processFunc){checkSignal$1(In(ye,Ml));try{xe=await this.processFunc(be,xe)}catch(br){(br.throttle==null||typeof br.stall!="number")&&xe.makeServerError("error in post-processing function",br).assertOk();let kr=In(this,wl).slotInterval*Math.trunc(Math.random()*Math.pow(2,Y));return br.stall>=0&&(kr=br.stall),_i(fr=be.clone(),fh,xp).call(fr,Y+1,ne,kr,ye,xe)}}return xe},Qh);var kp,Mp,Op,Uc,kd,hh,Md;let FetchResponse$1=(Md=class{constructor(Y,ne,fe,ye,me){fi(this,kp);fi(this,Mp);fi(this,Op);fi(this,Uc);fi(this,kd);fi(this,hh);Yn(this,kp,Y),Yn(this,Mp,ne),Yn(this,Op,Object.keys(fe).reduce((be,we)=>(be[we.toLowerCase()]=String(fe[we]),be),{})),Yn(this,Uc,ye==null?null:new Uint8Array(ye)),Yn(this,kd,me||null),Yn(this,hh,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${In(this,Uc)?hexlify$1(In(this,Uc)):"null"}>`}get statusCode(){return In(this,kp)}get statusMessage(){return In(this,Mp)}get headers(){return Object.assign({},In(this,Op))}get body(){return In(this,Uc)==null?null:new Uint8Array(In(this,Uc))}get bodyText(){try{return In(this,Uc)==null?"":toUtf8String$1(In(this,Uc))}catch{assert$3(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{assert$3(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const Y=this.headers,ne=Object.keys(Y);let fe=0;return{next:()=>{if(fe<ne.length){const ye=ne[fe++];return{value:[ye,Y[ye]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(Y,ne){let fe;Y?fe=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${Y})`:(Y=`${this.statusCode} ${this.statusMessage}`,fe=`CLIENT ESCALATED SERVER ERROR (${Y})`);const ye=new Md(599,fe,this.headers,this.body,In(this,kd)||void 0);return Yn(ye,hh,{message:Y,error:ne}),ye}throwThrottleError(Y,ne){ne==null?ne=-1:assertArgument$1(Number.isInteger(ne)&&ne>=0,"invalid stall timeout","stall",ne);const fe=new Error(Y||"throttling requests");throw defineProperties$1(fe,{stall:ne,throttle:!0}),fe}getHeader(Y){return this.headers[Y.toLowerCase()]}hasBody(){return In(this,Uc)!=null}get request(){return In(this,kd)}ok(){return In(this,hh).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:Y,error:ne}=In(this,hh);Y===""&&(Y=`server response ${this.statusCode} ${this.statusMessage}`);let fe=null;this.request&&(fe=this.request.url);let ye=null;try{In(this,Uc)&&(ye=toUtf8String$1(In(this,Uc)))}catch{}assert$3(!1,Y,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:ne,info:{requestUrl:fe,responseBody:ye,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}},kp=new WeakMap,Mp=new WeakMap,Op=new WeakMap,Uc=new WeakMap,kd=new WeakMap,hh=new WeakMap,Md);function getTime$3(){return new Date().getTime()}function unpercent$1(se){return toUtf8Bytes$1(se.replace(/%([0-9a-f][0-9a-f])/gi,(Y,ne)=>String.fromCharCode(parseInt(ne,16))))}function wait$1(se){return new Promise(Y=>setTimeout(Y,se))}const BN_N1=BigInt(-1),BN_0$h=BigInt(0),BN_1$7=BigInt(1),BN_5=BigInt(5),_guard$6={};let Zeros$2="0000";for(;Zeros$2.length<80;)Zeros$2+=Zeros$2;function getTens(se){let Y=Zeros$2;for(;Y.length<se;)Y+=Y;return BigInt("1"+Y.substring(0,se))}function checkValue(se,Y,ne){const fe=BigInt(Y.width);if(Y.signed){const ye=BN_1$7<<fe-BN_1$7;assert$3(ne==null||se>=-ye&&se<ye,"overflow","NUMERIC_FAULT",{operation:ne,fault:"overflow",value:se}),se>BN_0$h?se=fromTwos$1(mask$2(se,fe),fe):se=-fromTwos$1(mask$2(-se,fe),fe)}else{const ye=BN_1$7<<fe;assert$3(ne==null||se>=0&&se<ye,"overflow","NUMERIC_FAULT",{operation:ne,fault:"overflow",value:se}),se=(se%ye+ye)%ye&ye-BN_1$7}return se}function getFormat(se){typeof se=="number"&&(se=`fixed128x${se}`);let Y=!0,ne=128,fe=18;if(typeof se=="string"){if(se!=="fixed")if(se==="ufixed")Y=!1;else{const me=se.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);assertArgument$1(me,"invalid fixed format","format",se),Y=me[1]!=="u",ne=parseInt(me[2]),fe=parseInt(me[3])}}else if(se){const me=se,be=(we,Ee,xe)=>me[we]==null?xe:(assertArgument$1(typeof me[we]===Ee,"invalid fixed format ("+we+" not "+Ee+")","format."+we,me[we]),me[we]);Y=be("signed","boolean",Y),ne=be("width","number",ne),fe=be("decimals","number",fe)}assertArgument$1(ne%8===0,"invalid FixedNumber width (not byte aligned)","format.width",ne),assertArgument$1(fe<=80,"invalid FixedNumber decimals (too large)","format.decimals",fe);const ye=(Y?"":"u")+"fixed"+String(ne)+"x"+String(fe);return{signed:Y,width:ne,decimals:fe,name:ye}}function toString(se,Y){let ne="";se<BN_0$h&&(ne="-",se*=BN_N1);let fe=se.toString();if(Y===0)return ne+fe;for(;fe.length<=Y;)fe=Zeros$2+fe;const ye=fe.length-Y;for(fe=fe.substring(0,ye)+"."+fe.substring(ye);fe[0]==="0"&&fe[1]!==".";)fe=fe.substring(1);for(;fe[fe.length-1]==="0"&&fe[fe.length-2]!==".";)fe=fe.substring(0,fe.length-1);return ne+fe}var _l,mo,mc,fo,th,hu,uy,fy,hy,dy;const Xu=class Xu{constructor(Y,ne,fe){fi(this,fo);li(this,"format");fi(this,_l);fi(this,mo);fi(this,mc);li(this,"_value");assertPrivate$1(Y,_guard$6,"FixedNumber"),Yn(this,mo,ne),Yn(this,_l,fe);const ye=toString(ne,fe.decimals);defineProperties$1(this,{format:fe.name,_value:ye}),Yn(this,mc,getTens(fe.decimals))}get signed(){return In(this,_l).signed}get width(){return In(this,_l).width}get decimals(){return In(this,_l).decimals}get value(){return In(this,mo)}addUnsafe(Y){return _i(this,fo,uy).call(this,Y)}add(Y){return _i(this,fo,uy).call(this,Y,"add")}subUnsafe(Y){return _i(this,fo,fy).call(this,Y)}sub(Y){return _i(this,fo,fy).call(this,Y,"sub")}mulUnsafe(Y){return _i(this,fo,hy).call(this,Y)}mul(Y){return _i(this,fo,hy).call(this,Y,"mul")}mulSignal(Y){_i(this,fo,th).call(this,Y);const ne=In(this,mo)*In(Y,mo);return assert$3(ne%In(this,mc)===BN_0$h,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),_i(this,fo,hu).call(this,ne/In(this,mc),"mulSignal")}divUnsafe(Y){return _i(this,fo,dy).call(this,Y)}div(Y){return _i(this,fo,dy).call(this,Y,"div")}divSignal(Y){assert$3(In(Y,mo)!==BN_0$h,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_i(this,fo,th).call(this,Y);const ne=In(this,mo)*In(this,mc);return assert$3(ne%In(Y,mo)===BN_0$h,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),_i(this,fo,hu).call(this,ne/In(Y,mo),"divSignal")}cmp(Y){let ne=this.value,fe=Y.value;const ye=this.decimals-Y.decimals;return ye>0?fe*=getTens(ye):ye<0&&(ne*=getTens(-ye)),ne<fe?-1:ne>fe?1:0}eq(Y){return this.cmp(Y)===0}lt(Y){return this.cmp(Y)<0}lte(Y){return this.cmp(Y)<=0}gt(Y){return this.cmp(Y)>0}gte(Y){return this.cmp(Y)>=0}floor(){let Y=In(this,mo);return In(this,mo)<BN_0$h&&(Y-=In(this,mc)-BN_1$7),Y=In(this,mo)/In(this,mc)*In(this,mc),_i(this,fo,hu).call(this,Y,"floor")}ceiling(){let Y=In(this,mo);return In(this,mo)>BN_0$h&&(Y+=In(this,mc)-BN_1$7),Y=In(this,mo)/In(this,mc)*In(this,mc),_i(this,fo,hu).call(this,Y,"ceiling")}round(Y){if(Y==null&&(Y=0),Y>=this.decimals)return this;const ne=this.decimals-Y,fe=BN_5*getTens(ne-1);let ye=this.value+fe;const me=getTens(ne);return ye=ye/me*me,checkValue(ye,In(this,_l),"round"),new Xu(_guard$6,ye,In(this,_l))}isZero(){return In(this,mo)===BN_0$h}isNegative(){return In(this,mo)<BN_0$h}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(Y){return Xu.fromString(this.toString(),Y)}static fromValue(Y,ne,fe){const ye=ne==null?0:getNumber$1(ne),me=getFormat(fe);let be=getBigInt$1(Y,"value");const we=ye-me.decimals;if(we>0){const Ee=getTens(we);assert$3(be%Ee===BN_0$h,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:Y}),be/=Ee}else we<0&&(be*=getTens(-we));return checkValue(be,me,"fromValue"),new Xu(_guard$6,be,me)}static fromString(Y,ne){const fe=Y.match(/^(-?)([0-9]*)\.?([0-9]*)$/);assertArgument$1(fe&&fe[2].length+fe[3].length>0,"invalid FixedNumber string value","value",Y);const ye=getFormat(ne);let me=fe[2]||"0",be=fe[3]||"";for(;be.length<ye.decimals;)be+=Zeros$2;assert$3(be.substring(ye.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:Y}),be=be.substring(0,ye.decimals);const we=BigInt(fe[1]+me+be);return checkValue(we,ye,"fromString"),new Xu(_guard$6,we,ye)}static fromBytes(Y,ne){let fe=toBigInt$1(getBytes$1(Y,"value"));const ye=getFormat(ne);return ye.signed&&(fe=fromTwos$1(fe,ye.width)),checkValue(fe,ye,"fromBytes"),new Xu(_guard$6,fe,ye)}};_l=new WeakMap,mo=new WeakMap,mc=new WeakMap,fo=new WeakSet,th=function(Y){assertArgument$1(this.format===Y.format,"incompatible format; use fixedNumber.toFormat","other",Y)},hu=function(Y,ne){return Y=checkValue(Y,In(this,_l),ne),new Xu(_guard$6,Y,In(this,_l))},uy=function(Y,ne){return _i(this,fo,th).call(this,Y),_i(this,fo,hu).call(this,In(this,mo)+In(Y,mo),ne)},fy=function(Y,ne){return _i(this,fo,th).call(this,Y),_i(this,fo,hu).call(this,In(this,mo)-In(Y,mo),ne)},hy=function(Y,ne){return _i(this,fo,th).call(this,Y),_i(this,fo,hu).call(this,In(this,mo)*In(Y,mo)/In(this,mc),ne)},dy=function(Y,ne){return assert$3(In(Y,mo)!==BN_0$h,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_i(this,fo,th).call(this,Y),_i(this,fo,hu).call(this,In(this,mo)*In(this,mc)/In(Y,mo),ne)};let FixedNumber=Xu;function hexlifyByte$1(se){let Y=se.toString(16);for(;Y.length<2;)Y="0"+Y;return"0x"+Y}function unarrayifyInteger$1(se,Y,ne){let fe=0;for(let ye=0;ye<ne;ye++)fe=fe*256+se[Y+ye];return fe}function _decodeChildren$1(se,Y,ne,fe){const ye=[];for(;ne<Y+1+fe;){const me=_decode$1(se,ne);ye.push(me.result),ne+=me.consumed,assert$3(ne<=Y+1+fe,"child data too short","BUFFER_OVERRUN",{buffer:se,length:fe,offset:Y})}return{consumed:1+fe,result:ye}}function _decode$1(se,Y){assert$3(se.length!==0,"data too short","BUFFER_OVERRUN",{buffer:se,length:0,offset:1});const ne=fe=>{assert$3(fe<=se.length,"data short segment too short","BUFFER_OVERRUN",{buffer:se,length:se.length,offset:fe})};if(se[Y]>=248){const fe=se[Y]-247;ne(Y+1+fe);const ye=unarrayifyInteger$1(se,Y+1,fe);return ne(Y+1+fe+ye),_decodeChildren$1(se,Y,Y+1+fe,fe+ye)}else if(se[Y]>=192){const fe=se[Y]-192;return ne(Y+1+fe),_decodeChildren$1(se,Y,Y+1,fe)}else if(se[Y]>=184){const fe=se[Y]-183;ne(Y+1+fe);const ye=unarrayifyInteger$1(se,Y+1,fe);ne(Y+1+fe+ye);const me=hexlify$1(se.slice(Y+1+fe,Y+1+fe+ye));return{consumed:1+fe+ye,result:me}}else if(se[Y]>=128){const fe=se[Y]-128;ne(Y+1+fe);const ye=hexlify$1(se.slice(Y+1,Y+1+fe));return{consumed:1+fe,result:ye}}return{consumed:1,result:hexlifyByte$1(se[Y])}}function decodeRlp$1(se){const Y=getBytes$1(se,"data"),ne=_decode$1(Y,0);return assertArgument$1(ne.consumed===Y.length,"unexpected junk after rlp payload","data",se),ne.result}function arrayifyInteger$1(se){const Y=[];for(;se;)Y.unshift(se&255),se>>=8;return Y}function _encode$1(se){if(Array.isArray(se)){let fe=[];if(se.forEach(function(me){fe=fe.concat(_encode$1(me))}),fe.length<=55)return fe.unshift(192+fe.length),fe;const ye=arrayifyInteger$1(fe.length);return ye.unshift(247+ye.length),ye.concat(fe)}const Y=Array.prototype.slice.call(getBytes$1(se,"object"));if(Y.length===1&&Y[0]<=127)return Y;if(Y.length<=55)return Y.unshift(128+Y.length),Y;const ne=arrayifyInteger$1(Y.length);return ne.unshift(183+ne.length),ne.concat(Y)}const nibbles$1="0123456789abcdef";function encodeRlp$1(se){let Y="0x";for(const ne of _encode$1(se))Y+=nibbles$1[ne>>4],Y+=nibbles$1[ne&15];return Y}function formatUnits(se,Y){let ne=18;return ne=getNumber$1(Y,"unit"),FixedNumber.fromValue(se,ne,{decimals:ne,width:512}).toString()}function formatEther(se){return formatUnits(se,18)}const WordSize$1=32,Padding$1=new Uint8Array(WordSize$1),passProperties$3=["then"],_guard$5={},resultNames=new WeakMap;function getNames(se){return resultNames.get(se)}function setNames(se,Y){resultNames.set(se,Y)}function throwError$1(se,Y){const ne=new Error(`deferred error during ABI decoding triggered accessing ${se}`);throw ne.error=Y,ne}function toObject(se,Y,ne){return se.indexOf(null)>=0?Y.map((fe,ye)=>fe instanceof Result$1?toObject(getNames(fe),fe,ne):fe):se.reduce((fe,ye,me)=>{let be=Y.getValue(ye);return ye in fe||(ne&&be instanceof Result$1&&(be=toObject(getNames(be),be,ne)),fe[ye]=be),fe},{})}var Od,qu;let Result$1=(qu=class extends Array{constructor(...ne){const fe=ne[0];let ye=ne[1],me=(ne[2]||[]).slice(),be=!0;fe!==_guard$5&&(ye=ne,me=[],be=!1);super(ye.length);fi(this,Od);ye.forEach((xe,Se)=>{this[Se]=xe});const we=me.reduce((xe,Se)=>(typeof Se=="string"&&xe.set(Se,(xe.get(Se)||0)+1),xe),new Map);if(setNames(this,Object.freeze(ye.map((xe,Se)=>{const Ie=me[Se];return Ie!=null&&we.get(Ie)===1?Ie:null}))),Yn(this,Od,[]),In(this,Od)==null&&In(this,Od),!be)return;Object.freeze(this);const Ee=new Proxy(this,{get:(xe,Se,Ie)=>{if(typeof Se=="string"){if(Se.match(/^[0-9]+$/)){const br=getNumber$1(Se,"%index");if(br<0||br>=this.length)throw new RangeError("out of result range");const kr=xe[br];return kr instanceof Error&&throwError$1(`index ${br}`,kr),kr}if(passProperties$3.indexOf(Se)>=0)return Reflect.get(xe,Se,Ie);const fr=xe[Se];if(fr instanceof Function)return function(...br){return fr.apply(this===Ie?xe:this,br)};if(!(Se in xe))return xe.getValue.apply(this===Ie?xe:this,[Se])}return Reflect.get(xe,Se,Ie)}});return setNames(Ee,getNames(this)),Ee}toArray(ne){const fe=[];return this.forEach((ye,me)=>{ye instanceof Error&&throwError$1(`index ${me}`,ye),ne&&ye instanceof qu&&(ye=ye.toArray(ne)),fe.push(ye)}),fe}toObject(ne){const fe=getNames(this);return fe.reduce((ye,me,be)=>(assert$3(me!=null,`value at index ${be} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),toObject(fe,this,ne)),{})}slice(ne,fe){ne==null&&(ne=0),ne<0&&(ne+=this.length,ne<0&&(ne=0)),fe==null&&(fe=this.length),fe<0&&(fe+=this.length,fe<0&&(fe=0)),fe>this.length&&(fe=this.length);const ye=getNames(this),me=[],be=[];for(let we=ne;we<fe;we++)me.push(this[we]),be.push(ye[we]);return new qu(_guard$5,me,be)}filter(ne,fe){const ye=getNames(this),me=[],be=[];for(let we=0;we<this.length;we++){const Ee=this[we];Ee instanceof Error&&throwError$1(`index ${we}`,Ee),ne.call(fe,Ee,we,this)&&(me.push(Ee),be.push(ye[we]))}return new qu(_guard$5,me,be)}map(ne,fe){const ye=[];for(let me=0;me<this.length;me++){const be=this[me];be instanceof Error&&throwError$1(`index ${me}`,be),ye.push(ne.call(fe,be,me,this))}return ye}getValue(ne){const fe=getNames(this).indexOf(ne);if(fe===-1)return;const ye=this[fe];return ye instanceof Error&&throwError$1(`property ${JSON.stringify(ne)}`,ye.error),ye}static fromItems(ne,fe){return new qu(_guard$5,ne,fe)}},Od=new WeakMap,qu);function getValue$3(se){let Y=toBeArray$1(se);return assert$3(Y.length<=WordSize$1,"value out-of-bounds","BUFFER_OVERRUN",{buffer:Y,length:WordSize$1,offset:Y.length}),Y.length!==WordSize$1&&(Y=getBytesCopy$1(concat$1([Padding$1.slice(Y.length%WordSize$1),Y]))),Y}let Coder$1=class{constructor(Y,ne,fe,ye){li(this,"name");li(this,"type");li(this,"localName");li(this,"dynamic");defineProperties$1(this,{name:Y,type:ne,localName:fe,dynamic:ye},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(Y,ne){assertArgument$1(!1,Y,this.localName,ne)}};var yu,ph,Bd,fg,Kv;let Writer$1=(Kv=class{constructor(){fi(this,Bd);fi(this,yu);fi(this,ph);Yn(this,yu,[]),Yn(this,ph,0)}get data(){return concat$1(In(this,yu))}get length(){return In(this,ph)}appendWriter(Y){return _i(this,Bd,fg).call(this,getBytesCopy$1(Y.data))}writeBytes(Y){let ne=getBytesCopy$1(Y);const fe=ne.length%WordSize$1;return fe&&(ne=getBytesCopy$1(concat$1([ne,Padding$1.slice(fe)]))),_i(this,Bd,fg).call(this,ne)}writeValue(Y){return _i(this,Bd,fg).call(this,getValue$3(Y))}writeUpdatableValue(){const Y=In(this,yu).length;return In(this,yu).push(Padding$1),Yn(this,ph,In(this,ph)+WordSize$1),ne=>{In(this,yu)[Y]=getValue$3(ne)}}},yu=new WeakMap,ph=new WeakMap,Bd=new WeakSet,fg=function(Y){return In(this,yu).push(Y),Yn(this,ph,In(this,ph)+Y.length),Y.length},Kv);var Sc,Fc,gh,mh,rf,ed,py,$w,Dd;let Reader$1=(Dd=class{constructor(Y,ne,fe){fi(this,ed);li(this,"allowLoose");fi(this,Sc);fi(this,Fc);fi(this,gh);fi(this,mh);fi(this,rf);defineProperties$1(this,{allowLoose:!!ne}),Yn(this,Sc,getBytesCopy$1(Y)),Yn(this,gh,0),Yn(this,mh,null),Yn(this,rf,fe??1024),Yn(this,Fc,0)}get data(){return hexlify$1(In(this,Sc))}get dataLength(){return In(this,Sc).length}get consumed(){return In(this,Fc)}get bytes(){return new Uint8Array(In(this,Sc))}subReader(Y){const ne=new Dd(In(this,Sc).slice(In(this,Fc)+Y),this.allowLoose,In(this,rf));return Yn(ne,mh,this),ne}readBytes(Y,ne){let fe=_i(this,ed,$w).call(this,0,Y,!!ne);return _i(this,ed,py).call(this,Y),Yn(this,Fc,In(this,Fc)+fe.length),fe.slice(0,Y)}readValue(){return toBigInt$1(this.readBytes(WordSize$1))}readIndex(){return toNumber$1(this.readBytes(WordSize$1))}},Sc=new WeakMap,Fc=new WeakMap,gh=new WeakMap,mh=new WeakMap,rf=new WeakMap,ed=new WeakSet,py=function(Y){var ne;if(In(this,mh))return _i(ne=In(this,mh),ed,py).call(ne,Y);Yn(this,gh,In(this,gh)+Y),assert$3(In(this,rf)<1||In(this,gh)<=In(this,rf)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${In(this,rf)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:getBytesCopy$1(In(this,Sc)),offset:In(this,Fc),length:Y,info:{bytesRead:In(this,gh),dataLength:this.dataLength}})},$w=function(Y,ne,fe){let ye=Math.ceil(ne/WordSize$1)*WordSize$1;return In(this,Fc)+ye>In(this,Sc).length&&(this.allowLoose&&fe&&In(this,Fc)+ne<=In(this,Sc).length?ye=ne:assert$3(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:getBytesCopy$1(In(this,Sc)),length:In(this,Sc).length,offset:In(this,Fc)+ye})),In(this,Sc).slice(In(this,Fc),In(this,Fc)+ye)},Dd);function number$4(se){if(!Number.isSafeInteger(se)||se<0)throw new Error(`Wrong positive integer: ${se}`)}function bytes$3(se,...Y){if(!(se instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Y.length>0&&!Y.includes(se.length))throw new Error(`Expected Uint8Array of length ${Y}, not of length=${se.length}`)}function exists$2(se,Y=!0){if(se.destroyed)throw new Error("Hash instance has been destroyed");if(Y&&se.finished)throw new Error("Hash#digest() has already been called")}function output$2(se,Y){bytes$3(se);const ne=Y.outputLen;if(se.length<ne)throw new Error(`digestInto() expects output buffer of length at least ${ne}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$3=se=>se instanceof Uint8Array,u32$1=se=>new Uint32Array(se.buffer,se.byteOffset,Math.floor(se.byteLength/4)),createView$2=se=>new DataView(se.buffer,se.byteOffset,se.byteLength),rotr$2=(se,Y)=>se<<32-Y|se>>>Y,isLE$2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$2)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$3(se){if(typeof se!="string")throw new Error(`utf8ToBytes expected string, got ${typeof se}`);return new Uint8Array(new TextEncoder().encode(se))}function toBytes$2(se){if(typeof se=="string"&&(se=utf8ToBytes$3(se)),!u8a$3(se))throw new Error(`expected Uint8Array, got ${typeof se}`);return se}let Hash$2=class{clone(){return this._cloneInto()}};function wrapConstructor$2(se){const Y=fe=>se().update(toBytes$2(fe)).digest(),ne=se();return Y.outputLen=ne.outputLen,Y.blockLen=ne.blockLen,Y.create=()=>se(),Y}function setBigUint64$2(se,Y,ne,fe){if(typeof se.setBigUint64=="function")return se.setBigUint64(Y,ne,fe);const ye=BigInt(32),me=BigInt(4294967295),be=Number(ne>>ye&me),we=Number(ne&me),Ee=fe?4:0,xe=fe?0:4;se.setUint32(Y+Ee,be,fe),se.setUint32(Y+xe,we,fe)}let SHA2$2=class extends Hash$2{constructor(Y,ne,fe,ye){super(),this.blockLen=Y,this.outputLen=ne,this.padOffset=fe,this.isLE=ye,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Y),this.view=createView$2(this.buffer)}update(Y){exists$2(this);const{view:ne,buffer:fe,blockLen:ye}=this;Y=toBytes$2(Y);const me=Y.length;for(let be=0;be<me;){const we=Math.min(ye-this.pos,me-be);if(we===ye){const Ee=createView$2(Y);for(;ye<=me-be;be+=ye)this.process(Ee,be);continue}fe.set(Y.subarray(be,be+we),this.pos),this.pos+=we,be+=we,this.pos===ye&&(this.process(ne,0),this.pos=0)}return this.length+=Y.length,this.roundClean(),this}digestInto(Y){exists$2(this),output$2(Y,this),this.finished=!0;const{buffer:ne,view:fe,blockLen:ye,isLE:me}=this;let{pos:be}=this;ne[be++]=128,this.buffer.subarray(be).fill(0),this.padOffset>ye-be&&(this.process(fe,0),be=0);for(let Ie=be;Ie<ye;Ie++)ne[Ie]=0;setBigUint64$2(fe,ye-8,BigInt(this.length*8),me),this.process(fe,0);const we=createView$2(Y),Ee=this.outputLen;if(Ee%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const xe=Ee/4,Se=this.get();if(xe>Se.length)throw new Error("_sha2: outputLen bigger than state");for(let Ie=0;Ie<xe;Ie++)we.setUint32(4*Ie,Se[Ie],me)}digest(){const{buffer:Y,outputLen:ne}=this;this.digestInto(Y);const fe=Y.slice(0,ne);return this.destroy(),fe}_cloneInto(Y){Y||(Y=new this.constructor),Y.set(...this.get());const{blockLen:ne,buffer:fe,length:ye,finished:me,destroyed:be,pos:we}=this;return Y.length=ye,Y.pos=we,Y.finished=me,Y.destroyed=be,ye%ne&&Y.buffer.set(fe),Y}};const Chi$2=(se,Y,ne)=>se&Y^~se&ne,Maj$2=(se,Y,ne)=>se&Y^se&ne^Y&ne,SHA256_K$2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$2=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$2=new Uint32Array(64);let SHA256$2=class extends SHA2$2{constructor(){super(64,32,8,!1),this.A=IV$2[0]|0,this.B=IV$2[1]|0,this.C=IV$2[2]|0,this.D=IV$2[3]|0,this.E=IV$2[4]|0,this.F=IV$2[5]|0,this.G=IV$2[6]|0,this.H=IV$2[7]|0}get(){const{A:Y,B:ne,C:fe,D:ye,E:me,F:be,G:we,H:Ee}=this;return[Y,ne,fe,ye,me,be,we,Ee]}set(Y,ne,fe,ye,me,be,we,Ee){this.A=Y|0,this.B=ne|0,this.C=fe|0,this.D=ye|0,this.E=me|0,this.F=be|0,this.G=we|0,this.H=Ee|0}process(Y,ne){for(let Ie=0;Ie<16;Ie++,ne+=4)SHA256_W$2[Ie]=Y.getUint32(ne,!1);for(let Ie=16;Ie<64;Ie++){const fr=SHA256_W$2[Ie-15],br=SHA256_W$2[Ie-2],kr=rotr$2(fr,7)^rotr$2(fr,18)^fr>>>3,Wr=rotr$2(br,17)^rotr$2(br,19)^br>>>10;SHA256_W$2[Ie]=Wr+SHA256_W$2[Ie-7]+kr+SHA256_W$2[Ie-16]|0}let{A:fe,B:ye,C:me,D:be,E:we,F:Ee,G:xe,H:Se}=this;for(let Ie=0;Ie<64;Ie++){const fr=rotr$2(we,6)^rotr$2(we,11)^rotr$2(we,25),br=Se+fr+Chi$2(we,Ee,xe)+SHA256_K$2[Ie]+SHA256_W$2[Ie]|0,Wr=(rotr$2(fe,2)^rotr$2(fe,13)^rotr$2(fe,22))+Maj$2(fe,ye,me)|0;Se=xe,xe=Ee,Ee=we,we=be+br|0,be=me,me=ye,ye=fe,fe=br+Wr|0}fe=fe+this.A|0,ye=ye+this.B|0,me=me+this.C|0,be=be+this.D|0,we=we+this.E|0,Ee=Ee+this.F|0,xe=xe+this.G|0,Se=Se+this.H|0,this.set(fe,ye,me,be,we,Ee,xe,Se)}roundClean(){SHA256_W$2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$4=wrapConstructor$2(()=>new SHA256$2),U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(se,Y=!1){return Y?{h:Number(se&U32_MASK64$1),l:Number(se>>_32n$1&U32_MASK64$1)}:{h:Number(se>>_32n$1&U32_MASK64$1)|0,l:Number(se&U32_MASK64$1)|0}}function split$2(se,Y=!1){let ne=new Uint32Array(se.length),fe=new Uint32Array(se.length);for(let ye=0;ye<se.length;ye++){const{h:me,l:be}=fromBig$1(se[ye],Y);[ne[ye],fe[ye]]=[me,be]}return[ne,fe]}const toBig$1=(se,Y)=>BigInt(se>>>0)<<_32n$1|BigInt(Y>>>0),shrSH$1=(se,Y,ne)=>se>>>ne,shrSL$1=(se,Y,ne)=>se<<32-ne|Y>>>ne,rotrSH$1=(se,Y,ne)=>se>>>ne|Y<<32-ne,rotrSL$1=(se,Y,ne)=>se<<32-ne|Y>>>ne,rotrBH$1=(se,Y,ne)=>se<<64-ne|Y>>>ne-32,rotrBL$1=(se,Y,ne)=>se>>>ne-32|Y<<64-ne,rotr32H$1=(se,Y)=>Y,rotr32L$1=(se,Y)=>se,rotlSH$1=(se,Y,ne)=>se<<ne|Y>>>32-ne,rotlSL$1=(se,Y,ne)=>Y<<ne|se>>>32-ne,rotlBH$1=(se,Y,ne)=>Y<<ne-32|se>>>64-ne,rotlBL$1=(se,Y,ne)=>se<<ne-32|Y>>>64-ne;function add$1(se,Y,ne,fe){const ye=(Y>>>0)+(fe>>>0);return{h:se+ne+(ye/2**32|0)|0,l:ye|0}}const add3L$1=(se,Y,ne)=>(se>>>0)+(Y>>>0)+(ne>>>0),add3H$1=(se,Y,ne,fe)=>Y+ne+fe+(se/2**32|0)|0,add4L$1=(se,Y,ne,fe)=>(se>>>0)+(Y>>>0)+(ne>>>0)+(fe>>>0),add4H$1=(se,Y,ne,fe,ye)=>Y+ne+fe+ye+(se/2**32|0)|0,add5L$1=(se,Y,ne,fe,ye)=>(se>>>0)+(Y>>>0)+(ne>>>0)+(fe>>>0)+(ye>>>0),add5H$1=(se,Y,ne,fe,ye,me)=>Y+ne+fe+ye+me+(se/2**32|0)|0,u64$1={fromBig:fromBig$1,split:split$2,toBig:toBig$1,shrSH:shrSH$1,shrSL:shrSL$1,rotrSH:rotrSH$1,rotrSL:rotrSL$1,rotrBH:rotrBH$1,rotrBL:rotrBL$1,rotr32H:rotr32H$1,rotr32L:rotr32L$1,rotlSH:rotlSH$1,rotlSL:rotlSL$1,rotlBH:rotlBH$1,rotlBL:rotlBL$1,add:add$1,add3L:add3L$1,add3H:add3H$1,add4L:add4L$1,add4H:add4H$1,add5H:add5H$1,add5L:add5L$1},[SHA512_Kh$1,SHA512_Kl$1]=u64$1.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(se=>BigInt(se))),SHA512_W_H$1=new Uint32Array(80),SHA512_W_L$1=new Uint32Array(80);let SHA512$1=class extends SHA2$2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:Y,Al:ne,Bh:fe,Bl:ye,Ch:me,Cl:be,Dh:we,Dl:Ee,Eh:xe,El:Se,Fh:Ie,Fl:fr,Gh:br,Gl:kr,Hh:Wr,Hl:Gr}=this;return[Y,ne,fe,ye,me,be,we,Ee,xe,Se,Ie,fr,br,kr,Wr,Gr]}set(Y,ne,fe,ye,me,be,we,Ee,xe,Se,Ie,fr,br,kr,Wr,Gr){this.Ah=Y|0,this.Al=ne|0,this.Bh=fe|0,this.Bl=ye|0,this.Ch=me|0,this.Cl=be|0,this.Dh=we|0,this.Dl=Ee|0,this.Eh=xe|0,this.El=Se|0,this.Fh=Ie|0,this.Fl=fr|0,this.Gh=br|0,this.Gl=kr|0,this.Hh=Wr|0,this.Hl=Gr|0}process(Y,ne){for(let wn=0;wn<16;wn++,ne+=4)SHA512_W_H$1[wn]=Y.getUint32(ne),SHA512_W_L$1[wn]=Y.getUint32(ne+=4);for(let wn=16;wn<80;wn++){const En=SHA512_W_H$1[wn-15]|0,Rn=SHA512_W_L$1[wn-15]|0,An=u64$1.rotrSH(En,Rn,1)^u64$1.rotrSH(En,Rn,8)^u64$1.shrSH(En,Rn,7),$n=u64$1.rotrSL(En,Rn,1)^u64$1.rotrSL(En,Rn,8)^u64$1.shrSL(En,Rn,7),Tn=SHA512_W_H$1[wn-2]|0,ti=SHA512_W_L$1[wn-2]|0,ai=u64$1.rotrSH(Tn,ti,19)^u64$1.rotrBH(Tn,ti,61)^u64$1.shrSH(Tn,ti,6),On=u64$1.rotrSL(Tn,ti,19)^u64$1.rotrBL(Tn,ti,61)^u64$1.shrSL(Tn,ti,6),Sn=u64$1.add4L($n,On,SHA512_W_L$1[wn-7],SHA512_W_L$1[wn-16]),Zr=u64$1.add4H(Sn,An,ai,SHA512_W_H$1[wn-7],SHA512_W_H$1[wn-16]);SHA512_W_H$1[wn]=Zr|0,SHA512_W_L$1[wn]=Sn|0}let{Ah:fe,Al:ye,Bh:me,Bl:be,Ch:we,Cl:Ee,Dh:xe,Dl:Se,Eh:Ie,El:fr,Fh:br,Fl:kr,Gh:Wr,Gl:Gr,Hh:jr,Hl:Qr}=this;for(let wn=0;wn<80;wn++){const En=u64$1.rotrSH(Ie,fr,14)^u64$1.rotrSH(Ie,fr,18)^u64$1.rotrBH(Ie,fr,41),Rn=u64$1.rotrSL(Ie,fr,14)^u64$1.rotrSL(Ie,fr,18)^u64$1.rotrBL(Ie,fr,41),An=Ie&br^~Ie&Wr,$n=fr&kr^~fr&Gr,Tn=u64$1.add5L(Qr,Rn,$n,SHA512_Kl$1[wn],SHA512_W_L$1[wn]),ti=u64$1.add5H(Tn,jr,En,An,SHA512_Kh$1[wn],SHA512_W_H$1[wn]),ai=Tn|0,On=u64$1.rotrSH(fe,ye,28)^u64$1.rotrBH(fe,ye,34)^u64$1.rotrBH(fe,ye,39),Sn=u64$1.rotrSL(fe,ye,28)^u64$1.rotrBL(fe,ye,34)^u64$1.rotrBL(fe,ye,39),Zr=fe&me^fe&we^me&we,Oe=ye&be^ye&Ee^be&Ee;jr=Wr|0,Qr=Gr|0,Wr=br|0,Gr=kr|0,br=Ie|0,kr=fr|0,{h:Ie,l:fr}=u64$1.add(xe|0,Se|0,ti|0,ai|0),xe=we|0,Se=Ee|0,we=me|0,Ee=be|0,me=fe|0,be=ye|0;const wr=u64$1.add3L(ai,Sn,Oe);fe=u64$1.add3H(wr,ti,On,Zr),ye=wr|0}({h:fe,l:ye}=u64$1.add(this.Ah|0,this.Al|0,fe|0,ye|0)),{h:me,l:be}=u64$1.add(this.Bh|0,this.Bl|0,me|0,be|0),{h:we,l:Ee}=u64$1.add(this.Ch|0,this.Cl|0,we|0,Ee|0),{h:xe,l:Se}=u64$1.add(this.Dh|0,this.Dl|0,xe|0,Se|0),{h:Ie,l:fr}=u64$1.add(this.Eh|0,this.El|0,Ie|0,fr|0),{h:br,l:kr}=u64$1.add(this.Fh|0,this.Fl|0,br|0,kr|0),{h:Wr,l:Gr}=u64$1.add(this.Gh|0,this.Gl|0,Wr|0,Gr|0),{h:jr,l:Qr}=u64$1.add(this.Hh|0,this.Hl|0,jr|0,Qr|0),this.set(fe,ye,me,be,we,Ee,xe,Se,Ie,fr,br,kr,Wr,Gr,jr,Qr)}roundClean(){SHA512_W_H$1.fill(0),SHA512_W_L$1.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const sha512$1=wrapConstructor$2(()=>new SHA512$1);function getGlobal$2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const anyGlobal$1=getGlobal$2();anyGlobal$1.crypto||anyGlobal$1.msCrypto;function createHash$1(se){switch(se){case"sha256":return sha256$4.create();case"sha512":return sha512$1.create()}assertArgument$1(!1,"invalid hashing algorithm name","algorithm",se)}const[SHA3_PI$1,SHA3_ROTL$1,_SHA3_IOTA$1]=[[],[],[]],_0n$5=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2),_7n$1=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113);for(let se=0,Y=_1n$6,ne=1,fe=0;se<24;se++){[ne,fe]=[fe,(2*ne+3*fe)%5],SHA3_PI$1.push(2*(5*fe+ne)),SHA3_ROTL$1.push((se+1)*(se+2)/2%64);let ye=_0n$5;for(let me=0;me<7;me++)Y=(Y<<_1n$6^(Y>>_7n$1)*_0x71n$1)%_256n$1,Y&_2n$4&&(ye^=_1n$6<<(_1n$6<<BigInt(me))-_1n$6);_SHA3_IOTA$1.push(ye)}const[SHA3_IOTA_H$1,SHA3_IOTA_L$1]=split$2(_SHA3_IOTA$1,!0),rotlH$1=(se,Y,ne)=>ne>32?rotlBH$1(se,Y,ne):rotlSH$1(se,Y,ne),rotlL$1=(se,Y,ne)=>ne>32?rotlBL$1(se,Y,ne):rotlSL$1(se,Y,ne);function keccakP$1(se,Y=24){const ne=new Uint32Array(10);for(let fe=24-Y;fe<24;fe++){for(let be=0;be<10;be++)ne[be]=se[be]^se[be+10]^se[be+20]^se[be+30]^se[be+40];for(let be=0;be<10;be+=2){const we=(be+8)%10,Ee=(be+2)%10,xe=ne[Ee],Se=ne[Ee+1],Ie=rotlH$1(xe,Se,1)^ne[we],fr=rotlL$1(xe,Se,1)^ne[we+1];for(let br=0;br<50;br+=10)se[be+br]^=Ie,se[be+br+1]^=fr}let ye=se[2],me=se[3];for(let be=0;be<24;be++){const we=SHA3_ROTL$1[be],Ee=rotlH$1(ye,me,we),xe=rotlL$1(ye,me,we),Se=SHA3_PI$1[be];ye=se[Se],me=se[Se+1],se[Se]=Ee,se[Se+1]=xe}for(let be=0;be<50;be+=10){for(let we=0;we<10;we++)ne[we]=se[be+we];for(let we=0;we<10;we++)se[be+we]^=~ne[(we+2)%10]&ne[(we+4)%10]}se[0]^=SHA3_IOTA_H$1[fe],se[1]^=SHA3_IOTA_L$1[fe]}ne.fill(0)}let Keccak$1=class Ew extends Hash$2{constructor(Y,ne,fe,ye=!1,me=24){if(super(),this.blockLen=Y,this.suffix=ne,this.outputLen=fe,this.enableXOF=ye,this.rounds=me,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$4(fe),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}keccak(){keccakP$1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(Y){exists$2(this);const{blockLen:ne,state:fe}=this;Y=toBytes$2(Y);const ye=Y.length;for(let me=0;me<ye;){const be=Math.min(ne-this.pos,ye-me);for(let we=0;we<be;we++)fe[this.pos++]^=Y[me++];this.pos===ne&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:Y,suffix:ne,pos:fe,blockLen:ye}=this;Y[fe]^=ne,ne&128&&fe===ye-1&&this.keccak(),Y[ye-1]^=128,this.keccak()}writeInto(Y){exists$2(this,!1),bytes$3(Y),this.finish();const ne=this.state,{blockLen:fe}=this;for(let ye=0,me=Y.length;ye<me;){this.posOut>=fe&&this.keccak();const be=Math.min(fe-this.posOut,me-ye);Y.set(ne.subarray(this.posOut,this.posOut+be),ye),this.posOut+=be,ye+=be}return Y}xofInto(Y){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(Y)}xof(Y){return number$4(Y),this.xofInto(new Uint8Array(Y))}digestInto(Y){if(output$2(Y,this),this.finished)throw new Error("digest() was already called");return this.writeInto(Y),this.destroy(),Y}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(Y){const{blockLen:ne,suffix:fe,outputLen:ye,rounds:me,enableXOF:be}=this;return Y||(Y=new Ew(ne,fe,ye,be,me)),Y.state32.set(this.state32),Y.pos=this.pos,Y.posOut=this.posOut,Y.finished=this.finished,Y.rounds=me,Y.suffix=fe,Y.outputLen=ye,Y.enableXOF=be,Y.destroyed=this.destroyed,Y}};const gen$1=(se,Y,ne)=>wrapConstructor$2(()=>new Keccak$1(Y,se,ne)),keccak_256$1=gen$1(1,136,256/8);let locked$2=!1;const _keccak256$1=function(se){return keccak_256$1(se)};let __keccak256$1=_keccak256$1;function keccak256$1(se){const Y=getBytes$1(se,"data");return hexlify$1(__keccak256$1(Y))}keccak256$1._=_keccak256$1;keccak256$1.lock=function(){locked$2=!0};keccak256$1.register=function(se){if(locked$2)throw new TypeError("keccak256 is locked");__keccak256$1=se};Object.freeze(keccak256$1);const _sha256$1=function(se){return createHash$1("sha256").update(se).digest()};let __sha256$1=_sha256$1,locked256$1=!1;function sha256$3(se){const Y=getBytes$1(se,"data");return hexlify$1(__sha256$1(Y))}sha256$3._=_sha256$1;sha256$3.lock=function(){locked256$1=!0};sha256$3.register=function(se){if(locked256$1)throw new Error("sha256 is locked");__sha256$1=se};Object.freeze(sha256$3);Object.freeze(sha256$3);function number$3(se){if(!Number.isSafeInteger(se)||se<0)throw new Error(`Wrong positive integer: ${se}`)}function bytes$2(se,...Y){if(!(se instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Y.length>0&&!Y.includes(se.length))throw new Error(`Expected Uint8Array of length ${Y}, not of length=${se.length}`)}function hash(se){if(typeof se!="function"||typeof se.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$3(se.outputLen),number$3(se.blockLen)}function exists$1(se,Y=!0){if(se.destroyed)throw new Error("Hash instance has been destroyed");if(Y&&se.finished)throw new Error("Hash#digest() has already been called")}function output$1(se,Y){bytes$2(se);const ne=Y.outputLen;if(se.length<ne)throw new Error(`digestInto() expects output buffer of length at least ${ne}`)}const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$2=se=>se instanceof Uint8Array,createView$1=se=>new DataView(se.buffer,se.byteOffset,se.byteLength),rotr$1=(se,Y)=>se<<32-Y|se>>>Y,isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$2(se){if(typeof se!="string")throw new Error(`utf8ToBytes expected string, got ${typeof se}`);return new Uint8Array(new TextEncoder().encode(se))}function toBytes$1(se){if(typeof se=="string"&&(se=utf8ToBytes$2(se)),!u8a$2(se))throw new Error(`expected Uint8Array, got ${typeof se}`);return se}function concatBytes$1(...se){const Y=new Uint8Array(se.reduce((fe,ye)=>fe+ye.length,0));let ne=0;return se.forEach(fe=>{if(!u8a$2(fe))throw new Error("Uint8Array expected");Y.set(fe,ne),ne+=fe.length}),Y}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(se){const Y=fe=>se().update(toBytes$1(fe)).digest(),ne=se();return Y.outputLen=ne.outputLen,Y.blockLen=ne.blockLen,Y.create=()=>se(),Y}function randomBytes(se=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(se));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(se,Y,ne,fe){if(typeof se.setBigUint64=="function")return se.setBigUint64(Y,ne,fe);const ye=BigInt(32),me=BigInt(4294967295),be=Number(ne>>ye&me),we=Number(ne&me),Ee=fe?4:0,xe=fe?0:4;se.setUint32(Y+Ee,be,fe),se.setUint32(Y+xe,we,fe)}let SHA2$1=class extends Hash$1{constructor(Y,ne,fe,ye){super(),this.blockLen=Y,this.outputLen=ne,this.padOffset=fe,this.isLE=ye,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Y),this.view=createView$1(this.buffer)}update(Y){exists$1(this);const{view:ne,buffer:fe,blockLen:ye}=this;Y=toBytes$1(Y);const me=Y.length;for(let be=0;be<me;){const we=Math.min(ye-this.pos,me-be);if(we===ye){const Ee=createView$1(Y);for(;ye<=me-be;be+=ye)this.process(Ee,be);continue}fe.set(Y.subarray(be,be+we),this.pos),this.pos+=we,be+=we,this.pos===ye&&(this.process(ne,0),this.pos=0)}return this.length+=Y.length,this.roundClean(),this}digestInto(Y){exists$1(this),output$1(Y,this),this.finished=!0;const{buffer:ne,view:fe,blockLen:ye,isLE:me}=this;let{pos:be}=this;ne[be++]=128,this.buffer.subarray(be).fill(0),this.padOffset>ye-be&&(this.process(fe,0),be=0);for(let Ie=be;Ie<ye;Ie++)ne[Ie]=0;setBigUint64$1(fe,ye-8,BigInt(this.length*8),me),this.process(fe,0);const we=createView$1(Y),Ee=this.outputLen;if(Ee%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const xe=Ee/4,Se=this.get();if(xe>Se.length)throw new Error("_sha2: outputLen bigger than state");for(let Ie=0;Ie<xe;Ie++)we.setUint32(4*Ie,Se[Ie],me)}digest(){const{buffer:Y,outputLen:ne}=this;this.digestInto(Y);const fe=Y.slice(0,ne);return this.destroy(),fe}_cloneInto(Y){Y||(Y=new this.constructor),Y.set(...this.get());const{blockLen:ne,buffer:fe,length:ye,finished:me,destroyed:be,pos:we}=this;return Y.length=ye,Y.pos=we,Y.finished=me,Y.destroyed=be,ye%ne&&Y.buffer.set(fe),Y}};const Chi$1=(se,Y,ne)=>se&Y^~se&ne,Maj$1=(se,Y,ne)=>se&Y^se&ne^Y&ne,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends SHA2$1{constructor(){super(64,32,8,!1),this.A=IV$1[0]|0,this.B=IV$1[1]|0,this.C=IV$1[2]|0,this.D=IV$1[3]|0,this.E=IV$1[4]|0,this.F=IV$1[5]|0,this.G=IV$1[6]|0,this.H=IV$1[7]|0}get(){const{A:Y,B:ne,C:fe,D:ye,E:me,F:be,G:we,H:Ee}=this;return[Y,ne,fe,ye,me,be,we,Ee]}set(Y,ne,fe,ye,me,be,we,Ee){this.A=Y|0,this.B=ne|0,this.C=fe|0,this.D=ye|0,this.E=me|0,this.F=be|0,this.G=we|0,this.H=Ee|0}process(Y,ne){for(let Ie=0;Ie<16;Ie++,ne+=4)SHA256_W$1[Ie]=Y.getUint32(ne,!1);for(let Ie=16;Ie<64;Ie++){const fr=SHA256_W$1[Ie-15],br=SHA256_W$1[Ie-2],kr=rotr$1(fr,7)^rotr$1(fr,18)^fr>>>3,Wr=rotr$1(br,17)^rotr$1(br,19)^br>>>10;SHA256_W$1[Ie]=Wr+SHA256_W$1[Ie-7]+kr+SHA256_W$1[Ie-16]|0}let{A:fe,B:ye,C:me,D:be,E:we,F:Ee,G:xe,H:Se}=this;for(let Ie=0;Ie<64;Ie++){const fr=rotr$1(we,6)^rotr$1(we,11)^rotr$1(we,25),br=Se+fr+Chi$1(we,Ee,xe)+SHA256_K$1[Ie]+SHA256_W$1[Ie]|0,Wr=(rotr$1(fe,2)^rotr$1(fe,13)^rotr$1(fe,22))+Maj$1(fe,ye,me)|0;Se=xe,xe=Ee,Ee=we,we=be+br|0,be=me,me=ye,ye=fe,fe=br+Wr|0}fe=fe+this.A|0,ye=ye+this.B|0,me=me+this.C|0,be=be+this.D|0,we=we+this.E|0,Ee=Ee+this.F|0,xe=xe+this.G|0,Se=Se+this.H|0,this.set(fe,ye,me,be,we,Ee,xe,Se)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$2=wrapConstructor$1(()=>new SHA256$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),u8a$1=se=>se instanceof Uint8Array,hexes=Array.from({length:256},(se,Y)=>Y.toString(16).padStart(2,"0"));function bytesToHex(se){if(!u8a$1(se))throw new Error("Uint8Array expected");let Y="";for(let ne=0;ne<se.length;ne++)Y+=hexes[se[ne]];return Y}function numberToHexUnpadded(se){const Y=se.toString(16);return Y.length&1?`0${Y}`:Y}function hexToNumber(se){if(typeof se!="string")throw new Error("hex string expected, got "+typeof se);return BigInt(se===""?"0":`0x${se}`)}function hexToBytes(se){if(typeof se!="string")throw new Error("hex string expected, got "+typeof se);const Y=se.length;if(Y%2)throw new Error("padded hex string expected, got unpadded hex of length "+Y);const ne=new Uint8Array(Y/2);for(let fe=0;fe<ne.length;fe++){const ye=fe*2,me=se.slice(ye,ye+2),be=Number.parseInt(me,16);if(Number.isNaN(be)||be<0)throw new Error("Invalid byte sequence");ne[fe]=be}return ne}function bytesToNumberBE(se){return hexToNumber(bytesToHex(se))}function bytesToNumberLE(se){if(!u8a$1(se))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(se).reverse()))}function numberToBytesBE(se,Y){return hexToBytes(se.toString(16).padStart(Y*2,"0"))}function numberToBytesLE(se,Y){return numberToBytesBE(se,Y).reverse()}function numberToVarBytesBE(se){return hexToBytes(numberToHexUnpadded(se))}function ensureBytes(se,Y,ne){let fe;if(typeof Y=="string")try{fe=hexToBytes(Y)}catch(me){throw new Error(`${se} must be valid hex string, got "${Y}". Cause: ${me}`)}else if(u8a$1(Y))fe=Uint8Array.from(Y);else throw new Error(`${se} must be hex string or Uint8Array`);const ye=fe.length;if(typeof ne=="number"&&ye!==ne)throw new Error(`${se} expected ${ne} bytes, got ${ye}`);return fe}function concatBytes(...se){const Y=new Uint8Array(se.reduce((fe,ye)=>fe+ye.length,0));let ne=0;return se.forEach(fe=>{if(!u8a$1(fe))throw new Error("Uint8Array expected");Y.set(fe,ne),ne+=fe.length}),Y}function equalBytes(se,Y){if(se.length!==Y.length)return!1;for(let ne=0;ne<se.length;ne++)if(se[ne]!==Y[ne])return!1;return!0}function utf8ToBytes$1(se){if(typeof se!="string")throw new Error(`utf8ToBytes expected string, got ${typeof se}`);return new Uint8Array(new TextEncoder().encode(se))}function bitLen(se){let Y;for(Y=0;se>_0n$4;se>>=_1n$5,Y+=1);return Y}function bitGet(se,Y){return se>>BigInt(Y)&_1n$5}const bitSet=(se,Y,ne)=>se|(ne?_1n$5:_0n$4)<<BigInt(Y),bitMask=se=>(_2n$3<<BigInt(se-1))-_1n$5,u8n=se=>new Uint8Array(se),u8fr=se=>Uint8Array.from(se);function createHmacDrbg(se,Y,ne){if(typeof se!="number"||se<2)throw new Error("hashLen must be a number");if(typeof Y!="number"||Y<2)throw new Error("qByteLen must be a number");if(typeof ne!="function")throw new Error("hmacFn must be a function");let fe=u8n(se),ye=u8n(se),me=0;const be=()=>{fe.fill(1),ye.fill(0),me=0},we=(...Ie)=>ne(ye,fe,...Ie),Ee=(Ie=u8n())=>{ye=we(u8fr([0]),Ie),fe=we(),Ie.length!==0&&(ye=we(u8fr([1]),Ie),fe=we())},xe=()=>{if(me++>=1e3)throw new Error("drbg: tried 1000 values");let Ie=0;const fr=[];for(;Ie<Y;){fe=we();const br=fe.slice();fr.push(br),Ie+=fe.length}return concatBytes(...fr)};return(Ie,fr)=>{be(),Ee(Ie);let br;for(;!(br=fr(xe()));)Ee();return be(),br}}const validatorFns={bigint:se=>typeof se=="bigint",function:se=>typeof se=="function",boolean:se=>typeof se=="boolean",string:se=>typeof se=="string",stringOrUint8Array:se=>typeof se=="string"||se instanceof Uint8Array,isSafeInteger:se=>Number.isSafeInteger(se),array:se=>Array.isArray(se),field:(se,Y)=>Y.Fp.isValid(se),hash:se=>typeof se=="function"&&Number.isSafeInteger(se.outputLen)};function validateObject(se,Y,ne={}){const fe=(ye,me,be)=>{const we=validatorFns[me];if(typeof we!="function")throw new Error(`Invalid validator "${me}", expected function`);const Ee=se[ye];if(!(be&&Ee===void 0)&&!we(Ee,se))throw new Error(`Invalid param ${String(ye)}=${Ee} (${typeof Ee}), expected ${me}`)};for(const[ye,me]of Object.entries(Y))fe(ye,me,!1);for(const[ye,me]of Object.entries(ne))fe(ye,me,!0);return se}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(se,Y){const ne=se%Y;return ne>=_0n$3?ne:Y+ne}function pow(se,Y,ne){if(ne<=_0n$3||Y<_0n$3)throw new Error("Expected power/modulo > 0");if(ne===_1n$4)return _0n$3;let fe=_1n$4;for(;Y>_0n$3;)Y&_1n$4&&(fe=fe*se%ne),se=se*se%ne,Y>>=_1n$4;return fe}function pow2(se,Y,ne){let fe=se;for(;Y-- >_0n$3;)fe*=fe,fe%=ne;return fe}function invert(se,Y){if(se===_0n$3||Y<=_0n$3)throw new Error(`invert: expected positive integers, got n=${se} mod=${Y}`);let ne=mod(se,Y),fe=Y,ye=_0n$3,me=_1n$4;for(;ne!==_0n$3;){const we=fe/ne,Ee=fe%ne,xe=ye-me*we;fe=ne,ne=Ee,ye=me,me=xe}if(fe!==_1n$4)throw new Error("invert: does not exist");return mod(ye,Y)}function tonelliShanks(se){const Y=(se-_1n$4)/_2n$2;let ne,fe,ye;for(ne=se-_1n$4,fe=0;ne%_2n$2===_0n$3;ne/=_2n$2,fe++);for(ye=_2n$2;ye<se&&pow(ye,Y,se)!==se-_1n$4;ye++);if(fe===1){const be=(se+_1n$4)/_4n;return function(Ee,xe){const Se=Ee.pow(xe,be);if(!Ee.eql(Ee.sqr(Se),xe))throw new Error("Cannot find square root");return Se}}const me=(ne+_1n$4)/_2n$2;return function(we,Ee){if(we.pow(Ee,Y)===we.neg(we.ONE))throw new Error("Cannot find square root");let xe=fe,Se=we.pow(we.mul(we.ONE,ye),ne),Ie=we.pow(Ee,me),fr=we.pow(Ee,ne);for(;!we.eql(fr,we.ONE);){if(we.eql(fr,we.ZERO))return we.ZERO;let br=1;for(let Wr=we.sqr(fr);br<xe&&!we.eql(Wr,we.ONE);br++)Wr=we.sqr(Wr);const kr=we.pow(Se,_1n$4<<BigInt(xe-br-1));Se=we.sqr(kr),Ie=we.mul(Ie,kr),fr=we.mul(fr,Se),xe=br}return Ie}}function FpSqrt(se){if(se%_4n===_3n$1){const Y=(se+_1n$4)/_4n;return function(fe,ye){const me=fe.pow(ye,Y);if(!fe.eql(fe.sqr(me),ye))throw new Error("Cannot find square root");return me}}if(se%_8n===_5n){const Y=(se-_5n)/_8n;return function(fe,ye){const me=fe.mul(ye,_2n$2),be=fe.pow(me,Y),we=fe.mul(ye,be),Ee=fe.mul(fe.mul(we,_2n$2),be),xe=fe.mul(we,fe.sub(Ee,fe.ONE));if(!fe.eql(fe.sqr(xe),ye))throw new Error("Cannot find square root");return xe}}return tonelliShanks(se)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(se){const Y={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},ne=FIELD_FIELDS.reduce((fe,ye)=>(fe[ye]="function",fe),Y);return validateObject(se,ne)}function FpPow(se,Y,ne){if(ne<_0n$3)throw new Error("Expected power > 0");if(ne===_0n$3)return se.ONE;if(ne===_1n$4)return Y;let fe=se.ONE,ye=Y;for(;ne>_0n$3;)ne&_1n$4&&(fe=se.mul(fe,ye)),ye=se.sqr(ye),ne>>=_1n$4;return fe}function FpInvertBatch(se,Y){const ne=new Array(Y.length),fe=Y.reduce((me,be,we)=>se.is0(be)?me:(ne[we]=me,se.mul(me,be)),se.ONE),ye=se.inv(fe);return Y.reduceRight((me,be,we)=>se.is0(be)?me:(ne[we]=se.mul(me,ne[we]),se.mul(me,be)),ye),ne}function nLength(se,Y){const ne=Y!==void 0?Y:se.toString(2).length,fe=Math.ceil(ne/8);return{nBitLength:ne,nByteLength:fe}}function Field(se,Y,ne=!1,fe={}){if(se<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${se}`);const{nBitLength:ye,nByteLength:me}=nLength(se,Y);if(me>2048)throw new Error("Field lengths over 2048 bytes are not supported");const be=FpSqrt(se),we=Object.freeze({ORDER:se,BITS:ye,BYTES:me,MASK:bitMask(ye),ZERO:_0n$3,ONE:_1n$4,create:Ee=>mod(Ee,se),isValid:Ee=>{if(typeof Ee!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof Ee}`);return _0n$3<=Ee&&Ee<se},is0:Ee=>Ee===_0n$3,isOdd:Ee=>(Ee&_1n$4)===_1n$4,neg:Ee=>mod(-Ee,se),eql:(Ee,xe)=>Ee===xe,sqr:Ee=>mod(Ee*Ee,se),add:(Ee,xe)=>mod(Ee+xe,se),sub:(Ee,xe)=>mod(Ee-xe,se),mul:(Ee,xe)=>mod(Ee*xe,se),pow:(Ee,xe)=>FpPow(we,Ee,xe),div:(Ee,xe)=>mod(Ee*invert(xe,se),se),sqrN:Ee=>Ee*Ee,addN:(Ee,xe)=>Ee+xe,subN:(Ee,xe)=>Ee-xe,mulN:(Ee,xe)=>Ee*xe,inv:Ee=>invert(Ee,se),sqrt:fe.sqrt||(Ee=>be(we,Ee)),invertBatch:Ee=>FpInvertBatch(we,Ee),cmov:(Ee,xe,Se)=>Se?xe:Ee,toBytes:Ee=>ne?numberToBytesLE(Ee,me):numberToBytesBE(Ee,me),fromBytes:Ee=>{if(Ee.length!==me)throw new Error(`Fp.fromBytes: expected ${me}, got ${Ee.length}`);return ne?bytesToNumberLE(Ee):bytesToNumberBE(Ee)}});return Object.freeze(we)}function getFieldBytesLength(se){if(typeof se!="bigint")throw new Error("field order must be bigint");const Y=se.toString(2).length;return Math.ceil(Y/8)}function getMinHashLength(se){const Y=getFieldBytesLength(se);return Y+Math.ceil(Y/2)}function mapHashToField(se,Y,ne=!1){const fe=se.length,ye=getFieldBytesLength(Y),me=getMinHashLength(Y);if(fe<16||fe<me||fe>1024)throw new Error(`expected ${me}-1024 bytes of input, got ${fe}`);const be=ne?bytesToNumberBE(se):bytesToNumberLE(se),we=mod(be,Y-_1n$4)+_1n$4;return ne?numberToBytesLE(we,ye):numberToBytesBE(we,ye)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1);function wNAF(se,Y){const ne=(ye,me)=>{const be=me.negate();return ye?be:me},fe=ye=>{const me=Math.ceil(Y/ye)+1,be=2**(ye-1);return{windows:me,windowSize:be}};return{constTimeNegate:ne,unsafeLadder(ye,me){let be=se.ZERO,we=ye;for(;me>_0n$2;)me&_1n$3&&(be=be.add(we)),we=we.double(),me>>=_1n$3;return be},precomputeWindow(ye,me){const{windows:be,windowSize:we}=fe(me),Ee=[];let xe=ye,Se=xe;for(let Ie=0;Ie<be;Ie++){Se=xe,Ee.push(Se);for(let fr=1;fr<we;fr++)Se=Se.add(xe),Ee.push(Se);xe=Se.double()}return Ee},wNAF(ye,me,be){const{windows:we,windowSize:Ee}=fe(ye);let xe=se.ZERO,Se=se.BASE;const Ie=BigInt(2**ye-1),fr=2**ye,br=BigInt(ye);for(let kr=0;kr<we;kr++){const Wr=kr*Ee;let Gr=Number(be&Ie);be>>=br,Gr>Ee&&(Gr-=fr,be+=_1n$3);const jr=Wr,Qr=Wr+Math.abs(Gr)-1,wn=kr%2!==0,En=Gr<0;Gr===0?Se=Se.add(ne(wn,me[jr])):xe=xe.add(ne(En,me[Qr]))}return{p:xe,f:Se}},wNAFCached(ye,me,be,we){const Ee=ye._WINDOW_SIZE||1;let xe=me.get(ye);return xe||(xe=this.precomputeWindow(ye,Ee),Ee!==1&&me.set(ye,we(xe))),this.wNAF(Ee,xe,be)}}}function validateBasic(se){return validateField(se.Fp),validateObject(se,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(se.n,se.nBitLength),...se,p:se.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(se){const Y=validateBasic(se);validateObject(Y,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ne,Fp:fe,a:ye}=Y;if(ne){if(!fe.eql(ye,fe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof ne!="object"||typeof ne.beta!="bigint"||typeof ne.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...Y})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(Y=""){super(Y)}},_parseInt(se){const{Err:Y}=DER;if(se.length<2||se[0]!==2)throw new Y("Invalid signature integer tag");const ne=se[1],fe=se.subarray(2,ne+2);if(!ne||fe.length!==ne)throw new Y("Invalid signature integer: wrong length");if(fe[0]&128)throw new Y("Invalid signature integer: negative");if(fe[0]===0&&!(fe[1]&128))throw new Y("Invalid signature integer: unnecessary leading zero");return{d:b2n(fe),l:se.subarray(ne+2)}},toSig(se){const{Err:Y}=DER,ne=typeof se=="string"?h2b(se):se;if(!(ne instanceof Uint8Array))throw new Error("ui8a expected");let fe=ne.length;if(fe<2||ne[0]!=48)throw new Y("Invalid signature tag");if(ne[1]!==fe-2)throw new Y("Invalid signature: incorrect length");const{d:ye,l:me}=DER._parseInt(ne.subarray(2)),{d:be,l:we}=DER._parseInt(me);if(we.length)throw new Y("Invalid signature: left bytes after parsing");return{r:ye,s:be}},hexFromSig(se){const Y=xe=>Number.parseInt(xe[0],16)&8?"00"+xe:xe,ne=xe=>{const Se=xe.toString(16);return Se.length&1?`0${Se}`:Se},fe=Y(ne(se.s)),ye=Y(ne(se.r)),me=fe.length/2,be=ye.length/2,we=ne(me),Ee=ne(be);return`30${ne(be+me+4)}02${Ee}${ye}02${we}${fe}`}},_0n$1=BigInt(0),_1n$2=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(se){const Y=validatePointOpts(se),{Fp:ne}=Y,fe=Y.toBytes||((kr,Wr,Gr)=>{const jr=Wr.toAffine();return concatBytes(Uint8Array.from([4]),ne.toBytes(jr.x),ne.toBytes(jr.y))}),ye=Y.fromBytes||(kr=>{const Wr=kr.subarray(1),Gr=ne.fromBytes(Wr.subarray(0,ne.BYTES)),jr=ne.fromBytes(Wr.subarray(ne.BYTES,2*ne.BYTES));return{x:Gr,y:jr}});function me(kr){const{a:Wr,b:Gr}=Y,jr=ne.sqr(kr),Qr=ne.mul(jr,kr);return ne.add(ne.add(Qr,ne.mul(kr,Wr)),Gr)}if(!ne.eql(ne.sqr(Y.Gy),me(Y.Gx)))throw new Error("bad generator point: equation left != right");function be(kr){return typeof kr=="bigint"&&_0n$1<kr&&kr<Y.n}function we(kr){if(!be(kr))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Ee(kr){const{allowedPrivateKeyLengths:Wr,nByteLength:Gr,wrapPrivateKey:jr,n:Qr}=Y;if(Wr&&typeof kr!="bigint"){if(kr instanceof Uint8Array&&(kr=bytesToHex(kr)),typeof kr!="string"||!Wr.includes(kr.length))throw new Error("Invalid key");kr=kr.padStart(Gr*2,"0")}let wn;try{wn=typeof kr=="bigint"?kr:bytesToNumberBE(ensureBytes("private key",kr,Gr))}catch{throw new Error(`private key must be ${Gr} bytes, hex or bigint, not ${typeof kr}`)}return jr&&(wn=mod(wn,Qr)),we(wn),wn}const xe=new Map;function Se(kr){if(!(kr instanceof Ie))throw new Error("ProjectivePoint expected")}class Ie{constructor(Wr,Gr,jr){if(this.px=Wr,this.py=Gr,this.pz=jr,Wr==null||!ne.isValid(Wr))throw new Error("x required");if(Gr==null||!ne.isValid(Gr))throw new Error("y required");if(jr==null||!ne.isValid(jr))throw new Error("z required")}static fromAffine(Wr){const{x:Gr,y:jr}=Wr||{};if(!Wr||!ne.isValid(Gr)||!ne.isValid(jr))throw new Error("invalid affine point");if(Wr instanceof Ie)throw new Error("projective point not allowed");const Qr=wn=>ne.eql(wn,ne.ZERO);return Qr(Gr)&&Qr(jr)?Ie.ZERO:new Ie(Gr,jr,ne.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Wr){const Gr=ne.invertBatch(Wr.map(jr=>jr.pz));return Wr.map((jr,Qr)=>jr.toAffine(Gr[Qr])).map(Ie.fromAffine)}static fromHex(Wr){const Gr=Ie.fromAffine(ye(ensureBytes("pointHex",Wr)));return Gr.assertValidity(),Gr}static fromPrivateKey(Wr){return Ie.BASE.multiply(Ee(Wr))}_setWindowSize(Wr){this._WINDOW_SIZE=Wr,xe.delete(this)}assertValidity(){if(this.is0()){if(Y.allowInfinityPoint&&!ne.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Wr,y:Gr}=this.toAffine();if(!ne.isValid(Wr)||!ne.isValid(Gr))throw new Error("bad point: x or y not FE");const jr=ne.sqr(Gr),Qr=me(Wr);if(!ne.eql(jr,Qr))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Wr}=this.toAffine();if(ne.isOdd)return!ne.isOdd(Wr);throw new Error("Field doesn't support isOdd")}equals(Wr){Se(Wr);const{px:Gr,py:jr,pz:Qr}=this,{px:wn,py:En,pz:Rn}=Wr,An=ne.eql(ne.mul(Gr,Rn),ne.mul(wn,Qr)),$n=ne.eql(ne.mul(jr,Rn),ne.mul(En,Qr));return An&&$n}negate(){return new Ie(this.px,ne.neg(this.py),this.pz)}double(){const{a:Wr,b:Gr}=Y,jr=ne.mul(Gr,_3n),{px:Qr,py:wn,pz:En}=this;let Rn=ne.ZERO,An=ne.ZERO,$n=ne.ZERO,Tn=ne.mul(Qr,Qr),ti=ne.mul(wn,wn),ai=ne.mul(En,En),On=ne.mul(Qr,wn);return On=ne.add(On,On),$n=ne.mul(Qr,En),$n=ne.add($n,$n),Rn=ne.mul(Wr,$n),An=ne.mul(jr,ai),An=ne.add(Rn,An),Rn=ne.sub(ti,An),An=ne.add(ti,An),An=ne.mul(Rn,An),Rn=ne.mul(On,Rn),$n=ne.mul(jr,$n),ai=ne.mul(Wr,ai),On=ne.sub(Tn,ai),On=ne.mul(Wr,On),On=ne.add(On,$n),$n=ne.add(Tn,Tn),Tn=ne.add($n,Tn),Tn=ne.add(Tn,ai),Tn=ne.mul(Tn,On),An=ne.add(An,Tn),ai=ne.mul(wn,En),ai=ne.add(ai,ai),Tn=ne.mul(ai,On),Rn=ne.sub(Rn,Tn),$n=ne.mul(ai,ti),$n=ne.add($n,$n),$n=ne.add($n,$n),new Ie(Rn,An,$n)}add(Wr){Se(Wr);const{px:Gr,py:jr,pz:Qr}=this,{px:wn,py:En,pz:Rn}=Wr;let An=ne.ZERO,$n=ne.ZERO,Tn=ne.ZERO;const ti=Y.a,ai=ne.mul(Y.b,_3n);let On=ne.mul(Gr,wn),Sn=ne.mul(jr,En),Zr=ne.mul(Qr,Rn),Oe=ne.add(Gr,jr),wr=ne.add(wn,En);Oe=ne.mul(Oe,wr),wr=ne.add(On,Sn),Oe=ne.sub(Oe,wr),wr=ne.add(Gr,Qr);let qr=ne.add(wn,Rn);return wr=ne.mul(wr,qr),qr=ne.add(On,Zr),wr=ne.sub(wr,qr),qr=ne.add(jr,Qr),An=ne.add(En,Rn),qr=ne.mul(qr,An),An=ne.add(Sn,Zr),qr=ne.sub(qr,An),Tn=ne.mul(ti,wr),An=ne.mul(ai,Zr),Tn=ne.add(An,Tn),An=ne.sub(Sn,Tn),Tn=ne.add(Sn,Tn),$n=ne.mul(An,Tn),Sn=ne.add(On,On),Sn=ne.add(Sn,On),Zr=ne.mul(ti,Zr),wr=ne.mul(ai,wr),Sn=ne.add(Sn,Zr),Zr=ne.sub(On,Zr),Zr=ne.mul(ti,Zr),wr=ne.add(wr,Zr),On=ne.mul(Sn,wr),$n=ne.add($n,On),On=ne.mul(qr,wr),An=ne.mul(Oe,An),An=ne.sub(An,On),On=ne.mul(Oe,Sn),Tn=ne.mul(qr,Tn),Tn=ne.add(Tn,On),new Ie(An,$n,Tn)}subtract(Wr){return this.add(Wr.negate())}is0(){return this.equals(Ie.ZERO)}wNAF(Wr){return br.wNAFCached(this,xe,Wr,Gr=>{const jr=ne.invertBatch(Gr.map(Qr=>Qr.pz));return Gr.map((Qr,wn)=>Qr.toAffine(jr[wn])).map(Ie.fromAffine)})}multiplyUnsafe(Wr){const Gr=Ie.ZERO;if(Wr===_0n$1)return Gr;if(we(Wr),Wr===_1n$2)return this;const{endo:jr}=Y;if(!jr)return br.unsafeLadder(this,Wr);let{k1neg:Qr,k1:wn,k2neg:En,k2:Rn}=jr.splitScalar(Wr),An=Gr,$n=Gr,Tn=this;for(;wn>_0n$1||Rn>_0n$1;)wn&_1n$2&&(An=An.add(Tn)),Rn&_1n$2&&($n=$n.add(Tn)),Tn=Tn.double(),wn>>=_1n$2,Rn>>=_1n$2;return Qr&&(An=An.negate()),En&&($n=$n.negate()),$n=new Ie(ne.mul($n.px,jr.beta),$n.py,$n.pz),An.add($n)}multiply(Wr){we(Wr);let Gr=Wr,jr,Qr;const{endo:wn}=Y;if(wn){const{k1neg:En,k1:Rn,k2neg:An,k2:$n}=wn.splitScalar(Gr);let{p:Tn,f:ti}=this.wNAF(Rn),{p:ai,f:On}=this.wNAF($n);Tn=br.constTimeNegate(En,Tn),ai=br.constTimeNegate(An,ai),ai=new Ie(ne.mul(ai.px,wn.beta),ai.py,ai.pz),jr=Tn.add(ai),Qr=ti.add(On)}else{const{p:En,f:Rn}=this.wNAF(Gr);jr=En,Qr=Rn}return Ie.normalizeZ([jr,Qr])[0]}multiplyAndAddUnsafe(Wr,Gr,jr){const Qr=Ie.BASE,wn=(Rn,An)=>An===_0n$1||An===_1n$2||!Rn.equals(Qr)?Rn.multiplyUnsafe(An):Rn.multiply(An),En=wn(this,Gr).add(wn(Wr,jr));return En.is0()?void 0:En}toAffine(Wr){const{px:Gr,py:jr,pz:Qr}=this,wn=this.is0();Wr==null&&(Wr=wn?ne.ONE:ne.inv(Qr));const En=ne.mul(Gr,Wr),Rn=ne.mul(jr,Wr),An=ne.mul(Qr,Wr);if(wn)return{x:ne.ZERO,y:ne.ZERO};if(!ne.eql(An,ne.ONE))throw new Error("invZ was invalid");return{x:En,y:Rn}}isTorsionFree(){const{h:Wr,isTorsionFree:Gr}=Y;if(Wr===_1n$2)return!0;if(Gr)return Gr(Ie,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Wr,clearCofactor:Gr}=Y;return Wr===_1n$2?this:Gr?Gr(Ie,this):this.multiplyUnsafe(Y.h)}toRawBytes(Wr=!0){return this.assertValidity(),fe(Ie,this,Wr)}toHex(Wr=!0){return bytesToHex(this.toRawBytes(Wr))}}Ie.BASE=new Ie(Y.Gx,Y.Gy,ne.ONE),Ie.ZERO=new Ie(ne.ZERO,ne.ONE,ne.ZERO);const fr=Y.nBitLength,br=wNAF(Ie,Y.endo?Math.ceil(fr/2):fr);return{CURVE:Y,ProjectivePoint:Ie,normPrivateKeyToScalar:Ee,weierstrassEquation:me,isWithinCurveOrder:be}}function validateOpts(se){const Y=validateBasic(se);return validateObject(Y,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...Y})}function weierstrass(se){const Y=validateOpts(se),{Fp:ne,n:fe}=Y,ye=ne.BYTES+1,me=2*ne.BYTES+1;function be(wr){return _0n$1<wr&&wr<ne.ORDER}function we(wr){return mod(wr,fe)}function Ee(wr){return invert(wr,fe)}const{ProjectivePoint:xe,normPrivateKeyToScalar:Se,weierstrassEquation:Ie,isWithinCurveOrder:fr}=weierstrassPoints({...Y,toBytes(wr,qr,Vr){const Jr=qr.toAffine(),Xr=ne.toBytes(Jr.x),Kr=concatBytes;return Vr?Kr(Uint8Array.from([qr.hasEvenY()?2:3]),Xr):Kr(Uint8Array.from([4]),Xr,ne.toBytes(Jr.y))},fromBytes(wr){const qr=wr.length,Vr=wr[0],Jr=wr.subarray(1);if(qr===ye&&(Vr===2||Vr===3)){const Xr=bytesToNumberBE(Jr);if(!be(Xr))throw new Error("Point is not on curve");const Kr=Ie(Xr);let Yr=ne.sqrt(Kr);const Br=(Yr&_1n$2)===_1n$2;return(Vr&1)===1!==Br&&(Yr=ne.neg(Yr)),{x:Xr,y:Yr}}else if(qr===me&&Vr===4){const Xr=ne.fromBytes(Jr.subarray(0,ne.BYTES)),Kr=ne.fromBytes(Jr.subarray(ne.BYTES,2*ne.BYTES));return{x:Xr,y:Kr}}else throw new Error(`Point of length ${qr} was invalid. Expected ${ye} compressed bytes or ${me} uncompressed bytes`)}}),br=wr=>bytesToHex(numberToBytesBE(wr,Y.nByteLength));function kr(wr){const qr=fe>>_1n$2;return wr>qr}function Wr(wr){return kr(wr)?we(-wr):wr}const Gr=(wr,qr,Vr)=>bytesToNumberBE(wr.slice(qr,Vr));class jr{constructor(qr,Vr,Jr){this.r=qr,this.s=Vr,this.recovery=Jr,this.assertValidity()}static fromCompact(qr){const Vr=Y.nByteLength;return qr=ensureBytes("compactSignature",qr,Vr*2),new jr(Gr(qr,0,Vr),Gr(qr,Vr,2*Vr))}static fromDER(qr){const{r:Vr,s:Jr}=DER.toSig(ensureBytes("DER",qr));return new jr(Vr,Jr)}assertValidity(){if(!fr(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!fr(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(qr){return new jr(this.r,this.s,qr)}recoverPublicKey(qr){const{r:Vr,s:Jr,recovery:Xr}=this,Kr=$n(ensureBytes("msgHash",qr));if(Xr==null||![0,1,2,3].includes(Xr))throw new Error("recovery id invalid");const Yr=Xr===2||Xr===3?Vr+Y.n:Vr;if(Yr>=ne.ORDER)throw new Error("recovery id 2 or 3 invalid");const Br=Xr&1?"03":"02",_n=xe.fromHex(Br+br(Yr)),ii=Ee(Yr),ni=we(-Kr*ii),si=we(Jr*ii),Nn=xe.BASE.multiplyAndAddUnsafe(_n,ni,si);if(!Nn)throw new Error("point at infinify");return Nn.assertValidity(),Nn}hasHighS(){return kr(this.s)}normalizeS(){return this.hasHighS()?new jr(this.r,we(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return br(this.r)+br(this.s)}}const Qr={isValidPrivateKey(wr){try{return Se(wr),!0}catch{return!1}},normPrivateKeyToScalar:Se,randomPrivateKey:()=>{const wr=getMinHashLength(Y.n);return mapHashToField(Y.randomBytes(wr),Y.n)},precompute(wr=8,qr=xe.BASE){return qr._setWindowSize(wr),qr.multiply(BigInt(3)),qr}};function wn(wr,qr=!0){return xe.fromPrivateKey(wr).toRawBytes(qr)}function En(wr){const qr=wr instanceof Uint8Array,Vr=typeof wr=="string",Jr=(qr||Vr)&&wr.length;return qr?Jr===ye||Jr===me:Vr?Jr===2*ye||Jr===2*me:wr instanceof xe}function Rn(wr,qr,Vr=!0){if(En(wr))throw new Error("first arg must be private key");if(!En(qr))throw new Error("second arg must be public key");return xe.fromHex(qr).multiply(Se(wr)).toRawBytes(Vr)}const An=Y.bits2int||function(wr){const qr=bytesToNumberBE(wr),Vr=wr.length*8-Y.nBitLength;return Vr>0?qr>>BigInt(Vr):qr},$n=Y.bits2int_modN||function(wr){return we(An(wr))},Tn=bitMask(Y.nBitLength);function ti(wr){if(typeof wr!="bigint")throw new Error("bigint expected");if(!(_0n$1<=wr&&wr<Tn))throw new Error(`bigint expected < 2^${Y.nBitLength}`);return numberToBytesBE(wr,Y.nByteLength)}function ai(wr,qr,Vr=On){if(["recovered","canonical"].some(ei=>ei in Vr))throw new Error("sign() legacy options not supported");const{hash:Jr,randomBytes:Xr}=Y;let{lowS:Kr,prehash:Yr,extraEntropy:Br}=Vr;Kr==null&&(Kr=!0),wr=ensureBytes("msgHash",wr),Yr&&(wr=ensureBytes("prehashed msgHash",Jr(wr)));const _n=$n(wr),ii=Se(qr),ni=[ti(ii),ti(_n)];if(Br!=null){const ei=Br===!0?Xr(ne.BYTES):Br;ni.push(ensureBytes("extraEntropy",ei))}const si=concatBytes(...ni),Nn=_n;function jn(ei){const Pn=An(ei);if(!fr(Pn))return;const zn=Ee(Pn),ri=xe.BASE.multiply(Pn).toAffine(),hi=we(ri.x);if(hi===_0n$1)return;const mi=we(zn*we(Nn+hi*ii));if(mi===_0n$1)return;let $i=(ri.x===hi?0:2)|Number(ri.y&_1n$2),Ti=mi;return Kr&&kr(mi)&&(Ti=Wr(mi),$i^=1),new jr(hi,Ti,$i)}return{seed:si,k2sig:jn}}const On={lowS:Y.lowS,prehash:!1},Sn={lowS:Y.lowS,prehash:!1};function Zr(wr,qr,Vr=On){const{seed:Jr,k2sig:Xr}=ai(wr,qr,Vr),Kr=Y;return createHmacDrbg(Kr.hash.outputLen,Kr.nByteLength,Kr.hmac)(Jr,Xr)}xe.BASE._setWindowSize(8);function Oe(wr,qr,Vr,Jr=Sn){var ri;const Xr=wr;if(qr=ensureBytes("msgHash",qr),Vr=ensureBytes("publicKey",Vr),"strict"in Jr)throw new Error("options.strict was renamed to lowS");const{lowS:Kr,prehash:Yr}=Jr;let Br,_n;try{if(typeof Xr=="string"||Xr instanceof Uint8Array)try{Br=jr.fromDER(Xr)}catch(hi){if(!(hi instanceof DER.Err))throw hi;Br=jr.fromCompact(Xr)}else if(typeof Xr=="object"&&typeof Xr.r=="bigint"&&typeof Xr.s=="bigint"){const{r:hi,s:mi}=Xr;Br=new jr(hi,mi)}else throw new Error("PARSE");_n=xe.fromHex(Vr)}catch(hi){if(hi.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Kr&&Br.hasHighS())return!1;Yr&&(qr=Y.hash(qr));const{r:ii,s:ni}=Br,si=$n(qr),Nn=Ee(ni),jn=we(si*Nn),ei=we(ii*Nn),Pn=(ri=xe.BASE.multiplyAndAddUnsafe(_n,jn,ei))==null?void 0:ri.toAffine();return Pn?we(Pn.x)===ii:!1}return{CURVE:Y,getPublicKey:wn,getSharedSecret:Rn,sign:Zr,verify:Oe,ProjectivePoint:xe,Signature:jr,utils:Qr}}class HMAC extends Hash$1{constructor(Y,ne){super(),this.finished=!1,this.destroyed=!1,hash(Y);const fe=toBytes$1(ne);if(this.iHash=Y.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ye=this.blockLen,me=new Uint8Array(ye);me.set(fe.length>ye?Y.create().update(fe).digest():fe);for(let be=0;be<me.length;be++)me[be]^=54;this.iHash.update(me),this.oHash=Y.create();for(let be=0;be<me.length;be++)me[be]^=106;this.oHash.update(me),me.fill(0)}update(Y){return exists$1(this),this.iHash.update(Y),this}digestInto(Y){exists$1(this),bytes$2(Y,this.outputLen),this.finished=!0,this.iHash.digestInto(Y),this.oHash.update(Y),this.oHash.digestInto(Y),this.destroy()}digest(){const Y=new Uint8Array(this.oHash.outputLen);return this.digestInto(Y),Y}_cloneInto(Y){Y||(Y=Object.create(Object.getPrototypeOf(this),{}));const{oHash:ne,iHash:fe,finished:ye,destroyed:me,blockLen:be,outputLen:we}=this;return Y=Y,Y.finished=ye,Y.destroyed=me,Y.blockLen=be,Y.outputLen=we,Y.oHash=ne._cloneInto(Y.oHash),Y.iHash=fe._cloneInto(Y.iHash),Y}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(se,Y,ne)=>new HMAC(se,Y).update(ne).digest();hmac.create=(se,Y)=>new HMAC(se,Y);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(se){return{hash:se,hmac:(Y,...ne)=>hmac(se,Y,concatBytes$1(...ne)),randomBytes}}function createCurve(se,Y){const ne=fe=>weierstrass({...se,...getHash(fe)});return Object.freeze({...ne(Y),create:ne})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$1=BigInt(1),_2n$1=BigInt(2),divNearest=(se,Y)=>(se+Y/_2n$1)/Y;function sqrtMod(se){const Y=secp256k1P,ne=BigInt(3),fe=BigInt(6),ye=BigInt(11),me=BigInt(22),be=BigInt(23),we=BigInt(44),Ee=BigInt(88),xe=se*se*se%Y,Se=xe*xe*se%Y,Ie=pow2(Se,ne,Y)*Se%Y,fr=pow2(Ie,ne,Y)*Se%Y,br=pow2(fr,_2n$1,Y)*xe%Y,kr=pow2(br,ye,Y)*br%Y,Wr=pow2(kr,me,Y)*kr%Y,Gr=pow2(Wr,we,Y)*Wr%Y,jr=pow2(Gr,Ee,Y)*Gr%Y,Qr=pow2(jr,we,Y)*Wr%Y,wn=pow2(Qr,ne,Y)*Se%Y,En=pow2(wn,be,Y)*kr%Y,Rn=pow2(En,fe,Y)*xe%Y,An=pow2(Rn,_2n$1,Y);if(!Fp.eql(Fp.sqr(An),se))throw new Error("Cannot find square root");return An}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:se=>{const Y=secp256k1N,ne=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),fe=-_1n$1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ye=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),me=ne,be=BigInt("0x100000000000000000000000000000000"),we=divNearest(me*se,Y),Ee=divNearest(-fe*se,Y);let xe=mod(se-we*ne-Ee*ye,Y),Se=mod(-we*fe-Ee*me,Y);const Ie=xe>be,fr=Se>be;if(Ie&&(xe=Y-xe),fr&&(Se=Y-Se),xe>be||Se>be)throw new Error("splitScalar: Endomorphism failed, k="+se);return{k1neg:Ie,k1:xe,k2neg:fr,k2:Se}}}},sha256$2);BigInt(0);secp256k1.ProjectivePoint;const ZeroAddress$1="0x0000000000000000000000000000000000000000",ZeroHash$1="0x0000000000000000000000000000000000000000000000000000000000000000",BN_0$g=BigInt(0),BN_1$6=BigInt(1),BN_2$5=BigInt(2),BN_27$3=BigInt(27),BN_28$3=BigInt(28),BN_35$3=BigInt(35),_guard$4={};function toUint256$1(se){return zeroPadValue$1(toBeArray$1(se),32)}var Ld,qd,Ud,yh,Pc;let Signature$1=(Pc=class{constructor(Y,ne,fe,ye){fi(this,Ld);fi(this,qd);fi(this,Ud);fi(this,yh);assertPrivate$1(Y,_guard$4,"Signature"),Yn(this,Ld,ne),Yn(this,qd,fe),Yn(this,Ud,ye),Yn(this,yh,null)}get r(){return In(this,Ld)}set r(Y){assertArgument$1(dataLength$1(Y)===32,"invalid r","value",Y),Yn(this,Ld,hexlify$1(Y))}get s(){return In(this,qd)}set s(Y){assertArgument$1(dataLength$1(Y)===32,"invalid s","value",Y);const ne=hexlify$1(Y);assertArgument$1(parseInt(ne.substring(0,3))<8,"non-canonical s","value",ne),Yn(this,qd,ne)}get v(){return In(this,Ud)}set v(Y){const ne=getNumber$1(Y,"value");assertArgument$1(ne===27||ne===28,"invalid v","v",Y),Yn(this,Ud,ne)}get networkV(){return In(this,yh)}get legacyChainId(){const Y=this.networkV;return Y==null?null:Pc.getChainId(Y)}get yParity(){return this.v===27?0:1}get yParityAndS(){const Y=getBytes$1(this.s);return this.yParity&&(Y[0]|=128),hexlify$1(Y)}get compactSerialized(){return concat$1([this.r,this.yParityAndS])}get serialized(){return concat$1([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const Y=new Pc(_guard$4,this.r,this.s,this.v);return this.networkV&&Yn(Y,yh,this.networkV),Y}toJSON(){const Y=this.networkV;return{_type:"signature",networkV:Y!=null?Y.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(Y){const ne=getBigInt$1(Y,"v");return ne==BN_27$3||ne==BN_28$3?BN_0$g:(assertArgument$1(ne>=BN_35$3,"invalid EIP-155 v","v",Y),(ne-BN_35$3)/BN_2$5)}static getChainIdV(Y,ne){return getBigInt$1(Y)*BN_2$5+BigInt(35+ne-27)}static getNormalizedV(Y){const ne=getBigInt$1(Y);return ne===BN_0$g||ne===BN_27$3?27:ne===BN_1$6||ne===BN_28$3?28:(assertArgument$1(ne>=BN_35$3,"invalid v","v",Y),ne&BN_1$6?27:28)}static from(Y){function ne(xe,Se){assertArgument$1(xe,Se,"signature",Y)}if(Y==null)return new Pc(_guard$4,ZeroHash$1,ZeroHash$1,27);if(typeof Y=="string"){const xe=getBytes$1(Y,"signature");if(xe.length===64){const Se=hexlify$1(xe.slice(0,32)),Ie=xe.slice(32,64),fr=Ie[0]&128?28:27;return Ie[0]&=127,new Pc(_guard$4,Se,hexlify$1(Ie),fr)}if(xe.length===65){const Se=hexlify$1(xe.slice(0,32)),Ie=xe.slice(32,64);ne((Ie[0]&128)===0,"non-canonical s");const fr=Pc.getNormalizedV(xe[64]);return new Pc(_guard$4,Se,hexlify$1(Ie),fr)}ne(!1,"invalid raw signature length")}if(Y instanceof Pc)return Y.clone();const fe=Y.r;ne(fe!=null,"missing r");const ye=toUint256$1(fe),me=function(xe,Se){if(xe!=null)return toUint256$1(xe);if(Se!=null){ne(isHexString$1(Se,32),"invalid yParityAndS");const Ie=getBytes$1(Se);return Ie[0]&=127,hexlify$1(Ie)}ne(!1,"missing s")}(Y.s,Y.yParityAndS);ne((getBytes$1(me)[0]&128)==0,"non-canonical s");const{networkV:be,v:we}=function(xe,Se,Ie){if(xe!=null){const fr=getBigInt$1(xe);return{networkV:fr>=BN_35$3?fr:void 0,v:Pc.getNormalizedV(fr)}}if(Se!=null)return ne(isHexString$1(Se,32),"invalid yParityAndS"),{v:getBytes$1(Se)[0]&128?28:27};if(Ie!=null){switch(getNumber$1(Ie,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}ne(!1,"invalid yParity")}ne(!1,"missing v")}(Y.v,Y.yParityAndS,Y.yParity),Ee=new Pc(_guard$4,ye,me,we);return be&&Yn(Ee,yh,be),ne(Y.yParity==null||getNumber$1(Y.yParity,"sig.yParity")===Ee.yParity,"yParity mismatch"),ne(Y.yParityAndS==null||Y.yParityAndS===Ee.yParityAndS,"yParityAndS mismatch"),Ee}},Ld=new WeakMap,qd=new WeakMap,Ud=new WeakMap,yh=new WeakMap,Pc);var bu,Ql;let SigningKey$1=(Ql=class{constructor(Y){fi(this,bu);assertArgument$1(dataLength$1(Y)===32,"invalid private key","privateKey","[REDACTED]"),Yn(this,bu,hexlify$1(Y))}get privateKey(){return In(this,bu)}get publicKey(){return Ql.computePublicKey(In(this,bu))}get compressedPublicKey(){return Ql.computePublicKey(In(this,bu),!0)}sign(Y){assertArgument$1(dataLength$1(Y)===32,"invalid digest length","digest",Y);const ne=secp256k1.sign(getBytesCopy$1(Y),getBytesCopy$1(In(this,bu)),{lowS:!0});return Signature$1.from({r:toBeHex$1(ne.r,32),s:toBeHex$1(ne.s,32),v:ne.recovery?28:27})}computeSharedSecret(Y){const ne=Ql.computePublicKey(Y);return hexlify$1(secp256k1.getSharedSecret(getBytesCopy$1(In(this,bu)),getBytes$1(ne),!1))}static computePublicKey(Y,ne){let fe=getBytes$1(Y,"key");if(fe.length===32){const me=secp256k1.getPublicKey(fe,!!ne);return hexlify$1(me)}if(fe.length===64){const me=new Uint8Array(65);me[0]=4,me.set(fe,1),fe=me}const ye=secp256k1.ProjectivePoint.fromHex(fe);return hexlify$1(ye.toRawBytes(ne))}static recoverPublicKey(Y,ne){assertArgument$1(dataLength$1(Y)===32,"invalid digest length","digest",Y);const fe=Signature$1.from(ne);let ye=secp256k1.Signature.fromCompact(getBytesCopy$1(concat$1([fe.r,fe.s])));ye=ye.addRecoveryBit(fe.yParity);const me=ye.recoverPublicKey(getBytesCopy$1(Y));return assertArgument$1(me!=null,"invalid signautre for digest","signature",ne),"0x"+me.toHex(!1)}static addPoints(Y,ne,fe){const ye=secp256k1.ProjectivePoint.fromHex(Ql.computePublicKey(Y).substring(2)),me=secp256k1.ProjectivePoint.fromHex(Ql.computePublicKey(ne).substring(2));return"0x"+ye.add(me).toHex(!!fe)}},bu=new WeakMap,Ql);const BN_0$f=BigInt(0),BN_36$1=BigInt(36);function getChecksumAddress$1(se){se=se.toLowerCase();const Y=se.substring(2).split(""),ne=new Uint8Array(40);for(let ye=0;ye<40;ye++)ne[ye]=Y[ye].charCodeAt(0);const fe=getBytes$1(keccak256$1(ne));for(let ye=0;ye<40;ye+=2)fe[ye>>1]>>4>=8&&(Y[ye]=Y[ye].toUpperCase()),(fe[ye>>1]&15)>=8&&(Y[ye+1]=Y[ye+1].toUpperCase());return"0x"+Y.join("")}const ibanLookup$1={};for(let se=0;se<10;se++)ibanLookup$1[String(se)]=String(se);for(let se=0;se<26;se++)ibanLookup$1[String.fromCharCode(65+se)]=String(10+se);const safeDigits$1=15;function ibanChecksum$1(se){se=se.toUpperCase(),se=se.substring(4)+se.substring(0,2)+"00";let Y=se.split("").map(fe=>ibanLookup$1[fe]).join("");for(;Y.length>=safeDigits$1;){let fe=Y.substring(0,safeDigits$1);Y=parseInt(fe,10)%97+Y.substring(fe.length)}let ne=String(98-parseInt(Y,10)%97);for(;ne.length<2;)ne="0"+ne;return ne}const Base36$1=function(){const se={};for(let Y=0;Y<36;Y++){const ne="0123456789abcdefghijklmnopqrstuvwxyz"[Y];se[ne]=BigInt(Y)}return se}();function fromBase36$1(se){se=se.toLowerCase();let Y=BN_0$f;for(let ne=0;ne<se.length;ne++)Y=Y*BN_36$1+Base36$1[se[ne]];return Y}function getAddress$1(se){if(assertArgument$1(typeof se=="string","invalid address","address",se),se.match(/^(0x)?[0-9a-fA-F]{40}$/)){se.startsWith("0x")||(se="0x"+se);const Y=getChecksumAddress$1(se);return assertArgument$1(!se.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||Y===se,"bad address checksum","address",se),Y}if(se.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument$1(se.substring(2,4)===ibanChecksum$1(se),"bad icap checksum","address",se);let Y=fromBase36$1(se.substring(4)).toString(16);for(;Y.length<40;)Y="0"+Y;return getChecksumAddress$1("0x"+Y)}assertArgument$1(!1,"invalid address","address",se)}function getCreateAddress$1(se){const Y=getAddress$1(se.from);let fe=getBigInt$1(se.nonce,"tx.nonce").toString(16);return fe==="0"?fe="0x":fe.length%2?fe="0x0"+fe:fe="0x"+fe,getAddress$1(dataSlice$1(keccak256$1(encodeRlp$1([Y,fe])),12))}function isAddressable$1(se){return se&&typeof se.getAddress=="function"}async function checkAddress$1(se,Y){const ne=await Y;return(ne==null||ne==="0x0000000000000000000000000000000000000000")&&(assert$3(typeof se!="string","unconfigured name","UNCONFIGURED_NAME",{value:se}),assertArgument$1(!1,"invalid AddressLike value; did not resolve to a value address","target",se)),getAddress$1(ne)}function resolveAddress$1(se,Y){if(typeof se=="string")return se.match(/^0x[0-9a-f]{40}$/i)?getAddress$1(se):(assert$3(Y!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),checkAddress$1(se,Y.resolveName(se)));if(isAddressable$1(se))return checkAddress$1(se,se.getAddress());if(se&&typeof se.then=="function")return checkAddress$1(se,se);assertArgument$1(!1,"unsupported addressable value","target",se)}const _gaurd$1={};function n$2(se,Y){let ne=!1;return Y<0&&(ne=!0,Y*=-1),new Typed$1(_gaurd$1,`${ne?"":"u"}int${Y}`,se,{signed:ne,width:Y})}function b$3(se,Y){return new Typed$1(_gaurd$1,`bytes${Y||""}`,se,{size:Y})}const _typedSymbol$1=Symbol.for("_ethers_typed");var bh,fl;let Typed$1=(fl=class{constructor(Y,ne,fe,ye){li(this,"type");li(this,"value");fi(this,bh);li(this,"_typedSymbol");ye==null&&(ye=null),assertPrivate$1(_gaurd$1,Y,"Typed"),defineProperties$1(this,{_typedSymbol:_typedSymbol$1,type:ne,value:fe}),Yn(this,bh,ye),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(Y=>Y.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return In(this,bh)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return In(this,bh)===!0?-1:In(this,bh)===!1?this.value.length:null}static from(Y,ne){return new fl(_gaurd$1,Y,ne)}static uint8(Y){return n$2(Y,8)}static uint16(Y){return n$2(Y,16)}static uint24(Y){return n$2(Y,24)}static uint32(Y){return n$2(Y,32)}static uint40(Y){return n$2(Y,40)}static uint48(Y){return n$2(Y,48)}static uint56(Y){return n$2(Y,56)}static uint64(Y){return n$2(Y,64)}static uint72(Y){return n$2(Y,72)}static uint80(Y){return n$2(Y,80)}static uint88(Y){return n$2(Y,88)}static uint96(Y){return n$2(Y,96)}static uint104(Y){return n$2(Y,104)}static uint112(Y){return n$2(Y,112)}static uint120(Y){return n$2(Y,120)}static uint128(Y){return n$2(Y,128)}static uint136(Y){return n$2(Y,136)}static uint144(Y){return n$2(Y,144)}static uint152(Y){return n$2(Y,152)}static uint160(Y){return n$2(Y,160)}static uint168(Y){return n$2(Y,168)}static uint176(Y){return n$2(Y,176)}static uint184(Y){return n$2(Y,184)}static uint192(Y){return n$2(Y,192)}static uint200(Y){return n$2(Y,200)}static uint208(Y){return n$2(Y,208)}static uint216(Y){return n$2(Y,216)}static uint224(Y){return n$2(Y,224)}static uint232(Y){return n$2(Y,232)}static uint240(Y){return n$2(Y,240)}static uint248(Y){return n$2(Y,248)}static uint256(Y){return n$2(Y,256)}static uint(Y){return n$2(Y,256)}static int8(Y){return n$2(Y,-8)}static int16(Y){return n$2(Y,-16)}static int24(Y){return n$2(Y,-24)}static int32(Y){return n$2(Y,-32)}static int40(Y){return n$2(Y,-40)}static int48(Y){return n$2(Y,-48)}static int56(Y){return n$2(Y,-56)}static int64(Y){return n$2(Y,-64)}static int72(Y){return n$2(Y,-72)}static int80(Y){return n$2(Y,-80)}static int88(Y){return n$2(Y,-88)}static int96(Y){return n$2(Y,-96)}static int104(Y){return n$2(Y,-104)}static int112(Y){return n$2(Y,-112)}static int120(Y){return n$2(Y,-120)}static int128(Y){return n$2(Y,-128)}static int136(Y){return n$2(Y,-136)}static int144(Y){return n$2(Y,-144)}static int152(Y){return n$2(Y,-152)}static int160(Y){return n$2(Y,-160)}static int168(Y){return n$2(Y,-168)}static int176(Y){return n$2(Y,-176)}static int184(Y){return n$2(Y,-184)}static int192(Y){return n$2(Y,-192)}static int200(Y){return n$2(Y,-200)}static int208(Y){return n$2(Y,-208)}static int216(Y){return n$2(Y,-216)}static int224(Y){return n$2(Y,-224)}static int232(Y){return n$2(Y,-232)}static int240(Y){return n$2(Y,-240)}static int248(Y){return n$2(Y,-248)}static int256(Y){return n$2(Y,-256)}static int(Y){return n$2(Y,-256)}static bytes1(Y){return b$3(Y,1)}static bytes2(Y){return b$3(Y,2)}static bytes3(Y){return b$3(Y,3)}static bytes4(Y){return b$3(Y,4)}static bytes5(Y){return b$3(Y,5)}static bytes6(Y){return b$3(Y,6)}static bytes7(Y){return b$3(Y,7)}static bytes8(Y){return b$3(Y,8)}static bytes9(Y){return b$3(Y,9)}static bytes10(Y){return b$3(Y,10)}static bytes11(Y){return b$3(Y,11)}static bytes12(Y){return b$3(Y,12)}static bytes13(Y){return b$3(Y,13)}static bytes14(Y){return b$3(Y,14)}static bytes15(Y){return b$3(Y,15)}static bytes16(Y){return b$3(Y,16)}static bytes17(Y){return b$3(Y,17)}static bytes18(Y){return b$3(Y,18)}static bytes19(Y){return b$3(Y,19)}static bytes20(Y){return b$3(Y,20)}static bytes21(Y){return b$3(Y,21)}static bytes22(Y){return b$3(Y,22)}static bytes23(Y){return b$3(Y,23)}static bytes24(Y){return b$3(Y,24)}static bytes25(Y){return b$3(Y,25)}static bytes26(Y){return b$3(Y,26)}static bytes27(Y){return b$3(Y,27)}static bytes28(Y){return b$3(Y,28)}static bytes29(Y){return b$3(Y,29)}static bytes30(Y){return b$3(Y,30)}static bytes31(Y){return b$3(Y,31)}static bytes32(Y){return b$3(Y,32)}static address(Y){return new fl(_gaurd$1,"address",Y)}static bool(Y){return new fl(_gaurd$1,"bool",!!Y)}static bytes(Y){return new fl(_gaurd$1,"bytes",Y)}static string(Y){return new fl(_gaurd$1,"string",Y)}static array(Y,ne){throw new Error("not implemented yet")}static tuple(Y,ne){throw new Error("not implemented yet")}static overrides(Y){return new fl(_gaurd$1,"overrides",Object.assign({},Y))}static isTyped(Y){return Y&&typeof Y=="object"&&"_typedSymbol"in Y&&Y._typedSymbol===_typedSymbol$1}static dereference(Y,ne){if(fl.isTyped(Y)){if(Y.type!==ne)throw new Error(`invalid type: expecetd ${ne}, got ${Y.type}`);return Y.value}return Y}},bh=new WeakMap,fl),AddressCoder$1=class extends Coder$1{constructor(Y){super("address","address",Y,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(Y,ne){let fe=Typed$1.dereference(ne,"string");try{fe=getAddress$1(fe)}catch(ye){return this._throwError(ye.message,ne)}return Y.writeValue(fe)}decode(Y){return getAddress$1(toBeHex$1(Y.readValue(),20))}},AnonymousCoder$1=class extends Coder$1{constructor(ne){super(ne.name,ne.type,"_",ne.dynamic);li(this,"coder");this.coder=ne}defaultValue(){return this.coder.defaultValue()}encode(ne,fe){return this.coder.encode(ne,fe)}decode(ne){return this.coder.decode(ne)}};function pack$1(se,Y,ne){let fe=[];if(Array.isArray(ne))fe=ne;else if(ne&&typeof ne=="object"){let Ee={};fe=Y.map(xe=>{const Se=xe.localName;return assert$3(Se,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:xe},value:ne}),assert$3(!Ee[Se],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:xe},value:ne}),Ee[Se]=!0,ne[Se]})}else assertArgument$1(!1,"invalid tuple value","tuple",ne);assertArgument$1(Y.length===fe.length,"types/value length mismatch","tuple",ne);let ye=new Writer$1,me=new Writer$1,be=[];Y.forEach((Ee,xe)=>{let Se=fe[xe];if(Ee.dynamic){let Ie=me.length;Ee.encode(me,Se);let fr=ye.writeUpdatableValue();be.push(br=>{fr(br+Ie)})}else Ee.encode(ye,Se)}),be.forEach(Ee=>{Ee(ye.length)});let we=se.appendWriter(ye);return we+=se.appendWriter(me),we}function unpack$1(se,Y){let ne=[],fe=[],ye=se.subReader(0);return Y.forEach(me=>{let be=null;if(me.dynamic){let we=se.readIndex(),Ee=ye.subReader(we);try{be=me.decode(Ee)}catch(xe){if(isError$1(xe,"BUFFER_OVERRUN"))throw xe;be=xe,be.baseType=me.name,be.name=me.localName,be.type=me.type}}else try{be=me.decode(se)}catch(we){if(isError$1(we,"BUFFER_OVERRUN"))throw we;be=we,be.baseType=me.name,be.name=me.localName,be.type=me.type}if(be==null)throw new Error("investigate");ne.push(be),fe.push(me.localName||null)}),Result$1.fromItems(ne,fe)}let ArrayCoder$1=class extends Coder$1{constructor(ne,fe,ye){const me=ne.type+"["+(fe>=0?fe:"")+"]",be=fe===-1||ne.dynamic;super("array",me,ye,be);li(this,"coder");li(this,"length");defineProperties$1(this,{coder:ne,length:fe})}defaultValue(){const ne=this.coder.defaultValue(),fe=[];for(let ye=0;ye<this.length;ye++)fe.push(ne);return fe}encode(ne,fe){const ye=Typed$1.dereference(fe,"array");Array.isArray(ye)||this._throwError("expected array value",ye);let me=this.length;me===-1&&(me=ye.length,ne.writeValue(ye.length)),assertArgumentCount$1(ye.length,me,"coder array"+(this.localName?" "+this.localName:""));let be=[];for(let we=0;we<ye.length;we++)be.push(this.coder);return pack$1(ne,be,ye)}decode(ne){let fe=this.length;fe===-1&&(fe=ne.readIndex(),assert$3(fe*WordSize$1<=ne.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:ne.bytes,offset:fe*WordSize$1,length:ne.dataLength}));let ye=[];for(let me=0;me<fe;me++)ye.push(new AnonymousCoder$1(this.coder));return unpack$1(ne,ye)}},BooleanCoder$1=class extends Coder$1{constructor(Y){super("bool","bool",Y,!1)}defaultValue(){return!1}encode(Y,ne){const fe=Typed$1.dereference(ne,"bool");return Y.writeValue(fe?1:0)}decode(Y){return!!Y.readValue()}},DynamicBytesCoder$1=class extends Coder$1{constructor(Y,ne){super(Y,Y,ne,!0)}defaultValue(){return"0x"}encode(Y,ne){ne=getBytesCopy$1(ne);let fe=Y.writeValue(ne.length);return fe+=Y.writeBytes(ne),fe}decode(Y){return Y.readBytes(Y.readIndex(),!0)}},BytesCoder$1=class extends DynamicBytesCoder$1{constructor(Y){super("bytes",Y)}decode(Y){return hexlify$1(super.decode(Y))}},FixedBytesCoder$1=class extends Coder$1{constructor(ne,fe){let ye="bytes"+String(ne);super(ye,ye,fe,!1);li(this,"size");defineProperties$1(this,{size:ne},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(ne,fe){let ye=getBytesCopy$1(Typed$1.dereference(fe,this.type));return ye.length!==this.size&&this._throwError("incorrect data length",fe),ne.writeBytes(ye)}decode(ne){return hexlify$1(ne.readBytes(this.size))}};const Empty$1=new Uint8Array([]);let NullCoder$1=class extends Coder$1{constructor(Y){super("null","",Y,!1)}defaultValue(){return null}encode(Y,ne){return ne!=null&&this._throwError("not null",ne),Y.writeBytes(Empty$1)}decode(Y){return Y.readBytes(0),null}};const BN_0$e=BigInt(0),BN_1$5=BigInt(1),BN_MAX_UINT256$3=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");let NumberCoder$1=class extends Coder$1{constructor(ne,fe,ye){const me=(fe?"int":"uint")+ne*8;super(me,me,ye,!1);li(this,"size");li(this,"signed");defineProperties$1(this,{size:ne,signed:fe},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(ne,fe){let ye=getBigInt$1(Typed$1.dereference(fe,this.type)),me=mask$2(BN_MAX_UINT256$3,WordSize$1*8);if(this.signed){let be=mask$2(me,this.size*8-1);(ye>be||ye<-(be+BN_1$5))&&this._throwError("value out-of-bounds",fe),ye=toTwos$1(ye,8*WordSize$1)}else(ye<BN_0$e||ye>mask$2(me,this.size*8))&&this._throwError("value out-of-bounds",fe);return ne.writeValue(ye)}decode(ne){let fe=mask$2(ne.readValue(),this.size*8);return this.signed&&(fe=fromTwos$1(fe,this.size*8)),fe}},StringCoder$1=class extends DynamicBytesCoder$1{constructor(Y){super("string",Y)}defaultValue(){return""}encode(Y,ne){return super.encode(Y,toUtf8Bytes$1(Typed$1.dereference(ne,"string")))}decode(Y){return toUtf8String$1(super.decode(Y))}},TupleCoder$1=class extends Coder$1{constructor(ne,fe){let ye=!1;const me=[];ne.forEach(we=>{we.dynamic&&(ye=!0),me.push(we.type)});const be="tuple("+me.join(",")+")";super("tuple",be,fe,ye);li(this,"coders");defineProperties$1(this,{coders:Object.freeze(ne.slice())})}defaultValue(){const ne=[];this.coders.forEach(ye=>{ne.push(ye.defaultValue())});const fe=this.coders.reduce((ye,me)=>{const be=me.localName;return be&&(ye[be]||(ye[be]=0),ye[be]++),ye},{});return this.coders.forEach((ye,me)=>{let be=ye.localName;!be||fe[be]!==1||(be==="length"&&(be="_length"),ne[be]==null&&(ne[be]=ne[me]))}),Object.freeze(ne)}encode(ne,fe){const ye=Typed$1.dereference(fe,"tuple");return pack$1(ne,this.coders,ye)}decode(ne){return unpack$1(ne,this.coders)}};function id$1(se){return keccak256$1(toUtf8Bytes$1(se))}var COMPRESSED$1="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const FENCED=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),NSM_MAX=4;function decode_arithmetic(se){let Y=0;function ne(){return se[Y++]<<8|se[Y++]}let fe=ne(),ye=1,me=[0,1];for(let Rn=1;Rn<fe;Rn++)me.push(ye+=ne());let be=ne(),we=Y;Y+=be;let Ee=0,xe=0;function Se(){return Ee==0&&(xe=xe<<8|se[Y++],Ee=8),xe>>--Ee&1}const Ie=31,fr=2**Ie,br=fr>>>1,kr=br>>1,Wr=fr-1;let Gr=0;for(let Rn=0;Rn<Ie;Rn++)Gr=Gr<<1|Se();let jr=[],Qr=0,wn=fr;for(;;){let Rn=Math.floor(((Gr-Qr+1)*ye-1)/wn),An=0,$n=fe;for(;$n-An>1;){let ai=An+$n>>>1;Rn<me[ai]?$n=ai:An=ai}if(An==0)break;jr.push(An);let Tn=Qr+Math.floor(wn*me[An]/ye),ti=Qr+Math.floor(wn*me[An+1]/ye)-1;for(;!((Tn^ti)&br);)Gr=Gr<<1&Wr|Se(),Tn=Tn<<1&Wr,ti=ti<<1&Wr|1;for(;Tn&~ti&kr;)Gr=Gr&br|Gr<<1&Wr>>>1|Se(),Tn=Tn<<1^br,ti=(ti^br)<<1|br|1;Qr=Tn,wn=1+ti-Tn}let En=fe-4;return jr.map(Rn=>{switch(Rn-En){case 3:return En+65792+(se[we++]<<16|se[we++]<<8|se[we++]);case 2:return En+256+(se[we++]<<8|se[we++]);case 1:return En+se[we++];default:return Rn-1}})}function read_payload(se){let Y=0;return()=>se[Y++]}function read_compressed_payload(se){return read_payload(decode_arithmetic(unsafe_atob(se)))}function unsafe_atob(se){let Y=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((ye,me)=>Y[ye.charCodeAt(0)]=me);let ne=se.length,fe=new Uint8Array(6*ne>>3);for(let ye=0,me=0,be=0,we=0;ye<ne;ye++)we=we<<6|Y[se.charCodeAt(ye)],be+=6,be>=8&&(fe[me++]=we>>(be-=8));return fe}function signed(se){return se&1?~se>>1:se>>1}function read_deltas(se,Y){let ne=Array(se);for(let fe=0,ye=0;fe<se;fe++)ne[fe]=ye+=signed(Y());return ne}function read_sorted(se,Y=0){let ne=[];for(;;){let fe=se(),ye=se();if(!ye)break;Y+=fe;for(let me=0;me<ye;me++)ne.push(Y+me);Y+=ye+1}return ne}function read_sorted_arrays(se){return read_array_while(()=>{let Y=read_sorted(se);if(Y.length)return Y})}function read_mapped(se){let Y=[];for(;;){let ne=se();if(ne==0)break;Y.push(read_linear_table(ne,se))}for(;;){let ne=se()-1;if(ne<0)break;Y.push(read_replacement_table(ne,se))}return Y.flat()}function read_array_while(se){let Y=[];for(;;){let ne=se(Y.length);if(!ne)break;Y.push(ne)}return Y}function read_transposed(se,Y,ne){let fe=Array(se).fill().map(()=>[]);for(let ye=0;ye<Y;ye++)read_deltas(se,ne).forEach((me,be)=>fe[be].push(me));return fe}function read_linear_table(se,Y){let ne=1+Y(),fe=Y(),ye=read_array_while(Y);return read_transposed(ye.length,1+se,Y).flatMap((be,we)=>{let[Ee,...xe]=be;return Array(ye[we]).fill().map((Se,Ie)=>{let fr=Ie*fe;return[Ee+Ie*ne,xe.map(br=>br+fr)]})})}function read_replacement_table(se,Y){let ne=1+Y();return read_transposed(ne,1+se,Y).map(ye=>[ye[0],ye.slice(1)])}function read_trie(se){let Y=[],ne=read_sorted(se);return ye(fe([]),[]),Y;function fe(me){let be=se(),we=read_array_while(()=>{let Ee=read_sorted(se).map(xe=>ne[xe]);if(Ee.length)return fe(Ee)});return{S:be,B:we,Q:me}}function ye({S:me,B:be},we,Ee){if(!(me&4&&Ee===we[we.length-1])){me&2&&(Ee=we[we.length-1]),me&1&&Y.push(we);for(let xe of be)for(let Se of xe.Q)ye(xe,[...we,Se],Ee)}}}function hex_cp(se){return se.toString(16).toUpperCase().padStart(2,"0")}function quote_cp(se){return`{${hex_cp(se)}}`}function explode_cp(se){let Y=[];for(let ne=0,fe=se.length;ne<fe;){let ye=se.codePointAt(ne);ne+=ye<65536?1:2,Y.push(ye)}return Y}function str_from_cps(se){let ne=se.length;if(ne<4096)return String.fromCodePoint(...se);let fe=[];for(let ye=0;ye<ne;)fe.push(String.fromCodePoint(...se.slice(ye,ye+=4096)));return fe.join("")}function compare_arrays(se,Y){let ne=se.length,fe=ne-Y.length;for(let ye=0;fe==0&&ye<ne;ye++)fe=se[ye]-Y[ye];return fe}var COMPRESSED="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const S0=44032,L0=4352,V0=4449,T0=4519,L_COUNT=19,V_COUNT=21,T_COUNT=28,N_COUNT=V_COUNT*T_COUNT,S_COUNT=L_COUNT*N_COUNT,S1=S0+S_COUNT,L1=L0+L_COUNT,V1=V0+V_COUNT,T1=T0+T_COUNT;function unpack_cc(se){return se>>24&255}function unpack_cp(se){return se&16777215}let SHIFTED_RANK,EXCLUSIONS,DECOMP,RECOMP;function init$1(){let se=read_compressed_payload(COMPRESSED);SHIFTED_RANK=new Map(read_sorted_arrays(se).flatMap((Y,ne)=>Y.map(fe=>[fe,ne+1<<24]))),EXCLUSIONS=new Set(read_sorted(se)),DECOMP=new Map,RECOMP=new Map;for(let[Y,ne]of read_mapped(se)){if(!EXCLUSIONS.has(Y)&&ne.length==2){let[fe,ye]=ne,me=RECOMP.get(fe);me||(me=new Map,RECOMP.set(fe,me)),me.set(ye,Y)}DECOMP.set(Y,ne.reverse())}}function is_hangul(se){return se>=S0&&se<S1}function compose_pair(se,Y){if(se>=L0&&se<L1&&Y>=V0&&Y<V1)return S0+(se-L0)*N_COUNT+(Y-V0)*T_COUNT;if(is_hangul(se)&&Y>T0&&Y<T1&&(se-S0)%T_COUNT==0)return se+(Y-T0);{let ne=RECOMP.get(se);return ne&&(ne=ne.get(Y),ne)?ne:-1}}function decomposed(se){SHIFTED_RANK||init$1();let Y=[],ne=[],fe=!1;function ye(me){let be=SHIFTED_RANK.get(me);be&&(fe=!0,me|=be),Y.push(me)}for(let me of se)for(;;){if(me<128)Y.push(me);else if(is_hangul(me)){let be=me-S0,we=be/N_COUNT|0,Ee=be%N_COUNT/T_COUNT|0,xe=be%T_COUNT;ye(L0+we),ye(V0+Ee),xe>0&&ye(T0+xe)}else{let be=DECOMP.get(me);be?ne.push(...be):ye(me)}if(!ne.length)break;me=ne.pop()}if(fe&&Y.length>1){let me=unpack_cc(Y[0]);for(let be=1;be<Y.length;be++){let we=unpack_cc(Y[be]);if(we==0||me<=we){me=we;continue}let Ee=be-1;for(;;){let xe=Y[Ee+1];if(Y[Ee+1]=Y[Ee],Y[Ee]=xe,!Ee||(me=unpack_cc(Y[--Ee]),me<=we))break}me=unpack_cc(Y[be])}}return Y}function composed_from_decomposed(se){let Y=[],ne=[],fe=-1,ye=0;for(let me of se){let be=unpack_cc(me),we=unpack_cp(me);if(fe==-1)be==0?fe=we:Y.push(we);else if(ye>0&&ye>=be)be==0?(Y.push(fe,...ne),ne.length=0,fe=we):ne.push(we),ye=be;else{let Ee=compose_pair(fe,we);Ee>=0?fe=Ee:ye==0&&be==0?(Y.push(fe),fe=we):(ne.push(we),ye=be)}}return fe>=0&&Y.push(fe,...ne),Y}function nfd(se){return decomposed(se).map(unpack_cp)}function nfc(se){return composed_from_decomposed(decomposed(se))}const HYPHEN=45,STOP_CH=".",FE0F=65039,UNIQUE_PH=1,Array_from=se=>Array.from(se);function group_has_cp(se,Y){return se.P.has(Y)||se.Q.has(Y)}class Emoji extends Array{get is_emoji(){return!0}}let MAPPED,IGNORED,CM,NSM,ESCAPE,GROUPS,WHOLE_VALID,WHOLE_MAP,VALID,EMOJI_LIST,EMOJI_ROOT;function init(){if(MAPPED)return;let se=read_compressed_payload(COMPRESSED$1);const Y=()=>read_sorted(se),ne=()=>new Set(Y()),fe=(Se,Ie)=>Ie.forEach(fr=>Se.add(fr));MAPPED=new Map(read_mapped(se)),IGNORED=ne(),CM=Y(),NSM=new Set(Y().map(Se=>CM[Se])),CM=new Set(CM),ESCAPE=ne(),ne();let ye=read_sorted_arrays(se),me=se();const be=()=>{let Se=new Set;return Y().forEach(Ie=>fe(Se,ye[Ie])),fe(Se,Y()),Se};GROUPS=read_array_while(Se=>{let Ie=read_array_while(se).map(fr=>fr+96);if(Ie.length){let fr=Se>=me;Ie[0]-=32,Ie=str_from_cps(Ie),fr&&(Ie=`Restricted[${Ie}]`);let br=be(),kr=be(),Wr=!se();return{N:Ie,P:br,Q:kr,M:Wr,R:fr}}}),WHOLE_VALID=ne(),WHOLE_MAP=new Map;let we=Y().concat(Array_from(WHOLE_VALID)).sort((Se,Ie)=>Se-Ie);we.forEach((Se,Ie)=>{let fr=se(),br=we[Ie]=fr?we[Ie-fr]:{V:[],M:new Map};br.V.push(Se),WHOLE_VALID.has(Se)||WHOLE_MAP.set(Se,br)});for(let{V:Se,M:Ie}of new Set(WHOLE_MAP.values())){let fr=[];for(let kr of Se){let Wr=GROUPS.filter(jr=>group_has_cp(jr,kr)),Gr=fr.find(({G:jr})=>Wr.some(Qr=>jr.has(Qr)));Gr||(Gr={G:new Set,V:[]},fr.push(Gr)),Gr.V.push(kr),fe(Gr.G,Wr)}let br=fr.flatMap(kr=>Array_from(kr.G));for(let{G:kr,V:Wr}of fr){let Gr=new Set(br.filter(jr=>!kr.has(jr)));for(let jr of Wr)Ie.set(jr,Gr)}}VALID=new Set;let Ee=new Set;const xe=Se=>VALID.has(Se)?Ee.add(Se):VALID.add(Se);for(let Se of GROUPS){for(let Ie of Se.P)xe(Ie);for(let Ie of Se.Q)xe(Ie)}for(let Se of VALID)!WHOLE_MAP.has(Se)&&!Ee.has(Se)&&WHOLE_MAP.set(Se,UNIQUE_PH);fe(VALID,nfd(VALID)),EMOJI_LIST=read_trie(se).map(Se=>Emoji.from(Se)).sort(compare_arrays),EMOJI_ROOT=new Map;for(let Se of EMOJI_LIST){let Ie=[EMOJI_ROOT];for(let fr of Se){let br=Ie.map(kr=>{let Wr=kr.get(fr);return Wr||(Wr=new Map,kr.set(fr,Wr)),Wr});fr===FE0F?Ie.push(...br):Ie=br}for(let fr of Ie)fr.V=Se}}function quoted_cp(se){return(should_escape(se)?"":`${bidi_qq(safe_str_from_cps([se]))} `)+quote_cp(se)}function bidi_qq(se){return`"${se}"‎`}function check_label_extension(se){if(se.length>=4&&se[2]==HYPHEN&&se[3]==HYPHEN)throw new Error(`invalid label extension: "${str_from_cps(se.slice(0,4))}"`)}function check_leading_underscore(se){for(let ne=se.lastIndexOf(95);ne>0;)if(se[--ne]!==95)throw new Error("underscore allowed only at start")}function check_fenced(se){let Y=se[0],ne=FENCED.get(Y);if(ne)throw error_placement(`leading ${ne}`);let fe=se.length,ye=-1;for(let me=1;me<fe;me++){Y=se[me];let be=FENCED.get(Y);if(be){if(ye==me)throw error_placement(`${ne} + ${be}`);ye=me+1,ne=be}}if(ye==fe)throw error_placement(`trailing ${ne}`)}function safe_str_from_cps(se,Y=1/0,ne=quote_cp){let fe=[];is_combining_mark(se[0])&&fe.push("◌"),se.length>Y&&(Y>>=1,se=[...se.slice(0,Y),8230,...se.slice(-Y)]);let ye=0,me=se.length;for(let be=0;be<me;be++){let we=se[be];should_escape(we)&&(fe.push(str_from_cps(se.slice(ye,be))),fe.push(ne(we)),ye=be+1)}return fe.push(str_from_cps(se.slice(ye,me))),fe.join("")}function is_combining_mark(se){return init(),CM.has(se)}function should_escape(se){return init(),ESCAPE.has(se)}function ens_normalize(se){return flatten(split$1(se,nfc,filter_fe0f))}function split$1(se,Y,ne){if(!se)return[];init();let fe=0;return se.split(STOP_CH).map(ye=>{let me=explode_cp(ye),be={input:me,offset:fe};fe+=me.length+1;try{let we=be.tokens=tokens_from_str(me,Y,ne),Ee=we.length,xe;if(!Ee)throw new Error("empty label");let Se=be.output=we.flat();if(check_leading_underscore(Se),!(be.emoji=Ee>1||we[0].is_emoji)&&Se.every(fr=>fr<128))check_label_extension(Se),xe="ASCII";else{let fr=we.flatMap(br=>br.is_emoji?[]:br);if(!fr.length)xe="Emoji";else{if(CM.has(Se[0]))throw error_placement("leading combining mark");for(let Wr=1;Wr<Ee;Wr++){let Gr=we[Wr];if(!Gr.is_emoji&&CM.has(Gr[0]))throw error_placement(`emoji + combining mark: "${str_from_cps(we[Wr-1])} + ${safe_str_from_cps([Gr[0]])}"`)}check_fenced(Se);let br=Array_from(new Set(fr)),[kr]=determine_group(br);check_group(kr,fr),check_whole(kr,br),xe=kr.N}}be.type=xe}catch(we){be.error=we}return be})}function check_whole(se,Y){let ne,fe=[];for(let ye of Y){let me=WHOLE_MAP.get(ye);if(me===UNIQUE_PH)return;if(me){let be=me.M.get(ye);if(ne=ne?ne.filter(we=>be.has(we)):Array_from(be),!ne.length)return}else fe.push(ye)}if(ne){for(let ye of ne)if(fe.every(me=>group_has_cp(ye,me)))throw new Error(`whole-script confusable: ${se.N}/${ye.N}`)}}function determine_group(se){let Y=GROUPS;for(let ne of se){let fe=Y.filter(ye=>group_has_cp(ye,ne));if(!fe.length)throw GROUPS.some(ye=>group_has_cp(ye,ne))?error_group_member(Y[0],ne):error_disallowed(ne);if(Y=fe,fe.length==1)break}return Y}function flatten(se){return se.map(({input:Y,error:ne,output:fe})=>{if(ne){let ye=ne.message;throw new Error(se.length==1?ye:`Invalid label ${bidi_qq(safe_str_from_cps(Y,63))}: ${ye}`)}return str_from_cps(fe)}).join(STOP_CH)}function error_disallowed(se){return new Error(`disallowed character: ${quoted_cp(se)}`)}function error_group_member(se,Y){let ne=quoted_cp(Y),fe=GROUPS.find(ye=>ye.P.has(Y));return fe&&(ne=`${fe.N} ${ne}`),new Error(`illegal mixture: ${se.N} + ${ne}`)}function error_placement(se){return new Error(`illegal placement: ${se}`)}function check_group(se,Y){for(let ne of Y)if(!group_has_cp(se,ne))throw error_group_member(se,ne);if(se.M){let ne=nfd(Y);for(let fe=1,ye=ne.length;fe<ye;fe++)if(NSM.has(ne[fe])){let me=fe+1;for(let be;me<ye&&NSM.has(be=ne[me]);me++)for(let we=fe;we<me;we++)if(ne[we]==be)throw new Error(`duplicate non-spacing marks: ${quoted_cp(be)}`);if(me-fe>NSM_MAX)throw new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(ne.slice(fe-1,me)))} (${me-fe}/${NSM_MAX})`);fe=me}}}function tokens_from_str(se,Y,ne){let fe=[],ye=[];for(se=se.slice().reverse();se.length;){let me=consume_emoji_reversed(se);if(me)ye.length&&(fe.push(Y(ye)),ye=[]),fe.push(ne(me));else{let be=se.pop();if(VALID.has(be))ye.push(be);else{let we=MAPPED.get(be);if(we)ye.push(...we);else if(!IGNORED.has(be))throw error_disallowed(be)}}}return ye.length&&fe.push(Y(ye)),fe}function filter_fe0f(se){return se.filter(Y=>Y!=FE0F)}function consume_emoji_reversed(se,Y){let ne=EMOJI_ROOT,fe,ye=se.length;for(;ye&&(ne=ne.get(se[--ye]),!!ne);){let{V:me}=ne;me&&(fe=me,se.length=ye)}return fe}const Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent$1(se){return assertArgument$1(se.length!==0,"invalid ENS name; empty component","comp",se),se}function ensNameSplit$1(se){const Y=toUtf8Bytes$1(ensNormalize$1(se)),ne=[];if(se.length===0)return ne;let fe=0;for(let ye=0;ye<Y.length;ye++)Y[ye]===46&&(ne.push(checkComponent$1(Y.slice(fe,ye))),fe=ye+1);return assertArgument$1(fe<Y.length,"invalid ENS name; empty component","name",se),ne.push(checkComponent$1(Y.slice(fe))),ne}function ensNormalize$1(se){try{if(se.length===0)throw new Error("empty label");return ens_normalize(se)}catch(Y){assertArgument$1(!1,`invalid ENS name (${Y.message})`,"name",se)}}function namehash$1(se){assertArgument$1(typeof se=="string","invalid ENS name; not a string","name",se),assertArgument$1(se.length,"invalid ENS name (empty label)","name",se);let Y=Zeros$1;const ne=ensNameSplit$1(se);for(;ne.length;)Y=keccak256$1(concat$1([Y,keccak256$1(ne.pop())]));return hexlify$1(Y)}function dnsEncode$1(se,Y){const ne=Y;return assertArgument$1(ne<=255,"DNS encoded label cannot exceed 255","length",ne),hexlify$1(concat$1(ensNameSplit$1(se).map(fe=>{assertArgument$1(fe.length<=ne,`label ${JSON.stringify(se)} exceeds ${ne} bytes`,"name",se);const ye=new Uint8Array(fe.length+1);return ye.set(fe,1),ye[0]=ye.length-1,ye})))+"00"}function accessSetify$1(se,Y){return{address:getAddress$1(se),storageKeys:Y.map((ne,fe)=>(assertArgument$1(isHexString$1(ne,32),"invalid slot",`storageKeys[${fe}]`,ne),ne.toLowerCase()))}}function accessListify$1(se){if(Array.isArray(se))return se.map((ne,fe)=>Array.isArray(ne)?(assertArgument$1(ne.length===2,"invalid slot set",`value[${fe}]`,ne),accessSetify$1(ne[0],ne[1])):(assertArgument$1(ne!=null&&typeof ne=="object","invalid address-slot set","value",se),accessSetify$1(ne.address,ne.storageKeys)));assertArgument$1(se!=null&&typeof se=="object","invalid access list","value",se);const Y=Object.keys(se).map(ne=>{const fe=se[ne].reduce((ye,me)=>(ye[me]=!0,ye),{});return accessSetify$1(ne,Object.keys(fe).sort())});return Y.sort((ne,fe)=>ne.address.localeCompare(fe.address)),Y}function computeAddress$1(se){let Y;return typeof se=="string"?Y=SigningKey$1.computePublicKey(se,!1):Y=se.publicKey,getAddress$1(keccak256$1("0x"+Y.substring(4)).substring(26))}function recoverAddress$1(se,Y){return computeAddress$1(SigningKey$1.recoverPublicKey(se,Y))}const BN_0$d=BigInt(0),BN_2$4=BigInt(2),BN_27$2=BigInt(27),BN_28$2=BigInt(28),BN_35$2=BigInt(35),BN_MAX_UINT$1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BLOB_SIZE$1=4096*32;function getVersionedHash$1(se,Y){let ne=se.toString(16);for(;ne.length<2;)ne="0"+ne;return ne+=sha256$3(Y).substring(4),"0x"+ne}function handleAddress$1(se){return se==="0x"?null:getAddress$1(se)}function handleAccessList$1(se,Y){try{return accessListify$1(se)}catch(ne){assertArgument$1(!1,ne.message,Y,se)}}function handleNumber$1(se,Y){return se==="0x"?0:getNumber$1(se,Y)}function handleUint$1(se,Y){if(se==="0x")return BN_0$d;const ne=getBigInt$1(se,Y);return assertArgument$1(ne<=BN_MAX_UINT$1,"value exceeds uint size",Y,ne),ne}function formatNumber$1(se,Y){const ne=getBigInt$1(se,"value"),fe=toBeArray$1(ne);return assertArgument$1(fe.length<=32,"value too large",`tx.${Y}`,ne),fe}function formatAccessList$1(se){return accessListify$1(se).map(Y=>[Y.address,Y.storageKeys])}function formatHashes$1(se,Y){assertArgument$1(Array.isArray(se),`invalid ${Y}`,"value",se);for(let ne=0;ne<se.length;ne++)assertArgument$1(isHexString$1(se[ne],32),"invalid ${ param } hash",`value[${ne}]`,se[ne]);return se}function _parseLegacy$1(se){const Y=decodeRlp$1(se);assertArgument$1(Array.isArray(Y)&&(Y.length===9||Y.length===6),"invalid field count for legacy transaction","data",se);const ne={type:0,nonce:handleNumber$1(Y[0],"nonce"),gasPrice:handleUint$1(Y[1],"gasPrice"),gasLimit:handleUint$1(Y[2],"gasLimit"),to:handleAddress$1(Y[3]),value:handleUint$1(Y[4],"value"),data:hexlify$1(Y[5]),chainId:BN_0$d};if(Y.length===6)return ne;const fe=handleUint$1(Y[6],"v"),ye=handleUint$1(Y[7],"r"),me=handleUint$1(Y[8],"s");if(ye===BN_0$d&&me===BN_0$d)ne.chainId=fe;else{let be=(fe-BN_35$2)/BN_2$4;be<BN_0$d&&(be=BN_0$d),ne.chainId=be,assertArgument$1(be!==BN_0$d||fe===BN_27$2||fe===BN_28$2,"non-canonical legacy v","v",Y[6]),ne.signature=Signature$1.from({r:zeroPadValue$1(Y[7],32),s:zeroPadValue$1(Y[8],32),v:fe})}return ne}function _serializeLegacy$1(se,Y){const ne=[formatNumber$1(se.nonce,"nonce"),formatNumber$1(se.gasPrice||0,"gasPrice"),formatNumber$1(se.gasLimit,"gasLimit"),se.to||"0x",formatNumber$1(se.value,"value"),se.data];let fe=BN_0$d;if(se.chainId!=BN_0$d)fe=getBigInt$1(se.chainId,"tx.chainId"),assertArgument$1(!Y||Y.networkV==null||Y.legacyChainId===fe,"tx.chainId/sig.v mismatch","sig",Y);else if(se.signature){const me=se.signature.legacyChainId;me!=null&&(fe=me)}if(!Y)return fe!==BN_0$d&&(ne.push(toBeArray$1(fe)),ne.push("0x"),ne.push("0x")),encodeRlp$1(ne);let ye=BigInt(27+Y.yParity);return fe!==BN_0$d?ye=Signature$1.getChainIdV(fe,Y.v):BigInt(Y.v)!==ye&&assertArgument$1(!1,"tx.chainId/sig.v mismatch","sig",Y),ne.push(toBeArray$1(ye)),ne.push(toBeArray$1(Y.r)),ne.push(toBeArray$1(Y.s)),encodeRlp$1(ne)}function _parseEipSignature$1(se,Y){let ne;try{if(ne=handleNumber$1(Y[0],"yParity"),ne!==0&&ne!==1)throw new Error("bad yParity")}catch{assertArgument$1(!1,"invalid yParity","yParity",Y[0])}const fe=zeroPadValue$1(Y[1],32),ye=zeroPadValue$1(Y[2],32),me=Signature$1.from({r:fe,s:ye,yParity:ne});se.signature=me}function _parseEip1559$1(se){const Y=decodeRlp$1(getBytes$1(se).slice(1));assertArgument$1(Array.isArray(Y)&&(Y.length===9||Y.length===12),"invalid field count for transaction type: 2","data",hexlify$1(se));const ne={type:2,chainId:handleUint$1(Y[0],"chainId"),nonce:handleNumber$1(Y[1],"nonce"),maxPriorityFeePerGas:handleUint$1(Y[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint$1(Y[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint$1(Y[4],"gasLimit"),to:handleAddress$1(Y[5]),value:handleUint$1(Y[6],"value"),data:hexlify$1(Y[7]),accessList:handleAccessList$1(Y[8],"accessList")};return Y.length===9||_parseEipSignature$1(ne,Y.slice(9)),ne}function _serializeEip1559$1(se,Y){const ne=[formatNumber$1(se.chainId,"chainId"),formatNumber$1(se.nonce,"nonce"),formatNumber$1(se.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(se.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(se.gasLimit,"gasLimit"),se.to||"0x",formatNumber$1(se.value,"value"),se.data,formatAccessList$1(se.accessList||[])];return Y&&(ne.push(formatNumber$1(Y.yParity,"yParity")),ne.push(toBeArray$1(Y.r)),ne.push(toBeArray$1(Y.s))),concat$1(["0x02",encodeRlp$1(ne)])}function _parseEip2930$1(se){const Y=decodeRlp$1(getBytes$1(se).slice(1));assertArgument$1(Array.isArray(Y)&&(Y.length===8||Y.length===11),"invalid field count for transaction type: 1","data",hexlify$1(se));const ne={type:1,chainId:handleUint$1(Y[0],"chainId"),nonce:handleNumber$1(Y[1],"nonce"),gasPrice:handleUint$1(Y[2],"gasPrice"),gasLimit:handleUint$1(Y[3],"gasLimit"),to:handleAddress$1(Y[4]),value:handleUint$1(Y[5],"value"),data:hexlify$1(Y[6]),accessList:handleAccessList$1(Y[7],"accessList")};return Y.length===8||_parseEipSignature$1(ne,Y.slice(8)),ne}function _serializeEip2930$1(se,Y){const ne=[formatNumber$1(se.chainId,"chainId"),formatNumber$1(se.nonce,"nonce"),formatNumber$1(se.gasPrice||0,"gasPrice"),formatNumber$1(se.gasLimit,"gasLimit"),se.to||"0x",formatNumber$1(se.value,"value"),se.data,formatAccessList$1(se.accessList||[])];return Y&&(ne.push(formatNumber$1(Y.yParity,"recoveryParam")),ne.push(toBeArray$1(Y.r)),ne.push(toBeArray$1(Y.s))),concat$1(["0x01",encodeRlp$1(ne)])}function _parseEip4844$1(se){let Y=decodeRlp$1(getBytes$1(se).slice(1)),ne="3",fe=null;if(Y.length===4&&Array.isArray(Y[0])){ne="3 (network format)";const me=Y[1],be=Y[2],we=Y[3];assertArgument$1(Array.isArray(me),"invalid network format: blobs not an array","fields[1]",me),assertArgument$1(Array.isArray(be),"invalid network format: commitments not an array","fields[2]",be),assertArgument$1(Array.isArray(we),"invalid network format: proofs not an array","fields[3]",we),assertArgument$1(me.length===be.length,"invalid network format: blobs/commitments length mismatch","fields",Y),assertArgument$1(me.length===we.length,"invalid network format: blobs/proofs length mismatch","fields",Y),fe=[];for(let Ee=0;Ee<Y[1].length;Ee++)fe.push({data:me[Ee],commitment:be[Ee],proof:we[Ee]});Y=Y[0]}assertArgument$1(Array.isArray(Y)&&(Y.length===11||Y.length===14),`invalid field count for transaction type: ${ne}`,"data",hexlify$1(se));const ye={type:3,chainId:handleUint$1(Y[0],"chainId"),nonce:handleNumber$1(Y[1],"nonce"),maxPriorityFeePerGas:handleUint$1(Y[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint$1(Y[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint$1(Y[4],"gasLimit"),to:handleAddress$1(Y[5]),value:handleUint$1(Y[6],"value"),data:hexlify$1(Y[7]),accessList:handleAccessList$1(Y[8],"accessList"),maxFeePerBlobGas:handleUint$1(Y[9],"maxFeePerBlobGas"),blobVersionedHashes:Y[10]};fe&&(ye.blobs=fe),assertArgument$1(ye.to!=null,`invalid address for transaction type: ${ne}`,"data",se),assertArgument$1(Array.isArray(ye.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",se);for(let me=0;me<ye.blobVersionedHashes.length;me++)assertArgument$1(isHexString$1(ye.blobVersionedHashes[me],32),`invalid blobVersionedHash at index ${me}: must be length 32`,"data",se);return Y.length===11||_parseEipSignature$1(ye,Y.slice(11)),ye}function _serializeEip4844$1(se,Y,ne){const fe=[formatNumber$1(se.chainId,"chainId"),formatNumber$1(se.nonce,"nonce"),formatNumber$1(se.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(se.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(se.gasLimit,"gasLimit"),se.to||ZeroAddress$1,formatNumber$1(se.value,"value"),se.data,formatAccessList$1(se.accessList||[]),formatNumber$1(se.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes$1(se.blobVersionedHashes||[],"blobVersionedHashes")];return Y&&(fe.push(formatNumber$1(Y.yParity,"yParity")),fe.push(toBeArray$1(Y.r)),fe.push(toBeArray$1(Y.s)),ne)?concat$1(["0x03",encodeRlp$1([fe,ne.map(ye=>ye.data),ne.map(ye=>ye.commitment),ne.map(ye=>ye.proof)])]):concat$1(["0x03",encodeRlp$1(fe)])}var Ol,Fd,Wd,jd,Hd,zd,Vd,Gd,Zd,Kd,Jd,Qd,vh,nf,vu,sf,Yd,hg,hl;let Transaction$1=(hl=class{constructor(){fi(this,Yd);fi(this,Ol);fi(this,Fd);fi(this,Wd);fi(this,jd);fi(this,Hd);fi(this,zd);fi(this,Vd);fi(this,Gd);fi(this,Zd);fi(this,Kd);fi(this,Jd);fi(this,Qd);fi(this,vh);fi(this,nf);fi(this,vu);fi(this,sf);Yn(this,Ol,null),Yn(this,Fd,null),Yn(this,jd,0),Yn(this,Hd,BN_0$d),Yn(this,zd,null),Yn(this,Vd,null),Yn(this,Gd,null),Yn(this,Wd,"0x"),Yn(this,Zd,BN_0$d),Yn(this,Kd,BN_0$d),Yn(this,Jd,null),Yn(this,Qd,null),Yn(this,vh,null),Yn(this,nf,null),Yn(this,sf,null),Yn(this,vu,null)}get type(){return In(this,Ol)}set type(Y){switch(Y){case null:Yn(this,Ol,null);break;case 0:case"legacy":Yn(this,Ol,0);break;case 1:case"berlin":case"eip-2930":Yn(this,Ol,1);break;case 2:case"london":case"eip-1559":Yn(this,Ol,2);break;case 3:case"cancun":case"eip-4844":Yn(this,Ol,3);break;default:assertArgument$1(!1,"unsupported transaction type","type",Y)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const Y=In(this,Fd);return Y==null&&this.type===3?ZeroAddress$1:Y}set to(Y){Yn(this,Fd,Y==null?null:getAddress$1(Y))}get nonce(){return In(this,jd)}set nonce(Y){Yn(this,jd,getNumber$1(Y,"value"))}get gasLimit(){return In(this,Hd)}set gasLimit(Y){Yn(this,Hd,getBigInt$1(Y))}get gasPrice(){const Y=In(this,zd);return Y==null&&(this.type===0||this.type===1)?BN_0$d:Y}set gasPrice(Y){Yn(this,zd,Y==null?null:getBigInt$1(Y,"gasPrice"))}get maxPriorityFeePerGas(){const Y=In(this,Vd);return Y??(this.type===2||this.type===3?BN_0$d:null)}set maxPriorityFeePerGas(Y){Yn(this,Vd,Y==null?null:getBigInt$1(Y,"maxPriorityFeePerGas"))}get maxFeePerGas(){const Y=In(this,Gd);return Y??(this.type===2||this.type===3?BN_0$d:null)}set maxFeePerGas(Y){Yn(this,Gd,Y==null?null:getBigInt$1(Y,"maxFeePerGas"))}get data(){return In(this,Wd)}set data(Y){Yn(this,Wd,hexlify$1(Y))}get value(){return In(this,Zd)}set value(Y){Yn(this,Zd,getBigInt$1(Y,"value"))}get chainId(){return In(this,Kd)}set chainId(Y){Yn(this,Kd,getBigInt$1(Y))}get signature(){return In(this,Jd)||null}set signature(Y){Yn(this,Jd,Y==null?null:Signature$1.from(Y))}get accessList(){const Y=In(this,Qd)||null;return Y??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(Y){Yn(this,Qd,Y==null?null:accessListify$1(Y))}get maxFeePerBlobGas(){const Y=In(this,vh);return Y==null&&this.type===3?BN_0$d:Y}set maxFeePerBlobGas(Y){Yn(this,vh,Y==null?null:getBigInt$1(Y,"maxFeePerBlobGas"))}get blobVersionedHashes(){let Y=In(this,nf);return Y==null&&this.type===3?[]:Y}set blobVersionedHashes(Y){if(Y!=null){assertArgument$1(Array.isArray(Y),"blobVersionedHashes must be an Array","value",Y),Y=Y.slice();for(let ne=0;ne<Y.length;ne++)assertArgument$1(isHexString$1(Y[ne],32),"invalid blobVersionedHash",`value[${ne}]`,Y[ne])}Yn(this,nf,Y)}get blobs(){return In(this,sf)==null?null:In(this,sf).map(Y=>Object.assign({},Y))}set blobs(Y){if(Y==null){Yn(this,sf,null);return}const ne=[],fe=[];for(let ye=0;ye<Y.length;ye++){const me=Y[ye];if(isBytesLike$1(me)){assert$3(In(this,vu),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let be=getBytes$1(me);if(assertArgument$1(be.length<=BLOB_SIZE$1,"blob is too large",`blobs[${ye}]`,me),be.length!==BLOB_SIZE$1){const xe=new Uint8Array(BLOB_SIZE$1);xe.set(be),be=xe}const we=In(this,vu).blobToKzgCommitment(be),Ee=hexlify$1(In(this,vu).computeBlobKzgProof(be,we));ne.push({data:hexlify$1(be),commitment:hexlify$1(we),proof:Ee}),fe.push(getVersionedHash$1(1,we))}else{const be=hexlify$1(me.commitment);ne.push({data:hexlify$1(me.data),commitment:be,proof:hexlify$1(me.proof)}),fe.push(getVersionedHash$1(1,be))}}Yn(this,sf,ne),Yn(this,nf,fe)}get kzg(){return In(this,vu)}set kzg(Y){Yn(this,vu,Y)}get hash(){return this.signature==null?null:keccak256$1(_i(this,Yd,hg).call(this,!0,!1))}get unsignedHash(){return keccak256$1(this.unsignedSerialized)}get from(){return this.signature==null?null:recoverAddress$1(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:SigningKey$1.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return _i(this,Yd,hg).call(this,!0,!0)}get unsignedSerialized(){return _i(this,Yd,hg).call(this,!1,!1)}inferType(){const Y=this.inferTypes();return Y.indexOf(2)>=0?2:Y.pop()}inferTypes(){const Y=this.gasPrice!=null,ne=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,fe=this.accessList!=null,ye=In(this,vh)!=null||In(this,nf);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&assert$3(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),assert$3(!ne||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),assert$3(this.type!==0||!fe,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const me=[];return this.type!=null?me.push(this.type):ne?me.push(2):Y?(me.push(1),fe||me.push(0)):fe?(me.push(1),me.push(2)):(ye&&this.to||(me.push(0),me.push(1),me.push(2)),me.push(3)),me.sort(),me}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return hl.from(this)}toJSON(){const Y=ne=>ne==null?null:ne.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:Y(this.gasLimit),gasPrice:Y(this.gasPrice),maxPriorityFeePerGas:Y(this.maxPriorityFeePerGas),maxFeePerGas:Y(this.maxFeePerGas),value:Y(this.value),chainId:Y(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(Y){if(Y==null)return new hl;if(typeof Y=="string"){const fe=getBytes$1(Y);if(fe[0]>=127)return hl.from(_parseLegacy$1(fe));switch(fe[0]){case 1:return hl.from(_parseEip2930$1(fe));case 2:return hl.from(_parseEip1559$1(fe));case 3:return hl.from(_parseEip4844$1(fe))}assert$3(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const ne=new hl;return Y.type!=null&&(ne.type=Y.type),Y.to!=null&&(ne.to=Y.to),Y.nonce!=null&&(ne.nonce=Y.nonce),Y.gasLimit!=null&&(ne.gasLimit=Y.gasLimit),Y.gasPrice!=null&&(ne.gasPrice=Y.gasPrice),Y.maxPriorityFeePerGas!=null&&(ne.maxPriorityFeePerGas=Y.maxPriorityFeePerGas),Y.maxFeePerGas!=null&&(ne.maxFeePerGas=Y.maxFeePerGas),Y.maxFeePerBlobGas!=null&&(ne.maxFeePerBlobGas=Y.maxFeePerBlobGas),Y.data!=null&&(ne.data=Y.data),Y.value!=null&&(ne.value=Y.value),Y.chainId!=null&&(ne.chainId=Y.chainId),Y.signature!=null&&(ne.signature=Signature$1.from(Y.signature)),Y.accessList!=null&&(ne.accessList=Y.accessList),Y.blobVersionedHashes!=null&&(ne.blobVersionedHashes=Y.blobVersionedHashes),Y.kzg!=null&&(ne.kzg=Y.kzg),Y.blobs!=null&&(ne.blobs=Y.blobs),Y.hash!=null&&(assertArgument$1(ne.isSigned(),"unsigned transaction cannot define '.hash'","tx",Y),assertArgument$1(ne.hash===Y.hash,"hash mismatch","tx",Y)),Y.from!=null&&(assertArgument$1(ne.isSigned(),"unsigned transaction cannot define '.from'","tx",Y),assertArgument$1(ne.from.toLowerCase()===(Y.from||"").toLowerCase(),"from mismatch","tx",Y)),ne}},Ol=new WeakMap,Fd=new WeakMap,Wd=new WeakMap,jd=new WeakMap,Hd=new WeakMap,zd=new WeakMap,Vd=new WeakMap,Gd=new WeakMap,Zd=new WeakMap,Kd=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,vh=new WeakMap,nf=new WeakMap,vu=new WeakMap,sf=new WeakMap,Yd=new WeakSet,hg=function(Y,ne){assert$3(!Y||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const fe=Y?this.signature:null;switch(this.inferType()){case 0:return _serializeLegacy$1(this,fe);case 1:return _serializeEip2930$1(this,fe);case 2:return _serializeEip1559$1(this,fe);case 3:return _serializeEip4844$1(this,fe,ne?this.blobs:null)}assert$3(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})},hl);const padding$1=new Uint8Array(32);padding$1.fill(0);const BN__1$1=BigInt(-1),BN_0$c=BigInt(0),BN_1$4=BigInt(1),BN_MAX_UINT256$2=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight$1(se){const Y=getBytes$1(se),ne=Y.length%32;return ne?concat$1([Y,padding$1.slice(ne)]):hexlify$1(Y)}const hexTrue$1=toBeHex$1(BN_1$4,32),hexFalse$1=toBeHex$1(BN_0$c,32),domainFieldTypes$1={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames$1=["name","version","chainId","verifyingContract","salt"];function checkString$1(se){return function(Y){return assertArgument$1(typeof Y=="string",`invalid domain value for ${JSON.stringify(se)}`,`domain.${se}`,Y),Y}}const domainChecks$1={name:checkString$1("name"),version:checkString$1("version"),chainId:function(se){const Y=getBigInt$1(se,"domain.chainId");return assertArgument$1(Y>=0,"invalid chain ID","domain.chainId",se),Number.isSafeInteger(Y)?Number(Y):toQuantity$1(Y)},verifyingContract:function(se){try{return getAddress$1(se).toLowerCase()}catch{}assertArgument$1(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",se)},salt:function(se){const Y=getBytes$1(se,"domain.salt");return assertArgument$1(Y.length===32,'invalid domain value "salt"',"domain.salt",se),hexlify$1(Y)}};function getBaseEncoder$1(se){{const Y=se.match(/^(u?)int(\d+)$/);if(Y){const ne=Y[1]==="",fe=parseInt(Y[2]);assertArgument$1(fe%8===0&&fe!==0&&fe<=256&&Y[2]===String(fe),"invalid numeric width","type",se);const ye=mask$2(BN_MAX_UINT256$2,ne?fe-1:fe),me=ne?(ye+BN_1$4)*BN__1$1:BN_0$c;return function(be){const we=getBigInt$1(be,"value");return assertArgument$1(we>=me&&we<=ye,`value out-of-bounds for ${se}`,"value",we),toBeHex$1(ne?toTwos$1(we,256):we,32)}}}{const Y=se.match(/^bytes(\d+)$/);if(Y){const ne=parseInt(Y[1]);return assertArgument$1(ne!==0&&ne<=32&&Y[1]===String(ne),"invalid bytes width","type",se),function(fe){const ye=getBytes$1(fe);return assertArgument$1(ye.length===ne,`invalid length for ${se}`,"value",fe),hexPadRight$1(fe)}}}switch(se){case"address":return function(Y){return zeroPadValue$1(getAddress$1(Y),32)};case"bool":return function(Y){return Y?hexTrue$1:hexFalse$1};case"bytes":return function(Y){return keccak256$1(Y)};case"string":return function(Y){return id$1(Y)}}return null}function encodeType$1(se,Y){return`${se}(${Y.map(({name:ne,type:fe})=>fe+" "+ne).join(",")})`}function splitArray$1(se){const Y=se.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return Y?{base:Y[1],index:Y[2]+Y[4],array:{base:Y[1],prefix:Y[1]+Y[2],count:Y[5]?parseInt(Y[5]):-1}}:{base:se}}var Bp,wu,Xd,Sg,xw,vc;let TypedDataEncoder$1=(vc=class{constructor(Y){fi(this,Sg);li(this,"primaryType");fi(this,Bp);fi(this,wu);fi(this,Xd);Yn(this,wu,new Map),Yn(this,Xd,new Map);const ne=new Map,fe=new Map,ye=new Map,me={};Object.keys(Y).forEach(Ee=>{me[Ee]=Y[Ee].map(({name:xe,type:Se})=>{let{base:Ie,index:fr}=splitArray$1(Se);return Ie==="int"&&!Y.int&&(Ie="int256"),Ie==="uint"&&!Y.uint&&(Ie="uint256"),{name:xe,type:Ie+(fr||"")}}),ne.set(Ee,new Set),fe.set(Ee,[]),ye.set(Ee,new Set)}),Yn(this,Bp,JSON.stringify(me));for(const Ee in me){const xe=new Set;for(const Se of me[Ee]){assertArgument$1(!xe.has(Se.name),`duplicate variable name ${JSON.stringify(Se.name)} in ${JSON.stringify(Ee)}`,"types",Y),xe.add(Se.name);const Ie=splitArray$1(Se.type).base;assertArgument$1(Ie!==Ee,`circular type reference to ${JSON.stringify(Ie)}`,"types",Y),!getBaseEncoder$1(Ie)&&(assertArgument$1(fe.has(Ie),`unknown type ${JSON.stringify(Ie)}`,"types",Y),fe.get(Ie).push(Ee),ne.get(Ee).add(Ie))}}const be=Array.from(fe.keys()).filter(Ee=>fe.get(Ee).length===0);assertArgument$1(be.length!==0,"missing primary type","types",Y),assertArgument$1(be.length===1,`ambiguous primary types or unused types: ${be.map(Ee=>JSON.stringify(Ee)).join(", ")}`,"types",Y),defineProperties$1(this,{primaryType:be[0]});function we(Ee,xe){assertArgument$1(!xe.has(Ee),`circular type reference to ${JSON.stringify(Ee)}`,"types",Y),xe.add(Ee);for(const Se of ne.get(Ee))if(fe.has(Se)){we(Se,xe);for(const Ie of xe)ye.get(Ie).add(Se)}xe.delete(Ee)}we(this.primaryType,new Set);for(const[Ee,xe]of ye){const Se=Array.from(xe);Se.sort(),In(this,wu).set(Ee,encodeType$1(Ee,me[Ee])+Se.map(Ie=>encodeType$1(Ie,me[Ie])).join(""))}}get types(){return JSON.parse(In(this,Bp))}getEncoder(Y){let ne=In(this,Xd).get(Y);return ne||(ne=_i(this,Sg,xw).call(this,Y),In(this,Xd).set(Y,ne)),ne}encodeType(Y){const ne=In(this,wu).get(Y);return assertArgument$1(ne,`unknown type: ${JSON.stringify(Y)}`,"name",Y),ne}encodeData(Y,ne){return this.getEncoder(Y)(ne)}hashStruct(Y,ne){return keccak256$1(this.encodeData(Y,ne))}encode(Y){return this.encodeData(this.primaryType,Y)}hash(Y){return this.hashStruct(this.primaryType,Y)}_visit(Y,ne,fe){if(getBaseEncoder$1(Y))return fe(Y,ne);const ye=splitArray$1(Y).array;if(ye)return assertArgument$1(ye.count===-1||ye.count===ne.length,`array length mismatch; expected length ${ye.count}`,"value",ne),ne.map(be=>this._visit(ye.prefix,be,fe));const me=this.types[Y];if(me)return me.reduce((be,{name:we,type:Ee})=>(be[we]=this._visit(Ee,ne[we],fe),be),{});assertArgument$1(!1,`unknown type: ${Y}`,"type",Y)}visit(Y,ne){return this._visit(this.primaryType,Y,ne)}static from(Y){return new vc(Y)}static getPrimaryType(Y){return vc.from(Y).primaryType}static hashStruct(Y,ne,fe){return vc.from(ne).hashStruct(Y,fe)}static hashDomain(Y){const ne=[];for(const fe in Y){if(Y[fe]==null)continue;const ye=domainFieldTypes$1[fe];assertArgument$1(ye,`invalid typed-data domain key: ${JSON.stringify(fe)}`,"domain",Y),ne.push({name:fe,type:ye})}return ne.sort((fe,ye)=>domainFieldNames$1.indexOf(fe.name)-domainFieldNames$1.indexOf(ye.name)),vc.hashStruct("EIP712Domain",{EIP712Domain:ne},Y)}static encode(Y,ne,fe){return concat$1(["0x1901",vc.hashDomain(Y),vc.from(ne).hash(fe)])}static hash(Y,ne,fe){return keccak256$1(vc.encode(Y,ne,fe))}static async resolveNames(Y,ne,fe,ye){Y=Object.assign({},Y);for(const we in Y)Y[we]==null&&delete Y[we];const me={};Y.verifyingContract&&!isHexString$1(Y.verifyingContract,20)&&(me[Y.verifyingContract]="0x");const be=vc.from(ne);be.visit(fe,(we,Ee)=>(we==="address"&&!isHexString$1(Ee,20)&&(me[Ee]="0x"),Ee));for(const we in me)me[we]=await ye(we);return Y.verifyingContract&&me[Y.verifyingContract]&&(Y.verifyingContract=me[Y.verifyingContract]),fe=be.visit(fe,(we,Ee)=>we==="address"&&me[Ee]?me[Ee]:Ee),{domain:Y,value:fe}}static getPayload(Y,ne,fe){vc.hashDomain(Y);const ye={},me=[];domainFieldNames$1.forEach(Ee=>{const xe=Y[Ee];xe!=null&&(ye[Ee]=domainChecks$1[Ee](xe),me.push({name:Ee,type:domainFieldTypes$1[Ee]}))});const be=vc.from(ne);ne=be.types;const we=Object.assign({},ne);return assertArgument$1(we.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",ne),we.EIP712Domain=me,be.encode(fe),{types:we,domain:ye,primaryType:be.primaryType,message:be.visit(fe,(Ee,xe)=>{if(Ee.match(/^bytes(\d*)/))return hexlify$1(getBytes$1(xe));if(Ee.match(/^u?int/))return getBigInt$1(xe).toString();switch(Ee){case"address":return xe.toLowerCase();case"bool":return!!xe;case"string":return assertArgument$1(typeof xe=="string","invalid string","value",xe),xe}assertArgument$1(!1,"unsupported type","type",Ee)})}}},Bp=new WeakMap,wu=new WeakMap,Xd=new WeakMap,Sg=new WeakSet,xw=function(Y){{const ye=getBaseEncoder$1(Y);if(ye)return ye}const ne=splitArray$1(Y).array;if(ne){const ye=ne.prefix,me=this.getEncoder(ye);return be=>{assertArgument$1(ne.count===-1||ne.count===be.length,`array length mismatch; expected length ${ne.count}`,"value",be);let we=be.map(me);return In(this,wu).has(ye)&&(we=we.map(keccak256$1)),keccak256$1(concat$1(we))}}const fe=this.types[Y];if(fe){const ye=id$1(In(this,wu).get(Y));return me=>{const be=fe.map(({name:we,type:Ee})=>{const xe=this.getEncoder(Ee)(me[we]);return In(this,wu).has(Ee)?keccak256$1(xe):xe});return be.unshift(ye),concat$1(be)}}assertArgument$1(!1,`unknown type: ${Y}`,"type",Y)},vc);function setify$1(se){const Y=new Set;return se.forEach(ne=>Y.add(ne)),Object.freeze(Y)}const _kwVisibDeploy$1="external public payable override",KwVisibDeploy$1=setify$1(_kwVisibDeploy$1.split(" ")),_kwVisib$1="constant external internal payable private public pure view override",KwVisib$1=setify$1(_kwVisib$1.split(" ")),_kwTypes$1="constructor error event fallback function receive struct",KwTypes$1=setify$1(_kwTypes$1.split(" ")),_kwModifiers$1="calldata memory storage payable indexed",KwModifiers$1=setify$1(_kwModifiers$1.split(" ")),_kwOther$1="tuple returns",_keywords$1=[_kwTypes$1,_kwModifiers$1,_kwOther$1,_kwVisib$1].join(" "),Keywords$1=setify$1(_keywords$1.split(" ")),SimpleTokens$1={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},regexWhitespacePrefix$1=new RegExp("^(\\s*)"),regexNumberPrefix$1=new RegExp("^([0-9]+)"),regexIdPrefix$1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),regexId$1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),regexType$1=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Xo,$l,Dp,gy,Yh;let TokenString$1=(Yh=class{constructor(Y){fi(this,Dp);fi(this,Xo);fi(this,$l);Yn(this,Xo,0),Yn(this,$l,Y.slice())}get offset(){return In(this,Xo)}get length(){return In(this,$l).length-In(this,Xo)}clone(){return new Yh(In(this,$l))}reset(){Yn(this,Xo,0)}popKeyword(Y){const ne=this.peek();if(ne.type!=="KEYWORD"||!Y.has(ne.text))throw new Error(`expected keyword ${ne.text}`);return this.pop().text}popType(Y){if(this.peek().type!==Y){const ne=this.peek();throw new Error(`expected ${Y}; got ${ne.type} ${JSON.stringify(ne.text)}`)}return this.pop().text}popParen(){const Y=this.peek();if(Y.type!=="OPEN_PAREN")throw new Error("bad start");const ne=_i(this,Dp,gy).call(this,In(this,Xo)+1,Y.match+1);return Yn(this,Xo,Y.match+1),ne}popParams(){const Y=this.peek();if(Y.type!=="OPEN_PAREN")throw new Error("bad start");const ne=[];for(;In(this,Xo)<Y.match-1;){const fe=this.peek().linkNext;ne.push(_i(this,Dp,gy).call(this,In(this,Xo)+1,fe)),Yn(this,Xo,fe)}return Yn(this,Xo,Y.match+1),ne}peek(){if(In(this,Xo)>=In(this,$l).length)throw new Error("out-of-bounds");return In(this,$l)[In(this,Xo)]}peekKeyword(Y){const ne=this.peekType("KEYWORD");return ne!=null&&Y.has(ne)?ne:null}peekType(Y){if(this.length===0)return null;const ne=this.peek();return ne.type===Y?ne.text:null}pop(){const Y=this.peek();return fu(this,Xo)._++,Y}toString(){const Y=[];for(let ne=In(this,Xo);ne<In(this,$l).length;ne++){const fe=In(this,$l)[ne];Y.push(`${fe.type}:${fe.text}`)}return`<TokenString ${Y.join(" ")}>`}},Xo=new WeakMap,$l=new WeakMap,Dp=new WeakSet,gy=function(Y=0,ne=0){return new Yh(In(this,$l).slice(Y,ne).map(fe=>Object.freeze(Object.assign({},fe,{match:fe.match-Y,linkBack:fe.linkBack-Y,linkNext:fe.linkNext-Y}))))},Yh);function lex$1(se){const Y=[],ne=be=>{const we=me<se.length?JSON.stringify(se[me]):"$EOI";throw new Error(`invalid token ${we} at ${me}: ${be}`)};let fe=[],ye=[],me=0;for(;me<se.length;){let be=se.substring(me),we=be.match(regexWhitespacePrefix$1);we&&(me+=we[1].length,be=se.substring(me));const Ee={depth:fe.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:me,value:-1};Y.push(Ee);let xe=SimpleTokens$1[be[0]]||"";if(xe){if(Ee.type=xe,Ee.text=be[0],me++,xe==="OPEN_PAREN")fe.push(Y.length-1),ye.push(Y.length-1);else if(xe=="CLOSE_PAREN")fe.length===0&&ne("no matching open bracket"),Ee.match=fe.pop(),Y[Ee.match].match=Y.length-1,Ee.depth--,Ee.linkBack=ye.pop(),Y[Ee.linkBack].linkNext=Y.length-1;else if(xe==="COMMA")Ee.linkBack=ye.pop(),Y[Ee.linkBack].linkNext=Y.length-1,ye.push(Y.length-1);else if(xe==="OPEN_BRACKET")Ee.type="BRACKET";else if(xe==="CLOSE_BRACKET"){let Se=Y.pop().text;if(Y.length>0&&Y[Y.length-1].type==="NUMBER"){const Ie=Y.pop().text;Se=Ie+Se,Y[Y.length-1].value=getNumber$1(Ie)}if(Y.length===0||Y[Y.length-1].type!=="BRACKET")throw new Error("missing opening bracket");Y[Y.length-1].text+=Se}continue}if(we=be.match(regexIdPrefix$1),we){if(Ee.text=we[1],me+=Ee.text.length,Keywords$1.has(Ee.text)){Ee.type="KEYWORD";continue}if(Ee.text.match(regexType$1)){Ee.type="TYPE";continue}Ee.type="ID";continue}if(we=be.match(regexNumberPrefix$1),we){Ee.text=we[1],Ee.type="NUMBER",me+=Ee.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(be[0])} at position ${me}`)}return new TokenString$1(Y.map(be=>Object.freeze(be)))}function allowSingle$1(se,Y){let ne=[];for(const fe in Y.keys())se.has(fe)&&ne.push(fe);if(ne.length>1)throw new Error(`conflicting types: ${ne.join(", ")}`)}function consumeName$1(se,Y){if(Y.peekKeyword(KwTypes$1)){const ne=Y.pop().text;if(ne!==se)throw new Error(`expected ${se}, got ${ne}`)}return Y.popType("ID")}function consumeKeywords$1(se,Y){const ne=new Set;for(;;){const fe=se.peekType("KEYWORD");if(fe==null||Y&&!Y.has(fe))break;if(se.pop(),ne.has(fe))throw new Error(`duplicate keywords: ${JSON.stringify(fe)}`);ne.add(fe)}return Object.freeze(ne)}function consumeMutability$1(se){let Y=consumeKeywords$1(se,KwVisib$1);return allowSingle$1(Y,setify$1("constant payable nonpayable".split(" "))),allowSingle$1(Y,setify$1("pure view payable nonpayable".split(" "))),Y.has("view")?"view":Y.has("pure")?"pure":Y.has("payable")?"payable":Y.has("nonpayable")?"nonpayable":Y.has("constant")?"view":"nonpayable"}function consumeParams$1(se,Y){return se.popParams().map(ne=>ParamType$1.from(ne,Y))}function consumeGas$1(se){if(se.peekType("AT")){if(se.pop(),se.peekType("NUMBER"))return getBigInt$1(se.pop().text);throw new Error("invalid gas")}return null}function consumeEoi$1(se){if(se.length)throw new Error(`unexpected tokens at offset ${se.offset}: ${se.toString()}`)}const regexArrayType$1=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType$1(se){const Y=se.match(regexType$1);if(assertArgument$1(Y,"invalid type","type",se),se==="uint")return"uint256";if(se==="int")return"int256";if(Y[2]){const ne=parseInt(Y[2]);assertArgument$1(ne!==0&&ne<=32,"invalid bytes length","type",se)}else if(Y[3]){const ne=parseInt(Y[3]);assertArgument$1(ne!==0&&ne<=256&&ne%8===0,"invalid numeric width","type",se)}return se}const _guard$3={},internal$3=Symbol.for("_ethers_internal"),ParamTypeInternal$1="_ParamTypeInternal",ErrorFragmentInternal$1="_ErrorInternal",EventFragmentInternal$1="_EventInternal",ConstructorFragmentInternal$1="_ConstructorInternal",FallbackFragmentInternal$1="_FallbackInternal",FunctionFragmentInternal$1="_FunctionInternal",StructFragmentInternal$1="_StructInternal";var e0,dg,wc;let ParamType$1=(wc=class{constructor(Y,ne,fe,ye,me,be,we,Ee){fi(this,e0);li(this,"name");li(this,"type");li(this,"baseType");li(this,"indexed");li(this,"components");li(this,"arrayLength");li(this,"arrayChildren");if(assertPrivate$1(Y,_guard$3,"ParamType"),Object.defineProperty(this,internal$3,{value:ParamTypeInternal$1}),be&&(be=Object.freeze(be.slice())),ye==="array"){if(we==null||Ee==null)throw new Error("")}else if(we!=null||Ee!=null)throw new Error("");if(ye==="tuple"){if(be==null)throw new Error("")}else if(be!=null)throw new Error("");defineProperties$1(this,{name:ne,type:fe,baseType:ye,indexed:me,components:be,arrayLength:we,arrayChildren:Ee})}format(Y){if(Y==null&&(Y="sighash"),Y==="json"){const fe=this.name||"";if(this.isArray()){const me=JSON.parse(this.arrayChildren.format("json"));return me.name=fe,me.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(me)}const ye={type:this.baseType==="tuple"?"tuple":this.type,name:fe};return typeof this.indexed=="boolean"&&(ye.indexed=this.indexed),this.isTuple()&&(ye.components=this.components.map(me=>JSON.parse(me.format(Y)))),JSON.stringify(ye)}let ne="";return this.isArray()?(ne+=this.arrayChildren.format(Y),ne+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?ne+="("+this.components.map(fe=>fe.format(Y)).join(Y==="full"?", ":",")+")":ne+=this.type,Y!=="sighash"&&(this.indexed===!0&&(ne+=" indexed"),Y==="full"&&this.name&&(ne+=" "+this.name)),ne}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(Y,ne){if(this.isArray()){if(!Array.isArray(Y))throw new Error("invalid array value");if(this.arrayLength!==-1&&Y.length!==this.arrayLength)throw new Error("array is wrong length");const fe=this;return Y.map(ye=>fe.arrayChildren.walk(ye,ne))}if(this.isTuple()){if(!Array.isArray(Y))throw new Error("invalid tuple value");if(Y.length!==this.components.length)throw new Error("array is wrong length");const fe=this;return Y.map((ye,me)=>fe.components[me].walk(ye,ne))}return ne(this.type,Y)}async walkAsync(Y,ne){const fe=[],ye=[Y];return _i(this,e0,dg).call(this,fe,Y,ne,me=>{ye[0]=me}),fe.length&&await Promise.all(fe),ye[0]}static from(Y,ne){if(wc.isParamType(Y))return Y;if(typeof Y=="string")try{return wc.from(lex$1(Y),ne)}catch{assertArgument$1(!1,"invalid param type","obj",Y)}else if(Y instanceof TokenString$1){let we="",Ee="",xe=null;consumeKeywords$1(Y,setify$1(["tuple"])).has("tuple")||Y.peekType("OPEN_PAREN")?(Ee="tuple",xe=Y.popParams().map(Wr=>wc.from(Wr)),we=`tuple(${xe.map(Wr=>Wr.format()).join(",")})`):(we=verifyBasicType$1(Y.popType("TYPE")),Ee=we);let Se=null,Ie=null;for(;Y.length&&Y.peekType("BRACKET");){const Wr=Y.pop();Se=new wc(_guard$3,"",we,Ee,null,xe,Ie,Se),Ie=Wr.value,we+=Wr.text,Ee="array",xe=null}let fr=null;if(consumeKeywords$1(Y,KwModifiers$1).has("indexed")){if(!ne)throw new Error("");fr=!0}const kr=Y.peekType("ID")?Y.pop().text:"";if(Y.length)throw new Error("leftover tokens");return new wc(_guard$3,kr,we,Ee,fr,xe,Ie,Se)}const fe=Y.name;assertArgument$1(!fe||typeof fe=="string"&&fe.match(regexId$1),"invalid name","obj.name",fe);let ye=Y.indexed;ye!=null&&(assertArgument$1(ne,"parameter cannot be indexed","obj.indexed",Y.indexed),ye=!!ye);let me=Y.type,be=me.match(regexArrayType$1);if(be){const we=parseInt(be[2]||"-1"),Ee=wc.from({type:be[1],components:Y.components});return new wc(_guard$3,fe||"",me,"array",ye,null,we,Ee)}if(me==="tuple"||me.startsWith("tuple(")||me.startsWith("(")){const we=Y.components!=null?Y.components.map(xe=>wc.from(xe)):null;return new wc(_guard$3,fe||"",me,"tuple",ye,we,null,null)}return me=verifyBasicType$1(Y.type),new wc(_guard$3,fe||"",me,me,ye,null,null,null)}static isParamType(Y){return Y&&Y[internal$3]===ParamTypeInternal$1}},e0=new WeakSet,dg=function(Y,ne,fe,ye){if(this.isArray()){if(!Array.isArray(ne))throw new Error("invalid array value");if(this.arrayLength!==-1&&ne.length!==this.arrayLength)throw new Error("array is wrong length");const be=this.arrayChildren,we=ne.slice();we.forEach((Ee,xe)=>{var Se;_i(Se=be,e0,dg).call(Se,Y,Ee,fe,Ie=>{we[xe]=Ie})}),ye(we);return}if(this.isTuple()){const be=this.components;let we;if(Array.isArray(ne))we=ne.slice();else{if(ne==null||typeof ne!="object")throw new Error("invalid tuple value");we=be.map(Ee=>{if(!Ee.name)throw new Error("cannot use object value with unnamed components");if(!(Ee.name in ne))throw new Error(`missing value for component ${Ee.name}`);return ne[Ee.name]})}if(we.length!==this.components.length)throw new Error("array is wrong length");we.forEach((Ee,xe)=>{var Se;_i(Se=be[xe],e0,dg).call(Se,Y,Ee,fe,Ie=>{we[xe]=Ie})}),ye(we);return}const me=fe(this.type,ne);me.then?Y.push(async function(){ye(await me)}()):ye(me)},wc),Fragment$1=class my{constructor(Y,ne,fe){li(this,"type");li(this,"inputs");assertPrivate$1(Y,_guard$3,"Fragment"),fe=Object.freeze(fe.slice()),defineProperties$1(this,{type:ne,inputs:fe})}static from(Y){if(typeof Y=="string"){try{my.from(JSON.parse(Y))}catch{}return my.from(lex$1(Y))}if(Y instanceof TokenString$1)switch(Y.peekKeyword(KwTypes$1)){case"constructor":return ConstructorFragment$1.from(Y);case"error":return ErrorFragment$1.from(Y);case"event":return EventFragment$1.from(Y);case"fallback":case"receive":return FallbackFragment$1.from(Y);case"function":return FunctionFragment$1.from(Y);case"struct":return StructFragment$1.from(Y)}else if(typeof Y=="object"){switch(Y.type){case"constructor":return ConstructorFragment$1.from(Y);case"error":return ErrorFragment$1.from(Y);case"event":return EventFragment$1.from(Y);case"fallback":case"receive":return FallbackFragment$1.from(Y);case"function":return FunctionFragment$1.from(Y);case"struct":return StructFragment$1.from(Y)}assert$3(!1,`unsupported type: ${Y.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}assertArgument$1(!1,"unsupported frgament object","obj",Y)}static isConstructor(Y){return ConstructorFragment$1.isFragment(Y)}static isError(Y){return ErrorFragment$1.isFragment(Y)}static isEvent(Y){return EventFragment$1.isFragment(Y)}static isFunction(Y){return FunctionFragment$1.isFragment(Y)}static isStruct(Y){return StructFragment$1.isFragment(Y)}},NamedFragment$1=class extends Fragment$1{constructor(ne,fe,ye,me){super(ne,fe,me);li(this,"name");assertArgument$1(typeof ye=="string"&&ye.match(regexId$1),"invalid identifier","name",ye),me=Object.freeze(me.slice()),defineProperties$1(this,{name:ye})}};function joinParams$1(se,Y){return"("+Y.map(ne=>ne.format(se)).join(se==="full"?", ":",")+")"}let ErrorFragment$1=class Cp extends NamedFragment$1{constructor(Y,ne,fe){super(Y,"error",ne,fe),Object.defineProperty(this,internal$3,{value:ErrorFragmentInternal$1})}get selector(){return id$1(this.format("sighash")).substring(0,10)}format(Y){if(Y==null&&(Y="sighash"),Y==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(fe=>JSON.parse(fe.format(Y)))});const ne=[];return Y!=="sighash"&&ne.push("error"),ne.push(this.name+joinParams$1(Y,this.inputs)),ne.join(" ")}static from(Y){if(Cp.isFragment(Y))return Y;if(typeof Y=="string")return Cp.from(lex$1(Y));if(Y instanceof TokenString$1){const ne=consumeName$1("error",Y),fe=consumeParams$1(Y);return consumeEoi$1(Y),new Cp(_guard$3,ne,fe)}return new Cp(_guard$3,Y.name,Y.inputs?Y.inputs.map(ParamType$1.from):[])}static isFragment(Y){return Y&&Y[internal$3]===ErrorFragmentInternal$1}},EventFragment$1=class wd extends NamedFragment$1{constructor(ne,fe,ye,me){super(ne,"event",fe,ye);li(this,"anonymous");Object.defineProperty(this,internal$3,{value:EventFragmentInternal$1}),defineProperties$1(this,{anonymous:me})}get topicHash(){return id$1(this.format("sighash"))}format(ne){if(ne==null&&(ne="sighash"),ne==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(ye=>JSON.parse(ye.format(ne)))});const fe=[];return ne!=="sighash"&&fe.push("event"),fe.push(this.name+joinParams$1(ne,this.inputs)),ne!=="sighash"&&this.anonymous&&fe.push("anonymous"),fe.join(" ")}static getTopicHash(ne,fe){return fe=(fe||[]).map(me=>ParamType$1.from(me)),new wd(_guard$3,ne,fe,!1).topicHash}static from(ne){if(wd.isFragment(ne))return ne;if(typeof ne=="string")try{return wd.from(lex$1(ne))}catch{assertArgument$1(!1,"invalid event fragment","obj",ne)}else if(ne instanceof TokenString$1){const fe=consumeName$1("event",ne),ye=consumeParams$1(ne,!0),me=!!consumeKeywords$1(ne,setify$1(["anonymous"])).has("anonymous");return consumeEoi$1(ne),new wd(_guard$3,fe,ye,me)}return new wd(_guard$3,ne.name,ne.inputs?ne.inputs.map(fe=>ParamType$1.from(fe,!0)):[],!!ne.anonymous)}static isFragment(ne){return ne&&ne[internal$3]===EventFragmentInternal$1}},ConstructorFragment$1=class Sp extends Fragment$1{constructor(ne,fe,ye,me,be){super(ne,fe,ye);li(this,"payable");li(this,"gas");Object.defineProperty(this,internal$3,{value:ConstructorFragmentInternal$1}),defineProperties$1(this,{payable:me,gas:be})}format(ne){if(assert$3(ne!=null&&ne!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),ne==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(ye=>JSON.parse(ye.format(ne)))});const fe=[`constructor${joinParams$1(ne,this.inputs)}`];return this.payable&&fe.push("payable"),this.gas!=null&&fe.push(`@${this.gas.toString()}`),fe.join(" ")}static from(ne){if(Sp.isFragment(ne))return ne;if(typeof ne=="string")try{return Sp.from(lex$1(ne))}catch{assertArgument$1(!1,"invalid constuctor fragment","obj",ne)}else if(ne instanceof TokenString$1){consumeKeywords$1(ne,setify$1(["constructor"]));const fe=consumeParams$1(ne),ye=!!consumeKeywords$1(ne,KwVisibDeploy$1).has("payable"),me=consumeGas$1(ne);return consumeEoi$1(ne),new Sp(_guard$3,"constructor",fe,ye,me)}return new Sp(_guard$3,"constructor",ne.inputs?ne.inputs.map(ParamType$1.from):[],!!ne.payable,ne.gas!=null?ne.gas:null)}static isFragment(ne){return ne&&ne[internal$3]===ConstructorFragmentInternal$1}},FallbackFragment$1=class rh extends Fragment$1{constructor(ne,fe,ye){super(ne,"fallback",fe);li(this,"payable");Object.defineProperty(this,internal$3,{value:FallbackFragmentInternal$1}),defineProperties$1(this,{payable:ye})}format(ne){const fe=this.inputs.length===0?"receive":"fallback";if(ne==="json"){const ye=this.payable?"payable":"nonpayable";return JSON.stringify({type:fe,stateMutability:ye})}return`${fe}()${this.payable?" payable":""}`}static from(ne){if(rh.isFragment(ne))return ne;if(typeof ne=="string")try{return rh.from(lex$1(ne))}catch{assertArgument$1(!1,"invalid fallback fragment","obj",ne)}else if(ne instanceof TokenString$1){const fe=ne.toString(),ye=ne.peekKeyword(setify$1(["fallback","receive"]));if(assertArgument$1(ye,"type must be fallback or receive","obj",fe),ne.popKeyword(setify$1(["fallback","receive"]))==="receive"){const Ee=consumeParams$1(ne);return assertArgument$1(Ee.length===0,"receive cannot have arguments","obj.inputs",Ee),consumeKeywords$1(ne,setify$1(["payable"])),consumeEoi$1(ne),new rh(_guard$3,[],!0)}let be=consumeParams$1(ne);be.length?assertArgument$1(be.length===1&&be[0].type==="bytes","invalid fallback inputs","obj.inputs",be.map(Ee=>Ee.format("minimal")).join(", ")):be=[ParamType$1.from("bytes")];const we=consumeMutability$1(ne);if(assertArgument$1(we==="nonpayable"||we==="payable","fallback cannot be constants","obj.stateMutability",we),consumeKeywords$1(ne,setify$1(["returns"])).has("returns")){const Ee=consumeParams$1(ne);assertArgument$1(Ee.length===1&&Ee[0].type==="bytes","invalid fallback outputs","obj.outputs",Ee.map(xe=>xe.format("minimal")).join(", "))}return consumeEoi$1(ne),new rh(_guard$3,be,we==="payable")}if(ne.type==="receive")return new rh(_guard$3,[],!0);if(ne.type==="fallback"){const fe=[ParamType$1.from("bytes")],ye=ne.stateMutability==="payable";return new rh(_guard$3,fe,ye)}assertArgument$1(!1,"invalid fallback description","obj",ne)}static isFragment(ne){return ne&&ne[internal$3]===FallbackFragmentInternal$1}},FunctionFragment$1=class _d extends NamedFragment$1{constructor(ne,fe,ye,me,be,we){super(ne,"function",fe,me);li(this,"constant");li(this,"outputs");li(this,"stateMutability");li(this,"payable");li(this,"gas");Object.defineProperty(this,internal$3,{value:FunctionFragmentInternal$1}),be=Object.freeze(be.slice()),defineProperties$1(this,{constant:ye==="view"||ye==="pure",gas:we,outputs:be,payable:ye==="payable",stateMutability:ye})}get selector(){return id$1(this.format("sighash")).substring(0,10)}format(ne){if(ne==null&&(ne="sighash"),ne==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(ye=>JSON.parse(ye.format(ne))),outputs:this.outputs.map(ye=>JSON.parse(ye.format(ne)))});const fe=[];return ne!=="sighash"&&fe.push("function"),fe.push(this.name+joinParams$1(ne,this.inputs)),ne!=="sighash"&&(this.stateMutability!=="nonpayable"&&fe.push(this.stateMutability),this.outputs&&this.outputs.length&&(fe.push("returns"),fe.push(joinParams$1(ne,this.outputs))),this.gas!=null&&fe.push(`@${this.gas.toString()}`)),fe.join(" ")}static getSelector(ne,fe){return fe=(fe||[]).map(me=>ParamType$1.from(me)),new _d(_guard$3,ne,"view",fe,[],null).selector}static from(ne){if(_d.isFragment(ne))return ne;if(typeof ne=="string")try{return _d.from(lex$1(ne))}catch{assertArgument$1(!1,"invalid function fragment","obj",ne)}else if(ne instanceof TokenString$1){const ye=consumeName$1("function",ne),me=consumeParams$1(ne),be=consumeMutability$1(ne);let we=[];consumeKeywords$1(ne,setify$1(["returns"])).has("returns")&&(we=consumeParams$1(ne));const Ee=consumeGas$1(ne);return consumeEoi$1(ne),new _d(_guard$3,ye,be,me,we,Ee)}let fe=ne.stateMutability;return fe==null&&(fe="payable",typeof ne.constant=="boolean"?(fe="view",ne.constant||(fe="payable",typeof ne.payable=="boolean"&&!ne.payable&&(fe="nonpayable"))):typeof ne.payable=="boolean"&&!ne.payable&&(fe="nonpayable")),new _d(_guard$3,ne.name,fe,ne.inputs?ne.inputs.map(ParamType$1.from):[],ne.outputs?ne.outputs.map(ParamType$1.from):[],ne.gas!=null?ne.gas:null)}static isFragment(ne){return ne&&ne[internal$3]===FunctionFragmentInternal$1}},StructFragment$1=class pg extends NamedFragment$1{constructor(Y,ne,fe){super(Y,"struct",ne,fe),Object.defineProperty(this,internal$3,{value:StructFragmentInternal$1})}format(){throw new Error("@TODO")}static from(Y){if(typeof Y=="string")try{return pg.from(lex$1(Y))}catch{assertArgument$1(!1,"invalid struct fragment","obj",Y)}else if(Y instanceof TokenString$1){const ne=consumeName$1("struct",Y),fe=consumeParams$1(Y);return consumeEoi$1(Y),new pg(_guard$3,ne,fe)}return new pg(_guard$3,Y.name,Y.inputs?Y.inputs.map(ParamType$1.from):[])}static isFragment(Y){return Y&&Y[internal$3]===StructFragmentInternal$1}};const PanicReasons$3=new Map;PanicReasons$3.set(0,"GENERIC_PANIC");PanicReasons$3.set(1,"ASSERT_FALSE");PanicReasons$3.set(17,"OVERFLOW");PanicReasons$3.set(18,"DIVIDE_BY_ZERO");PanicReasons$3.set(33,"ENUM_RANGE_ERROR");PanicReasons$3.set(34,"BAD_STORAGE_DATA");PanicReasons$3.set(49,"STACK_UNDERFLOW");PanicReasons$3.set(50,"ARRAY_RANGE_ERROR");PanicReasons$3.set(65,"OUT_OF_MEMORY");PanicReasons$3.set(81,"UNINITIALIZED_FUNCTION_CALL");const paramTypeBytes$1=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber$1=new RegExp(/^(u?int)([0-9]*)$/);let defaultCoder$1=null,defaultMaxInflation$1=1024;function getBuiltinCallException$1(se,Y,ne,fe){let ye="missing revert data",me=null;const be=null;let we=null;if(ne){ye="execution reverted";const xe=getBytes$1(ne);if(ne=hexlify$1(ne),xe.length===0)ye+=" (no data present; likely require(false) occurred",me="require(false)";else if(xe.length%32!==4)ye+=" (could not decode reason; invalid data length)";else if(hexlify$1(xe.slice(0,4))==="0x08c379a0")try{me=fe.decode(["string"],xe.slice(4))[0],we={signature:"Error(string)",name:"Error",args:[me]},ye+=`: ${JSON.stringify(me)}`}catch{ye+=" (could not decode reason; invalid string data)"}else if(hexlify$1(xe.slice(0,4))==="0x4e487b71")try{const Se=Number(fe.decode(["uint256"],xe.slice(4))[0]);we={signature:"Panic(uint256)",name:"Panic",args:[Se]},me=`Panic due to ${PanicReasons$3.get(Se)||"UNKNOWN"}(${Se})`,ye+=`: ${me}`}catch{ye+=" (could not decode panic code)"}else ye+=" (unknown custom error)"}const Ee={to:Y.to?getAddress$1(Y.to):null,data:Y.data||"0x"};return Y.from&&(Ee.from=getAddress$1(Y.from)),makeError$1(ye,"CALL_EXCEPTION",{action:se,data:ne,reason:me,transaction:Ee,invocation:be,revert:we})}var af,$d,Xh;let AbiCoder$1=(Xh=class{constructor(){fi(this,af)}getDefaultValue(Y){const ne=Y.map(ye=>_i(this,af,$d).call(this,ParamType$1.from(ye)));return new TupleCoder$1(ne,"_").defaultValue()}encode(Y,ne){assertArgumentCount$1(ne.length,Y.length,"types/values length mismatch");const fe=Y.map(be=>_i(this,af,$d).call(this,ParamType$1.from(be))),ye=new TupleCoder$1(fe,"_"),me=new Writer$1;return ye.encode(me,ne),me.data}decode(Y,ne,fe){const ye=Y.map(be=>_i(this,af,$d).call(this,ParamType$1.from(be)));return new TupleCoder$1(ye,"_").decode(new Reader$1(ne,fe,defaultMaxInflation$1))}static _setDefaultMaxInflation(Y){assertArgument$1(typeof Y=="number"&&Number.isInteger(Y),"invalid defaultMaxInflation factor","value",Y),defaultMaxInflation$1=Y}static defaultAbiCoder(){return defaultCoder$1==null&&(defaultCoder$1=new Xh),defaultCoder$1}static getBuiltinCallException(Y,ne,fe){return getBuiltinCallException$1(Y,ne,fe,Xh.defaultAbiCoder())}},af=new WeakSet,$d=function(Y){if(Y.isArray())return new ArrayCoder$1(_i(this,af,$d).call(this,Y.arrayChildren),Y.arrayLength,Y.name);if(Y.isTuple())return new TupleCoder$1(Y.components.map(fe=>_i(this,af,$d).call(this,fe)),Y.name);switch(Y.baseType){case"address":return new AddressCoder$1(Y.name);case"bool":return new BooleanCoder$1(Y.name);case"string":return new StringCoder$1(Y.name);case"bytes":return new BytesCoder$1(Y.name);case"":return new NullCoder$1(Y.name)}let ne=Y.type.match(paramTypeNumber$1);if(ne){let fe=parseInt(ne[2]||"256");return assertArgument$1(fe!==0&&fe<=256&&fe%8===0,"invalid "+ne[1]+" bit length","param",Y),new NumberCoder$1(fe/8,ne[1]==="int",Y.name)}if(ne=Y.type.match(paramTypeBytes$1),ne){let fe=parseInt(ne[1]);return assertArgument$1(fe!==0&&fe<=32,"invalid bytes length","param",Y),new FixedBytesCoder$1(fe,Y.name)}assertArgument$1(!1,"invalid type","type",Y.type)},Xh),LogDescription$1=class{constructor(Y,ne,fe){li(this,"fragment");li(this,"name");li(this,"signature");li(this,"topic");li(this,"args");const ye=Y.name,me=Y.format();defineProperties$1(this,{fragment:Y,name:ye,signature:me,topic:ne,args:fe})}},TransactionDescription$1=class{constructor(Y,ne,fe,ye){li(this,"fragment");li(this,"name");li(this,"args");li(this,"signature");li(this,"selector");li(this,"value");const me=Y.name,be=Y.format();defineProperties$1(this,{fragment:Y,name:me,args:fe,signature:be,selector:ne,value:ye})}},ErrorDescription$1=class{constructor(Y,ne,fe){li(this,"fragment");li(this,"name");li(this,"args");li(this,"signature");li(this,"selector");const ye=Y.name,me=Y.format();defineProperties$1(this,{fragment:Y,name:ye,args:fe,signature:me,selector:ne})}},Indexed$1=class{constructor(Y){li(this,"hash");li(this,"_isIndexed");defineProperties$1(this,{hash:Y,_isIndexed:!0})}static isIndexed(Y){return!!(Y&&Y._isIndexed)}};const PanicReasons$2={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},BuiltinErrors$1={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:se=>`reverted with reason string ${JSON.stringify(se)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:se=>{let Y="unknown panic code";return se>=0&&se<=255&&PanicReasons$2[se.toString()]&&(Y=PanicReasons$2[se.toString()]),`reverted with panic code 0x${se.toString(16)} (${Y})`}}};var Bl,Dl,Ll,sc,Xl,gg,mg,Yl;let Interface$1=(Yl=class{constructor(Y){fi(this,Xl);li(this,"fragments");li(this,"deploy");li(this,"fallback");li(this,"receive");fi(this,Bl);fi(this,Dl);fi(this,Ll);fi(this,sc);let ne=[];typeof Y=="string"?ne=JSON.parse(Y):ne=Y,Yn(this,Ll,new Map),Yn(this,Bl,new Map),Yn(this,Dl,new Map);const fe=[];for(const be of ne)try{fe.push(Fragment$1.from(be))}catch(we){console.log(`[Warning] Invalid Fragment ${JSON.stringify(be)}:`,we.message)}defineProperties$1(this,{fragments:Object.freeze(fe)});let ye=null,me=!1;Yn(this,sc,this.getAbiCoder()),this.fragments.forEach((be,we)=>{let Ee;switch(be.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}defineProperties$1(this,{deploy:be});return;case"fallback":be.inputs.length===0?me=!0:(assertArgument$1(!ye||be.payable!==ye.payable,"conflicting fallback fragments",`fragments[${we}]`,be),ye=be,me=ye.payable);return;case"function":Ee=In(this,Ll);break;case"event":Ee=In(this,Dl);break;case"error":Ee=In(this,Bl);break;default:return}const xe=be.format();Ee.has(xe)||Ee.set(xe,be)}),this.deploy||defineProperties$1(this,{deploy:ConstructorFragment$1.from("constructor()")}),defineProperties$1(this,{fallback:ye,receive:me})}format(Y){const ne=Y?"minimal":"full";return this.fragments.map(ye=>ye.format(ne))}formatJson(){const Y=this.fragments.map(ne=>ne.format("json"));return JSON.stringify(Y.map(ne=>JSON.parse(ne)))}getAbiCoder(){return AbiCoder$1.defaultAbiCoder()}getFunctionName(Y){const ne=_i(this,Xl,gg).call(this,Y,null,!1);return assertArgument$1(ne,"no matching function","key",Y),ne.name}hasFunction(Y){return!!_i(this,Xl,gg).call(this,Y,null,!1)}getFunction(Y,ne){return _i(this,Xl,gg).call(this,Y,ne||null,!0)}forEachFunction(Y){const ne=Array.from(In(this,Ll).keys());ne.sort((fe,ye)=>fe.localeCompare(ye));for(let fe=0;fe<ne.length;fe++){const ye=ne[fe];Y(In(this,Ll).get(ye),fe)}}getEventName(Y){const ne=_i(this,Xl,mg).call(this,Y,null,!1);return assertArgument$1(ne,"no matching event","key",Y),ne.name}hasEvent(Y){return!!_i(this,Xl,mg).call(this,Y,null,!1)}getEvent(Y,ne){return _i(this,Xl,mg).call(this,Y,ne||null,!0)}forEachEvent(Y){const ne=Array.from(In(this,Dl).keys());ne.sort((fe,ye)=>fe.localeCompare(ye));for(let fe=0;fe<ne.length;fe++){const ye=ne[fe];Y(In(this,Dl).get(ye),fe)}}getError(Y,ne){if(isHexString$1(Y)){const ye=Y.toLowerCase();if(BuiltinErrors$1[ye])return ErrorFragment$1.from(BuiltinErrors$1[ye].signature);for(const me of In(this,Bl).values())if(ye===me.selector)return me;return null}if(Y.indexOf("(")===-1){const ye=[];for(const[me,be]of In(this,Bl))me.split("(")[0]===Y&&ye.push(be);if(ye.length===0)return Y==="Error"?ErrorFragment$1.from("error Error(string)"):Y==="Panic"?ErrorFragment$1.from("error Panic(uint256)"):null;if(ye.length>1){const me=ye.map(be=>JSON.stringify(be.format())).join(", ");assertArgument$1(!1,`ambiguous error description (i.e. ${me})`,"name",Y)}return ye[0]}if(Y=ErrorFragment$1.from(Y).format(),Y==="Error(string)")return ErrorFragment$1.from("error Error(string)");if(Y==="Panic(uint256)")return ErrorFragment$1.from("error Panic(uint256)");const fe=In(this,Bl).get(Y);return fe||null}forEachError(Y){const ne=Array.from(In(this,Bl).keys());ne.sort((fe,ye)=>fe.localeCompare(ye));for(let fe=0;fe<ne.length;fe++){const ye=ne[fe];Y(In(this,Bl).get(ye),fe)}}_decodeParams(Y,ne){return In(this,sc).decode(Y,ne)}_encodeParams(Y,ne){return In(this,sc).encode(Y,ne)}encodeDeploy(Y){return this._encodeParams(this.deploy.inputs,Y||[])}decodeErrorResult(Y,ne){if(typeof Y=="string"){const fe=this.getError(Y);assertArgument$1(fe,"unknown error","fragment",Y),Y=fe}return assertArgument$1(dataSlice$1(ne,0,4)===Y.selector,`data signature does not match error ${Y.name}.`,"data",ne),this._decodeParams(Y.inputs,dataSlice$1(ne,4))}encodeErrorResult(Y,ne){if(typeof Y=="string"){const fe=this.getError(Y);assertArgument$1(fe,"unknown error","fragment",Y),Y=fe}return concat$1([Y.selector,this._encodeParams(Y.inputs,ne||[])])}decodeFunctionData(Y,ne){if(typeof Y=="string"){const fe=this.getFunction(Y);assertArgument$1(fe,"unknown function","fragment",Y),Y=fe}return assertArgument$1(dataSlice$1(ne,0,4)===Y.selector,`data signature does not match function ${Y.name}.`,"data",ne),this._decodeParams(Y.inputs,dataSlice$1(ne,4))}encodeFunctionData(Y,ne){if(typeof Y=="string"){const fe=this.getFunction(Y);assertArgument$1(fe,"unknown function","fragment",Y),Y=fe}return concat$1([Y.selector,this._encodeParams(Y.inputs,ne||[])])}decodeFunctionResult(Y,ne){if(typeof Y=="string"){const me=this.getFunction(Y);assertArgument$1(me,"unknown function","fragment",Y),Y=me}let fe="invalid length for result data";const ye=getBytesCopy$1(ne);if(ye.length%32===0)try{return In(this,sc).decode(Y.outputs,ye)}catch{fe="could not decode result data"}assert$3(!1,fe,"BAD_DATA",{value:hexlify$1(ye),info:{method:Y.name,signature:Y.format()}})}makeError(Y,ne){const fe=getBytes$1(Y,"data"),ye=AbiCoder$1.getBuiltinCallException("call",ne,fe);if(ye.message.startsWith("execution reverted (unknown custom error)")){const we=hexlify$1(fe.slice(0,4)),Ee=this.getError(we);if(Ee)try{const xe=In(this,sc).decode(Ee.inputs,fe.slice(4));ye.revert={name:Ee.name,signature:Ee.format(),args:xe},ye.reason=ye.revert.signature,ye.message=`execution reverted: ${ye.reason}`}catch{ye.message="execution reverted (coult not decode custom error)"}}const be=this.parseTransaction(ne);return be&&(ye.invocation={method:be.name,signature:be.signature,args:be.args}),ye}encodeFunctionResult(Y,ne){if(typeof Y=="string"){const fe=this.getFunction(Y);assertArgument$1(fe,"unknown function","fragment",Y),Y=fe}return hexlify$1(In(this,sc).encode(Y.outputs,ne||[]))}encodeFilterTopics(Y,ne){if(typeof Y=="string"){const me=this.getEvent(Y);assertArgument$1(me,"unknown event","eventFragment",Y),Y=me}assert$3(ne.length<=Y.inputs.length,`too many arguments for ${Y.format()}`,"UNEXPECTED_ARGUMENT",{count:ne.length,expectedCount:Y.inputs.length});const fe=[];Y.anonymous||fe.push(Y.topicHash);const ye=(me,be)=>me.type==="string"?id$1(be):me.type==="bytes"?keccak256$1(hexlify$1(be)):(me.type==="bool"&&typeof be=="boolean"?be=be?"0x01":"0x00":me.type.match(/^u?int/)?be=toBeHex$1(be):me.type.match(/^bytes/)?be=zeroPadBytes$1(be,32):me.type==="address"&&In(this,sc).encode(["address"],[be]),zeroPadValue$1(hexlify$1(be),32));for(ne.forEach((me,be)=>{const we=Y.inputs[be];if(!we.indexed){assertArgument$1(me==null,"cannot filter non-indexed parameters; must be null","contract."+we.name,me);return}me==null?fe.push(null):we.baseType==="array"||we.baseType==="tuple"?assertArgument$1(!1,"filtering with tuples or arrays not supported","contract."+we.name,me):Array.isArray(me)?fe.push(me.map(Ee=>ye(we,Ee))):fe.push(ye(we,me))});fe.length&&fe[fe.length-1]===null;)fe.pop();return fe}encodeEventLog(Y,ne){if(typeof Y=="string"){const be=this.getEvent(Y);assertArgument$1(be,"unknown event","eventFragment",Y),Y=be}const fe=[],ye=[],me=[];return Y.anonymous||fe.push(Y.topicHash),assertArgument$1(ne.length===Y.inputs.length,"event arguments/values mismatch","values",ne),Y.inputs.forEach((be,we)=>{const Ee=ne[we];if(be.indexed)if(be.type==="string")fe.push(id$1(Ee));else if(be.type==="bytes")fe.push(keccak256$1(Ee));else{if(be.baseType==="tuple"||be.baseType==="array")throw new Error("not implemented");fe.push(In(this,sc).encode([be.type],[Ee]))}else ye.push(be),me.push(Ee)}),{data:In(this,sc).encode(ye,me),topics:fe}}decodeEventLog(Y,ne,fe){if(typeof Y=="string"){const br=this.getEvent(Y);assertArgument$1(br,"unknown event","eventFragment",Y),Y=br}if(fe!=null&&!Y.anonymous){const br=Y.topicHash;assertArgument$1(isHexString$1(fe[0],32)&&fe[0].toLowerCase()===br,"fragment/topic mismatch","topics[0]",fe[0]),fe=fe.slice(1)}const ye=[],me=[],be=[];Y.inputs.forEach((br,kr)=>{br.indexed?br.type==="string"||br.type==="bytes"||br.baseType==="tuple"||br.baseType==="array"?(ye.push(ParamType$1.from({type:"bytes32",name:br.name})),be.push(!0)):(ye.push(br),be.push(!1)):(me.push(br),be.push(!1))});const we=fe!=null?In(this,sc).decode(ye,concat$1(fe)):null,Ee=In(this,sc).decode(me,ne,!0),xe=[],Se=[];let Ie=0,fr=0;return Y.inputs.forEach((br,kr)=>{let Wr=null;if(br.indexed)if(we==null)Wr=new Indexed$1(null);else if(be[kr])Wr=new Indexed$1(we[fr++]);else try{Wr=we[fr++]}catch(Gr){Wr=Gr}else try{Wr=Ee[Ie++]}catch(Gr){Wr=Gr}xe.push(Wr),Se.push(br.name||null)}),Result$1.fromItems(xe,Se)}parseTransaction(Y){const ne=getBytes$1(Y.data,"tx.data"),fe=getBigInt$1(Y.value!=null?Y.value:0,"tx.value"),ye=this.getFunction(hexlify$1(ne.slice(0,4)));if(!ye)return null;const me=In(this,sc).decode(ye.inputs,ne.slice(4));return new TransactionDescription$1(ye,ye.selector,me,fe)}parseCallResult(Y){throw new Error("@TODO")}parseLog(Y){const ne=this.getEvent(Y.topics[0]);return!ne||ne.anonymous?null:new LogDescription$1(ne,ne.topicHash,this.decodeEventLog(ne,Y.data,Y.topics))}parseError(Y){const ne=hexlify$1(Y),fe=this.getError(dataSlice$1(ne,0,4));if(!fe)return null;const ye=In(this,sc).decode(fe.inputs,dataSlice$1(ne,4));return new ErrorDescription$1(fe,fe.selector,ye)}static from(Y){return Y instanceof Yl?Y:typeof Y=="string"?new Yl(JSON.parse(Y)):typeof Y.formatJson=="function"?new Yl(Y.formatJson()):typeof Y.format=="function"?new Yl(Y.format("json")):new Yl(Y)}},Bl=new WeakMap,Dl=new WeakMap,Ll=new WeakMap,sc=new WeakMap,Xl=new WeakSet,gg=function(Y,ne,fe){if(isHexString$1(Y)){const me=Y.toLowerCase();for(const be of In(this,Ll).values())if(me===be.selector)return be;return null}if(Y.indexOf("(")===-1){const me=[];for(const[be,we]of In(this,Ll))be.split("(")[0]===Y&&me.push(we);if(ne){const be=ne.length>0?ne[ne.length-1]:null;let we=ne.length,Ee=!0;Typed$1.isTyped(be)&&be.type==="overrides"&&(Ee=!1,we--);for(let xe=me.length-1;xe>=0;xe--){const Se=me[xe].inputs.length;Se!==we&&(!Ee||Se!==we-1)&&me.splice(xe,1)}for(let xe=me.length-1;xe>=0;xe--){const Se=me[xe].inputs;for(let Ie=0;Ie<ne.length;Ie++)if(Typed$1.isTyped(ne[Ie])){if(Ie>=Se.length){if(ne[Ie].type==="overrides")continue;me.splice(xe,1);break}if(ne[Ie].type!==Se[Ie].baseType){me.splice(xe,1);break}}}}if(me.length===1&&ne&&ne.length!==me[0].inputs.length){const be=ne[ne.length-1];(be==null||Array.isArray(be)||typeof be!="object")&&me.splice(0,1)}if(me.length===0)return null;if(me.length>1&&fe){const be=me.map(we=>JSON.stringify(we.format())).join(", ");assertArgument$1(!1,`ambiguous function description (i.e. matches ${be})`,"key",Y)}return me[0]}const ye=In(this,Ll).get(FunctionFragment$1.from(Y).format());return ye||null},mg=function(Y,ne,fe){if(isHexString$1(Y)){const me=Y.toLowerCase();for(const be of In(this,Dl).values())if(me===be.topicHash)return be;return null}if(Y.indexOf("(")===-1){const me=[];for(const[be,we]of In(this,Dl))be.split("(")[0]===Y&&me.push(we);if(ne){for(let be=me.length-1;be>=0;be--)me[be].inputs.length<ne.length&&me.splice(be,1);for(let be=me.length-1;be>=0;be--){const we=me[be].inputs;for(let Ee=0;Ee<ne.length;Ee++)if(Typed$1.isTyped(ne[Ee])&&ne[Ee].type!==we[Ee].baseType){me.splice(be,1);break}}}if(me.length===0)return null;if(me.length>1&&fe){const be=me.map(we=>JSON.stringify(we.format())).join(", ");assertArgument$1(!1,`ambiguous event description (i.e. matches ${be})`,"key",Y)}return me[0]}const ye=In(this,Dl).get(EventFragment$1.from(Y).format());return ye||null},Yl);const BN_0$b=BigInt(0);function getValue$2(se){return se??null}function toJson$1(se){return se==null?null:se.toString()}let FeeData$1=class{constructor(Y,ne,fe){li(this,"gasPrice");li(this,"maxFeePerGas");li(this,"maxPriorityFeePerGas");defineProperties$1(this,{gasPrice:getValue$2(Y),maxFeePerGas:getValue$2(ne),maxPriorityFeePerGas:getValue$2(fe)})}toJSON(){const{gasPrice:Y,maxFeePerGas:ne,maxPriorityFeePerGas:fe}=this;return{_type:"FeeData",gasPrice:toJson$1(Y),maxFeePerGas:toJson$1(ne),maxPriorityFeePerGas:toJson$1(fe)}}};function copyRequest$1(se){const Y={};se.to&&(Y.to=se.to),se.from&&(Y.from=se.from),se.data&&(Y.data=hexlify$1(se.data));const ne="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const ye of ne)!(ye in se)||se[ye]==null||(Y[ye]=getBigInt$1(se[ye],`request.${ye}`));const fe="type,nonce".split(/,/);for(const ye of fe)!(ye in se)||se[ye]==null||(Y[ye]=getNumber$1(se[ye],`request.${ye}`));return se.accessList&&(Y.accessList=accessListify$1(se.accessList)),"blockTag"in se&&(Y.blockTag=se.blockTag),"enableCcipRead"in se&&(Y.enableCcipRead=!!se.enableCcipRead),"customData"in se&&(Y.customData=se.customData),"blobVersionedHashes"in se&&se.blobVersionedHashes&&(Y.blobVersionedHashes=se.blobVersionedHashes.slice()),"kzg"in se&&(Y.kzg=se.kzg),"blobs"in se&&se.blobs&&(Y.blobs=se.blobs.map(ye=>isBytesLike$1(ye)?hexlify$1(ye):Object.assign({},ye))),Y}var _u,Jv;let Block$1=(Jv=class{constructor(Y,ne){li(this,"provider");li(this,"number");li(this,"hash");li(this,"timestamp");li(this,"parentHash");li(this,"parentBeaconBlockRoot");li(this,"nonce");li(this,"difficulty");li(this,"gasLimit");li(this,"gasUsed");li(this,"stateRoot");li(this,"receiptsRoot");li(this,"blobGasUsed");li(this,"excessBlobGas");li(this,"miner");li(this,"prevRandao");li(this,"extraData");li(this,"baseFeePerGas");fi(this,_u);Yn(this,_u,Y.transactions.map(fe=>typeof fe!="string"?new TransactionResponse$1(fe,ne):fe)),defineProperties$1(this,{provider:ne,hash:getValue$2(Y.hash),number:Y.number,timestamp:Y.timestamp,parentHash:Y.parentHash,parentBeaconBlockRoot:Y.parentBeaconBlockRoot,nonce:Y.nonce,difficulty:Y.difficulty,gasLimit:Y.gasLimit,gasUsed:Y.gasUsed,blobGasUsed:Y.blobGasUsed,excessBlobGas:Y.excessBlobGas,miner:Y.miner,prevRandao:getValue$2(Y.prevRandao),extraData:Y.extraData,baseFeePerGas:getValue$2(Y.baseFeePerGas),stateRoot:Y.stateRoot,receiptsRoot:Y.receiptsRoot})}get transactions(){return In(this,_u).map(Y=>typeof Y=="string"?Y:Y.hash)}get prefetchedTransactions(){const Y=In(this,_u).slice();return Y.length===0?[]:(assert$3(typeof Y[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),Y)}toJSON(){const{baseFeePerGas:Y,difficulty:ne,extraData:fe,gasLimit:ye,gasUsed:me,hash:be,miner:we,prevRandao:Ee,nonce:xe,number:Se,parentHash:Ie,parentBeaconBlockRoot:fr,stateRoot:br,receiptsRoot:kr,timestamp:Wr,transactions:Gr}=this;return{_type:"Block",baseFeePerGas:toJson$1(Y),difficulty:toJson$1(ne),extraData:fe,gasLimit:toJson$1(ye),gasUsed:toJson$1(me),blobGasUsed:toJson$1(this.blobGasUsed),excessBlobGas:toJson$1(this.excessBlobGas),hash:be,miner:we,prevRandao:Ee,nonce:xe,number:Se,parentHash:Ie,timestamp:Wr,parentBeaconBlockRoot:fr,stateRoot:br,receiptsRoot:kr,transactions:Gr}}[Symbol.iterator](){let Y=0;const ne=this.transactions;return{next:()=>Y<this.length?{value:ne[Y++],done:!1}:{value:void 0,done:!0}}}get length(){return In(this,_u).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(Y){let ne;if(typeof Y=="number")ne=In(this,_u)[Y];else{const fe=Y.toLowerCase();for(const ye of In(this,_u))if(typeof ye=="string"){if(ye!==fe)continue;ne=ye;break}else{if(ye.hash===fe)continue;ne=ye;break}}if(ne==null)throw new Error("no such tx");return typeof ne=="string"?await this.provider.getTransaction(ne):ne}getPrefetchedTransaction(Y){const ne=this.prefetchedTransactions;if(typeof Y=="number")return ne[Y];Y=Y.toLowerCase();for(const fe of ne)if(fe.hash===Y)return fe;assertArgument$1(!1,"no matching transaction","indexOrHash",Y)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return createOrphanedBlockFilter$1(this)}},_u=new WeakMap,Jv),Log$1=class{constructor(Y,ne){li(this,"provider");li(this,"transactionHash");li(this,"blockHash");li(this,"blockNumber");li(this,"removed");li(this,"address");li(this,"data");li(this,"topics");li(this,"index");li(this,"transactionIndex");this.provider=ne;const fe=Object.freeze(Y.topics.slice());defineProperties$1(this,{transactionHash:Y.transactionHash,blockHash:Y.blockHash,blockNumber:Y.blockNumber,removed:Y.removed,address:Y.address,data:Y.data,topics:fe,index:Y.index,transactionIndex:Y.transactionIndex})}toJSON(){const{address:Y,blockHash:ne,blockNumber:fe,data:ye,index:me,removed:be,topics:we,transactionHash:Ee,transactionIndex:xe}=this;return{_type:"log",address:Y,blockHash:ne,blockNumber:fe,data:ye,index:me,removed:be,topics:we,transactionHash:Ee,transactionIndex:xe}}async getBlock(){const Y=await this.provider.getBlock(this.blockHash);return assert$3(!!Y,"failed to find transaction","UNKNOWN_ERROR",{}),Y}async getTransaction(){const Y=await this.provider.getTransaction(this.transactionHash);return assert$3(!!Y,"failed to find transaction","UNKNOWN_ERROR",{}),Y}async getTransactionReceipt(){const Y=await this.provider.getTransactionReceipt(this.transactionHash);return assert$3(!!Y,"failed to find transaction receipt","UNKNOWN_ERROR",{}),Y}removedEvent(){return createRemovedLogFilter$1(this)}};var Lp,Qv;let TransactionReceipt$1=(Qv=class{constructor(Y,ne){li(this,"provider");li(this,"to");li(this,"from");li(this,"contractAddress");li(this,"hash");li(this,"index");li(this,"blockHash");li(this,"blockNumber");li(this,"logsBloom");li(this,"gasUsed");li(this,"blobGasUsed");li(this,"cumulativeGasUsed");li(this,"gasPrice");li(this,"blobGasPrice");li(this,"type");li(this,"status");li(this,"root");fi(this,Lp);Yn(this,Lp,Object.freeze(Y.logs.map(ye=>new Log$1(ye,ne))));let fe=BN_0$b;Y.effectiveGasPrice!=null?fe=Y.effectiveGasPrice:Y.gasPrice!=null&&(fe=Y.gasPrice),defineProperties$1(this,{provider:ne,to:Y.to,from:Y.from,contractAddress:Y.contractAddress,hash:Y.hash,index:Y.index,blockHash:Y.blockHash,blockNumber:Y.blockNumber,logsBloom:Y.logsBloom,gasUsed:Y.gasUsed,cumulativeGasUsed:Y.cumulativeGasUsed,blobGasUsed:Y.blobGasUsed,gasPrice:fe,blobGasPrice:Y.blobGasPrice,type:Y.type,status:Y.status,root:Y.root})}get logs(){return In(this,Lp)}toJSON(){const{to:Y,from:ne,contractAddress:fe,hash:ye,index:me,blockHash:be,blockNumber:we,logsBloom:Ee,logs:xe,status:Se,root:Ie}=this;return{_type:"TransactionReceipt",blockHash:be,blockNumber:we,contractAddress:fe,cumulativeGasUsed:toJson$1(this.cumulativeGasUsed),from:ne,gasPrice:toJson$1(this.gasPrice),blobGasUsed:toJson$1(this.blobGasUsed),blobGasPrice:toJson$1(this.blobGasPrice),gasUsed:toJson$1(this.gasUsed),hash:ye,index:me,logs:xe,logsBloom:Ee,root:Ie,status:Se,to:Y}}get length(){return this.logs.length}[Symbol.iterator](){let Y=0;return{next:()=>Y<this.length?{value:this.logs[Y++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const Y=await this.provider.getBlock(this.blockHash);if(Y==null)throw new Error("TODO");return Y}async getTransaction(){const Y=await this.provider.getTransaction(this.hash);if(Y==null)throw new Error("TODO");return Y}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return createRemovedTransactionFilter$1(this)}reorderedEvent(Y){return assert$3(!Y||Y.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),createReorderedTransactionFilter$1(this,Y)}},Lp=new WeakMap,Qv);var of,t0;let TransactionResponse$1=(t0=class{constructor(Y,ne){li(this,"provider");li(this,"blockNumber");li(this,"blockHash");li(this,"index");li(this,"hash");li(this,"type");li(this,"to");li(this,"from");li(this,"nonce");li(this,"gasLimit");li(this,"gasPrice");li(this,"maxPriorityFeePerGas");li(this,"maxFeePerGas");li(this,"maxFeePerBlobGas");li(this,"data");li(this,"value");li(this,"chainId");li(this,"signature");li(this,"accessList");li(this,"blobVersionedHashes");fi(this,of);this.provider=ne,this.blockNumber=Y.blockNumber!=null?Y.blockNumber:null,this.blockHash=Y.blockHash!=null?Y.blockHash:null,this.hash=Y.hash,this.index=Y.index,this.type=Y.type,this.from=Y.from,this.to=Y.to||null,this.gasLimit=Y.gasLimit,this.nonce=Y.nonce,this.data=Y.data,this.value=Y.value,this.gasPrice=Y.gasPrice,this.maxPriorityFeePerGas=Y.maxPriorityFeePerGas!=null?Y.maxPriorityFeePerGas:null,this.maxFeePerGas=Y.maxFeePerGas!=null?Y.maxFeePerGas:null,this.maxFeePerBlobGas=Y.maxFeePerBlobGas!=null?Y.maxFeePerBlobGas:null,this.chainId=Y.chainId,this.signature=Y.signature,this.accessList=Y.accessList!=null?Y.accessList:null,this.blobVersionedHashes=Y.blobVersionedHashes!=null?Y.blobVersionedHashes:null,Yn(this,of,-1)}toJSON(){const{blockNumber:Y,blockHash:ne,index:fe,hash:ye,type:me,to:be,from:we,nonce:Ee,data:xe,signature:Se,accessList:Ie,blobVersionedHashes:fr}=this;return{_type:"TransactionResponse",accessList:Ie,blockNumber:Y,blockHash:ne,blobVersionedHashes:fr,chainId:toJson$1(this.chainId),data:xe,from:we,gasLimit:toJson$1(this.gasLimit),gasPrice:toJson$1(this.gasPrice),hash:ye,maxFeePerGas:toJson$1(this.maxFeePerGas),maxPriorityFeePerGas:toJson$1(this.maxPriorityFeePerGas),maxFeePerBlobGas:toJson$1(this.maxFeePerBlobGas),nonce:Ee,signature:Se,to:be,index:fe,type:me,value:toJson$1(this.value)}}async getBlock(){let Y=this.blockNumber;if(Y==null){const fe=await this.getTransaction();fe&&(Y=fe.blockNumber)}if(Y==null)return null;const ne=this.provider.getBlock(Y);if(ne==null)throw new Error("TODO");return ne}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:ne,blockNumber:fe}=await resolveProperties$1({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return ne==null||ne.blockNumber==null?0:fe-ne.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(Y,ne){const fe=Y??1,ye=ne??0;let me=In(this,of),be=-1,we=me===-1;const Ee=async()=>{if(we)return null;const{blockNumber:fr,nonce:br}=await resolveProperties$1({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(br<this.nonce){me=fr;return}if(we)return null;const kr=await this.getTransaction();if(!(kr&&kr.blockNumber!=null))for(be===-1&&(be=me-3,be<In(this,of)&&(be=In(this,of)));be<=fr;){if(we)return null;const Wr=await this.provider.getBlock(be,!0);if(Wr==null)return;for(const Gr of Wr)if(Gr===this.hash)return;for(let Gr=0;Gr<Wr.length;Gr++){const jr=await Wr.getTransaction(Gr);if(jr.from===this.from&&jr.nonce===this.nonce){if(we)return null;const Qr=await this.provider.getTransactionReceipt(jr.hash);if(Qr==null||fr-Qr.blockNumber+1<fe)return;let wn="replaced";jr.data===this.data&&jr.to===this.to&&jr.value===this.value?wn="repriced":jr.data==="0x"&&jr.from===jr.to&&jr.value===BN_0$b&&(wn="cancelled"),assert$3(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:wn==="replaced"||wn==="cancelled",reason:wn,replacement:jr.replaceableTransaction(me),hash:jr.hash,receipt:Qr})}}be++}},xe=fr=>{if(fr==null||fr.status!==0)return fr;assert$3(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:fr.to,from:fr.from,data:""},receipt:fr})},Se=await this.provider.getTransactionReceipt(this.hash);if(fe===0)return xe(Se);if(Se){if(await Se.confirmations()>=fe)return xe(Se)}else if(await Ee(),fe===0)return null;return await new Promise((fr,br)=>{const kr=[],Wr=()=>{kr.forEach(jr=>jr())};if(kr.push(()=>{we=!0}),ye>0){const jr=setTimeout(()=>{Wr(),br(makeError$1("wait for transaction timeout","TIMEOUT"))},ye);kr.push(()=>{clearTimeout(jr)})}const Gr=async jr=>{if(await jr.confirmations()>=fe){Wr();try{fr(xe(jr))}catch(Qr){br(Qr)}}};if(kr.push(()=>{this.provider.off(this.hash,Gr)}),this.provider.on(this.hash,Gr),me>=0){const jr=async()=>{try{await Ee()}catch(Qr){if(isError$1(Qr,"TRANSACTION_REPLACED")){Wr(),br(Qr);return}}we||this.provider.once("block",jr)};kr.push(()=>{this.provider.off("block",jr)}),this.provider.once("block",jr)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return assert$3(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createRemovedTransactionFilter$1(this)}reorderedEvent(Y){return assert$3(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),assert$3(!Y||Y.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createReorderedTransactionFilter$1(this,Y)}replaceableTransaction(Y){assertArgument$1(Number.isInteger(Y)&&Y>=0,"invalid startBlock","startBlock",Y);const ne=new t0(this,this.provider);return Yn(ne,of,Y),ne}},of=new WeakMap,t0);function createOrphanedBlockFilter$1(se){return{orphan:"drop-block",hash:se.hash,number:se.number}}function createReorderedTransactionFilter$1(se,Y){return{orphan:"reorder-transaction",tx:se,other:Y}}function createRemovedTransactionFilter$1(se){return{orphan:"drop-transaction",tx:se}}function createRemovedLogFilter$1(se){return{orphan:"drop-log",log:{transactionHash:se.transactionHash,blockHash:se.blockHash,blockNumber:se.blockNumber,address:se.address,data:se.data,topics:Object.freeze(se.topics.slice()),index:se.index}}}let EventLog$1=class extends Log$1{constructor(ne,fe,ye){super(ne,ne.provider);li(this,"interface");li(this,"fragment");li(this,"args");const me=fe.decodeEventLog(ye,ne.data,ne.topics);defineProperties$1(this,{args:me,fragment:ye,interface:fe})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},UndecodedEventLog$1=class extends Log$1{constructor(ne,fe){super(ne,ne.provider);li(this,"error");defineProperties$1(this,{error:fe})}};var r0,Yv;let ContractTransactionReceipt$1=(Yv=class extends TransactionReceipt$1{constructor(ne,fe,ye){super(ye,fe);fi(this,r0);Yn(this,r0,ne)}get logs(){return super.logs.map(ne=>{const fe=ne.topics.length?In(this,r0).getEvent(ne.topics[0]):null;if(fe)try{return new EventLog$1(ne,In(this,r0),fe)}catch(ye){return new UndecodedEventLog$1(ne,ye)}return ne})}},r0=new WeakMap,Yv);var qp,Xv;let ContractTransactionResponse$1=(Xv=class extends TransactionResponse$1{constructor(ne,fe,ye){super(ye,fe);fi(this,qp);Yn(this,qp,ne)}async wait(ne,fe){const ye=await super.wait(ne,fe);return ye==null?null:new ContractTransactionReceipt$1(In(this,qp),this.provider,ye)}},qp=new WeakMap,Xv),ContractUnknownEventPayload$1=class extends EventPayload$1{constructor(ne,fe,ye,me){super(ne,fe,ye);li(this,"log");defineProperties$1(this,{log:me})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},ContractEventPayload$1=class extends ContractUnknownEventPayload$1{constructor(Y,ne,fe,ye,me){super(Y,ne,fe,new EventLog$1(me,Y.interface,ye));const be=Y.interface.decodeEventLog(ye,this.log.data,this.log.topics);defineProperties$1(this,{args:be,fragment:ye})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};const BN_0$a=BigInt(0);function canCall$1(se){return se&&typeof se.call=="function"}function canEstimate$1(se){return se&&typeof se.estimateGas=="function"}function canResolve$1(se){return se&&typeof se.resolveName=="function"}function canSend$1(se){return se&&typeof se.sendTransaction=="function"}function getResolver$1(se){if(se!=null){if(canResolve$1(se))return se;if(se.provider)return se.provider}}var Up,ew;let PreparedTopicFilter$1=(ew=class{constructor(Y,ne,fe){fi(this,Up);li(this,"fragment");if(defineProperties$1(this,{fragment:ne}),ne.inputs.length<fe.length)throw new Error("too many arguments");const ye=getRunner$1(Y.runner,"resolveName"),me=canResolve$1(ye)?ye:null;Yn(this,Up,async function(){const be=await Promise.all(ne.inputs.map((we,Ee)=>fe[Ee]==null?null:we.walkAsync(fe[Ee],(Se,Ie)=>Se==="address"?Array.isArray(Ie)?Promise.all(Ie.map(fr=>resolveAddress$1(fr,me))):resolveAddress$1(Ie,me):Ie)));return Y.interface.encodeFilterTopics(ne,be)}())}getTopicFilter(){return In(this,Up)}},Up=new WeakMap,ew);function getRunner$1(se,Y){return se==null?null:typeof se[Y]=="function"?se:se.provider&&typeof se.provider[Y]=="function"?se.provider:null}function getProvider$1(se){return se==null?null:se.provider||null}async function copyOverrides$1(se,Y){const ne=Typed$1.dereference(se,"overrides");assertArgument$1(typeof ne=="object","invalid overrides parameter","overrides",se);const fe=copyRequest$1(ne);return assertArgument$1(fe.to==null||(Y||[]).indexOf("to")>=0,"cannot override to","overrides.to",fe.to),assertArgument$1(fe.data==null||(Y||[]).indexOf("data")>=0,"cannot override data","overrides.data",fe.data),fe.from&&(fe.from=fe.from),fe}async function resolveArgs$1(se,Y,ne){const fe=getRunner$1(se,"resolveName"),ye=canResolve$1(fe)?fe:null;return await Promise.all(Y.map((me,be)=>me.walkAsync(ne[be],(we,Ee)=>(Ee=Typed$1.dereference(Ee,we),we==="address"?resolveAddress$1(Ee,ye):Ee))))}function buildWrappedFallback$1(se){const Y=async function(be){const we=await copyOverrides$1(be,["data"]);we.to=await se.getAddress(),we.from&&(we.from=await resolveAddress$1(we.from,getResolver$1(se.runner)));const Ee=se.interface,xe=getBigInt$1(we.value||BN_0$a,"overrides.value")===BN_0$a,Se=(we.data||"0x")==="0x";Ee.fallback&&!Ee.fallback.payable&&Ee.receive&&!Se&&!xe&&assertArgument$1(!1,"cannot send data to receive or send value to non-payable fallback","overrides",be),assertArgument$1(Ee.fallback||Se,"cannot send data to receive-only contract","overrides.data",we.data);const Ie=Ee.receive||Ee.fallback&&Ee.fallback.payable;return assertArgument$1(Ie||xe,"cannot send value to non-payable fallback","overrides.value",we.value),assertArgument$1(Ee.fallback||Se,"cannot send data to receive-only contract","overrides.data",we.data),we},ne=async function(be){const we=getRunner$1(se.runner,"call");assert$3(canCall$1(we),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const Ee=await Y(be);try{return await we.call(Ee)}catch(xe){throw isCallException$1(xe)&&xe.data?se.interface.makeError(xe.data,Ee):xe}},fe=async function(be){const we=se.runner;assert$3(canSend$1(we),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const Ee=await we.sendTransaction(await Y(be)),xe=getProvider$1(se.runner);return new ContractTransactionResponse$1(se.interface,xe,Ee)},ye=async function(be){const we=getRunner$1(se.runner,"estimateGas");return assert$3(canEstimate$1(we),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await we.estimateGas(await Y(be))},me=async be=>await fe(be);return defineProperties$1(me,{_contract:se,estimateGas:ye,populateTransaction:Y,send:fe,staticCall:ne}),me}function buildWrappedMethod$1(se,Y){const ne=function(...xe){const Se=se.interface.getFunction(Y,xe);return assert$3(Se,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y,args:xe}}),Se},fe=async function(...xe){const Se=ne(...xe);let Ie={};if(Se.inputs.length+1===xe.length&&(Ie=await copyOverrides$1(xe.pop()),Ie.from&&(Ie.from=await resolveAddress$1(Ie.from,getResolver$1(se.runner)))),Se.inputs.length!==xe.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const fr=await resolveArgs$1(se.runner,Se.inputs,xe);return Object.assign({},Ie,await resolveProperties$1({to:se.getAddress(),data:se.interface.encodeFunctionData(Se,fr)}))},ye=async function(...xe){const Se=await we(...xe);return Se.length===1?Se[0]:Se},me=async function(...xe){const Se=se.runner;assert$3(canSend$1(Se),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const Ie=await Se.sendTransaction(await fe(...xe)),fr=getProvider$1(se.runner);return new ContractTransactionResponse$1(se.interface,fr,Ie)},be=async function(...xe){const Se=getRunner$1(se.runner,"estimateGas");return assert$3(canEstimate$1(Se),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await Se.estimateGas(await fe(...xe))},we=async function(...xe){const Se=getRunner$1(se.runner,"call");assert$3(canCall$1(Se),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const Ie=await fe(...xe);let fr="0x";try{fr=await Se.call(Ie)}catch(kr){throw isCallException$1(kr)&&kr.data?se.interface.makeError(kr.data,Ie):kr}const br=ne(...xe);return se.interface.decodeFunctionResult(br,fr)},Ee=async(...xe)=>ne(...xe).constant?await ye(...xe):await me(...xe);return defineProperties$1(Ee,{name:se.interface.getFunctionName(Y),_contract:se,_key:Y,getFragment:ne,estimateGas:be,populateTransaction:fe,send:me,staticCall:ye,staticCallResult:we}),Object.defineProperty(Ee,"fragment",{configurable:!1,enumerable:!0,get:()=>{const xe=se.interface.getFunction(Y);return assert$3(xe,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y}}),xe}}),Ee}function buildWrappedEvent$1(se,Y){const ne=function(...ye){const me=se.interface.getEvent(Y,ye);return assert$3(me,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y,args:ye}}),me},fe=function(...ye){return new PreparedTopicFilter$1(se,ne(...ye),ye)};return defineProperties$1(fe,{name:se.interface.getEventName(Y),_contract:se,_key:Y,getFragment:ne}),Object.defineProperty(fe,"fragment",{configurable:!1,enumerable:!0,get:()=>{const ye=se.interface.getEvent(Y);return assert$3(ye,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y}}),ye}}),fe}const internal$2=Symbol.for("_ethersInternal_contract"),internalValues$1=new WeakMap;function setInternal$1(se,Y){internalValues$1.set(se[internal$2],Y)}function getInternal$1(se){return internalValues$1.get(se[internal$2])}function isDeferred$1(se){return se&&typeof se=="object"&&"getTopicFilter"in se&&typeof se.getTopicFilter=="function"&&se.fragment}async function getSubInfo$1(se,Y){let ne,fe=null;if(Array.isArray(Y)){const me=function(be){if(isHexString$1(be,32))return be;const we=se.interface.getEvent(be);return assertArgument$1(we,"unknown fragment","name",be),we.topicHash};ne=Y.map(be=>be==null?null:Array.isArray(be)?be.map(me):me(be))}else Y==="*"?ne=[null]:typeof Y=="string"?isHexString$1(Y,32)?ne=[Y]:(fe=se.interface.getEvent(Y),assertArgument$1(fe,"unknown fragment","event",Y),ne=[fe.topicHash]):isDeferred$1(Y)?ne=await Y.getTopicFilter():"fragment"in Y?(fe=Y.fragment,ne=[fe.topicHash]):assertArgument$1(!1,"unknown event name","event",Y);ne=ne.map(me=>{if(me==null)return null;if(Array.isArray(me)){const be=Array.from(new Set(me.map(we=>we.toLowerCase())).values());return be.length===1?be[0]:(be.sort(),be)}return me.toLowerCase()});const ye=ne.map(me=>me==null?"null":Array.isArray(me)?me.join("|"):me).join("&");return{fragment:fe,tag:ye,topics:ne}}async function hasSub$1(se,Y){const{subs:ne}=getInternal$1(se);return ne.get((await getSubInfo$1(se,Y)).tag)||null}async function getSub$1(se,Y,ne){const fe=getProvider$1(se.runner);assert$3(fe,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:Y});const{fragment:ye,tag:me,topics:be}=await getSubInfo$1(se,ne),{addr:we,subs:Ee}=getInternal$1(se);let xe=Ee.get(me);if(!xe){const Ie={address:we||se,topics:be},fr=Gr=>{let jr=ye;if(jr==null)try{jr=se.interface.getEvent(Gr.topics[0])}catch{}if(jr){const Qr=jr,wn=ye?se.interface.decodeEventLog(ye,Gr.data,Gr.topics):[];emit$1(se,ne,wn,En=>new ContractEventPayload$1(se,En,ne,Qr,Gr))}else emit$1(se,ne,[],Qr=>new ContractUnknownEventPayload$1(se,Qr,ne,Gr))};let br=[];xe={tag:me,listeners:[],start:()=>{br.length||br.push(fe.on(Ie,fr))},stop:async()=>{if(br.length==0)return;let Gr=br;br=[],await Promise.all(Gr),fe.off(Ie,fr)}},Ee.set(me,xe)}return xe}let lastEmit$1=Promise.resolve();async function _emit$1(se,Y,ne,fe){await lastEmit$1;const ye=await hasSub$1(se,Y);if(!ye)return!1;const me=ye.listeners.length;return ye.listeners=ye.listeners.filter(({listener:be,once:we})=>{const Ee=Array.from(ne);fe&&Ee.push(fe(we?null:be));try{be.call(se,...Ee)}catch{}return!we}),ye.listeners.length===0&&(ye.stop(),getInternal$1(se).subs.delete(ye.tag)),me>0}async function emit$1(se,Y,ne,fe){try{await lastEmit$1}catch{}const ye=_emit$1(se,Y,ne,fe);return lastEmit$1=ye,await ye}const passProperties$2=["then"];var tw,qf;let BaseContract$1=(tw=internal$2,qf=class{constructor(Y,ne,fe,ye){li(this,"target");li(this,"interface");li(this,"runner");li(this,"filters");li(this,tw);li(this,"fallback");assertArgument$1(typeof Y=="string"||isAddressable$1(Y),"invalid value for Contract target","target",Y),fe==null&&(fe=null);const me=Interface$1.from(ne);defineProperties$1(this,{target:Y,runner:fe,interface:me}),Object.defineProperty(this,internal$2,{value:{}});let be,we=null,Ee=null;if(ye){const Ie=getProvider$1(fe);Ee=new ContractTransactionResponse$1(this.interface,Ie,ye)}let xe=new Map;if(typeof Y=="string")if(isHexString$1(Y))we=Y,be=Promise.resolve(Y);else{const Ie=getRunner$1(fe,"resolveName");if(!canResolve$1(Ie))throw makeError$1("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});be=Ie.resolveName(Y).then(fr=>{if(fr==null)throw makeError$1("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:Y});return getInternal$1(this).addr=fr,fr})}else be=Y.getAddress().then(Ie=>{if(Ie==null)throw new Error("TODO");return getInternal$1(this).addr=Ie,Ie});setInternal$1(this,{addrPromise:be,addr:we,deployTx:Ee,subs:xe});const Se=new Proxy({},{get:(Ie,fr,br)=>{if(typeof fr=="symbol"||passProperties$2.indexOf(fr)>=0)return Reflect.get(Ie,fr,br);try{return this.getEvent(fr)}catch(kr){if(!isError$1(kr,"INVALID_ARGUMENT")||kr.argument!=="key")throw kr}},has:(Ie,fr)=>passProperties$2.indexOf(fr)>=0?Reflect.has(Ie,fr):Reflect.has(Ie,fr)||this.interface.hasEvent(String(fr))});return defineProperties$1(this,{filters:Se}),defineProperties$1(this,{fallback:me.receive||me.fallback?buildWrappedFallback$1(this):null}),new Proxy(this,{get:(Ie,fr,br)=>{if(typeof fr=="symbol"||fr in Ie||passProperties$2.indexOf(fr)>=0)return Reflect.get(Ie,fr,br);try{return Ie.getFunction(fr)}catch(kr){if(!isError$1(kr,"INVALID_ARGUMENT")||kr.argument!=="key")throw kr}},has:(Ie,fr)=>typeof fr=="symbol"||fr in Ie||passProperties$2.indexOf(fr)>=0?Reflect.has(Ie,fr):Ie.interface.hasFunction(fr)})}connect(Y){return new qf(this.target,this.interface,Y)}attach(Y){return new qf(Y,this.interface,this.runner)}async getAddress(){return await getInternal$1(this).addrPromise}async getDeployedCode(){const Y=getProvider$1(this.runner);assert$3(Y,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const ne=await Y.getCode(await this.getAddress());return ne==="0x"?null:ne}async waitForDeployment(){const Y=this.deploymentTransaction();if(Y)return await Y.wait(),this;if(await this.getDeployedCode()!=null)return this;const fe=getProvider$1(this.runner);return assert$3(fe!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((ye,me)=>{const be=async()=>{try{if(await this.getDeployedCode()!=null)return ye(this);fe.once("block",be)}catch(we){me(we)}};be()})}deploymentTransaction(){return getInternal$1(this).deployTx}getFunction(Y){return typeof Y!="string"&&(Y=Y.format()),buildWrappedMethod$1(this,Y)}getEvent(Y){return typeof Y!="string"&&(Y=Y.format()),buildWrappedEvent$1(this,Y)}async queryTransaction(Y){throw new Error("@TODO")}async queryFilter(Y,ne,fe){ne==null&&(ne=0),fe==null&&(fe="latest");const{addr:ye,addrPromise:me}=getInternal$1(this),be=ye||await me,{fragment:we,topics:Ee}=await getSubInfo$1(this,Y),xe={address:be,topics:Ee,fromBlock:ne,toBlock:fe},Se=getProvider$1(this.runner);return assert$3(Se,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await Se.getLogs(xe)).map(Ie=>{let fr=we;if(fr==null)try{fr=this.interface.getEvent(Ie.topics[0])}catch{}if(fr)try{return new EventLog$1(Ie,this.interface,fr)}catch(br){return new UndecodedEventLog$1(Ie,br)}return new Log$1(Ie,Se)})}async on(Y,ne){const fe=await getSub$1(this,"on",Y);return fe.listeners.push({listener:ne,once:!1}),fe.start(),this}async once(Y,ne){const fe=await getSub$1(this,"once",Y);return fe.listeners.push({listener:ne,once:!0}),fe.start(),this}async emit(Y,...ne){return await emit$1(this,Y,ne,null)}async listenerCount(Y){if(Y){const ye=await hasSub$1(this,Y);return ye?ye.listeners.length:0}const{subs:ne}=getInternal$1(this);let fe=0;for(const{listeners:ye}of ne.values())fe+=ye.length;return fe}async listeners(Y){if(Y){const ye=await hasSub$1(this,Y);return ye?ye.listeners.map(({listener:me})=>me):[]}const{subs:ne}=getInternal$1(this);let fe=[];for(const{listeners:ye}of ne.values())fe=fe.concat(ye.map(({listener:me})=>me));return fe}async off(Y,ne){const fe=await hasSub$1(this,Y);if(!fe)return this;if(ne){const ye=fe.listeners.map(({listener:me})=>me).indexOf(ne);ye>=0&&fe.listeners.splice(ye,1)}return(ne==null||fe.listeners.length===0)&&(fe.stop(),getInternal$1(this).subs.delete(fe.tag)),this}async removeAllListeners(Y){if(Y){const ne=await hasSub$1(this,Y);if(!ne)return this;ne.stop(),getInternal$1(this).subs.delete(ne.tag)}else{const{subs:ne}=getInternal$1(this);for(const{tag:fe,stop:ye}of ne.values())ye(),ne.delete(fe)}return this}async addListener(Y,ne){return await this.on(Y,ne)}async removeListener(Y,ne){return await this.off(Y,ne)}static buildClass(Y){class ne extends qf{constructor(ye,me=null){super(ye,Y,me)}}return ne}static from(Y,ne,fe){return fe==null&&(fe=null),new this(Y,ne,fe)}},qf);function _ContractBase$1(){return BaseContract$1}let Contract$1=class extends _ContractBase$1(){};function getIpfsLink$1(se){return se.match(/^ipfs:\/\/ipfs\//i)?se=se.substring(12):se.match(/^ipfs:\/\//i)?se=se.substring(7):assertArgument$1(!1,"unsupported IPFS format","link",se),`https://gateway.ipfs.io/ipfs/${se}`}let MulticoinProviderPlugin$1=class{constructor(Y){li(this,"name");defineProperties$1(this,{name:Y})}connect(Y){return this}supportsCoinType(Y){return!1}async encodeAddress(Y,ne){throw new Error("unsupported coin")}async decodeAddress(Y,ne){throw new Error("unsupported coin")}};const matcherIpfs$1=new RegExp("^(ipfs)://(.*)$","i"),matchers$1=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs$1,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var cf,wh,lf,Ed,Ag,Uu,Cw;let EnsResolver$1=(Uu=class{constructor(Y,ne,fe){fi(this,lf);li(this,"provider");li(this,"address");li(this,"name");fi(this,cf);fi(this,wh);defineProperties$1(this,{provider:Y,address:ne,name:fe}),Yn(this,cf,null),Yn(this,wh,new Contract$1(ne,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],Y))}async supportsWildcard(){return In(this,cf)==null&&Yn(this,cf,(async()=>{try{return await In(this,wh).supportsInterface("0x9061b923")}catch(Y){if(isError$1(Y,"CALL_EXCEPTION"))return!1;throw Yn(this,cf,null),Y}})()),await In(this,cf)}async getAddress(Y){if(Y==null&&(Y=60),Y===60)try{const me=await _i(this,lf,Ed).call(this,"addr(bytes32)");return me==null||me===ZeroAddress$1?null:me}catch(me){if(isError$1(me,"CALL_EXCEPTION"))return null;throw me}if(Y>=0&&Y<2147483648){let me=Y+2147483648;const be=await _i(this,lf,Ed).call(this,"addr(bytes32,uint)",[me]);if(isHexString$1(be,20))return getAddress$1(be)}let ne=null;for(const me of this.provider.plugins)if(me instanceof MulticoinProviderPlugin$1&&me.supportsCoinType(Y)){ne=me;break}if(ne==null)return null;const fe=await _i(this,lf,Ed).call(this,"addr(bytes32,uint)",[Y]);if(fe==null||fe==="0x")return null;const ye=await ne.decodeAddress(Y,fe);if(ye!=null)return ye;assert$3(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${Y})`,info:{coinType:Y,data:fe}})}async getText(Y){const ne=await _i(this,lf,Ed).call(this,"text(bytes32,string)",[Y]);return ne==null||ne==="0x"?null:ne}async getContentHash(){const Y=await _i(this,lf,Ed).call(this,"contenthash(bytes32)");if(Y==null||Y==="0x")return null;const ne=Y.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(ne){const ye=ne[1]==="e3010170"?"ipfs":"ipns",me=parseInt(ne[4],16);if(ne[5].length===me*2)return`${ye}://${encodeBase58$1("0x"+ne[2])}`}const fe=Y.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(fe&&fe[1].length===64)return`bzz://${fe[1]}`;assert$3(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:Y}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const Y=[{type:"name",value:this.name}];try{const ne=await this.getText("avatar");if(ne==null)return Y.push({type:"!avatar",value:""}),{url:null,linkage:Y};Y.push({type:"avatar",value:ne});for(let fe=0;fe<matchers$1.length;fe++){const ye=ne.match(matchers$1[fe]);if(ye==null)continue;const me=ye[1].toLowerCase();switch(me){case"https":case"data":return Y.push({type:"url",value:ne}),{linkage:Y,url:ne};case"ipfs":{const be=getIpfsLink$1(ne);return Y.push({type:"ipfs",value:ne}),Y.push({type:"url",value:be}),{linkage:Y,url:be}}case"erc721":case"erc1155":{const be=me==="erc721"?"tokenURI(uint256)":"uri(uint256)";Y.push({type:me,value:ne});const we=await this.getAddress();if(we==null)return Y.push({type:"!owner",value:""}),{url:null,linkage:Y};const Ee=(ye[2]||"").split("/");if(Ee.length!==2)return Y.push({type:`!${me}caip`,value:ye[2]||""}),{url:null,linkage:Y};const xe=Ee[1],Se=new Contract$1(Ee[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(me==="erc721"){const Wr=await Se.ownerOf(xe);if(we!==Wr)return Y.push({type:"!owner",value:Wr}),{url:null,linkage:Y};Y.push({type:"owner",value:Wr})}else if(me==="erc1155"){const Wr=await Se.balanceOf(we,xe);if(!Wr)return Y.push({type:"!balance",value:"0"}),{url:null,linkage:Y};Y.push({type:"balance",value:Wr.toString()})}let Ie=await Se[be](xe);if(Ie==null||Ie==="0x")return Y.push({type:"!metadata-url",value:""}),{url:null,linkage:Y};Y.push({type:"metadata-url-base",value:Ie}),me==="erc1155"&&(Ie=Ie.replace("{id}",toBeHex$1(xe,32).substring(2)),Y.push({type:"metadata-url-expanded",value:Ie})),Ie.match(/^ipfs:/i)&&(Ie=getIpfsLink$1(Ie)),Y.push({type:"metadata-url",value:Ie});let fr={};const br=await new FetchRequest$1(Ie).send();br.assertOk();try{fr=br.bodyJson}catch{try{Y.push({type:"!metadata",value:br.bodyText})}catch{const jr=br.body;return jr&&Y.push({type:"!metadata",value:hexlify$1(jr)}),{url:null,linkage:Y}}return{url:null,linkage:Y}}if(!fr)return Y.push({type:"!metadata",value:""}),{url:null,linkage:Y};Y.push({type:"metadata",value:JSON.stringify(fr)});let kr=fr.image;if(typeof kr!="string")return Y.push({type:"!imageUrl",value:""}),{url:null,linkage:Y};if(!kr.match(/^(https:\/\/|data:)/i)){if(kr.match(matcherIpfs$1)==null)return Y.push({type:"!imageUrl-ipfs",value:kr}),{url:null,linkage:Y};Y.push({type:"imageUrl-ipfs",value:kr}),kr=getIpfsLink$1(kr)}return Y.push({type:"url",value:kr}),{linkage:Y,url:kr}}}}}catch{}return{linkage:Y,url:null}}static async getEnsAddress(Y){const ne=await Y.getNetwork(),fe=ne.getPlugin("org.ethers.plugins.network.Ens");return assert$3(fe,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:ne}}),fe.address}static async fromName(Y,ne){var ye;let fe=ne;for(;;){if(fe===""||fe==="."||ne!=="eth"&&fe==="eth")return null;const me=await _i(ye=Uu,Ag,Cw).call(ye,Y,fe);if(me!=null){const be=new Uu(Y,me,ne);return fe!==ne&&!await be.supportsWildcard()?null:be}fe=fe.split(".").slice(1).join(".")}}},cf=new WeakMap,wh=new WeakMap,lf=new WeakSet,Ed=async function(Y,ne){ne=(ne||[]).slice();const fe=In(this,wh).interface;ne.unshift(namehash$1(this.name));let ye=null;await this.supportsWildcard()&&(ye=fe.getFunction(Y),assert$3(ye,"missing fragment","UNKNOWN_ERROR",{info:{funcName:Y}}),ne=[dnsEncode$1(this.name,255),fe.encodeFunctionData(ye,ne)],Y="resolve(bytes,bytes)"),ne.push({enableCcipRead:!0});try{const me=await In(this,wh)[Y](...ne);return ye?fe.decodeFunctionResult(ye,me)[0]:me}catch(me){if(!isError$1(me,"CALL_EXCEPTION"))throw me}return null},Ag=new WeakSet,Cw=async function(Y,ne){const fe=await Uu.getEnsAddress(Y);try{const me=await new Contract$1(fe,["function resolver(bytes32) view returns (address)"],Y).resolver(namehash$1(ne),{enableCcipRead:!0});return me===ZeroAddress$1?null:me}catch(ye){throw ye}return null},fi(Uu,Ag),Uu);const BN_0$9=BigInt(0);function allowNull$1(se,Y){return function(ne){return ne==null?Y:se(ne)}}function arrayOf$1(se,Y){return ne=>{if(Y&&ne==null)return null;if(!Array.isArray(ne))throw new Error("not an array");return ne.map(fe=>se(fe))}}function object$2(se,Y){return ne=>{const fe={};for(const ye in se){let me=ye;if(Y&&ye in Y&&!(me in ne)){for(const be of Y[ye])if(be in ne){me=be;break}}try{const be=se[ye](ne[me]);be!==void 0&&(fe[ye]=be)}catch(be){const we=be instanceof Error?be.message:"not-an-error";assert$3(!1,`invalid value for value.${ye} (${we})`,"BAD_DATA",{value:ne})}}return fe}}function formatBoolean$1(se){switch(se){case!0:case"true":return!0;case!1:case"false":return!1}assertArgument$1(!1,`invalid boolean; ${JSON.stringify(se)}`,"value",se)}function formatData$1(se){return assertArgument$1(isHexString$1(se,!0),"invalid data","value",se),se}function formatHash$1(se){return assertArgument$1(isHexString$1(se,32),"invalid hash","value",se),se}const _formatLog$1=object$2({address:getAddress$1,blockHash:formatHash$1,blockNumber:getNumber$1,data:formatData$1,index:getNumber$1,removed:allowNull$1(formatBoolean$1,!1),topics:arrayOf$1(formatHash$1),transactionHash:formatHash$1,transactionIndex:getNumber$1},{index:["logIndex"]});function formatLog$1(se){return _formatLog$1(se)}const _formatBlock$1=object$2({hash:allowNull$1(formatHash$1),parentHash:formatHash$1,parentBeaconBlockRoot:allowNull$1(formatHash$1,null),number:getNumber$1,timestamp:getNumber$1,nonce:allowNull$1(formatData$1),difficulty:getBigInt$1,gasLimit:getBigInt$1,gasUsed:getBigInt$1,stateRoot:allowNull$1(formatHash$1,null),receiptsRoot:allowNull$1(formatHash$1,null),blobGasUsed:allowNull$1(getBigInt$1,null),excessBlobGas:allowNull$1(getBigInt$1,null),miner:allowNull$1(getAddress$1),prevRandao:allowNull$1(formatHash$1,null),extraData:formatData$1,baseFeePerGas:allowNull$1(getBigInt$1)},{prevRandao:["mixHash"]});function formatBlock$1(se){const Y=_formatBlock$1(se);return Y.transactions=se.transactions.map(ne=>typeof ne=="string"?ne:formatTransactionResponse$1(ne)),Y}const _formatReceiptLog$1=object$2({transactionIndex:getNumber$1,blockNumber:getNumber$1,transactionHash:formatHash$1,address:getAddress$1,topics:arrayOf$1(formatHash$1),data:formatData$1,index:getNumber$1,blockHash:formatHash$1},{index:["logIndex"]});function formatReceiptLog$1(se){return _formatReceiptLog$1(se)}const _formatTransactionReceipt$1=object$2({to:allowNull$1(getAddress$1,null),from:allowNull$1(getAddress$1,null),contractAddress:allowNull$1(getAddress$1,null),index:getNumber$1,root:allowNull$1(hexlify$1),gasUsed:getBigInt$1,blobGasUsed:allowNull$1(getBigInt$1,null),logsBloom:allowNull$1(formatData$1),blockHash:formatHash$1,hash:formatHash$1,logs:arrayOf$1(formatReceiptLog$1),blockNumber:getNumber$1,cumulativeGasUsed:getBigInt$1,effectiveGasPrice:allowNull$1(getBigInt$1),blobGasPrice:allowNull$1(getBigInt$1,null),status:allowNull$1(getNumber$1),type:allowNull$1(getNumber$1,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function formatTransactionReceipt$1(se){return _formatTransactionReceipt$1(se)}function formatTransactionResponse$1(se){se.to&&getBigInt$1(se.to)===BN_0$9&&(se.to="0x0000000000000000000000000000000000000000");const Y=object$2({hash:formatHash$1,index:allowNull$1(getNumber$1,void 0),type:ne=>ne==="0x"||ne==null?0:getNumber$1(ne),accessList:allowNull$1(accessListify$1,null),blobVersionedHashes:allowNull$1(arrayOf$1(formatHash$1,!0),null),blockHash:allowNull$1(formatHash$1,null),blockNumber:allowNull$1(getNumber$1,null),transactionIndex:allowNull$1(getNumber$1,null),from:getAddress$1,gasPrice:allowNull$1(getBigInt$1),maxPriorityFeePerGas:allowNull$1(getBigInt$1),maxFeePerGas:allowNull$1(getBigInt$1),maxFeePerBlobGas:allowNull$1(getBigInt$1,null),gasLimit:getBigInt$1,to:allowNull$1(getAddress$1,null),value:getBigInt$1,nonce:getNumber$1,data:formatData$1,creates:allowNull$1(getAddress$1,null),chainId:allowNull$1(getBigInt$1,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(se);if(Y.to==null&&Y.creates==null&&(Y.creates=getCreateAddress$1(Y)),(se.type===1||se.type===2)&&se.accessList==null&&(Y.accessList=[]),se.signature?Y.signature=Signature$1.from(se.signature):Y.signature=Signature$1.from(se),Y.chainId==null){const ne=Y.signature.legacyChainId;ne!=null&&(Y.chainId=ne)}return Y.blockHash&&getBigInt$1(Y.blockHash)===BN_0$9&&(Y.blockHash=null),Y}const EnsAddress$1="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";let NetworkPlugin$1=class Sw{constructor(Y){li(this,"name");defineProperties$1(this,{name:Y})}clone(){return new Sw(this.name)}},GasCostPlugin$1=class Aw extends NetworkPlugin$1{constructor(ne,fe){ne==null&&(ne=0);super(`org.ethers.network.plugins.GasCost#${ne||0}`);li(this,"effectiveBlock");li(this,"txBase");li(this,"txCreate");li(this,"txDataZero");li(this,"txDataNonzero");li(this,"txAccessListStorageKey");li(this,"txAccessListAddress");const ye={effectiveBlock:ne};function me(be,we){let Ee=(fe||{})[be];Ee==null&&(Ee=we),assertArgument$1(typeof Ee=="number",`invalud value for ${be}`,"costs",fe),ye[be]=Ee}me("txBase",21e3),me("txCreate",32e3),me("txDataZero",4),me("txDataNonzero",16),me("txAccessListStorageKey",1900),me("txAccessListAddress",2400),defineProperties$1(this,ye)}clone(){return new Aw(this.effectiveBlock,this)}},EnsPlugin$1=class Rw extends NetworkPlugin$1{constructor(ne,fe){super("org.ethers.plugins.network.Ens");li(this,"address");li(this,"targetNetwork");defineProperties$1(this,{address:ne||EnsAddress$1,targetNetwork:fe??1})}clone(){return new Rw(this.address,this.targetNetwork)}};var Wp,jp,rw;let FetchUrlFeeDataNetworkPlugin$1=(rw=class extends NetworkPlugin$1{constructor(ne,fe){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");fi(this,Wp);fi(this,jp);Yn(this,Wp,ne),Yn(this,jp,fe)}get url(){return In(this,Wp)}get processFunc(){return In(this,jp)}clone(){return this}},Wp=new WeakMap,jp=new WeakMap,rw);const Networks$1=new Map;var n0,i0,uf,Fu;let Network$1=(Fu=class{constructor(Y,ne){fi(this,n0);fi(this,i0);fi(this,uf);Yn(this,n0,Y),Yn(this,i0,getBigInt$1(ne)),Yn(this,uf,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return In(this,n0)}set name(Y){Yn(this,n0,Y)}get chainId(){return In(this,i0)}set chainId(Y){Yn(this,i0,getBigInt$1(Y,"chainId"))}matches(Y){if(Y==null)return!1;if(typeof Y=="string"){try{return this.chainId===getBigInt$1(Y)}catch{}return this.name===Y}if(typeof Y=="number"||typeof Y=="bigint"){try{return this.chainId===getBigInt$1(Y)}catch{}return!1}if(typeof Y=="object"){if(Y.chainId!=null){try{return this.chainId===getBigInt$1(Y.chainId)}catch{}return!1}return Y.name!=null?this.name===Y.name:!1}return!1}get plugins(){return Array.from(In(this,uf).values())}attachPlugin(Y){if(In(this,uf).get(Y.name))throw new Error(`cannot replace existing plugin: ${Y.name} `);return In(this,uf).set(Y.name,Y.clone()),this}getPlugin(Y){return In(this,uf).get(Y)||null}getPlugins(Y){return this.plugins.filter(ne=>ne.name.split("#")[0]===Y)}clone(){const Y=new Fu(this.name,this.chainId);return this.plugins.forEach(ne=>{Y.attachPlugin(ne.clone())}),Y}computeIntrinsicGas(Y){const ne=this.getPlugin("org.ethers.plugins.network.GasCost")||new GasCostPlugin$1;let fe=ne.txBase;if(Y.to==null&&(fe+=ne.txCreate),Y.data)for(let ye=2;ye<Y.data.length;ye+=2)Y.data.substring(ye,ye+2)==="00"?fe+=ne.txDataZero:fe+=ne.txDataNonzero;if(Y.accessList){const ye=accessListify$1(Y.accessList);for(const me in ye)fe+=ne.txAccessListAddress+ne.txAccessListStorageKey*ye[me].storageKeys.length}return fe}static from(Y){if(injectCommonNetworks$1(),Y==null)return Fu.from("mainnet");if(typeof Y=="number"&&(Y=BigInt(Y)),typeof Y=="string"||typeof Y=="bigint"){const ne=Networks$1.get(Y);if(ne)return ne();if(typeof Y=="bigint")return new Fu("unknown",Y);assertArgument$1(!1,"unknown network","network",Y)}if(typeof Y.clone=="function")return Y.clone();if(typeof Y=="object"){assertArgument$1(typeof Y.name=="string"&&typeof Y.chainId=="number","invalid network object name or chainId","network",Y);const ne=new Fu(Y.name,Y.chainId);return(Y.ensAddress||Y.ensNetwork!=null)&&ne.attachPlugin(new EnsPlugin$1(Y.ensAddress,Y.ensNetwork)),ne}assertArgument$1(!1,"invalid network","network",Y)}static register(Y,ne){typeof Y=="number"&&(Y=BigInt(Y));const fe=Networks$1.get(Y);fe&&assertArgument$1(!1,`conflicting network for ${JSON.stringify(fe.name)}`,"nameOrChainId",Y),Networks$1.set(Y,ne)}},n0=new WeakMap,i0=new WeakMap,uf=new WeakMap,Fu);function parseUnits$1(se,Y){const ne=String(se);if(!ne.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${se}`);const fe=ne.split(".");if(fe.length===1&&fe.push(""),fe.length!==2)throw new Error(`invalid gwei value: ${se}`);for(;fe[1].length<Y;)fe[1]+="0";if(fe[1].length>9){let ye=BigInt(fe[1].substring(0,9));fe[1].substring(9).match(/^0+$/)||ye++,fe[1]=ye.toString()}return BigInt(fe[0]+fe[1])}function getGasStationPlugin$1(se){return new FetchUrlFeeDataNetworkPlugin$1(se,async(Y,ne,fe)=>{fe.setHeader("User-Agent","ethers");let ye;try{const[me,be]=await Promise.all([fe.send(),Y()]);ye=me;const we=ye.bodyJson.standard;return{gasPrice:be.gasPrice,maxFeePerGas:parseUnits$1(we.maxFee,9),maxPriorityFeePerGas:parseUnits$1(we.maxPriorityFee,9)}}catch(me){assert$3(!1,`error encountered with polygon gas station (${JSON.stringify(fe.url)})`,"SERVER_ERROR",{request:fe,response:ye,error:me})}})}let injected$1=!1;function injectCommonNetworks$1(){if(injected$1)return;injected$1=!0;function se(Y,ne,fe){const ye=function(){const me=new Network$1(Y,ne);return fe.ensNetwork!=null&&me.attachPlugin(new EnsPlugin$1(null,fe.ensNetwork)),me.attachPlugin(new GasCostPlugin$1),(fe.plugins||[]).forEach(be=>{me.attachPlugin(be)}),me};Network$1.register(Y,ye),Network$1.register(ne,ye),fe.altNames&&fe.altNames.forEach(me=>{Network$1.register(me,ye)})}se("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),se("ropsten",3,{ensNetwork:3}),se("rinkeby",4,{ensNetwork:4}),se("goerli",5,{ensNetwork:5}),se("kovan",42,{ensNetwork:42}),se("sepolia",11155111,{ensNetwork:11155111}),se("holesky",17e3,{ensNetwork:17e3}),se("classic",61,{}),se("classicKotti",6,{}),se("arbitrum",42161,{ensNetwork:1}),se("arbitrum-goerli",421613,{}),se("arbitrum-sepolia",421614,{}),se("base",8453,{ensNetwork:1}),se("base-goerli",84531,{}),se("base-sepolia",84532,{}),se("bnb",56,{ensNetwork:1}),se("bnbt",97,{}),se("linea",59144,{ensNetwork:1}),se("linea-goerli",59140,{}),se("linea-sepolia",59141,{}),se("matic",137,{ensNetwork:1,plugins:[getGasStationPlugin$1("https://gasstation.polygon.technology/v2")]}),se("matic-amoy",80002,{}),se("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[getGasStationPlugin$1("https://gasstation-testnet.polygon.technology/v2")]}),se("optimism",10,{ensNetwork:1,plugins:[]}),se("optimism-goerli",420,{}),se("optimism-sepolia",11155420,{}),se("xdai",100,{ensNetwork:1})}function copy$5(se){return JSON.parse(JSON.stringify(se))}var $u,nl,ff,ql,s0,yg,nw;let PollingBlockSubscriber$1=(nw=class{constructor(Y){fi(this,s0);fi(this,$u);fi(this,nl);fi(this,ff);fi(this,ql);Yn(this,$u,Y),Yn(this,nl,null),Yn(this,ff,4e3),Yn(this,ql,-2)}get pollingInterval(){return In(this,ff)}set pollingInterval(Y){Yn(this,ff,Y)}start(){In(this,nl)||(Yn(this,nl,In(this,$u)._setTimeout(_i(this,s0,yg).bind(this),In(this,ff))),_i(this,s0,yg).call(this))}stop(){In(this,nl)&&(In(this,$u)._clearTimeout(In(this,nl)),Yn(this,nl,null))}pause(Y){this.stop(),Y&&Yn(this,ql,-2)}resume(){this.start()}},$u=new WeakMap,nl=new WeakMap,ff=new WeakMap,ql=new WeakMap,s0=new WeakSet,yg=async function(){try{const Y=await In(this,$u).getBlockNumber();if(In(this,ql)===-2){Yn(this,ql,Y);return}if(Y!==In(this,ql)){for(let ne=In(this,ql)+1;ne<=Y;ne++){if(In(this,nl)==null)return;await In(this,$u).emit("block",ne)}Yn(this,ql,Y)}}catch{}In(this,nl)!=null&&Yn(this,nl,In(this,$u)._setTimeout(_i(this,s0,yg).bind(this),In(this,ff)))},nw);var _h,$h,hf,iw;let OnBlockSubscriber$1=(iw=class{constructor(Y){fi(this,_h);fi(this,$h);fi(this,hf);Yn(this,_h,Y),Yn(this,hf,!1),Yn(this,$h,ne=>{this._poll(ne,In(this,_h))})}async _poll(Y,ne){throw new Error("sub-classes must override this")}start(){In(this,hf)||(Yn(this,hf,!0),In(this,$h).call(this,-2),In(this,_h).on("block",In(this,$h)))}stop(){In(this,hf)&&(Yn(this,hf,!1),In(this,_h).off("block",In(this,$h)))}pause(Y){this.stop()}resume(){this.start()}},_h=new WeakMap,$h=new WeakMap,hf=new WeakMap,iw);var a0,Eu,sw;let PollingBlockTagSubscriber$1=(sw=class extends OnBlockSubscriber$1{constructor(ne,fe){super(ne);fi(this,a0);fi(this,Eu);Yn(this,a0,fe),Yn(this,Eu,-2)}pause(ne){ne&&Yn(this,Eu,-2),super.pause(ne)}async _poll(ne,fe){const ye=await fe.getBlock(In(this,a0));ye!=null&&(In(this,Eu)===-2?Yn(this,Eu,ye.number):ye.number>In(this,Eu)&&(fe.emit(In(this,a0),ye.number),Yn(this,Eu,ye.number)))}},a0=new WeakMap,Eu=new WeakMap,sw);var Rg,aw;let PollingOrphanSubscriber$1=(aw=class extends OnBlockSubscriber$1{constructor(ne,fe){super(ne);fi(this,Rg);Yn(this,Rg,copy$5(fe))}async _poll(ne,fe){throw new Error("@TODO")}},Rg=new WeakMap,aw);var o0,ow;let PollingTransactionSubscriber$1=(ow=class extends OnBlockSubscriber$1{constructor(ne,fe){super(ne);fi(this,o0);Yn(this,o0,fe)}async _poll(ne,fe){const ye=await fe.getTransactionReceipt(In(this,o0));ye&&fe.emit(In(this,o0),ye)}},o0=new WeakMap,ow);var xu,c0,l0,df,il,Ig,Iw,cw;let PollingEventSubscriber$1=(cw=class{constructor(Y,ne){fi(this,Ig);fi(this,xu);fi(this,c0);fi(this,l0);fi(this,df);fi(this,il);Yn(this,xu,Y),Yn(this,c0,copy$5(ne)),Yn(this,l0,_i(this,Ig,Iw).bind(this)),Yn(this,df,!1),Yn(this,il,-2)}start(){In(this,df)||(Yn(this,df,!0),In(this,il)===-2&&In(this,xu).getBlockNumber().then(Y=>{Yn(this,il,Y)}),In(this,xu).on("block",In(this,l0)))}stop(){In(this,df)&&(Yn(this,df,!1),In(this,xu).off("block",In(this,l0)))}pause(Y){this.stop(),Y&&Yn(this,il,-2)}resume(){this.start()}},xu=new WeakMap,c0=new WeakMap,l0=new WeakMap,df=new WeakMap,il=new WeakMap,Ig=new WeakSet,Iw=async function(Y){if(In(this,il)===-2)return;const ne=copy$5(In(this,c0));ne.fromBlock=In(this,il)+1,ne.toBlock=Y;const fe=await In(this,xu).getLogs(ne);if(fe.length===0){In(this,il)<Y-60&&Yn(this,il,Y-60);return}for(const ye of fe)In(this,xu).emit(In(this,c0),ye),Yn(this,il,ye.blockNumber)},cw);const BN_2$3=BigInt(2),MAX_CCIP_REDIRECTS$1=10;function isPromise$1(se){return se&&typeof se.then=="function"}function getTag$1(se,Y){return se+":"+JSON.stringify(Y,(ne,fe)=>{if(fe==null)return"null";if(typeof fe=="bigint")return`bigint:${fe.toString()}`;if(typeof fe=="string")return fe.toLowerCase();if(typeof fe=="object"&&!Array.isArray(fe)){const ye=Object.keys(fe);return ye.sort(),ye.reduce((me,be)=>(me[be]=fe[be],me),{})}return fe})}let UnmanagedSubscriber$1=class{constructor(Y){li(this,"name");defineProperties$1(this,{name:Y})}start(){}stop(){}pause(Y){}resume(){}};function copy$4(se){return JSON.parse(JSON.stringify(se))}function concisify$1(se){return se=Array.from(new Set(se).values()),se.sort(),se}async function getSubscription$1(se,Y){if(se==null)throw new Error("invalid event");if(Array.isArray(se)&&(se={topics:se}),typeof se=="string")switch(se){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:se,tag:se}}if(isHexString$1(se,32)){const ne=se.toLowerCase();return{type:"transaction",tag:getTag$1("tx",{hash:ne}),hash:ne}}if(se.orphan){const ne=se;return{type:"orphan",tag:getTag$1("orphan",ne),filter:copy$4(ne)}}if(se.address||se.topics){const ne=se,fe={topics:(ne.topics||[]).map(ye=>ye==null?null:Array.isArray(ye)?concisify$1(ye.map(me=>me.toLowerCase())):ye.toLowerCase())};if(ne.address){const ye=[],me=[],be=we=>{isHexString$1(we)?ye.push(we):me.push((async()=>{ye.push(await resolveAddress$1(we,Y))})())};Array.isArray(ne.address)?ne.address.forEach(be):be(ne.address),me.length&&await Promise.all(me),fe.address=concisify$1(ye.map(we=>we.toLowerCase()))}return{filter:fe,tag:getTag$1("event",fe),type:"event"}}assertArgument$1(!1,"unknown ProviderEvent","event",se)}function getTime$2(){return new Date().getTime()}const defaultOptions$3={cacheTimeout:250,pollingInterval:4e3};var ac,pf,oc,u0,Wc,Eh,gf,Cu,Hp,sl,f0,h0,to,Dc,yy,by,Ap,vy,Rp,bg,lw;let AbstractProvider$1=(lw=class{constructor(Y,ne){fi(this,to);fi(this,ac);fi(this,pf);fi(this,oc);fi(this,u0);fi(this,Wc);fi(this,Eh);fi(this,gf);fi(this,Cu);fi(this,Hp);fi(this,sl);fi(this,f0);fi(this,h0);if(Yn(this,h0,Object.assign({},defaultOptions$3,ne||{})),Y==="any")Yn(this,Eh,!0),Yn(this,Wc,null);else if(Y){const fe=Network$1.from(Y);Yn(this,Eh,!1),Yn(this,Wc,Promise.resolve(fe)),setTimeout(()=>{this.emit("network",fe,null)},0)}else Yn(this,Eh,!1),Yn(this,Wc,null);Yn(this,Cu,-1),Yn(this,gf,new Map),Yn(this,ac,new Map),Yn(this,pf,new Map),Yn(this,oc,null),Yn(this,u0,!1),Yn(this,Hp,1),Yn(this,sl,new Map),Yn(this,f0,!1)}get pollingInterval(){return In(this,h0).pollingInterval}get provider(){return this}get plugins(){return Array.from(In(this,pf).values())}attachPlugin(Y){if(In(this,pf).get(Y.name))throw new Error(`cannot replace existing plugin: ${Y.name} `);return In(this,pf).set(Y.name,Y.connect(this)),this}getPlugin(Y){return In(this,pf).get(Y)||null}get disableCcipRead(){return In(this,f0)}set disableCcipRead(Y){Yn(this,f0,!!Y)}async ccipReadFetch(Y,ne,fe){if(this.disableCcipRead||fe.length===0||Y.to==null)return null;const ye=Y.to.toLowerCase(),me=ne.toLowerCase(),be=[];for(let we=0;we<fe.length;we++){const Ee=fe[we],xe=Ee.replace("{sender}",ye).replace("{data}",me),Se=new FetchRequest$1(xe);Ee.indexOf("{data}")===-1&&(Se.body={data:me,sender:ye}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:Se,index:we,urls:fe});let Ie="unknown error",fr;try{fr=await Se.send()}catch(br){be.push(br.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:Se,result:{error:br}});continue}try{const br=fr.bodyJson;if(br.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:Se,result:br}),br.data;br.message&&(Ie=br.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:Se,result:br})}catch{}assert$3(fr.statusCode<400||fr.statusCode>=500,`response not found during CCIP fetch: ${Ie}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:Y,info:{url:Ee,errorMessage:Ie}}),be.push(Ie)}assert$3(!1,`error encountered during CCIP fetch: ${be.map(we=>JSON.stringify(we)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:Y,info:{urls:fe,errorMessages:be}})}_wrapBlock(Y,ne){return new Block$1(formatBlock$1(Y),this)}_wrapLog(Y,ne){return new Log$1(formatLog$1(Y),this)}_wrapTransactionReceipt(Y,ne){return new TransactionReceipt$1(formatTransactionReceipt$1(Y),this)}_wrapTransactionResponse(Y,ne){return new TransactionResponse$1(formatTransactionResponse$1(Y),this)}_detectNetwork(){assert$3(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(Y){assert$3(!1,`unsupported method: ${Y.method}`,"UNSUPPORTED_OPERATION",{operation:Y.method,info:Y})}async getBlockNumber(){const Y=getNumber$1(await _i(this,to,Dc).call(this,{method:"getBlockNumber"}),"%response");return In(this,Cu)>=0&&Yn(this,Cu,Y),Y}_getAddress(Y){return resolveAddress$1(Y,this)}_getBlockTag(Y){if(Y==null)return"latest";switch(Y){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return Y}if(isHexString$1(Y))return isHexString$1(Y,32)?Y:toQuantity$1(Y);if(typeof Y=="bigint"&&(Y=getNumber$1(Y,"blockTag")),typeof Y=="number")return Y>=0?toQuantity$1(Y):In(this,Cu)>=0?toQuantity$1(In(this,Cu)+Y):this.getBlockNumber().then(ne=>toQuantity$1(ne+Y));assertArgument$1(!1,"invalid blockTag","blockTag",Y)}_getFilter(Y){const ne=(Y.topics||[]).map(Ee=>Ee==null?null:Array.isArray(Ee)?concisify$1(Ee.map(xe=>xe.toLowerCase())):Ee.toLowerCase()),fe="blockHash"in Y?Y.blockHash:void 0,ye=(Ee,xe,Se)=>{let Ie;switch(Ee.length){case 0:break;case 1:Ie=Ee[0];break;default:Ee.sort(),Ie=Ee}if(fe&&(xe!=null||Se!=null))throw new Error("invalid filter");const fr={};return Ie&&(fr.address=Ie),ne.length&&(fr.topics=ne),xe&&(fr.fromBlock=xe),Se&&(fr.toBlock=Se),fe&&(fr.blockHash=fe),fr};let me=[];if(Y.address)if(Array.isArray(Y.address))for(const Ee of Y.address)me.push(this._getAddress(Ee));else me.push(this._getAddress(Y.address));let be;"fromBlock"in Y&&(be=this._getBlockTag(Y.fromBlock));let we;return"toBlock"in Y&&(we=this._getBlockTag(Y.toBlock)),me.filter(Ee=>typeof Ee!="string").length||be!=null&&typeof be!="string"||we!=null&&typeof we!="string"?Promise.all([Promise.all(me),be,we]).then(Ee=>ye(Ee[0],Ee[1],Ee[2])):ye(me,be,we)}_getTransactionRequest(Y){const ne=copyRequest$1(Y),fe=[];if(["to","from"].forEach(ye=>{if(ne[ye]==null)return;const me=resolveAddress$1(ne[ye],this);isPromise$1(me)?fe.push(async function(){ne[ye]=await me}()):ne[ye]=me}),ne.blockTag!=null){const ye=this._getBlockTag(ne.blockTag);isPromise$1(ye)?fe.push(async function(){ne.blockTag=await ye}()):ne.blockTag=ye}return fe.length?async function(){return await Promise.all(fe),ne}():ne}async getNetwork(){if(In(this,Wc)==null){const ye=(async()=>{try{const me=await this._detectNetwork();return this.emit("network",me,null),me}catch(me){throw In(this,Wc)===ye&&Yn(this,Wc,null),me}})();return Yn(this,Wc,ye),(await ye).clone()}const Y=In(this,Wc),[ne,fe]=await Promise.all([Y,this._detectNetwork()]);return ne.chainId!==fe.chainId&&(In(this,Eh)?(this.emit("network",fe,ne),In(this,Wc)===Y&&Yn(this,Wc,Promise.resolve(fe))):assert$3(!1,`network changed: ${ne.chainId} => ${fe.chainId} `,"NETWORK_ERROR",{event:"changed"})),ne.clone()}async getFeeData(){const Y=await this.getNetwork(),ne=async()=>{const{_block:ye,gasPrice:me,priorityFee:be}=await resolveProperties$1({_block:_i(this,to,vy).call(this,"latest",!1),gasPrice:(async()=>{try{const Se=await _i(this,to,Dc).call(this,{method:"getGasPrice"});return getBigInt$1(Se,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const Se=await _i(this,to,Dc).call(this,{method:"getPriorityFee"});return getBigInt$1(Se,"%response")}catch{}return null})()});let we=null,Ee=null;const xe=this._wrapBlock(ye,Y);return xe&&xe.baseFeePerGas&&(Ee=be??BigInt("1000000000"),we=xe.baseFeePerGas*BN_2$3+Ee),new FeeData$1(me,we,Ee)},fe=Y.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(fe){const ye=new FetchRequest$1(fe.url),me=await fe.processFunc(ne,this,ye);return new FeeData$1(me.gasPrice,me.maxFeePerGas,me.maxPriorityFeePerGas)}return await ne()}async estimateGas(Y){let ne=this._getTransactionRequest(Y);return isPromise$1(ne)&&(ne=await ne),getBigInt$1(await _i(this,to,Dc).call(this,{method:"estimateGas",transaction:ne}),"%response")}async call(Y){const{tx:ne,blockTag:fe}=await resolveProperties$1({tx:this._getTransactionRequest(Y),blockTag:this._getBlockTag(Y.blockTag)});return await _i(this,to,by).call(this,_i(this,to,yy).call(this,ne,fe,Y.enableCcipRead?0:-1))}async getBalance(Y,ne){return getBigInt$1(await _i(this,to,Ap).call(this,{method:"getBalance"},Y,ne),"%response")}async getTransactionCount(Y,ne){return getNumber$1(await _i(this,to,Ap).call(this,{method:"getTransactionCount"},Y,ne),"%response")}async getCode(Y,ne){return hexlify$1(await _i(this,to,Ap).call(this,{method:"getCode"},Y,ne))}async getStorage(Y,ne,fe){const ye=getBigInt$1(ne,"position");return hexlify$1(await _i(this,to,Ap).call(this,{method:"getStorage",position:ye},Y,fe))}async broadcastTransaction(Y){const{blockNumber:ne,hash:fe,network:ye}=await resolveProperties$1({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:Y}),network:this.getNetwork()}),me=Transaction$1.from(Y);if(me.hash!==fe)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(me,ye).replaceableTransaction(ne)}async getBlock(Y,ne){const{network:fe,params:ye}=await resolveProperties$1({network:this.getNetwork(),params:_i(this,to,vy).call(this,Y,!!ne)});return ye==null?null:this._wrapBlock(ye,fe)}async getTransaction(Y){const{network:ne,params:fe}=await resolveProperties$1({network:this.getNetwork(),params:_i(this,to,Dc).call(this,{method:"getTransaction",hash:Y})});return fe==null?null:this._wrapTransactionResponse(fe,ne)}async getTransactionReceipt(Y){const{network:ne,params:fe}=await resolveProperties$1({network:this.getNetwork(),params:_i(this,to,Dc).call(this,{method:"getTransactionReceipt",hash:Y})});if(fe==null)return null;if(fe.gasPrice==null&&fe.effectiveGasPrice==null){const ye=await _i(this,to,Dc).call(this,{method:"getTransaction",hash:Y});if(ye==null)throw new Error("report this; could not find tx or effectiveGasPrice");fe.effectiveGasPrice=ye.gasPrice}return this._wrapTransactionReceipt(fe,ne)}async getTransactionResult(Y){const{result:ne}=await resolveProperties$1({network:this.getNetwork(),result:_i(this,to,Dc).call(this,{method:"getTransactionResult",hash:Y})});return ne==null?null:hexlify$1(ne)}async getLogs(Y){let ne=this._getFilter(Y);isPromise$1(ne)&&(ne=await ne);const{network:fe,params:ye}=await resolveProperties$1({network:this.getNetwork(),params:_i(this,to,Dc).call(this,{method:"getLogs",filter:ne})});return ye.map(me=>this._wrapLog(me,fe))}_getProvider(Y){assert$3(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(Y){return await EnsResolver$1.fromName(this,Y)}async getAvatar(Y){const ne=await this.getResolver(Y);return ne?await ne.getAvatar():null}async resolveName(Y){const ne=await this.getResolver(Y);return ne?await ne.getAddress():null}async lookupAddress(Y){Y=getAddress$1(Y);const ne=namehash$1(Y.substring(2).toLowerCase()+".addr.reverse");try{const fe=await EnsResolver$1.getEnsAddress(this),me=await new Contract$1(fe,["function resolver(bytes32) view returns (address)"],this).resolver(ne);if(me==null||me===ZeroAddress$1)return null;const we=await new Contract$1(me,["function name(bytes32) view returns (string)"],this).name(ne);return await this.resolveName(we)!==Y?null:we}catch(fe){if(isError$1(fe,"BAD_DATA")&&fe.value==="0x"||isError$1(fe,"CALL_EXCEPTION"))return null;throw fe}return null}async waitForTransaction(Y,ne,fe){const ye=ne??1;return ye===0?this.getTransactionReceipt(Y):new Promise(async(me,be)=>{let we=null;const Ee=async xe=>{try{const Se=await this.getTransactionReceipt(Y);if(Se!=null&&xe-Se.blockNumber+1>=ye){me(Se),we&&(clearTimeout(we),we=null);return}}catch(Se){console.log("EEE",Se)}this.once("block",Ee)};fe!=null&&(we=setTimeout(()=>{we!=null&&(we=null,this.off("block",Ee),be(makeError$1("timeout","TIMEOUT",{reason:"timeout"})))},fe)),Ee(await this.getBlockNumber())})}async waitForBlock(Y){assert$3(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(Y){const ne=In(this,sl).get(Y);ne&&(ne.timer&&clearTimeout(ne.timer),In(this,sl).delete(Y))}_setTimeout(Y,ne){ne==null&&(ne=0);const fe=fu(this,Hp)._++,ye=()=>{In(this,sl).delete(fe),Y()};if(this.paused)In(this,sl).set(fe,{timer:null,func:ye,time:ne});else{const me=setTimeout(ye,ne);In(this,sl).set(fe,{timer:me,func:ye,time:getTime$2()})}return fe}_forEachSubscriber(Y){for(const ne of In(this,ac).values())Y(ne.subscriber)}_getSubscriber(Y){switch(Y.type){case"debug":case"error":case"network":return new UnmanagedSubscriber$1(Y.type);case"block":{const ne=new PollingBlockSubscriber$1(this);return ne.pollingInterval=this.pollingInterval,ne}case"safe":case"finalized":return new PollingBlockTagSubscriber$1(this,Y.type);case"event":return new PollingEventSubscriber$1(this,Y.filter);case"transaction":return new PollingTransactionSubscriber$1(this,Y.hash);case"orphan":return new PollingOrphanSubscriber$1(this,Y.filter)}throw new Error(`unsupported event: ${Y.type}`)}_recoverSubscriber(Y,ne){for(const fe of In(this,ac).values())if(fe.subscriber===Y){fe.started&&fe.subscriber.stop(),fe.subscriber=ne,fe.started&&ne.start(),In(this,oc)!=null&&ne.pause(In(this,oc));break}}async on(Y,ne){const fe=await _i(this,to,bg).call(this,Y);return fe.listeners.push({listener:ne,once:!1}),fe.started||(fe.subscriber.start(),fe.started=!0,In(this,oc)!=null&&fe.subscriber.pause(In(this,oc))),this}async once(Y,ne){const fe=await _i(this,to,bg).call(this,Y);return fe.listeners.push({listener:ne,once:!0}),fe.started||(fe.subscriber.start(),fe.started=!0,In(this,oc)!=null&&fe.subscriber.pause(In(this,oc))),this}async emit(Y,...ne){const fe=await _i(this,to,Rp).call(this,Y,ne);if(!fe||fe.listeners.length===0)return!1;const ye=fe.listeners.length;return fe.listeners=fe.listeners.filter(({listener:me,once:be})=>{const we=new EventPayload$1(this,be?null:me,Y);try{me.call(this,...ne,we)}catch{}return!be}),fe.listeners.length===0&&(fe.started&&fe.subscriber.stop(),In(this,ac).delete(fe.tag)),ye>0}async listenerCount(Y){if(Y){const fe=await _i(this,to,Rp).call(this,Y);return fe?fe.listeners.length:0}let ne=0;for(const{listeners:fe}of In(this,ac).values())ne+=fe.length;return ne}async listeners(Y){if(Y){const fe=await _i(this,to,Rp).call(this,Y);return fe?fe.listeners.map(({listener:ye})=>ye):[]}let ne=[];for(const{listeners:fe}of In(this,ac).values())ne=ne.concat(fe.map(({listener:ye})=>ye));return ne}async off(Y,ne){const fe=await _i(this,to,Rp).call(this,Y);if(!fe)return this;if(ne){const ye=fe.listeners.map(({listener:me})=>me).indexOf(ne);ye>=0&&fe.listeners.splice(ye,1)}return(!ne||fe.listeners.length===0)&&(fe.started&&fe.subscriber.stop(),In(this,ac).delete(fe.tag)),this}async removeAllListeners(Y){if(Y){const{tag:ne,started:fe,subscriber:ye}=await _i(this,to,bg).call(this,Y);fe&&ye.stop(),In(this,ac).delete(ne)}else for(const[ne,{started:fe,subscriber:ye}]of In(this,ac))fe&&ye.stop(),In(this,ac).delete(ne);return this}async addListener(Y,ne){return await this.on(Y,ne)}async removeListener(Y,ne){return this.off(Y,ne)}get destroyed(){return In(this,u0)}destroy(){this.removeAllListeners();for(const Y of In(this,sl).keys())this._clearTimeout(Y);Yn(this,u0,!0)}get paused(){return In(this,oc)!=null}set paused(Y){!!Y!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(Y){if(Yn(this,Cu,-1),In(this,oc)!=null){if(In(this,oc)==!!Y)return;assert$3(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(ne=>ne.pause(Y)),Yn(this,oc,!!Y);for(const ne of In(this,sl).values())ne.timer&&clearTimeout(ne.timer),ne.time=getTime$2()-ne.time}resume(){if(In(this,oc)!=null){this._forEachSubscriber(Y=>Y.resume()),Yn(this,oc,null);for(const Y of In(this,sl).values()){let ne=Y.time;ne<0&&(ne=0),Y.time=getTime$2(),setTimeout(Y.func,ne)}}}},ac=new WeakMap,pf=new WeakMap,oc=new WeakMap,u0=new WeakMap,Wc=new WeakMap,Eh=new WeakMap,gf=new WeakMap,Cu=new WeakMap,Hp=new WeakMap,sl=new WeakMap,f0=new WeakMap,h0=new WeakMap,to=new WeakSet,Dc=async function(Y){const ne=In(this,h0).cacheTimeout;if(ne<0)return await this._perform(Y);const fe=getTag$1(Y.method,Y);let ye=In(this,gf).get(fe);return ye||(ye=this._perform(Y),In(this,gf).set(fe,ye),setTimeout(()=>{In(this,gf).get(fe)===ye&&In(this,gf).delete(fe)},ne)),await ye},yy=async function(Y,ne,fe){assert$3(fe<MAX_CCIP_REDIRECTS$1,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},Y,{blockTag:ne,enableCcipRead:!0})});const ye=copyRequest$1(Y);try{return hexlify$1(await this._perform({method:"call",transaction:ye,blockTag:ne}))}catch(me){if(!this.disableCcipRead&&isCallException$1(me)&&me.data&&fe>=0&&ne==="latest"&&ye.to!=null&&dataSlice$1(me.data,0,4)==="0x556f1830"){const be=me.data,we=await resolveAddress$1(ye.to,this);let Ee;try{Ee=parseOffchainLookup$1(dataSlice$1(me.data,4))}catch(Ie){assert$3(!1,Ie.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:ye,info:{data:be}})}assert$3(Ee.sender.toLowerCase()===we.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:be,reason:"OffchainLookup",transaction:ye,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:Ee.errorArgs}});const xe=await this.ccipReadFetch(ye,Ee.calldata,Ee.urls);assert$3(xe!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:ye,info:{data:me.data,errorArgs:Ee.errorArgs}});const Se={to:we,data:concat$1([Ee.selector,encodeBytes$1([xe,Ee.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:Se});try{const Ie=await _i(this,to,yy).call(this,Se,ne,fe+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},Se),result:Ie}),Ie}catch(Ie){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},Se),error:Ie}),Ie}}throw me}},by=async function(Y){const{value:ne}=await resolveProperties$1({network:this.getNetwork(),value:Y});return ne},Ap=async function(Y,ne,fe){let ye=this._getAddress(ne),me=this._getBlockTag(fe);return(typeof ye!="string"||typeof me!="string")&&([ye,me]=await Promise.all([ye,me])),await _i(this,to,by).call(this,_i(this,to,Dc).call(this,Object.assign(Y,{address:ye,blockTag:me})))},vy=async function(Y,ne){if(isHexString$1(Y,32))return await _i(this,to,Dc).call(this,{method:"getBlock",blockHash:Y,includeTransactions:ne});let fe=this._getBlockTag(Y);return typeof fe!="string"&&(fe=await fe),await _i(this,to,Dc).call(this,{method:"getBlock",blockTag:fe,includeTransactions:ne})},Rp=async function(Y,ne){let fe=await getSubscription$1(Y,this);return fe.type==="event"&&ne&&ne.length>0&&ne[0].removed===!0&&(fe=await getSubscription$1({orphan:"drop-log",log:ne[0]},this)),In(this,ac).get(fe.tag)||null},bg=async function(Y){const ne=await getSubscription$1(Y,this),fe=ne.tag;let ye=In(this,ac).get(fe);return ye||(ye={subscriber:this._getSubscriber(ne),tag:fe,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},In(this,ac).set(fe,ye)),ye},lw);function _parseString$1(se,Y){try{const ne=_parseBytes$1(se,Y);if(ne)return toUtf8String$1(ne)}catch{}return null}function _parseBytes$1(se,Y){if(se==="0x")return null;try{const ne=getNumber$1(dataSlice$1(se,Y,Y+32)),fe=getNumber$1(dataSlice$1(se,ne,ne+32));return dataSlice$1(se,ne+32,ne+32+fe)}catch{}return null}function numPad$1(se){const Y=toBeArray$1(se);if(Y.length>32)throw new Error("internal; should not happen");const ne=new Uint8Array(32);return ne.set(Y,32-Y.length),ne}function bytesPad$1(se){if(se.length%32===0)return se;const Y=new Uint8Array(Math.ceil(se.length/32)*32);return Y.set(se),Y}const empty$2=new Uint8Array([]);function encodeBytes$1(se){const Y=[];let ne=0;for(let fe=0;fe<se.length;fe++)Y.push(empty$2),ne+=32;for(let fe=0;fe<se.length;fe++){const ye=getBytes$1(se[fe]);Y[fe]=numPad$1(ne),Y.push(numPad$1(ye.length)),Y.push(bytesPad$1(ye)),ne+=32+Math.ceil(ye.length/32)*32}return concat$1(Y)}const zeros$1="0x0000000000000000000000000000000000000000000000000000000000000000";function parseOffchainLookup$1(se){const Y={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};assert$3(dataLength$1(se)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const ne=dataSlice$1(se,0,32);assert$3(dataSlice$1(ne,0,12)===dataSlice$1(zeros$1,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),Y.sender=dataSlice$1(ne,12);try{const fe=[],ye=getNumber$1(dataSlice$1(se,32,64)),me=getNumber$1(dataSlice$1(se,ye,ye+32)),be=dataSlice$1(se,ye+32);for(let we=0;we<me;we++){const Ee=_parseString$1(be,we*32);if(Ee==null)throw new Error("abort");fe.push(Ee)}Y.urls=fe}catch{assert$3(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const fe=_parseBytes$1(se,64);if(fe==null)throw new Error("abort");Y.calldata=fe}catch{assert$3(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}assert$3(dataSlice$1(se,100,128)===dataSlice$1(zeros$1,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),Y.selector=dataSlice$1(se,96,100);try{const fe=_parseBytes$1(se,128);if(fe==null)throw new Error("abort");Y.extraData=fe}catch{assert$3(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return Y.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(fe=>Y[fe]),Y}function checkProvider$1(se,Y){if(se.provider)return se.provider;assert$3(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:Y})}async function populate$1(se,Y){let ne=copyRequest$1(Y);if(ne.to!=null&&(ne.to=resolveAddress$1(ne.to,se)),ne.from!=null){const fe=ne.from;ne.from=Promise.all([se.getAddress(),resolveAddress$1(fe,se)]).then(([ye,me])=>(assertArgument$1(ye.toLowerCase()===me.toLowerCase(),"transaction from mismatch","tx.from",me),ye))}else ne.from=se.getAddress();return await resolveProperties$1(ne)}let AbstractSigner$1=class{constructor(Y){li(this,"provider");defineProperties$1(this,{provider:Y||null})}async getNonce(Y){return checkProvider$1(this,"getTransactionCount").getTransactionCount(await this.getAddress(),Y)}async populateCall(Y){return await populate$1(this,Y)}async populateTransaction(Y){const ne=checkProvider$1(this,"populateTransaction"),fe=await populate$1(this,Y);fe.nonce==null&&(fe.nonce=await this.getNonce("pending")),fe.gasLimit==null&&(fe.gasLimit=await this.estimateGas(fe));const ye=await this.provider.getNetwork();if(fe.chainId!=null){const be=getBigInt$1(fe.chainId);assertArgument$1(be===ye.chainId,"transaction chainId mismatch","tx.chainId",Y.chainId)}else fe.chainId=ye.chainId;const me=fe.maxFeePerGas!=null||fe.maxPriorityFeePerGas!=null;if(fe.gasPrice!=null&&(fe.type===2||me)?assertArgument$1(!1,"eip-1559 transaction do not support gasPrice","tx",Y):(fe.type===0||fe.type===1)&&me&&assertArgument$1(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",Y),(fe.type===2||fe.type==null)&&fe.maxFeePerGas!=null&&fe.maxPriorityFeePerGas!=null)fe.type=2;else if(fe.type===0||fe.type===1){const be=await ne.getFeeData();assert$3(be.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),fe.gasPrice==null&&(fe.gasPrice=be.gasPrice)}else{const be=await ne.getFeeData();if(fe.type==null)if(be.maxFeePerGas!=null&&be.maxPriorityFeePerGas!=null)if(fe.type=2,fe.gasPrice!=null){const we=fe.gasPrice;delete fe.gasPrice,fe.maxFeePerGas=we,fe.maxPriorityFeePerGas=we}else fe.maxFeePerGas==null&&(fe.maxFeePerGas=be.maxFeePerGas),fe.maxPriorityFeePerGas==null&&(fe.maxPriorityFeePerGas=be.maxPriorityFeePerGas);else be.gasPrice!=null?(assert$3(!me,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),fe.gasPrice==null&&(fe.gasPrice=be.gasPrice),fe.type=0):assert$3(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(fe.type===2||fe.type===3)&&(fe.maxFeePerGas==null&&(fe.maxFeePerGas=be.maxFeePerGas),fe.maxPriorityFeePerGas==null&&(fe.maxPriorityFeePerGas=be.maxPriorityFeePerGas))}return await resolveProperties$1(fe)}async estimateGas(Y){return checkProvider$1(this,"estimateGas").estimateGas(await this.populateCall(Y))}async call(Y){return checkProvider$1(this,"call").call(await this.populateCall(Y))}async resolveName(Y){return await checkProvider$1(this,"resolveName").resolveName(Y)}async sendTransaction(Y){const ne=checkProvider$1(this,"sendTransaction"),fe=await this.populateTransaction(Y);delete fe.from;const ye=Transaction$1.from(fe);return await ne.broadcastTransaction(await this.signTransaction(ye))}};const shown=new Set;function showThrottleMessage(se){shown.has(se)||(shown.add(se),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${se} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function copy$3(se){return JSON.parse(JSON.stringify(se))}var yc,Ul,xh,mf,Ch,d0,Uf,wy,_y,uw;let FilterIdSubscriber$1=(uw=class{constructor(Y){fi(this,Uf);fi(this,yc);fi(this,Ul);fi(this,xh);fi(this,mf);fi(this,Ch);fi(this,d0);Yn(this,yc,Y),Yn(this,Ul,null),Yn(this,xh,_i(this,Uf,wy).bind(this)),Yn(this,mf,!1),Yn(this,Ch,null),Yn(this,d0,!1)}_subscribe(Y){throw new Error("subclasses must override this")}_emitResults(Y,ne){throw new Error("subclasses must override this")}_recover(Y){throw new Error("subclasses must override this")}start(){In(this,mf)||(Yn(this,mf,!0),_i(this,Uf,wy).call(this,-2))}stop(){In(this,mf)&&(Yn(this,mf,!1),Yn(this,d0,!0),_i(this,Uf,_y).call(this),In(this,yc).off("block",In(this,xh)))}pause(Y){Y&&_i(this,Uf,_y).call(this),In(this,yc).off("block",In(this,xh))}resume(){this.start()}},yc=new WeakMap,Ul=new WeakMap,xh=new WeakMap,mf=new WeakMap,Ch=new WeakMap,d0=new WeakMap,Uf=new WeakSet,wy=async function(Y){try{In(this,Ul)==null&&Yn(this,Ul,this._subscribe(In(this,yc)));let ne=null;try{ne=await In(this,Ul)}catch(me){if(!isError$1(me,"UNSUPPORTED_OPERATION")||me.operation!=="eth_newFilter")throw me}if(ne==null){Yn(this,Ul,null),In(this,yc)._recoverSubscriber(this,this._recover(In(this,yc)));return}const fe=await In(this,yc).getNetwork();if(In(this,Ch)||Yn(this,Ch,fe),In(this,Ch).chainId!==fe.chainId)throw new Error("chaid changed");if(In(this,d0))return;const ye=await In(this,yc).send("eth_getFilterChanges",[ne]);await this._emitResults(In(this,yc),ye)}catch(ne){console.log("@TODO",ne)}In(this,yc).once("block",In(this,xh))},_y=function(){const Y=In(this,Ul);Y&&(Yn(this,Ul,null),Y.then(ne=>{In(this,yc).destroyed||In(this,yc).send("eth_uninstallFilter",[ne])}))},uw);var Sh,fw;let FilterIdEventSubscriber$1=(fw=class extends FilterIdSubscriber$1{constructor(ne,fe){super(ne);fi(this,Sh);Yn(this,Sh,copy$3(fe))}_recover(ne){return new PollingEventSubscriber$1(ne,In(this,Sh))}async _subscribe(ne){return await ne.send("eth_newFilter",[In(this,Sh)])}async _emitResults(ne,fe){for(const ye of fe)ne.emit(In(this,Sh),ne._wrapLog(ye,ne._network))}},Sh=new WeakMap,fw),FilterIdPendingSubscriber$1=class extends FilterIdSubscriber$1{async _subscribe(Y){return await Y.send("eth_newPendingTransactionFilter",[])}async _emitResults(Y,ne){for(const fe of ne)Y.emit("pending",fe)}};const Primitive$1="bigint,boolean,function,number,string,symbol".split(/,/g);function deepCopy$1(se){if(se==null||Primitive$1.indexOf(typeof se)>=0||typeof se.getAddress=="function")return se;if(Array.isArray(se))return se.map(deepCopy$1);if(typeof se=="object")return Object.keys(se).reduce((Y,ne)=>(Y[ne]=se[ne],Y),{});throw new Error(`should not happen: ${se} (${typeof se})`)}function stall$1(se){return new Promise(Y=>{setTimeout(Y,se)})}function getLowerCase$1(se){return se&&se.toLowerCase()}function isPollable$1(se){return se&&typeof se.pollingInterval=="number"}const defaultOptions$2={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};let JsonRpcSigner$1=class extends AbstractSigner$1{constructor(ne,fe){super(ne);li(this,"address");fe=getAddress$1(fe),defineProperties$1(this,{address:fe})}connect(ne){assert$3(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(ne){return await this.populateCall(ne)}async sendUncheckedTransaction(ne){const fe=deepCopy$1(ne),ye=[];if(fe.from){const be=fe.from;ye.push((async()=>{const we=await resolveAddress$1(be,this.provider);assertArgument$1(we!=null&&we.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",ne),fe.from=we})())}else fe.from=this.address;if(fe.gasLimit==null&&ye.push((async()=>{fe.gasLimit=await this.provider.estimateGas({...fe,from:this.address})})()),fe.to!=null){const be=fe.to;ye.push((async()=>{fe.to=await resolveAddress$1(be,this.provider)})())}ye.length&&await Promise.all(ye);const me=this.provider.getRpcTransaction(fe);return this.provider.send("eth_sendTransaction",[me])}async sendTransaction(ne){const fe=await this.provider.getBlockNumber(),ye=await this.sendUncheckedTransaction(ne);return await new Promise((me,be)=>{const we=[1e3,100];let Ee=0;const xe=async()=>{try{const Se=await this.provider.getTransaction(ye);if(Se!=null){me(Se.replaceableTransaction(fe));return}}catch(Se){if(isError$1(Se,"CANCELLED")||isError$1(Se,"BAD_DATA")||isError$1(Se,"NETWORK_ERROR")||isError$1(Se,"UNSUPPORTED_OPERATION")){Se.info==null&&(Se.info={}),Se.info.sendTransactionHash=ye,be(Se);return}if(isError$1(Se,"INVALID_ARGUMENT")&&(Ee++,Se.info==null&&(Se.info={}),Se.info.sendTransactionHash=ye,Ee>10)){be(Se);return}this.provider.emit("error",makeError$1("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:Se}))}this.provider._setTimeout(()=>{xe()},we.pop()||4e3)};xe()})}async signTransaction(ne){const fe=deepCopy$1(ne);if(fe.from){const me=await resolveAddress$1(fe.from,this.provider);assertArgument$1(me!=null&&me.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",ne),fe.from=me}else fe.from=this.address;const ye=this.provider.getRpcTransaction(fe);return await this.provider.send("eth_signTransaction",[ye])}async signMessage(ne){const fe=typeof ne=="string"?toUtf8Bytes$1(ne):ne;return await this.provider.send("personal_sign",[hexlify$1(fe),this.address.toLowerCase()])}async signTypedData(ne,fe,ye){const me=deepCopy$1(ye),be=await TypedDataEncoder$1.resolveNames(ne,fe,me,async we=>{const Ee=await resolveAddress$1(we);return assertArgument$1(Ee!=null,"TypedData does not support null address","value",we),Ee});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(TypedDataEncoder$1.getPayload(be.domain,fe,be.value))])}async unlock(ne){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),ne,null])}async _legacySignMessage(ne){const fe=typeof ne=="string"?toUtf8Bytes$1(ne):ne;return await this.provider.send("eth_sign",[this.address.toLowerCase(),hexlify$1(fe)])}};var Ah,p0,Su,Fl,El,al,Ac,zp,$y,hw;let JsonRpcApiProvider$1=(hw=class extends AbstractProvider$1{constructor(ne,fe){super(ne,fe);fi(this,zp);fi(this,Ah);fi(this,p0);fi(this,Su);fi(this,Fl);fi(this,El);fi(this,al);fi(this,Ac);Yn(this,p0,1),Yn(this,Ah,Object.assign({},defaultOptions$2,fe||{})),Yn(this,Su,[]),Yn(this,Fl,null),Yn(this,al,null),Yn(this,Ac,null);{let me=null;const be=new Promise(we=>{me=we});Yn(this,El,{promise:be,resolve:me})}const ye=this._getOption("staticNetwork");typeof ye=="boolean"?(assertArgument$1(!ye||ne!=="any","staticNetwork cannot be used on special network 'any'","options",fe),ye&&ne!=null&&Yn(this,al,Network$1.from(ne))):ye&&(assertArgument$1(ne==null||ye.matches(ne),"staticNetwork MUST match network object","options",fe),Yn(this,al,ye))}_getOption(ne){return In(this,Ah)[ne]}get _network(){return assert$3(In(this,al),"network is not available yet","NETWORK_ERROR"),In(this,al)}async _perform(ne){if(ne.method==="call"||ne.method==="estimateGas"){let ye=ne.transaction;if(ye&&ye.type!=null&&getBigInt$1(ye.type)&&ye.maxFeePerGas==null&&ye.maxPriorityFeePerGas==null){const me=await this.getFeeData();me.maxFeePerGas==null&&me.maxPriorityFeePerGas==null&&(ne=Object.assign({},ne,{transaction:Object.assign({},ye,{type:void 0})}))}}const fe=this.getRpcRequest(ne);return fe!=null?await this.send(fe.method,fe.args):super._perform(ne)}async _detectNetwork(){const ne=this._getOption("staticNetwork");if(ne)if(ne===!0){if(In(this,al))return In(this,al)}else return ne;return In(this,Ac)?await In(this,Ac):this.ready?(Yn(this,Ac,(async()=>{try{const fe=Network$1.from(getBigInt$1(await this.send("eth_chainId",[])));return Yn(this,Ac,null),fe}catch(fe){throw Yn(this,Ac,null),fe}})()),await In(this,Ac)):(Yn(this,Ac,(async()=>{const fe={id:fu(this,p0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:fe});let ye;try{ye=(await this._send(fe))[0],Yn(this,Ac,null)}catch(me){throw Yn(this,Ac,null),this.emit("debug",{action:"receiveRpcError",error:me}),me}if(this.emit("debug",{action:"receiveRpcResult",result:ye}),"result"in ye)return Network$1.from(getBigInt$1(ye.result));throw this.getRpcError(fe,ye)})()),await In(this,Ac))}_start(){In(this,El)==null||In(this,El).resolve==null||(In(this,El).resolve(),Yn(this,El,null),(async()=>{for(;In(this,al)==null&&!this.destroyed;)try{Yn(this,al,await this._detectNetwork())}catch(ne){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",makeError$1("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:ne}})),await stall$1(1e3)}_i(this,zp,$y).call(this)})())}async _waitUntilReady(){if(In(this,El)!=null)return await In(this,El).promise}_getSubscriber(ne){return ne.type==="pending"?new FilterIdPendingSubscriber$1(this):ne.type==="event"?this._getOption("polling")?new PollingEventSubscriber$1(this,ne.filter):new FilterIdEventSubscriber$1(this,ne.filter):ne.type==="orphan"&&ne.filter.orphan==="drop-log"?new UnmanagedSubscriber$1("orphan"):super._getSubscriber(ne)}get ready(){return In(this,El)==null}getRpcTransaction(ne){const fe={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(ye=>{if(ne[ye]==null)return;let me=ye;ye==="gasLimit"&&(me="gas"),fe[me]=toQuantity$1(getBigInt$1(ne[ye],`tx.${ye}`))}),["from","to","data"].forEach(ye=>{ne[ye]!=null&&(fe[ye]=hexlify$1(ne[ye]))}),ne.accessList&&(fe.accessList=accessListify$1(ne.accessList)),ne.blobVersionedHashes&&(fe.blobVersionedHashes=ne.blobVersionedHashes.map(ye=>ye.toLowerCase())),fe}getRpcRequest(ne){switch(ne.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[getLowerCase$1(ne.address),ne.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[getLowerCase$1(ne.address),ne.blockTag]};case"getCode":return{method:"eth_getCode",args:[getLowerCase$1(ne.address),ne.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[getLowerCase$1(ne.address),"0x"+ne.position.toString(16),ne.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[ne.signedTransaction]};case"getBlock":if("blockTag"in ne)return{method:"eth_getBlockByNumber",args:[ne.blockTag,!!ne.includeTransactions]};if("blockHash"in ne)return{method:"eth_getBlockByHash",args:[ne.blockHash,!!ne.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[ne.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[ne.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(ne.transaction),ne.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(ne.transaction)]};case"getLogs":return ne.filter&&ne.filter.address!=null&&(Array.isArray(ne.filter.address)?ne.filter.address=ne.filter.address.map(getLowerCase$1):ne.filter.address=getLowerCase$1(ne.filter.address)),{method:"eth_getLogs",args:[ne.filter]}}return null}getRpcError(ne,fe){const{method:ye}=ne,{error:me}=fe;if(ye==="eth_estimateGas"&&me.message){const Ee=me.message;if(!Ee.match(/revert/i)&&Ee.match(/insufficient funds/i))return makeError$1("insufficient funds","INSUFFICIENT_FUNDS",{transaction:ne.params[0],info:{payload:ne,error:me}})}if(ye==="eth_call"||ye==="eth_estimateGas"){const Ee=spelunkData$1(me),xe=AbiCoder$1.getBuiltinCallException(ye==="eth_call"?"call":"estimateGas",ne.params[0],Ee?Ee.data:null);return xe.info={error:me,payload:ne},xe}const be=JSON.stringify(spelunkMessage$1(me));if(typeof me.message=="string"&&me.message.match(/user denied|ethers-user-denied/i))return makeError$1("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[ye]||"unknown",reason:"rejected",info:{payload:ne,error:me}});if(ye==="eth_sendRawTransaction"||ye==="eth_sendTransaction"){const Ee=ne.params[0];if(be.match(/insufficient funds|base fee exceeds gas limit/i))return makeError$1("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:Ee,info:{error:me}});if(be.match(/nonce/i)&&be.match(/too low/i))return makeError$1("nonce has already been used","NONCE_EXPIRED",{transaction:Ee,info:{error:me}});if(be.match(/replacement transaction/i)&&be.match(/underpriced/i))return makeError$1("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:Ee,info:{error:me}});if(be.match(/only replay-protected/i))return makeError$1("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:ye,info:{transaction:Ee,info:{error:me}}})}let we=!!be.match(/the method .* does not exist/i);return we||me&&me.details&&me.details.startsWith("Unauthorized method:")&&(we=!0),we?makeError$1("unsupported operation","UNSUPPORTED_OPERATION",{operation:ne.method,info:{error:me,payload:ne}}):makeError$1("could not coalesce error","UNKNOWN_ERROR",{error:me,payload:ne})}send(ne,fe){if(this.destroyed)return Promise.reject(makeError$1("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:ne}));const ye=fu(this,p0)._++,me=new Promise((be,we)=>{In(this,Su).push({resolve:be,reject:we,payload:{method:ne,params:fe,id:ye,jsonrpc:"2.0"}})});return _i(this,zp,$y).call(this),me}async getSigner(ne){ne==null&&(ne=0);const fe=this.send("eth_accounts",[]);if(typeof ne=="number"){const me=await fe;if(ne>=me.length)throw new Error("no such account");return new JsonRpcSigner$1(this,me[ne])}const{accounts:ye}=await resolveProperties$1({network:this.getNetwork(),accounts:fe});ne=getAddress$1(ne);for(const me of ye)if(getAddress$1(me)===ne)return new JsonRpcSigner$1(this,ne);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(fe=>new JsonRpcSigner$1(this,fe))}destroy(){In(this,Fl)&&(clearTimeout(In(this,Fl)),Yn(this,Fl,null));for(const{payload:ne,reject:fe}of In(this,Su))fe(makeError$1("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:ne.method}));Yn(this,Su,[]),super.destroy()}},Ah=new WeakMap,p0=new WeakMap,Su=new WeakMap,Fl=new WeakMap,El=new WeakMap,al=new WeakMap,Ac=new WeakMap,zp=new WeakSet,$y=function(){if(In(this,Fl))return;const ne=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");Yn(this,Fl,setTimeout(()=>{Yn(this,Fl,null);const fe=In(this,Su);for(Yn(this,Su,[]);fe.length;){const ye=[fe.shift()];for(;fe.length&&ye.length!==In(this,Ah).batchMaxCount;)if(ye.push(fe.shift()),JSON.stringify(ye.map(be=>be.payload)).length>In(this,Ah).batchMaxSize){fe.unshift(ye.pop());break}(async()=>{const me=ye.length===1?ye[0].payload:ye.map(be=>be.payload);this.emit("debug",{action:"sendRpcPayload",payload:me});try{const be=await this._send(me);this.emit("debug",{action:"receiveRpcResult",result:be});for(const{resolve:we,reject:Ee,payload:xe}of ye){if(this.destroyed){Ee(makeError$1("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:xe.method}));continue}const Se=be.filter(Ie=>Ie.id===xe.id)[0];if(Se==null){const Ie=makeError$1("missing response for request","BAD_DATA",{value:be,info:{payload:xe}});this.emit("error",Ie),Ee(Ie);continue}if("error"in Se){Ee(this.getRpcError(xe,Se));continue}we(Se.result)}}catch(be){this.emit("debug",{action:"receiveRpcError",error:be});for(const{reject:we}of ye)we(be)}})()}},ne))},hw);var yf,dw;let JsonRpcApiPollingProvider$1=(dw=class extends JsonRpcApiProvider$1{constructor(ne,fe){super(ne,fe);fi(this,yf);let ye=this._getOption("pollingInterval");ye==null&&(ye=defaultOptions$2.pollingInterval),Yn(this,yf,ye)}_getSubscriber(ne){const fe=super._getSubscriber(ne);return isPollable$1(fe)&&(fe.pollingInterval=In(this,yf)),fe}get pollingInterval(){return In(this,yf)}set pollingInterval(ne){if(!Number.isInteger(ne)||ne<0)throw new Error("invalid interval");Yn(this,yf,ne),this._forEachSubscriber(fe=>{isPollable$1(fe)&&(fe.pollingInterval=In(this,yf))})}},yf=new WeakMap,dw);var g0;class JsonRpcProvider extends JsonRpcApiPollingProvider$1{constructor(ne,fe,ye){ne==null&&(ne="http://localhost:8545");super(fe,ye);fi(this,g0);typeof ne=="string"?Yn(this,g0,new FetchRequest$1(ne)):Yn(this,g0,ne.clone())}_getConnection(){return In(this,g0).clone()}async send(ne,fe){return await this._start(),await super.send(ne,fe)}async _send(ne){const fe=this._getConnection();fe.body=JSON.stringify(ne),fe.setHeader("content-type","application/json");const ye=await fe.send();ye.assertOk();let me=ye.bodyJson;return Array.isArray(me)||(me=[me]),me}}g0=new WeakMap;function spelunkData$1(se){if(se==null)return null;if(typeof se.message=="string"&&se.message.match(/revert/i)&&isHexString$1(se.data))return{message:se.message,data:se.data};if(typeof se=="object"){for(const Y in se){const ne=spelunkData$1(se[Y]);if(ne)return ne}return null}if(typeof se=="string")try{return spelunkData$1(JSON.parse(se))}catch{}return null}function _spelunkMessage$1(se,Y){if(se!=null){if(typeof se.message=="string"&&Y.push(se.message),typeof se=="object")for(const ne in se)_spelunkMessage$1(se[ne],Y);if(typeof se=="string")try{return _spelunkMessage$1(JSON.parse(se),Y)}catch{}}}function spelunkMessage$1(se){const Y=[];return _spelunkMessage$1(se,Y),Y}function getGlobal$1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const _WebSocket=getGlobal$1().WebSocket;var Wl,Vp,bf,Rh,vf;class SocketSubscriber{constructor(Y,ne){fi(this,Wl);fi(this,Vp);fi(this,bf);fi(this,Rh);fi(this,vf);Yn(this,Wl,Y),Yn(this,Vp,JSON.stringify(ne)),Yn(this,bf,null),Yn(this,Rh,null),Yn(this,vf,null)}get filter(){return JSON.parse(In(this,Vp))}start(){Yn(this,bf,In(this,Wl).send("eth_subscribe",this.filter).then(Y=>(In(this,Wl)._register(Y,this),Y)))}stop(){In(this,bf).then(Y=>{In(this,Wl).destroyed||In(this,Wl).send("eth_unsubscribe",[Y])}),Yn(this,bf,null)}pause(Y){assert$3(Y,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),Yn(this,Rh,!!Y)}resume(){Yn(this,Rh,null)}_handleMessage(Y){if(In(this,bf)!=null&&In(this,Rh)===null){let ne=In(this,vf);ne==null?ne=this._emit(In(this,Wl),Y):ne=ne.then(async()=>{await this._emit(In(this,Wl),Y)}),Yn(this,vf,ne.then(()=>{In(this,vf)===ne&&Yn(this,vf,null)}))}}async _emit(Y,ne){throw new Error("sub-classes must implemente this; _emit")}}Wl=new WeakMap,Vp=new WeakMap,bf=new WeakMap,Rh=new WeakMap,vf=new WeakMap;class SocketBlockSubscriber extends SocketSubscriber{constructor(Y){super(Y,["newHeads"])}async _emit(Y,ne){Y.emit("block",parseInt(ne.number))}}class SocketPendingSubscriber extends SocketSubscriber{constructor(Y){super(Y,["newPendingTransactions"])}async _emit(Y,ne){Y.emit("pending",ne)}}var Gp;class SocketEventSubscriber extends SocketSubscriber{constructor(ne,fe){super(ne,["logs",fe]);fi(this,Gp);Yn(this,Gp,JSON.stringify(fe))}get logFilter(){return JSON.parse(In(this,Gp))}async _emit(ne,fe){ne.emit(this.logFilter,ne._wrapLog(fe,ne._network))}}Gp=new WeakMap;var Ih,m0,wf;class SocketProvider extends JsonRpcApiProvider$1{constructor(ne,fe){const ye=Object.assign({},fe??{});assertArgument$1(ye.batchMaxCount==null||ye.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",fe),ye.batchMaxCount=1,ye.staticNetwork==null&&(ye.staticNetwork=!0);super(ne,ye);fi(this,Ih);fi(this,m0);fi(this,wf);Yn(this,Ih,new Map),Yn(this,m0,new Map),Yn(this,wf,new Map)}_getSubscriber(ne){switch(ne.type){case"close":return new UnmanagedSubscriber$1("close");case"block":return new SocketBlockSubscriber(this);case"pending":return new SocketPendingSubscriber(this);case"event":return new SocketEventSubscriber(this,ne.filter);case"orphan":if(ne.filter.orphan==="drop-log")return new UnmanagedSubscriber$1("drop-log")}return super._getSubscriber(ne)}_register(ne,fe){In(this,m0).set(ne,fe);const ye=In(this,wf).get(ne);if(ye){for(const me of ye)fe._handleMessage(me);In(this,wf).delete(ne)}}async _send(ne){assertArgument$1(!Array.isArray(ne),"WebSocket does not support batch send","payload",ne);const fe=new Promise((ye,me)=>{In(this,Ih).set(ne.id,{payload:ne,resolve:ye,reject:me})});return await this._waitUntilReady(),await this._write(JSON.stringify(ne)),[await fe]}async _processMessage(ne){const fe=JSON.parse(ne);if(fe&&typeof fe=="object"&&"id"in fe){const ye=In(this,Ih).get(fe.id);if(ye==null){this.emit("error",makeError$1("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:fe}));return}In(this,Ih).delete(fe.id),ye.resolve(fe)}else if(fe&&fe.method==="eth_subscription"){const ye=fe.params.subscription,me=In(this,m0).get(ye);if(me)me._handleMessage(fe.params.result);else{let be=In(this,wf).get(ye);be==null&&(be=[],In(this,wf).set(ye,be)),be.push(fe.params.result)}}else{this.emit("error",makeError$1("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:fe}));return}}async _write(ne){throw new Error("sub-classes must override this")}}Ih=new WeakMap,m0=new WeakMap,wf=new WeakMap;var Ph,xl;class WebSocketProvider extends SocketProvider{constructor(ne,fe,ye){super(fe,ye);fi(this,Ph);fi(this,xl);typeof ne=="string"?(Yn(this,Ph,()=>new _WebSocket(ne)),Yn(this,xl,In(this,Ph).call(this))):typeof ne=="function"?(Yn(this,Ph,ne),Yn(this,xl,ne())):(Yn(this,Ph,null),Yn(this,xl,ne)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(me){console.log("failed to start WebsocketProvider",me)}},this.websocket.onmessage=me=>{this._processMessage(me.data)}}get websocket(){if(In(this,xl)==null)throw new Error("websocket closed");return In(this,xl)}async _write(ne){this.websocket.send(ne)}async destroy(){In(this,xl)!=null&&(In(this,xl).close(),Yn(this,xl,null)),super.destroy()}}Ph=new WeakMap,xl=new WeakMap;const defaultProjectId="84842078b09946638c03157f83405213";function getHost(se){switch(se){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}assertArgument$1(!1,"unsupported network","network",se)}class InfuraWebSocketProvider extends WebSocketProvider{constructor(ne,fe){const ye=new InfuraProvider(ne,fe),me=ye._getConnection();assert$3(!me.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const be=me.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(be,ye._network);li(this,"projectId");li(this,"projectSecret");defineProperties$1(this,{projectId:ye.projectId,projectSecret:ye.projectSecret})}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends JsonRpcProvider{constructor(ne,fe,ye){ne==null&&(ne="mainnet");const me=Network$1.from(ne);fe==null&&(fe=defaultProjectId),ye==null&&(ye=null);const be=InfuraProvider.getRequest(me,fe,ye);super(be,me,{staticNetwork:me});li(this,"projectId");li(this,"projectSecret");defineProperties$1(this,{projectId:fe,projectSecret:ye})}_getProvider(ne){try{return new InfuraProvider(ne,this.projectId,this.projectSecret)}catch{}return super._getProvider(ne)}isCommunityResource(){return this.projectId===defaultProjectId}static getWebSocketProvider(ne,fe){return new InfuraWebSocketProvider(ne,fe)}static getRequest(ne,fe,ye){fe==null&&(fe=defaultProjectId),ye==null&&(ye=null);const me=new FetchRequest$1(`https://${getHost(ne.name)}/v3/${fe}`);return me.allowGzip=!0,ye&&me.setCredentials("",ye),fe===defaultProjectId&&(me.retryFunc=async(be,we,Ee)=>(showThrottleMessage("InfuraProvider"),!0)),me}}const EthersConstantsUtil={WALLET_ID:"@w3m/wallet_id",ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3},EthersHelpersUtil={getCaipDefaultChain(se){if(se)return{id:`${ConstantsUtil.EIP155}:${se.chainId}`,name:se.name,imageId:PresetsUtil.EIP155NetworkImageIds[se.chainId]}},hexStringToNumber(se){const Y=se.startsWith("0x")?se.slice(2):se;return parseInt(Y,16)},numberToHexString(se){return`0x${se.toString(16)}`},async getUserInfo(se){const[Y,ne]=await Promise.all([EthersHelpersUtil.getAddress(se),EthersHelpersUtil.getChainId(se)]);return{chainId:ne,address:Y}},async getChainId(se){const Y=await se.request({method:"eth_chainId"});return Number(Y)},async getAddress(se){const[Y]=await se.request({method:"eth_accounts"});return Y},async addEthereumChain(se,Y){await se.request({method:"wallet_addEthereumChain",params:[{chainId:EthersHelpersUtil.numberToHexString(Y.chainId),rpcUrls:[Y.rpcUrl],chainName:Y.name,nativeCurrency:{name:Y.currency,decimals:18,symbol:Y.currency},blockExplorerUrls:[Y.explorerUrl],iconUrls:[PresetsUtil.EIP155NetworkImageIds[Y.chainId]]}]})}},state=proxy({provider:void 0,providerType:void 0,address:void 0,chainId:void 0,isConnected:!1}),EthersStoreUtil={state,subscribeKey(se,Y){return subscribeKey(state,se,Y)},subscribe(se){return subscribe(state,()=>se(state))},setProvider(se){se&&(state.provider=ref$1(se))},setProviderType(se){state.providerType=se},setAddress(se){state.address=se},setChainId(se){state.chainId=se},setIsConnected(se){state.isConnected=se},setError(se){state.error=se},reset(){state.provider=void 0,state.address=void 0,state.chainId=void 0,state.providerType=void 0,state.isConnected=!1,state.error=void 0}};class Web3Modal extends Web3ModalScaffold{constructor(Y){const{ethersConfig:ne,siweConfig:fe,chains:ye,defaultChain:me,tokens:be,chainImages:we,_sdkVersion:Ee,...xe}=Y;if(!ne)throw new Error("web3modal:constructor - ethersConfig is undefined");if(!xe.projectId)throw new Error("web3modal:constructor - projectId is undefined");const Se={switchCaipNetwork:async fr=>{const br=HelpersUtil.caipNetworkIdToNumber(fr==null?void 0:fr.id);if(br)try{EthersStoreUtil.setError(void 0),await this.switchNetwork(br)}catch(kr){throw EthersStoreUtil.setError(kr),new Error("networkControllerClient:switchCaipNetwork - unable to switch chain")}},getApprovedCaipNetworksData:async()=>new Promise(async fr=>{var kr,Wr,Gr,jr;const br=localStorage.getItem(EthersConstantsUtil.WALLET_ID);if(br!=null&&br.includes(ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID)){const Qr=await this.getWalletConnectProvider();if(!Qr)throw new Error("networkControllerClient:getApprovedCaipNetworks - connector is undefined");const wn=(Wr=(kr=Qr.signer)==null?void 0:kr.session)==null?void 0:Wr.namespaces,En=(Gr=wn==null?void 0:wn[ConstantsUtil.EIP155])==null?void 0:Gr.methods,Rn=(jr=wn==null?void 0:wn[ConstantsUtil.EIP155])==null?void 0:jr.chains,An={supportsAllNetworks:(En==null?void 0:En.includes(ConstantsUtil.ADD_CHAIN_METHOD))??!1,approvedCaipNetworkIds:Rn};fr(An)}else fr({approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})})},Ie={connectWalletConnect:async fr=>{const br=await this.getWalletConnectProvider();if(!br)throw new Error("connectionControllerClient:getWalletConnectUri - provider is undefined");br.on("display_uri",kr=>{fr(kr)}),await br.connect(),await this.setWalletConnectProvider()},connectExternal:async({id:fr,info:br,provider:kr})=>{if(fr===ConstantsUtil.INJECTED_CONNECTOR_ID){const Wr=ne.injected;if(!Wr)throw new Error("connectionControllerClient:connectInjected - provider is undefined");try{EthersStoreUtil.setError(void 0),await Wr.request({method:"eth_requestAccounts"}),this.setInjectedProvider(ne)}catch(Gr){EthersStoreUtil.setError(Gr)}}else if(fr===ConstantsUtil.EIP6963_CONNECTOR_ID&&br&&kr)try{EthersStoreUtil.setError(void 0),await kr.request({method:"eth_requestAccounts"}),this.setEIP6963Provider(kr,br.name)}catch(Wr){EthersStoreUtil.setError(Wr)}else if(fr===ConstantsUtil.COINBASE_CONNECTOR_ID){const Wr=ne.coinbase;if(!Wr)throw new Error("connectionControllerClient:connectCoinbase - connector is undefined");try{EthersStoreUtil.setError(void 0),await Wr.request({method:"eth_requestAccounts"}),this.setCoinbaseProvider(ne)}catch(Gr){EthersStoreUtil.setError(Gr)}}else fr===ConstantsUtil.EMAIL_CONNECTOR_ID&&this.setEmailProvider()},checkInstalled(fr){return fr?ne.injected&&!(window!=null&&window.ethereum)?!1:fr.some(br=>{var kr;return!!((kr=window.ethereum)!=null&&kr[String(br)])}):!!window.ethereum},disconnect:async()=>{var kr,Wr;const fr=EthersStoreUtil.state.provider,br=EthersStoreUtil.state.providerType;localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset(),(kr=fe==null?void 0:fe.options)!=null&&kr.signOutOnDisconnect&&await fe.signOut(),br===ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID?(await fr.disconnect(),fr==null||fr.emit("disconnect")):br!==ConstantsUtil.EMAIL_CONNECTOR_ID?fr==null||fr.emit("disconnect"):(Wr=this.emailProvider)==null||Wr.disconnect(),fr==null||fr.emit("disconnect")},signMessage:async fr=>{const br=EthersStoreUtil.state.provider;if(!br)throw new Error("connectionControllerClient:signMessage - provider is undefined");return await br.request({method:"personal_sign",params:[fr,this.getAddress()]})}};super({networkControllerClient:Se,connectionControllerClient:Ie,siweControllerClient:fe,defaultChain:EthersHelpersUtil.getCaipDefaultChain(me),tokens:HelpersUtil.getCaipTokens(be),_sdkVersion:Ee??`html-ethers-${ConstantsUtil.VERSION}`,...xe}),this.hasSyncedConnectedAccount=!1,this.EIP6963Providers=[],this.options=void 0,this.options=Y,this.metadata=ne.metadata,this.projectId=xe.projectId,this.chains=ye,this.createProvider(),EthersStoreUtil.subscribeKey("address",()=>{this.syncAccount()}),EthersStoreUtil.subscribeKey("chainId",()=>{this.syncNetwork(we)}),this.syncRequestedNetworks(ye,we),this.syncConnectors(ne),ne.EIP6963&&typeof window<"u"&&(this.listenConnectors(ne.EIP6963),this.checkActive6963Provider()),ne.email&&this.syncEmailConnector(xe.projectId),ne.injected&&this.checkActiveInjectedProvider(ne),ne.coinbase&&this.checkActiveCoinbaseProvider(ne)}getState(){const Y=super.getState();return{...Y,selectedNetworkId:HelpersUtil.caipNetworkIdToNumber(Y.selectedNetworkId)}}subscribeState(Y){return super.subscribeState(ne=>Y({...ne,selectedNetworkId:HelpersUtil.caipNetworkIdToNumber(ne.selectedNetworkId)}))}setAddress(Y){const ne=Y?getAddress$1(Y):void 0;EthersStoreUtil.setAddress(ne)}getAddress(){const{address:Y}=EthersStoreUtil.state;return Y?getAddress$1(Y):void 0}getError(){return EthersStoreUtil.state.error}getChainId(){return EthersStoreUtil.state.chainId}getIsConnected(){return EthersStoreUtil.state.isConnected}getWalletProvider(){return EthersStoreUtil.state.provider}getWalletProviderType(){return EthersStoreUtil.state.providerType}subscribeProvider(Y){return EthersStoreUtil.subscribe(Y)}async disconnect(){const{provider:Y,providerType:ne}=EthersStoreUtil.state;if(localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset(),ne==="injected"||ne==="eip6963")Y==null||Y.emit("disconnect");else{const fe=Y;if(fe)try{EthersStoreUtil.setError(void 0),await fe.disconnect()}catch(ye){EthersStoreUtil.setError(ye)}}}createProvider(){return!this.walletConnectProviderInitPromise&&typeof window<"u"&&(this.walletConnectProviderInitPromise=this.initWalletConnectProvider()),this.walletConnectProviderInitPromise}async initWalletConnectProvider(){const Y={projectId:this.projectId,showQrModal:!1,rpcMap:this.chains?this.chains.reduce((ne,fe)=>(ne[fe.chainId]=fe.rpcUrl,ne),{}):{},optionalChains:[...this.chains.map(ne=>ne.chainId)],metadata:{name:this.metadata?this.metadata.name:"",description:this.metadata?this.metadata.description:"",url:this.metadata?this.metadata.url:"",icons:this.metadata?this.metadata.icons:[""]}};this.walletConnectProvider=await v$2.init(Y),await this.checkActiveWalletConnectProvider()}async getWalletConnectProvider(){if(!this.walletConnectProvider)try{EthersStoreUtil.setError(void 0),await this.createProvider()}catch(Y){EthersStoreUtil.setError(Y)}return this.walletConnectProvider}syncRequestedNetworks(Y,ne){const fe=Y==null?void 0:Y.map(ye=>({id:`${ConstantsUtil.EIP155}:${ye.chainId}`,name:ye.name,imageId:PresetsUtil.EIP155NetworkImageIds[ye.chainId],imageUrl:ne==null?void 0:ne[ye.chainId]}));this.setRequestedCaipNetworks(fe??[])}async checkActiveWalletConnectProvider(){const Y=await this.getWalletConnectProvider(),ne=localStorage.getItem(EthersConstantsUtil.WALLET_ID);Y&&ne===ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID&&await this.setWalletConnectProvider()}checkActiveInjectedProvider(Y){const ne=Y.injected,fe=localStorage.getItem(EthersConstantsUtil.WALLET_ID);ne&&fe===ConstantsUtil.INJECTED_CONNECTOR_ID&&(this.setInjectedProvider(Y),this.watchInjected(Y))}checkActiveCoinbaseProvider(Y){var ye;const ne=Y.coinbase,fe=localStorage.getItem(EthersConstantsUtil.WALLET_ID);ne&&fe===ConstantsUtil.COINBASE_CONNECTOR_ID&&(ne._addresses&&((ye=ne._addresses)==null?void 0:ye.length)>0?(this.setCoinbaseProvider(Y),this.watchCoinbase(Y)):(localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset()))}checkActive6963Provider(){const Y=window==null?void 0:window.localStorage.getItem(EthersConstantsUtil.WALLET_ID);if(Y){const ne=this.EIP6963Providers.find(fe=>fe.name===Y);ne&&this.setEIP6963Provider(ne.provider,ne.name)}}async setWalletConnectProvider(){var ne;window==null||window.localStorage.setItem(EthersConstantsUtil.WALLET_ID,ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID);const Y=await this.getWalletConnectProvider();Y&&(EthersStoreUtil.setChainId(Y.chainId),EthersStoreUtil.setProviderType("walletConnect"),EthersStoreUtil.setProvider(Y),EthersStoreUtil.setIsConnected(!0),this.setAddress((ne=Y.accounts)==null?void 0:ne[0]),this.watchWalletConnect())}async setInjectedProvider(Y){window==null||window.localStorage.setItem(EthersConstantsUtil.WALLET_ID,ConstantsUtil.INJECTED_CONNECTOR_ID);const ne=Y.injected;if(ne){const{address:fe,chainId:ye}=await EthersHelpersUtil.getUserInfo(ne);fe&&ye&&(EthersStoreUtil.setChainId(ye),EthersStoreUtil.setProviderType("injected"),EthersStoreUtil.setProvider(Y.injected),EthersStoreUtil.setIsConnected(!0),this.setAddress(fe),this.watchCoinbase(Y))}}async setEIP6963Provider(Y,ne){if(window==null||window.localStorage.setItem(EthersConstantsUtil.WALLET_ID,ne),Y){const{address:fe,chainId:ye}=await EthersHelpersUtil.getUserInfo(Y);fe&&ye&&(EthersStoreUtil.setChainId(ye),EthersStoreUtil.setProviderType("eip6963"),EthersStoreUtil.setProvider(Y),EthersStoreUtil.setIsConnected(!0),this.setAddress(fe),this.watchEIP6963(Y))}}async setCoinbaseProvider(Y){window==null||window.localStorage.setItem(EthersConstantsUtil.WALLET_ID,ConstantsUtil.COINBASE_CONNECTOR_ID);const ne=Y.coinbase;if(ne){const{address:fe,chainId:ye}=await EthersHelpersUtil.getUserInfo(ne);fe&&ye&&(EthersStoreUtil.setChainId(ye),EthersStoreUtil.setProviderType("coinbaseWallet"),EthersStoreUtil.setProvider(Y.coinbase),EthersStoreUtil.setIsConnected(!0),this.setAddress(fe),this.watchCoinbase(Y))}}async setEmailProvider(){if(window==null||window.localStorage.setItem(EthersConstantsUtil.WALLET_ID,ConstantsUtil.EMAIL_CONNECTOR_ID),this.emailProvider){const{address:Y,chainId:ne}=await this.emailProvider.connect();super.setLoading(!1),Y&&ne&&(EthersStoreUtil.setChainId(ne),EthersStoreUtil.setProviderType(ConstantsUtil.EMAIL_CONNECTOR_ID),EthersStoreUtil.setProvider(this.emailProvider),EthersStoreUtil.setIsConnected(!0),EthersStoreUtil.setAddress(Y),this.watchEmail(),this.watchModal())}}async watchWalletConnect(){const Y=await this.getWalletConnectProvider();function ne(){localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset(),Y==null||Y.removeListener("disconnect",ne),Y==null||Y.removeListener("accountsChanged",ye),Y==null||Y.removeListener("chainChanged",fe)}function fe(me){if(me){const be=EthersHelpersUtil.hexStringToNumber(me);EthersStoreUtil.setChainId(be)}}const ye=async me=>{me.length>0&&await this.setWalletConnectProvider()};Y&&(Y.on("disconnect",ne),Y.on("accountsChanged",ye),Y.on("chainChanged",fe))}watchInjected(Y){const ne=Y.injected;function fe(){localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset(),ne==null||ne.removeListener("disconnect",fe),ne==null||ne.removeListener("accountsChanged",ye),ne==null||ne.removeListener("chainChanged",me)}function ye(be){const we=be==null?void 0:be[0];we?EthersStoreUtil.setAddress(getAddress$1(we)):(localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset())}function me(be){if(be){const we=typeof be=="string"?EthersHelpersUtil.hexStringToNumber(be):Number(be);EthersStoreUtil.setChainId(we)}}ne&&(ne.on("disconnect",fe),ne.on("accountsChanged",ye),ne.on("chainChanged",me))}watchEIP6963(Y){function ne(){localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset(),Y.removeListener("disconnect",ne),Y.removeListener("accountsChanged",fe),Y.removeListener("chainChanged",ye)}function fe(me){const be=me==null?void 0:me[0];be?EthersStoreUtil.setAddress(getAddress$1(be)):(localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset())}function ye(me){if(me){const be=typeof me=="string"?EthersHelpersUtil.hexStringToNumber(me):Number(me);EthersStoreUtil.setChainId(be)}}Y&&(Y.on("disconnect",ne),Y.on("accountsChanged",fe),Y.on("chainChanged",ye))}watchCoinbase(Y){const ne=Y.coinbase,fe=localStorage.getItem(EthersConstantsUtil.WALLET_ID);function ye(){localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset(),ne==null||ne.removeListener("disconnect",ye),ne==null||ne.removeListener("accountsChanged",me),ne==null||ne.removeListener("chainChanged",be)}function me(we){const Ee=we==null?void 0:we[0];Ee?EthersStoreUtil.setAddress(getAddress$1(Ee)):(localStorage.removeItem(EthersConstantsUtil.WALLET_ID),EthersStoreUtil.reset())}function be(we){if(we&&fe===ConstantsUtil.COINBASE_CONNECTOR_ID){const Ee=Number(we);EthersStoreUtil.setChainId(Ee)}}ne&&(ne.on("disconnect",ye),ne.on("accountsChanged",me),ne.on("chainChanged",be))}watchEmail(){this.emailProvider&&(this.emailProvider.onRpcRequest(Y=>{var ne;W3mFrameHelpers.checkIfRequestExists(Y)?W3mFrameHelpers.checkIfRequestIsAllowed(Y)||super.open({view:"ApproveTransaction"}):((ne=this.emailProvider)==null||ne.rejectRpcRequest(),super.open(),setTimeout(()=>{this.showErrorMessage("This RPC method is not supported")},300))}),this.emailProvider.onRpcResponse(()=>{super.close()}),this.emailProvider.onNotConnected(()=>{this.setIsConnected(!1),super.setLoading(!1)}),this.emailProvider.onIsConnected(()=>{super.setLoading(!1)}))}watchModal(){this.emailProvider&&this.subscribeState(Y=>{var ne;Y.open||(ne=this.emailProvider)==null||ne.rejectRpcRequest()})}async syncAccount(){const Y=EthersStoreUtil.state.address,ne=EthersStoreUtil.state.chainId,fe=EthersStoreUtil.state.isConnected;if(this.resetAccount(),fe&&Y&&ne){const ye=`${ConstantsUtil.EIP155}:${ne}:${Y}`;this.setIsConnected(fe),this.setCaipAddress(ye),await Promise.all([this.syncProfile(Y),this.syncBalance(Y),this.getApprovedCaipNetworksData()]),this.hasSyncedConnectedAccount=!0}else!fe&&this.hasSyncedConnectedAccount&&(this.resetWcConnection(),this.resetNetwork())}async syncNetwork(Y){const ne=EthersStoreUtil.state.address,fe=EthersStoreUtil.state.chainId,ye=EthersStoreUtil.state.isConnected;if(this.chains){const me=this.chains.find(be=>be.chainId===fe);if(me){const be=`${ConstantsUtil.EIP155}:${me.chainId}`;if(this.setCaipNetwork({id:be,name:me.name,imageId:PresetsUtil.EIP155NetworkImageIds[me.chainId],imageUrl:Y==null?void 0:Y[me.chainId]}),ye&&ne){const we=`${ConstantsUtil.EIP155}:${fe}:${ne}`;if(this.setCaipAddress(we),me.explorerUrl){const Ee=`${me.explorerUrl}/address/${ne}`;this.setAddressExplorerUrl(Ee)}else this.setAddressExplorerUrl(void 0);this.hasSyncedConnectedAccount&&(await this.syncProfile(ne),await this.syncBalance(ne))}}else ye&&this.setCaipNetwork({id:`${ConstantsUtil.EIP155}:${fe}`})}}async syncProfile(Y){if(EthersStoreUtil.state.chainId===1){const fe=new InfuraProvider("mainnet"),ye=await fe.lookupAddress(Y),me=await fe.getAvatar(Y);ye&&this.setProfileName(ye),me&&this.setProfileImage(me)}else this.setProfileName(null),this.setProfileImage(null)}async syncBalance(Y){const ne=EthersStoreUtil.state.chainId;if(ne&&this.chains){const fe=this.chains.find(ye=>ye.chainId===ne);if(fe){const ye=new JsonRpcProvider(fe.rpcUrl,{chainId:ne,name:fe.name});if(ye){const me=await ye.getBalance(Y),be=formatEther(me);this.setBalance(be,fe.currency)}}}}async switchNetwork(Y){var ye,me,be,we,Ee,xe,Se,Ie,fr;const ne=EthersStoreUtil.state.provider,fe=EthersStoreUtil.state.providerType;if(this.chains){const br=this.chains.find(kr=>kr.chainId===Y);if(fe===ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID&&br){const kr=ne;if(kr)try{await kr.request({method:"wallet_switchEthereumChain",params:[{chainId:EthersHelpersUtil.numberToHexString(br.chainId)}]}),EthersStoreUtil.setChainId(Y)}catch(Wr){if(Wr.code===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||Wr.code===EthersConstantsUtil.ERROR_CODE_DEFAULT||((me=(ye=Wr==null?void 0:Wr.data)==null?void 0:ye.originalError)==null?void 0:me.code)===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await EthersHelpersUtil.addEthereumChain(kr,br);else throw new Error("Chain is not supported")}}else if(fe===ConstantsUtil.INJECTED_CONNECTOR_ID&&br){const kr=ne;if(kr)try{await kr.request({method:"wallet_switchEthereumChain",params:[{chainId:EthersHelpersUtil.numberToHexString(br.chainId)}]}),EthersStoreUtil.setChainId(br.chainId)}catch(Wr){if(Wr.code===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||Wr.code===EthersConstantsUtil.ERROR_CODE_DEFAULT||((we=(be=Wr==null?void 0:Wr.data)==null?void 0:be.originalError)==null?void 0:we.code)===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await EthersHelpersUtil.addEthereumChain(kr,br);else throw new Error("Chain is not supported")}}else if(fe===ConstantsUtil.EIP6963_CONNECTOR_ID&&br){const kr=ne;if(kr)try{await kr.request({method:"wallet_switchEthereumChain",params:[{chainId:EthersHelpersUtil.numberToHexString(br.chainId)}]}),EthersStoreUtil.setChainId(br.chainId)}catch(Wr){if(Wr.code===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||Wr.code===EthersConstantsUtil.ERROR_CODE_DEFAULT||((xe=(Ee=Wr==null?void 0:Wr.data)==null?void 0:Ee.originalError)==null?void 0:xe.code)===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await EthersHelpersUtil.addEthereumChain(kr,br);else throw new Error("Chain is not supported")}}else if(fe===ConstantsUtil.COINBASE_CONNECTOR_ID&&br){const kr=ne;if(kr)try{await kr.request({method:"wallet_switchEthereumChain",params:[{chainId:EthersHelpersUtil.numberToHexString(br.chainId)}]}),EthersStoreUtil.setChainId(br.chainId)}catch(Wr){(Wr.code===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||Wr.code===EthersConstantsUtil.ERROR_CODE_DEFAULT||((Ie=(Se=Wr==null?void 0:Wr.data)==null?void 0:Se.originalError)==null?void 0:Ie.code)===EthersConstantsUtil.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)&&await EthersHelpersUtil.addEthereumChain(kr,br)}}else if(fe===ConstantsUtil.EMAIL_CONNECTOR_ID&&this.emailProvider&&br!=null&&br.chainId)try{await((fr=this.emailProvider)==null?void 0:fr.switchNetwork(br==null?void 0:br.chainId)),EthersStoreUtil.setChainId(br.chainId)}catch{throw new Error("Switching chain failed")}}}syncConnectors(Y){var ye,me,be,we,Ee,xe;const ne=[],fe=PresetsUtil.ConnectorTypesMap[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID];if(ne.push({id:ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID,explorerId:PresetsUtil.ConnectorExplorerIds[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID],imageId:PresetsUtil.ConnectorImageIds[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID],imageUrl:(me=(ye=this.options)==null?void 0:ye.connectorImages)==null?void 0:me[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID],name:PresetsUtil.ConnectorNamesMap[ConstantsUtil.WALLET_CONNECT_CONNECTOR_ID],type:fe}),Y.injected){const Se=PresetsUtil.ConnectorTypesMap[ConstantsUtil.INJECTED_CONNECTOR_ID];ne.push({id:ConstantsUtil.INJECTED_CONNECTOR_ID,explorerId:PresetsUtil.ConnectorExplorerIds[ConstantsUtil.INJECTED_CONNECTOR_ID],imageId:PresetsUtil.ConnectorImageIds[ConstantsUtil.INJECTED_CONNECTOR_ID],imageUrl:(we=(be=this.options)==null?void 0:be.connectorImages)==null?void 0:we[ConstantsUtil.INJECTED_CONNECTOR_ID],name:PresetsUtil.ConnectorNamesMap[ConstantsUtil.INJECTED_CONNECTOR_ID],type:Se})}Y.coinbase&&ne.push({id:ConstantsUtil.COINBASE_CONNECTOR_ID,explorerId:PresetsUtil.ConnectorExplorerIds[ConstantsUtil.COINBASE_CONNECTOR_ID],imageId:PresetsUtil.ConnectorImageIds[ConstantsUtil.COINBASE_CONNECTOR_ID],imageUrl:(xe=(Ee=this.options)==null?void 0:Ee.connectorImages)==null?void 0:xe[ConstantsUtil.COINBASE_CONNECTOR_ID],name:PresetsUtil.ConnectorNamesMap[ConstantsUtil.COINBASE_CONNECTOR_ID],type:"EXTERNAL"}),this.setConnectors(ne)}async syncEmailConnector(Y){if(typeof window<"u"){this.emailProvider=new W3mFrameProvider(Y),this.addConnector({id:ConstantsUtil.EMAIL_CONNECTOR_ID,type:"EMAIL",name:"Email",provider:this.emailProvider}),super.setLoading(!0);const ne=this.emailProvider.getLoginEmailUsed();super.setLoading(ne),await this.emailProvider.isConnected()?this.setEmailProvider():super.setLoading(!1)}}eip6963EventHandler(Y){var ne,fe;if(Y.detail){const{info:ye,provider:me}=Y.detail;if(!this.getConnectors().find(Ee=>Ee.name===ye.name)){const Ee=PresetsUtil.ConnectorTypesMap[ConstantsUtil.EIP6963_CONNECTOR_ID];{this.addConnector({id:ConstantsUtil.EIP6963_CONNECTOR_ID,type:Ee,imageUrl:ye.icon??((fe=(ne=this.options)==null?void 0:ne.connectorImages)==null?void 0:fe[ConstantsUtil.EIP6963_CONNECTOR_ID]),name:ye.name,provider:me,info:ye});const xe={name:ye.name,provider:me};this.EIP6963Providers.push(xe)}}}}listenConnectors(Y){if(typeof window<"u"&&Y){const ne=this.eip6963EventHandler.bind(this);window.addEventListener(ConstantsUtil.EIP6963_ANNOUNCE_EVENT,ne),window.dispatchEvent(new Event(ConstantsUtil.EIP6963_REQUEST_EVENT))}}}var pw;typeof window<"u"&&(window.Buffer||(window.Buffer=Buffer$1),window.global||(window.global=window),window.process||(window.process={}),(pw=window.process)!=null&&pw.env||(window.process={env:{}}));var dist$5={},CoinbaseWalletSDK={},walletLogo={},hasRequiredWalletLogo;function requireWalletLogo(){if(hasRequiredWalletLogo)return walletLogo;hasRequiredWalletLogo=1,Object.defineProperty(walletLogo,"__esModule",{value:!0}),walletLogo.walletLogo=void 0;const se=(Y,ne)=>{let fe;switch(Y){case"standard":return fe=ne,`data:image/svg+xml,%3Csvg width='${ne}' height='${fe}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return fe=ne,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${ne}' height='${fe}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return fe=(.1*ne).toFixed(2),`data:image/svg+xml,%3Csvg width='${ne}' height='${fe}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return fe=(.25*ne).toFixed(2),`data:image/svg+xml,%3Csvg width='${ne}' height='${fe}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return fe=(.1*ne).toFixed(2),`data:image/svg+xml,%3Csvg width='${ne}' height='${fe}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return fe=(.25*ne).toFixed(2),`data:image/svg+xml,%3Csvg width='${ne}' height='${fe}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return fe=ne,`data:image/svg+xml,%3Csvg width='${ne}' height='${fe}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};return walletLogo.walletLogo=se,walletLogo}var constants$2={},hasRequiredConstants$2;function requireConstants$2(){return hasRequiredConstants$2||(hasRequiredConstants$2=1,Object.defineProperty(constants$2,"__esModule",{value:!0}),constants$2.LINK_API_URL=void 0,constants$2.LINK_API_URL="https://www.walletlink.org"),constants$2}var util$1={},bn$1={exports:{}},bn=bn$1.exports,hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(se){(function(Y,ne){function fe(Zr,Oe){if(!Zr)throw new Error(Oe||"Assertion failed")}function ye(Zr,Oe){Zr.super_=Oe;var wr=function(){};wr.prototype=Oe.prototype,Zr.prototype=new wr,Zr.prototype.constructor=Zr}function me(Zr,Oe,wr){if(me.isBN(Zr))return Zr;this.negative=0,this.words=null,this.length=0,this.red=null,Zr!==null&&((Oe==="le"||Oe==="be")&&(wr=Oe,Oe=10),this._init(Zr||0,Oe||10,wr||"be"))}typeof Y=="object"?Y.exports=me:ne.BN=me,me.BN=me,me.wordSize=26;var be;try{typeof window<"u"&&typeof window.Buffer<"u"?be=window.Buffer:be=requireDist$5().Buffer}catch{}me.isBN=function(Oe){return Oe instanceof me?!0:Oe!==null&&typeof Oe=="object"&&Oe.constructor.wordSize===me.wordSize&&Array.isArray(Oe.words)},me.max=function(Oe,wr){return Oe.cmp(wr)>0?Oe:wr},me.min=function(Oe,wr){return Oe.cmp(wr)<0?Oe:wr},me.prototype._init=function(Oe,wr,qr){if(typeof Oe=="number")return this._initNumber(Oe,wr,qr);if(typeof Oe=="object")return this._initArray(Oe,wr,qr);wr==="hex"&&(wr=16),fe(wr===(wr|0)&&wr>=2&&wr<=36),Oe=Oe.toString().replace(/\s+/g,"");var Vr=0;Oe[0]==="-"&&(Vr++,this.negative=1),Vr<Oe.length&&(wr===16?this._parseHex(Oe,Vr,qr):(this._parseBase(Oe,wr,Vr),qr==="le"&&this._initArray(this.toArray(),wr,qr)))},me.prototype._initNumber=function(Oe,wr,qr){Oe<0&&(this.negative=1,Oe=-Oe),Oe<67108864?(this.words=[Oe&67108863],this.length=1):Oe<4503599627370496?(this.words=[Oe&67108863,Oe/67108864&67108863],this.length=2):(fe(Oe<9007199254740992),this.words=[Oe&67108863,Oe/67108864&67108863,1],this.length=3),qr==="le"&&this._initArray(this.toArray(),wr,qr)},me.prototype._initArray=function(Oe,wr,qr){if(fe(typeof Oe.length=="number"),Oe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Oe.length/3),this.words=new Array(this.length);for(var Vr=0;Vr<this.length;Vr++)this.words[Vr]=0;var Jr,Xr,Kr=0;if(qr==="be")for(Vr=Oe.length-1,Jr=0;Vr>=0;Vr-=3)Xr=Oe[Vr]|Oe[Vr-1]<<8|Oe[Vr-2]<<16,this.words[Jr]|=Xr<<Kr&67108863,this.words[Jr+1]=Xr>>>26-Kr&67108863,Kr+=24,Kr>=26&&(Kr-=26,Jr++);else if(qr==="le")for(Vr=0,Jr=0;Vr<Oe.length;Vr+=3)Xr=Oe[Vr]|Oe[Vr+1]<<8|Oe[Vr+2]<<16,this.words[Jr]|=Xr<<Kr&67108863,this.words[Jr+1]=Xr>>>26-Kr&67108863,Kr+=24,Kr>=26&&(Kr-=26,Jr++);return this._strip()};function we(Zr,Oe){var wr=Zr.charCodeAt(Oe);if(wr>=48&&wr<=57)return wr-48;if(wr>=65&&wr<=70)return wr-55;if(wr>=97&&wr<=102)return wr-87;fe(!1,"Invalid character in "+Zr)}function Ee(Zr,Oe,wr){var qr=we(Zr,wr);return wr-1>=Oe&&(qr|=we(Zr,wr-1)<<4),qr}me.prototype._parseHex=function(Oe,wr,qr){this.length=Math.ceil((Oe.length-wr)/6),this.words=new Array(this.length);for(var Vr=0;Vr<this.length;Vr++)this.words[Vr]=0;var Jr=0,Xr=0,Kr;if(qr==="be")for(Vr=Oe.length-1;Vr>=wr;Vr-=2)Kr=Ee(Oe,wr,Vr)<<Jr,this.words[Xr]|=Kr&67108863,Jr>=18?(Jr-=18,Xr+=1,this.words[Xr]|=Kr>>>26):Jr+=8;else{var Yr=Oe.length-wr;for(Vr=Yr%2===0?wr+1:wr;Vr<Oe.length;Vr+=2)Kr=Ee(Oe,wr,Vr)<<Jr,this.words[Xr]|=Kr&67108863,Jr>=18?(Jr-=18,Xr+=1,this.words[Xr]|=Kr>>>26):Jr+=8}this._strip()};function xe(Zr,Oe,wr,qr){for(var Vr=0,Jr=0,Xr=Math.min(Zr.length,wr),Kr=Oe;Kr<Xr;Kr++){var Yr=Zr.charCodeAt(Kr)-48;Vr*=qr,Yr>=49?Jr=Yr-49+10:Yr>=17?Jr=Yr-17+10:Jr=Yr,fe(Yr>=0&&Jr<qr,"Invalid character"),Vr+=Jr}return Vr}me.prototype._parseBase=function(Oe,wr,qr){this.words=[0],this.length=1;for(var Vr=0,Jr=1;Jr<=67108863;Jr*=wr)Vr++;Vr--,Jr=Jr/wr|0;for(var Xr=Oe.length-qr,Kr=Xr%Vr,Yr=Math.min(Xr,Xr-Kr)+qr,Br=0,_n=qr;_n<Yr;_n+=Vr)Br=xe(Oe,_n,_n+Vr,wr),this.imuln(Jr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br);if(Kr!==0){var ii=1;for(Br=xe(Oe,_n,Oe.length,wr),_n=0;_n<Kr;_n++)ii*=wr;this.imuln(ii),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br)}this._strip()},me.prototype.copy=function(Oe){Oe.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)Oe.words[wr]=this.words[wr];Oe.length=this.length,Oe.negative=this.negative,Oe.red=this.red};function Se(Zr,Oe){Zr.words=Oe.words,Zr.length=Oe.length,Zr.negative=Oe.negative,Zr.red=Oe.red}if(me.prototype._move=function(Oe){Se(Oe,this)},me.prototype.clone=function(){var Oe=new me(null);return this.copy(Oe),Oe},me.prototype._expand=function(Oe){for(;this.length<Oe;)this.words[this.length++]=0;return this},me.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},me.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{me.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ie}catch{me.prototype.inspect=Ie}else me.prototype.inspect=Ie;function Ie(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],br=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],kr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];me.prototype.toString=function(Oe,wr){Oe=Oe||10,wr=wr|0||1;var qr;if(Oe===16||Oe==="hex"){qr="";for(var Vr=0,Jr=0,Xr=0;Xr<this.length;Xr++){var Kr=this.words[Xr],Yr=((Kr<<Vr|Jr)&16777215).toString(16);Jr=Kr>>>24-Vr&16777215,Vr+=2,Vr>=26&&(Vr-=26,Xr--),Jr!==0||Xr!==this.length-1?qr=fr[6-Yr.length]+Yr+qr:qr=Yr+qr}for(Jr!==0&&(qr=Jr.toString(16)+qr);qr.length%wr!==0;)qr="0"+qr;return this.negative!==0&&(qr="-"+qr),qr}if(Oe===(Oe|0)&&Oe>=2&&Oe<=36){var Br=br[Oe],_n=kr[Oe];qr="";var ii=this.clone();for(ii.negative=0;!ii.isZero();){var ni=ii.modrn(_n).toString(Oe);ii=ii.idivn(_n),ii.isZero()?qr=ni+qr:qr=fr[Br-ni.length]+ni+qr}for(this.isZero()&&(qr="0"+qr);qr.length%wr!==0;)qr="0"+qr;return this.negative!==0&&(qr="-"+qr),qr}fe(!1,"Base should be between 2 and 36")},me.prototype.toNumber=function(){var Oe=this.words[0];return this.length===2?Oe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Oe+=4503599627370496+this.words[1]*67108864:this.length>2&&fe(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Oe:Oe},me.prototype.toJSON=function(){return this.toString(16,2)},be&&(me.prototype.toBuffer=function(Oe,wr){return this.toArrayLike(be,Oe,wr)}),me.prototype.toArray=function(Oe,wr){return this.toArrayLike(Array,Oe,wr)};var Wr=function(Oe,wr){return Oe.allocUnsafe?Oe.allocUnsafe(wr):new Oe(wr)};me.prototype.toArrayLike=function(Oe,wr,qr){this._strip();var Vr=this.byteLength(),Jr=qr||Math.max(1,Vr);fe(Vr<=Jr,"byte array longer than desired length"),fe(Jr>0,"Requested array length <= 0");var Xr=Wr(Oe,Jr),Kr=wr==="le"?"LE":"BE";return this["_toArrayLike"+Kr](Xr,Vr),Xr},me.prototype._toArrayLikeLE=function(Oe,wr){for(var qr=0,Vr=0,Jr=0,Xr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]<<Xr|Vr;Oe[qr++]=Kr&255,qr<Oe.length&&(Oe[qr++]=Kr>>8&255),qr<Oe.length&&(Oe[qr++]=Kr>>16&255),Xr===6?(qr<Oe.length&&(Oe[qr++]=Kr>>24&255),Vr=0,Xr=0):(Vr=Kr>>>24,Xr+=2)}if(qr<Oe.length)for(Oe[qr++]=Vr;qr<Oe.length;)Oe[qr++]=0},me.prototype._toArrayLikeBE=function(Oe,wr){for(var qr=Oe.length-1,Vr=0,Jr=0,Xr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]<<Xr|Vr;Oe[qr--]=Kr&255,qr>=0&&(Oe[qr--]=Kr>>8&255),qr>=0&&(Oe[qr--]=Kr>>16&255),Xr===6?(qr>=0&&(Oe[qr--]=Kr>>24&255),Vr=0,Xr=0):(Vr=Kr>>>24,Xr+=2)}if(qr>=0)for(Oe[qr--]=Vr;qr>=0;)Oe[qr--]=0},Math.clz32?me.prototype._countBits=function(Oe){return 32-Math.clz32(Oe)}:me.prototype._countBits=function(Oe){var wr=Oe,qr=0;return wr>=4096&&(qr+=13,wr>>>=13),wr>=64&&(qr+=7,wr>>>=7),wr>=8&&(qr+=4,wr>>>=4),wr>=2&&(qr+=2,wr>>>=2),qr+wr},me.prototype._zeroBits=function(Oe){if(Oe===0)return 26;var wr=Oe,qr=0;return wr&8191||(qr+=13,wr>>>=13),wr&127||(qr+=7,wr>>>=7),wr&15||(qr+=4,wr>>>=4),wr&3||(qr+=2,wr>>>=2),wr&1||qr++,qr},me.prototype.bitLength=function(){var Oe=this.words[this.length-1],wr=this._countBits(Oe);return(this.length-1)*26+wr};function Gr(Zr){for(var Oe=new Array(Zr.bitLength()),wr=0;wr<Oe.length;wr++){var qr=wr/26|0,Vr=wr%26;Oe[wr]=Zr.words[qr]>>>Vr&1}return Oe}me.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Oe=0,wr=0;wr<this.length;wr++){var qr=this._zeroBits(this.words[wr]);if(Oe+=qr,qr!==26)break}return Oe},me.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},me.prototype.toTwos=function(Oe){return this.negative!==0?this.abs().inotn(Oe).iaddn(1):this.clone()},me.prototype.fromTwos=function(Oe){return this.testn(Oe-1)?this.notn(Oe).iaddn(1).ineg():this.clone()},me.prototype.isNeg=function(){return this.negative!==0},me.prototype.neg=function(){return this.clone().ineg()},me.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},me.prototype.iuor=function(Oe){for(;this.length<Oe.length;)this.words[this.length++]=0;for(var wr=0;wr<Oe.length;wr++)this.words[wr]=this.words[wr]|Oe.words[wr];return this._strip()},me.prototype.ior=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuor(Oe)},me.prototype.or=function(Oe){return this.length>Oe.length?this.clone().ior(Oe):Oe.clone().ior(this)},me.prototype.uor=function(Oe){return this.length>Oe.length?this.clone().iuor(Oe):Oe.clone().iuor(this)},me.prototype.iuand=function(Oe){var wr;this.length>Oe.length?wr=Oe:wr=this;for(var qr=0;qr<wr.length;qr++)this.words[qr]=this.words[qr]&Oe.words[qr];return this.length=wr.length,this._strip()},me.prototype.iand=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuand(Oe)},me.prototype.and=function(Oe){return this.length>Oe.length?this.clone().iand(Oe):Oe.clone().iand(this)},me.prototype.uand=function(Oe){return this.length>Oe.length?this.clone().iuand(Oe):Oe.clone().iuand(this)},me.prototype.iuxor=function(Oe){var wr,qr;this.length>Oe.length?(wr=this,qr=Oe):(wr=Oe,qr=this);for(var Vr=0;Vr<qr.length;Vr++)this.words[Vr]=wr.words[Vr]^qr.words[Vr];if(this!==wr)for(;Vr<wr.length;Vr++)this.words[Vr]=wr.words[Vr];return this.length=wr.length,this._strip()},me.prototype.ixor=function(Oe){return fe((this.negative|Oe.negative)===0),this.iuxor(Oe)},me.prototype.xor=function(Oe){return this.length>Oe.length?this.clone().ixor(Oe):Oe.clone().ixor(this)},me.prototype.uxor=function(Oe){return this.length>Oe.length?this.clone().iuxor(Oe):Oe.clone().iuxor(this)},me.prototype.inotn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Math.ceil(Oe/26)|0,qr=Oe%26;this._expand(wr),qr>0&&wr--;for(var Vr=0;Vr<wr;Vr++)this.words[Vr]=~this.words[Vr]&67108863;return qr>0&&(this.words[Vr]=~this.words[Vr]&67108863>>26-qr),this._strip()},me.prototype.notn=function(Oe){return this.clone().inotn(Oe)},me.prototype.setn=function(Oe,wr){fe(typeof Oe=="number"&&Oe>=0);var qr=Oe/26|0,Vr=Oe%26;return this._expand(qr+1),wr?this.words[qr]=this.words[qr]|1<<Vr:this.words[qr]=this.words[qr]&~(1<<Vr),this._strip()},me.prototype.iadd=function(Oe){var wr;if(this.negative!==0&&Oe.negative===0)return this.negative=0,wr=this.isub(Oe),this.negative^=1,this._normSign();if(this.negative===0&&Oe.negative!==0)return Oe.negative=0,wr=this.isub(Oe),Oe.negative=1,wr._normSign();var qr,Vr;this.length>Oe.length?(qr=this,Vr=Oe):(qr=Oe,Vr=this);for(var Jr=0,Xr=0;Xr<Vr.length;Xr++)wr=(qr.words[Xr]|0)+(Vr.words[Xr]|0)+Jr,this.words[Xr]=wr&67108863,Jr=wr>>>26;for(;Jr!==0&&Xr<qr.length;Xr++)wr=(qr.words[Xr]|0)+Jr,this.words[Xr]=wr&67108863,Jr=wr>>>26;if(this.length=qr.length,Jr!==0)this.words[this.length]=Jr,this.length++;else if(qr!==this)for(;Xr<qr.length;Xr++)this.words[Xr]=qr.words[Xr];return this},me.prototype.add=function(Oe){var wr;return Oe.negative!==0&&this.negative===0?(Oe.negative=0,wr=this.sub(Oe),Oe.negative^=1,wr):Oe.negative===0&&this.negative!==0?(this.negative=0,wr=Oe.sub(this),this.negative=1,wr):this.length>Oe.length?this.clone().iadd(Oe):Oe.clone().iadd(this)},me.prototype.isub=function(Oe){if(Oe.negative!==0){Oe.negative=0;var wr=this.iadd(Oe);return Oe.negative=1,wr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Oe),this.negative=1,this._normSign();var qr=this.cmp(Oe);if(qr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Vr,Jr;qr>0?(Vr=this,Jr=Oe):(Vr=Oe,Jr=this);for(var Xr=0,Kr=0;Kr<Jr.length;Kr++)wr=(Vr.words[Kr]|0)-(Jr.words[Kr]|0)+Xr,Xr=wr>>26,this.words[Kr]=wr&67108863;for(;Xr!==0&&Kr<Vr.length;Kr++)wr=(Vr.words[Kr]|0)+Xr,Xr=wr>>26,this.words[Kr]=wr&67108863;if(Xr===0&&Kr<Vr.length&&Vr!==this)for(;Kr<Vr.length;Kr++)this.words[Kr]=Vr.words[Kr];return this.length=Math.max(this.length,Kr),Vr!==this&&(this.negative=1),this._strip()},me.prototype.sub=function(Oe){return this.clone().isub(Oe)};function jr(Zr,Oe,wr){wr.negative=Oe.negative^Zr.negative;var qr=Zr.length+Oe.length|0;wr.length=qr,qr=qr-1|0;var Vr=Zr.words[0]|0,Jr=Oe.words[0]|0,Xr=Vr*Jr,Kr=Xr&67108863,Yr=Xr/67108864|0;wr.words[0]=Kr;for(var Br=1;Br<qr;Br++){for(var _n=Yr>>>26,ii=Yr&67108863,ni=Math.min(Br,Oe.length-1),si=Math.max(0,Br-Zr.length+1);si<=ni;si++){var Nn=Br-si|0;Vr=Zr.words[Nn]|0,Jr=Oe.words[si]|0,Xr=Vr*Jr+ii,_n+=Xr/67108864|0,ii=Xr&67108863}wr.words[Br]=ii|0,Yr=_n|0}return Yr!==0?wr.words[Br]=Yr|0:wr.length--,wr._strip()}var Qr=function(Oe,wr,qr){var Vr=Oe.words,Jr=wr.words,Xr=qr.words,Kr=0,Yr,Br,_n,ii=Vr[0]|0,ni=ii&8191,si=ii>>>13,Nn=Vr[1]|0,jn=Nn&8191,ei=Nn>>>13,Pn=Vr[2]|0,zn=Pn&8191,ri=Pn>>>13,hi=Vr[3]|0,mi=hi&8191,$i=hi>>>13,Ti=Vr[4]|0,xi=Ti&8191,Ri=Ti>>>13,vi=Vr[5]|0,Pi=vi&8191,Ei=vi>>>13,ha=Vr[6]|0,Ni=ha&8191,Ai=ha>>>13,ga=Vr[7]|0,Bi=ga&8191,Ci=ga>>>13,ma=Vr[8]|0,Vi=ma&8191,Ii=ma>>>13,Pa=Vr[9]|0,ra=Pa&8191,Oi=Pa>>>13,Na=Jr[0]|0,na=Na&8191,ia=Na>>>13,Ga=Jr[1]|0,wa=Ga&8191,sa=Ga>>>13,Ka=Jr[2]|0,_a=Ka&8191,ca=Ka>>>13,Da=Jr[3]|0,la=Da&8191,ji=Da>>>13,qa=Jr[4]|0,ua=qa&8191,qi=qa>>>13,Fa=Jr[5]|0,pa=Fa&8191,zi=Fa>>>13,Wa=Jr[6]|0,fa=Wa&8191,Ki=Wa>>>13,Ua=Jr[7]|0,oa=Ua&8191,ea=Ua>>>13,ja=Jr[8]|0,Aa=ja&8191,da=ja>>>13,no=Jr[9]|0,va=no&8191,Ca=no>>>13;qr.negative=Oe.negative^wr.negative,qr.length=19,Yr=Math.imul(ni,na),Br=Math.imul(ni,ia),Br=Br+Math.imul(si,na)|0,_n=Math.imul(si,ia);var Io=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Io>>>26)|0,Io&=67108863,Yr=Math.imul(jn,na),Br=Math.imul(jn,ia),Br=Br+Math.imul(ei,na)|0,_n=Math.imul(ei,ia),Yr=Yr+Math.imul(ni,wa)|0,Br=Br+Math.imul(ni,sa)|0,Br=Br+Math.imul(si,wa)|0,_n=_n+Math.imul(si,sa)|0;var Po=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Po>>>26)|0,Po&=67108863,Yr=Math.imul(zn,na),Br=Math.imul(zn,ia),Br=Br+Math.imul(ri,na)|0,_n=Math.imul(ri,ia),Yr=Yr+Math.imul(jn,wa)|0,Br=Br+Math.imul(jn,sa)|0,Br=Br+Math.imul(ei,wa)|0,_n=_n+Math.imul(ei,sa)|0,Yr=Yr+Math.imul(ni,_a)|0,Br=Br+Math.imul(ni,ca)|0,Br=Br+Math.imul(si,_a)|0,_n=_n+Math.imul(si,ca)|0;var To=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(To>>>26)|0,To&=67108863,Yr=Math.imul(mi,na),Br=Math.imul(mi,ia),Br=Br+Math.imul($i,na)|0,_n=Math.imul($i,ia),Yr=Yr+Math.imul(zn,wa)|0,Br=Br+Math.imul(zn,sa)|0,Br=Br+Math.imul(ri,wa)|0,_n=_n+Math.imul(ri,sa)|0,Yr=Yr+Math.imul(jn,_a)|0,Br=Br+Math.imul(jn,ca)|0,Br=Br+Math.imul(ei,_a)|0,_n=_n+Math.imul(ei,ca)|0,Yr=Yr+Math.imul(ni,la)|0,Br=Br+Math.imul(ni,ji)|0,Br=Br+Math.imul(si,la)|0,_n=_n+Math.imul(si,ji)|0;var No=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(No>>>26)|0,No&=67108863,Yr=Math.imul(xi,na),Br=Math.imul(xi,ia),Br=Br+Math.imul(Ri,na)|0,_n=Math.imul(Ri,ia),Yr=Yr+Math.imul(mi,wa)|0,Br=Br+Math.imul(mi,sa)|0,Br=Br+Math.imul($i,wa)|0,_n=_n+Math.imul($i,sa)|0,Yr=Yr+Math.imul(zn,_a)|0,Br=Br+Math.imul(zn,ca)|0,Br=Br+Math.imul(ri,_a)|0,_n=_n+Math.imul(ri,ca)|0,Yr=Yr+Math.imul(jn,la)|0,Br=Br+Math.imul(jn,ji)|0,Br=Br+Math.imul(ei,la)|0,_n=_n+Math.imul(ei,ji)|0,Yr=Yr+Math.imul(ni,ua)|0,Br=Br+Math.imul(ni,qi)|0,Br=Br+Math.imul(si,ua)|0,_n=_n+Math.imul(si,qi)|0;var ho=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(ho>>>26)|0,ho&=67108863,Yr=Math.imul(Pi,na),Br=Math.imul(Pi,ia),Br=Br+Math.imul(Ei,na)|0,_n=Math.imul(Ei,ia),Yr=Yr+Math.imul(xi,wa)|0,Br=Br+Math.imul(xi,sa)|0,Br=Br+Math.imul(Ri,wa)|0,_n=_n+Math.imul(Ri,sa)|0,Yr=Yr+Math.imul(mi,_a)|0,Br=Br+Math.imul(mi,ca)|0,Br=Br+Math.imul($i,_a)|0,_n=_n+Math.imul($i,ca)|0,Yr=Yr+Math.imul(zn,la)|0,Br=Br+Math.imul(zn,ji)|0,Br=Br+Math.imul(ri,la)|0,_n=_n+Math.imul(ri,ji)|0,Yr=Yr+Math.imul(jn,ua)|0,Br=Br+Math.imul(jn,qi)|0,Br=Br+Math.imul(ei,ua)|0,_n=_n+Math.imul(ei,qi)|0,Yr=Yr+Math.imul(ni,pa)|0,Br=Br+Math.imul(ni,zi)|0,Br=Br+Math.imul(si,pa)|0,_n=_n+Math.imul(si,zi)|0;var _o=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(_o>>>26)|0,_o&=67108863,Yr=Math.imul(Ni,na),Br=Math.imul(Ni,ia),Br=Br+Math.imul(Ai,na)|0,_n=Math.imul(Ai,ia),Yr=Yr+Math.imul(Pi,wa)|0,Br=Br+Math.imul(Pi,sa)|0,Br=Br+Math.imul(Ei,wa)|0,_n=_n+Math.imul(Ei,sa)|0,Yr=Yr+Math.imul(xi,_a)|0,Br=Br+Math.imul(xi,ca)|0,Br=Br+Math.imul(Ri,_a)|0,_n=_n+Math.imul(Ri,ca)|0,Yr=Yr+Math.imul(mi,la)|0,Br=Br+Math.imul(mi,ji)|0,Br=Br+Math.imul($i,la)|0,_n=_n+Math.imul($i,ji)|0,Yr=Yr+Math.imul(zn,ua)|0,Br=Br+Math.imul(zn,qi)|0,Br=Br+Math.imul(ri,ua)|0,_n=_n+Math.imul(ri,qi)|0,Yr=Yr+Math.imul(jn,pa)|0,Br=Br+Math.imul(jn,zi)|0,Br=Br+Math.imul(ei,pa)|0,_n=_n+Math.imul(ei,zi)|0,Yr=Yr+Math.imul(ni,fa)|0,Br=Br+Math.imul(ni,Ki)|0,Br=Br+Math.imul(si,fa)|0,_n=_n+Math.imul(si,Ki)|0;var ko=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(ko>>>26)|0,ko&=67108863,Yr=Math.imul(Bi,na),Br=Math.imul(Bi,ia),Br=Br+Math.imul(Ci,na)|0,_n=Math.imul(Ci,ia),Yr=Yr+Math.imul(Ni,wa)|0,Br=Br+Math.imul(Ni,sa)|0,Br=Br+Math.imul(Ai,wa)|0,_n=_n+Math.imul(Ai,sa)|0,Yr=Yr+Math.imul(Pi,_a)|0,Br=Br+Math.imul(Pi,ca)|0,Br=Br+Math.imul(Ei,_a)|0,_n=_n+Math.imul(Ei,ca)|0,Yr=Yr+Math.imul(xi,la)|0,Br=Br+Math.imul(xi,ji)|0,Br=Br+Math.imul(Ri,la)|0,_n=_n+Math.imul(Ri,ji)|0,Yr=Yr+Math.imul(mi,ua)|0,Br=Br+Math.imul(mi,qi)|0,Br=Br+Math.imul($i,ua)|0,_n=_n+Math.imul($i,qi)|0,Yr=Yr+Math.imul(zn,pa)|0,Br=Br+Math.imul(zn,zi)|0,Br=Br+Math.imul(ri,pa)|0,_n=_n+Math.imul(ri,zi)|0,Yr=Yr+Math.imul(jn,fa)|0,Br=Br+Math.imul(jn,Ki)|0,Br=Br+Math.imul(ei,fa)|0,_n=_n+Math.imul(ei,Ki)|0,Yr=Yr+Math.imul(ni,oa)|0,Br=Br+Math.imul(ni,ea)|0,Br=Br+Math.imul(si,oa)|0,_n=_n+Math.imul(si,ea)|0;var $o=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+($o>>>26)|0,$o&=67108863,Yr=Math.imul(Vi,na),Br=Math.imul(Vi,ia),Br=Br+Math.imul(Ii,na)|0,_n=Math.imul(Ii,ia),Yr=Yr+Math.imul(Bi,wa)|0,Br=Br+Math.imul(Bi,sa)|0,Br=Br+Math.imul(Ci,wa)|0,_n=_n+Math.imul(Ci,sa)|0,Yr=Yr+Math.imul(Ni,_a)|0,Br=Br+Math.imul(Ni,ca)|0,Br=Br+Math.imul(Ai,_a)|0,_n=_n+Math.imul(Ai,ca)|0,Yr=Yr+Math.imul(Pi,la)|0,Br=Br+Math.imul(Pi,ji)|0,Br=Br+Math.imul(Ei,la)|0,_n=_n+Math.imul(Ei,ji)|0,Yr=Yr+Math.imul(xi,ua)|0,Br=Br+Math.imul(xi,qi)|0,Br=Br+Math.imul(Ri,ua)|0,_n=_n+Math.imul(Ri,qi)|0,Yr=Yr+Math.imul(mi,pa)|0,Br=Br+Math.imul(mi,zi)|0,Br=Br+Math.imul($i,pa)|0,_n=_n+Math.imul($i,zi)|0,Yr=Yr+Math.imul(zn,fa)|0,Br=Br+Math.imul(zn,Ki)|0,Br=Br+Math.imul(ri,fa)|0,_n=_n+Math.imul(ri,Ki)|0,Yr=Yr+Math.imul(jn,oa)|0,Br=Br+Math.imul(jn,ea)|0,Br=Br+Math.imul(ei,oa)|0,_n=_n+Math.imul(ei,ea)|0,Yr=Yr+Math.imul(ni,Aa)|0,Br=Br+Math.imul(ni,da)|0,Br=Br+Math.imul(si,Aa)|0,_n=_n+Math.imul(si,da)|0;var Mo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,Yr=Math.imul(ra,na),Br=Math.imul(ra,ia),Br=Br+Math.imul(Oi,na)|0,_n=Math.imul(Oi,ia),Yr=Yr+Math.imul(Vi,wa)|0,Br=Br+Math.imul(Vi,sa)|0,Br=Br+Math.imul(Ii,wa)|0,_n=_n+Math.imul(Ii,sa)|0,Yr=Yr+Math.imul(Bi,_a)|0,Br=Br+Math.imul(Bi,ca)|0,Br=Br+Math.imul(Ci,_a)|0,_n=_n+Math.imul(Ci,ca)|0,Yr=Yr+Math.imul(Ni,la)|0,Br=Br+Math.imul(Ni,ji)|0,Br=Br+Math.imul(Ai,la)|0,_n=_n+Math.imul(Ai,ji)|0,Yr=Yr+Math.imul(Pi,ua)|0,Br=Br+Math.imul(Pi,qi)|0,Br=Br+Math.imul(Ei,ua)|0,_n=_n+Math.imul(Ei,qi)|0,Yr=Yr+Math.imul(xi,pa)|0,Br=Br+Math.imul(xi,zi)|0,Br=Br+Math.imul(Ri,pa)|0,_n=_n+Math.imul(Ri,zi)|0,Yr=Yr+Math.imul(mi,fa)|0,Br=Br+Math.imul(mi,Ki)|0,Br=Br+Math.imul($i,fa)|0,_n=_n+Math.imul($i,Ki)|0,Yr=Yr+Math.imul(zn,oa)|0,Br=Br+Math.imul(zn,ea)|0,Br=Br+Math.imul(ri,oa)|0,_n=_n+Math.imul(ri,ea)|0,Yr=Yr+Math.imul(jn,Aa)|0,Br=Br+Math.imul(jn,da)|0,Br=Br+Math.imul(ei,Aa)|0,_n=_n+Math.imul(ei,da)|0,Yr=Yr+Math.imul(ni,va)|0,Br=Br+Math.imul(ni,Ca)|0,Br=Br+Math.imul(si,va)|0,_n=_n+Math.imul(si,Ca)|0;var Oo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,Yr=Math.imul(ra,wa),Br=Math.imul(ra,sa),Br=Br+Math.imul(Oi,wa)|0,_n=Math.imul(Oi,sa),Yr=Yr+Math.imul(Vi,_a)|0,Br=Br+Math.imul(Vi,ca)|0,Br=Br+Math.imul(Ii,_a)|0,_n=_n+Math.imul(Ii,ca)|0,Yr=Yr+Math.imul(Bi,la)|0,Br=Br+Math.imul(Bi,ji)|0,Br=Br+Math.imul(Ci,la)|0,_n=_n+Math.imul(Ci,ji)|0,Yr=Yr+Math.imul(Ni,ua)|0,Br=Br+Math.imul(Ni,qi)|0,Br=Br+Math.imul(Ai,ua)|0,_n=_n+Math.imul(Ai,qi)|0,Yr=Yr+Math.imul(Pi,pa)|0,Br=Br+Math.imul(Pi,zi)|0,Br=Br+Math.imul(Ei,pa)|0,_n=_n+Math.imul(Ei,zi)|0,Yr=Yr+Math.imul(xi,fa)|0,Br=Br+Math.imul(xi,Ki)|0,Br=Br+Math.imul(Ri,fa)|0,_n=_n+Math.imul(Ri,Ki)|0,Yr=Yr+Math.imul(mi,oa)|0,Br=Br+Math.imul(mi,ea)|0,Br=Br+Math.imul($i,oa)|0,_n=_n+Math.imul($i,ea)|0,Yr=Yr+Math.imul(zn,Aa)|0,Br=Br+Math.imul(zn,da)|0,Br=Br+Math.imul(ri,Aa)|0,_n=_n+Math.imul(ri,da)|0,Yr=Yr+Math.imul(jn,va)|0,Br=Br+Math.imul(jn,Ca)|0,Br=Br+Math.imul(ei,va)|0,_n=_n+Math.imul(ei,Ca)|0;var Eo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,Yr=Math.imul(ra,_a),Br=Math.imul(ra,ca),Br=Br+Math.imul(Oi,_a)|0,_n=Math.imul(Oi,ca),Yr=Yr+Math.imul(Vi,la)|0,Br=Br+Math.imul(Vi,ji)|0,Br=Br+Math.imul(Ii,la)|0,_n=_n+Math.imul(Ii,ji)|0,Yr=Yr+Math.imul(Bi,ua)|0,Br=Br+Math.imul(Bi,qi)|0,Br=Br+Math.imul(Ci,ua)|0,_n=_n+Math.imul(Ci,qi)|0,Yr=Yr+Math.imul(Ni,pa)|0,Br=Br+Math.imul(Ni,zi)|0,Br=Br+Math.imul(Ai,pa)|0,_n=_n+Math.imul(Ai,zi)|0,Yr=Yr+Math.imul(Pi,fa)|0,Br=Br+Math.imul(Pi,Ki)|0,Br=Br+Math.imul(Ei,fa)|0,_n=_n+Math.imul(Ei,Ki)|0,Yr=Yr+Math.imul(xi,oa)|0,Br=Br+Math.imul(xi,ea)|0,Br=Br+Math.imul(Ri,oa)|0,_n=_n+Math.imul(Ri,ea)|0,Yr=Yr+Math.imul(mi,Aa)|0,Br=Br+Math.imul(mi,da)|0,Br=Br+Math.imul($i,Aa)|0,_n=_n+Math.imul($i,da)|0,Yr=Yr+Math.imul(zn,va)|0,Br=Br+Math.imul(zn,Ca)|0,Br=Br+Math.imul(ri,va)|0,_n=_n+Math.imul(ri,Ca)|0;var So=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(So>>>26)|0,So&=67108863,Yr=Math.imul(ra,la),Br=Math.imul(ra,ji),Br=Br+Math.imul(Oi,la)|0,_n=Math.imul(Oi,ji),Yr=Yr+Math.imul(Vi,ua)|0,Br=Br+Math.imul(Vi,qi)|0,Br=Br+Math.imul(Ii,ua)|0,_n=_n+Math.imul(Ii,qi)|0,Yr=Yr+Math.imul(Bi,pa)|0,Br=Br+Math.imul(Bi,zi)|0,Br=Br+Math.imul(Ci,pa)|0,_n=_n+Math.imul(Ci,zi)|0,Yr=Yr+Math.imul(Ni,fa)|0,Br=Br+Math.imul(Ni,Ki)|0,Br=Br+Math.imul(Ai,fa)|0,_n=_n+Math.imul(Ai,Ki)|0,Yr=Yr+Math.imul(Pi,oa)|0,Br=Br+Math.imul(Pi,ea)|0,Br=Br+Math.imul(Ei,oa)|0,_n=_n+Math.imul(Ei,ea)|0,Yr=Yr+Math.imul(xi,Aa)|0,Br=Br+Math.imul(xi,da)|0,Br=Br+Math.imul(Ri,Aa)|0,_n=_n+Math.imul(Ri,da)|0,Yr=Yr+Math.imul(mi,va)|0,Br=Br+Math.imul(mi,Ca)|0,Br=Br+Math.imul($i,va)|0,_n=_n+Math.imul($i,Ca)|0;var Ao=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,Yr=Math.imul(ra,ua),Br=Math.imul(ra,qi),Br=Br+Math.imul(Oi,ua)|0,_n=Math.imul(Oi,qi),Yr=Yr+Math.imul(Vi,pa)|0,Br=Br+Math.imul(Vi,zi)|0,Br=Br+Math.imul(Ii,pa)|0,_n=_n+Math.imul(Ii,zi)|0,Yr=Yr+Math.imul(Bi,fa)|0,Br=Br+Math.imul(Bi,Ki)|0,Br=Br+Math.imul(Ci,fa)|0,_n=_n+Math.imul(Ci,Ki)|0,Yr=Yr+Math.imul(Ni,oa)|0,Br=Br+Math.imul(Ni,ea)|0,Br=Br+Math.imul(Ai,oa)|0,_n=_n+Math.imul(Ai,ea)|0,Yr=Yr+Math.imul(Pi,Aa)|0,Br=Br+Math.imul(Pi,da)|0,Br=Br+Math.imul(Ei,Aa)|0,_n=_n+Math.imul(Ei,da)|0,Yr=Yr+Math.imul(xi,va)|0,Br=Br+Math.imul(xi,Ca)|0,Br=Br+Math.imul(Ri,va)|0,_n=_n+Math.imul(Ri,Ca)|0;var co=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(co>>>26)|0,co&=67108863,Yr=Math.imul(ra,pa),Br=Math.imul(ra,zi),Br=Br+Math.imul(Oi,pa)|0,_n=Math.imul(Oi,zi),Yr=Yr+Math.imul(Vi,fa)|0,Br=Br+Math.imul(Vi,Ki)|0,Br=Br+Math.imul(Ii,fa)|0,_n=_n+Math.imul(Ii,Ki)|0,Yr=Yr+Math.imul(Bi,oa)|0,Br=Br+Math.imul(Bi,ea)|0,Br=Br+Math.imul(Ci,oa)|0,_n=_n+Math.imul(Ci,ea)|0,Yr=Yr+Math.imul(Ni,Aa)|0,Br=Br+Math.imul(Ni,da)|0,Br=Br+Math.imul(Ai,Aa)|0,_n=_n+Math.imul(Ai,da)|0,Yr=Yr+Math.imul(Pi,va)|0,Br=Br+Math.imul(Pi,Ca)|0,Br=Br+Math.imul(Ei,va)|0,_n=_n+Math.imul(Ei,Ca)|0;var Bo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,Yr=Math.imul(ra,fa),Br=Math.imul(ra,Ki),Br=Br+Math.imul(Oi,fa)|0,_n=Math.imul(Oi,Ki),Yr=Yr+Math.imul(Vi,oa)|0,Br=Br+Math.imul(Vi,ea)|0,Br=Br+Math.imul(Ii,oa)|0,_n=_n+Math.imul(Ii,ea)|0,Yr=Yr+Math.imul(Bi,Aa)|0,Br=Br+Math.imul(Bi,da)|0,Br=Br+Math.imul(Ci,Aa)|0,_n=_n+Math.imul(Ci,da)|0,Yr=Yr+Math.imul(Ni,va)|0,Br=Br+Math.imul(Ni,Ca)|0,Br=Br+Math.imul(Ai,va)|0,_n=_n+Math.imul(Ai,Ca)|0;var Ho=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,Yr=Math.imul(ra,oa),Br=Math.imul(ra,ea),Br=Br+Math.imul(Oi,oa)|0,_n=Math.imul(Oi,ea),Yr=Yr+Math.imul(Vi,Aa)|0,Br=Br+Math.imul(Vi,da)|0,Br=Br+Math.imul(Ii,Aa)|0,_n=_n+Math.imul(Ii,da)|0,Yr=Yr+Math.imul(Bi,va)|0,Br=Br+Math.imul(Bi,Ca)|0,Br=Br+Math.imul(Ci,va)|0,_n=_n+Math.imul(Ci,Ca)|0;var zo=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(zo>>>26)|0,zo&=67108863,Yr=Math.imul(ra,Aa),Br=Math.imul(ra,da),Br=Br+Math.imul(Oi,Aa)|0,_n=Math.imul(Oi,da),Yr=Yr+Math.imul(Vi,va)|0,Br=Br+Math.imul(Vi,Ca)|0,Br=Br+Math.imul(Ii,va)|0,_n=_n+Math.imul(Ii,Ca)|0;var fc=(Kr+Yr|0)+((Br&8191)<<13)|0;Kr=(_n+(Br>>>13)|0)+(fc>>>26)|0,fc&=67108863,Yr=Math.imul(ra,va),Br=Math.imul(ra,Ca),Br=Br+Math.imul(Oi,va)|0,_n=Math.imul(Oi,Ca);var rc=(Kr+Yr|0)+((Br&8191)<<13)|0;return Kr=(_n+(Br>>>13)|0)+(rc>>>26)|0,rc&=67108863,Xr[0]=Io,Xr[1]=Po,Xr[2]=To,Xr[3]=No,Xr[4]=ho,Xr[5]=_o,Xr[6]=ko,Xr[7]=$o,Xr[8]=Mo,Xr[9]=Oo,Xr[10]=Eo,Xr[11]=So,Xr[12]=Ao,Xr[13]=co,Xr[14]=Bo,Xr[15]=Ho,Xr[16]=zo,Xr[17]=fc,Xr[18]=rc,Kr!==0&&(Xr[19]=Kr,qr.length++),qr};Math.imul||(Qr=jr);function wn(Zr,Oe,wr){wr.negative=Oe.negative^Zr.negative,wr.length=Zr.length+Oe.length;for(var qr=0,Vr=0,Jr=0;Jr<wr.length-1;Jr++){var Xr=Vr;Vr=0;for(var Kr=qr&67108863,Yr=Math.min(Jr,Oe.length-1),Br=Math.max(0,Jr-Zr.length+1);Br<=Yr;Br++){var _n=Jr-Br,ii=Zr.words[_n]|0,ni=Oe.words[Br]|0,si=ii*ni,Nn=si&67108863;Xr=Xr+(si/67108864|0)|0,Nn=Nn+Kr|0,Kr=Nn&67108863,Xr=Xr+(Nn>>>26)|0,Vr+=Xr>>>26,Xr&=67108863}wr.words[Jr]=Kr,qr=Xr,Xr=Vr}return qr!==0?wr.words[Jr]=qr:wr.length--,wr._strip()}function En(Zr,Oe,wr){return wn(Zr,Oe,wr)}me.prototype.mulTo=function(Oe,wr){var qr,Vr=this.length+Oe.length;return this.length===10&&Oe.length===10?qr=Qr(this,Oe,wr):Vr<63?qr=jr(this,Oe,wr):Vr<1024?qr=wn(this,Oe,wr):qr=En(this,Oe,wr),qr},me.prototype.mul=function(Oe){var wr=new me(null);return wr.words=new Array(this.length+Oe.length),this.mulTo(Oe,wr)},me.prototype.mulf=function(Oe){var wr=new me(null);return wr.words=new Array(this.length+Oe.length),En(this,Oe,wr)},me.prototype.imul=function(Oe){return this.clone().mulTo(Oe,this)},me.prototype.imuln=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(typeof Oe=="number"),fe(Oe<67108864);for(var qr=0,Vr=0;Vr<this.length;Vr++){var Jr=(this.words[Vr]|0)*Oe,Xr=(Jr&67108863)+(qr&67108863);qr>>=26,qr+=Jr/67108864|0,qr+=Xr>>>26,this.words[Vr]=Xr&67108863}return qr!==0&&(this.words[Vr]=qr,this.length++),wr?this.ineg():this},me.prototype.muln=function(Oe){return this.clone().imuln(Oe)},me.prototype.sqr=function(){return this.mul(this)},me.prototype.isqr=function(){return this.imul(this.clone())},me.prototype.pow=function(Oe){var wr=Gr(Oe);if(wr.length===0)return new me(1);for(var qr=this,Vr=0;Vr<wr.length&&wr[Vr]===0;Vr++,qr=qr.sqr());if(++Vr<wr.length)for(var Jr=qr.sqr();Vr<wr.length;Vr++,Jr=Jr.sqr())wr[Vr]!==0&&(qr=qr.mul(Jr));return qr},me.prototype.iushln=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26,Vr=67108863>>>26-wr<<26-wr,Jr;if(wr!==0){var Xr=0;for(Jr=0;Jr<this.length;Jr++){var Kr=this.words[Jr]&Vr,Yr=(this.words[Jr]|0)-Kr<<wr;this.words[Jr]=Yr|Xr,Xr=Kr>>>26-wr}Xr&&(this.words[Jr]=Xr,this.length++)}if(qr!==0){for(Jr=this.length-1;Jr>=0;Jr--)this.words[Jr+qr]=this.words[Jr];for(Jr=0;Jr<qr;Jr++)this.words[Jr]=0;this.length+=qr}return this._strip()},me.prototype.ishln=function(Oe){return fe(this.negative===0),this.iushln(Oe)},me.prototype.iushrn=function(Oe,wr,qr){fe(typeof Oe=="number"&&Oe>=0);var Vr;wr?Vr=(wr-wr%26)/26:Vr=0;var Jr=Oe%26,Xr=Math.min((Oe-Jr)/26,this.length),Kr=67108863^67108863>>>Jr<<Jr,Yr=qr;if(Vr-=Xr,Vr=Math.max(0,Vr),Yr){for(var Br=0;Br<Xr;Br++)Yr.words[Br]=this.words[Br];Yr.length=Xr}if(Xr!==0)if(this.length>Xr)for(this.length-=Xr,Br=0;Br<this.length;Br++)this.words[Br]=this.words[Br+Xr];else this.words[0]=0,this.length=1;var _n=0;for(Br=this.length-1;Br>=0&&(_n!==0||Br>=Vr);Br--){var ii=this.words[Br]|0;this.words[Br]=_n<<26-Jr|ii>>>Jr,_n=ii&Kr}return Yr&&_n!==0&&(Yr.words[Yr.length++]=_n),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},me.prototype.ishrn=function(Oe,wr,qr){return fe(this.negative===0),this.iushrn(Oe,wr,qr)},me.prototype.shln=function(Oe){return this.clone().ishln(Oe)},me.prototype.ushln=function(Oe){return this.clone().iushln(Oe)},me.prototype.shrn=function(Oe){return this.clone().ishrn(Oe)},me.prototype.ushrn=function(Oe){return this.clone().iushrn(Oe)},me.prototype.testn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26,Vr=1<<wr;if(this.length<=qr)return!1;var Jr=this.words[qr];return!!(Jr&Vr)},me.prototype.imaskn=function(Oe){fe(typeof Oe=="number"&&Oe>=0);var wr=Oe%26,qr=(Oe-wr)/26;if(fe(this.negative===0,"imaskn works only with positive numbers"),this.length<=qr)return this;if(wr!==0&&qr++,this.length=Math.min(qr,this.length),wr!==0){var Vr=67108863^67108863>>>wr<<wr;this.words[this.length-1]&=Vr}return this._strip()},me.prototype.maskn=function(Oe){return this.clone().imaskn(Oe)},me.prototype.iaddn=function(Oe){return fe(typeof Oe=="number"),fe(Oe<67108864),Oe<0?this.isubn(-Oe):this.negative!==0?this.length===1&&(this.words[0]|0)<=Oe?(this.words[0]=Oe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Oe),this.negative=1,this):this._iaddn(Oe)},me.prototype._iaddn=function(Oe){this.words[0]+=Oe;for(var wr=0;wr<this.length&&this.words[wr]>=67108864;wr++)this.words[wr]-=67108864,wr===this.length-1?this.words[wr+1]=1:this.words[wr+1]++;return this.length=Math.max(this.length,wr+1),this},me.prototype.isubn=function(Oe){if(fe(typeof Oe=="number"),fe(Oe<67108864),Oe<0)return this.iaddn(-Oe);if(this.negative!==0)return this.negative=0,this.iaddn(Oe),this.negative=1,this;if(this.words[0]-=Oe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var wr=0;wr<this.length&&this.words[wr]<0;wr++)this.words[wr]+=67108864,this.words[wr+1]-=1;return this._strip()},me.prototype.addn=function(Oe){return this.clone().iaddn(Oe)},me.prototype.subn=function(Oe){return this.clone().isubn(Oe)},me.prototype.iabs=function(){return this.negative=0,this},me.prototype.abs=function(){return this.clone().iabs()},me.prototype._ishlnsubmul=function(Oe,wr,qr){var Vr=Oe.length+qr,Jr;this._expand(Vr);var Xr,Kr=0;for(Jr=0;Jr<Oe.length;Jr++){Xr=(this.words[Jr+qr]|0)+Kr;var Yr=(Oe.words[Jr]|0)*wr;Xr-=Yr&67108863,Kr=(Xr>>26)-(Yr/67108864|0),this.words[Jr+qr]=Xr&67108863}for(;Jr<this.length-qr;Jr++)Xr=(this.words[Jr+qr]|0)+Kr,Kr=Xr>>26,this.words[Jr+qr]=Xr&67108863;if(Kr===0)return this._strip();for(fe(Kr===-1),Kr=0,Jr=0;Jr<this.length;Jr++)Xr=-(this.words[Jr]|0)+Kr,Kr=Xr>>26,this.words[Jr]=Xr&67108863;return this.negative=1,this._strip()},me.prototype._wordDiv=function(Oe,wr){var qr=this.length-Oe.length,Vr=this.clone(),Jr=Oe,Xr=Jr.words[Jr.length-1]|0,Kr=this._countBits(Xr);qr=26-Kr,qr!==0&&(Jr=Jr.ushln(qr),Vr.iushln(qr),Xr=Jr.words[Jr.length-1]|0);var Yr=Vr.length-Jr.length,Br;if(wr!=="mod"){Br=new me(null),Br.length=Yr+1,Br.words=new Array(Br.length);for(var _n=0;_n<Br.length;_n++)Br.words[_n]=0}var ii=Vr.clone()._ishlnsubmul(Jr,1,Yr);ii.negative===0&&(Vr=ii,Br&&(Br.words[Yr]=1));for(var ni=Yr-1;ni>=0;ni--){var si=(Vr.words[Jr.length+ni]|0)*67108864+(Vr.words[Jr.length+ni-1]|0);for(si=Math.min(si/Xr|0,67108863),Vr._ishlnsubmul(Jr,si,ni);Vr.negative!==0;)si--,Vr.negative=0,Vr._ishlnsubmul(Jr,1,ni),Vr.isZero()||(Vr.negative^=1);Br&&(Br.words[ni]=si)}return Br&&Br._strip(),Vr._strip(),wr!=="div"&&qr!==0&&Vr.iushrn(qr),{div:Br||null,mod:Vr}},me.prototype.divmod=function(Oe,wr,qr){if(fe(!Oe.isZero()),this.isZero())return{div:new me(0),mod:new me(0)};var Vr,Jr,Xr;return this.negative!==0&&Oe.negative===0?(Xr=this.neg().divmod(Oe,wr),wr!=="mod"&&(Vr=Xr.div.neg()),wr!=="div"&&(Jr=Xr.mod.neg(),qr&&Jr.negative!==0&&Jr.iadd(Oe)),{div:Vr,mod:Jr}):this.negative===0&&Oe.negative!==0?(Xr=this.divmod(Oe.neg(),wr),wr!=="mod"&&(Vr=Xr.div.neg()),{div:Vr,mod:Xr.mod}):this.negative&Oe.negative?(Xr=this.neg().divmod(Oe.neg(),wr),wr!=="div"&&(Jr=Xr.mod.neg(),qr&&Jr.negative!==0&&Jr.isub(Oe)),{div:Xr.div,mod:Jr}):Oe.length>this.length||this.cmp(Oe)<0?{div:new me(0),mod:this}:Oe.length===1?wr==="div"?{div:this.divn(Oe.words[0]),mod:null}:wr==="mod"?{div:null,mod:new me(this.modrn(Oe.words[0]))}:{div:this.divn(Oe.words[0]),mod:new me(this.modrn(Oe.words[0]))}:this._wordDiv(Oe,wr)},me.prototype.div=function(Oe){return this.divmod(Oe,"div",!1).div},me.prototype.mod=function(Oe){return this.divmod(Oe,"mod",!1).mod},me.prototype.umod=function(Oe){return this.divmod(Oe,"mod",!0).mod},me.prototype.divRound=function(Oe){var wr=this.divmod(Oe);if(wr.mod.isZero())return wr.div;var qr=wr.div.negative!==0?wr.mod.isub(Oe):wr.mod,Vr=Oe.ushrn(1),Jr=Oe.andln(1),Xr=qr.cmp(Vr);return Xr<0||Jr===1&&Xr===0?wr.div:wr.div.negative!==0?wr.div.isubn(1):wr.div.iaddn(1)},me.prototype.modrn=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(Oe<=67108863);for(var qr=(1<<26)%Oe,Vr=0,Jr=this.length-1;Jr>=0;Jr--)Vr=(qr*Vr+(this.words[Jr]|0))%Oe;return wr?-Vr:Vr},me.prototype.modn=function(Oe){return this.modrn(Oe)},me.prototype.idivn=function(Oe){var wr=Oe<0;wr&&(Oe=-Oe),fe(Oe<=67108863);for(var qr=0,Vr=this.length-1;Vr>=0;Vr--){var Jr=(this.words[Vr]|0)+qr*67108864;this.words[Vr]=Jr/Oe|0,qr=Jr%Oe}return this._strip(),wr?this.ineg():this},me.prototype.divn=function(Oe){return this.clone().idivn(Oe)},me.prototype.egcd=function(Oe){fe(Oe.negative===0),fe(!Oe.isZero());var wr=this,qr=Oe.clone();wr.negative!==0?wr=wr.umod(Oe):wr=wr.clone();for(var Vr=new me(1),Jr=new me(0),Xr=new me(0),Kr=new me(1),Yr=0;wr.isEven()&&qr.isEven();)wr.iushrn(1),qr.iushrn(1),++Yr;for(var Br=qr.clone(),_n=wr.clone();!wr.isZero();){for(var ii=0,ni=1;!(wr.words[0]&ni)&&ii<26;++ii,ni<<=1);if(ii>0)for(wr.iushrn(ii);ii-- >0;)(Vr.isOdd()||Jr.isOdd())&&(Vr.iadd(Br),Jr.isub(_n)),Vr.iushrn(1),Jr.iushrn(1);for(var si=0,Nn=1;!(qr.words[0]&Nn)&&si<26;++si,Nn<<=1);if(si>0)for(qr.iushrn(si);si-- >0;)(Xr.isOdd()||Kr.isOdd())&&(Xr.iadd(Br),Kr.isub(_n)),Xr.iushrn(1),Kr.iushrn(1);wr.cmp(qr)>=0?(wr.isub(qr),Vr.isub(Xr),Jr.isub(Kr)):(qr.isub(wr),Xr.isub(Vr),Kr.isub(Jr))}return{a:Xr,b:Kr,gcd:qr.iushln(Yr)}},me.prototype._invmp=function(Oe){fe(Oe.negative===0),fe(!Oe.isZero());var wr=this,qr=Oe.clone();wr.negative!==0?wr=wr.umod(Oe):wr=wr.clone();for(var Vr=new me(1),Jr=new me(0),Xr=qr.clone();wr.cmpn(1)>0&&qr.cmpn(1)>0;){for(var Kr=0,Yr=1;!(wr.words[0]&Yr)&&Kr<26;++Kr,Yr<<=1);if(Kr>0)for(wr.iushrn(Kr);Kr-- >0;)Vr.isOdd()&&Vr.iadd(Xr),Vr.iushrn(1);for(var Br=0,_n=1;!(qr.words[0]&_n)&&Br<26;++Br,_n<<=1);if(Br>0)for(qr.iushrn(Br);Br-- >0;)Jr.isOdd()&&Jr.iadd(Xr),Jr.iushrn(1);wr.cmp(qr)>=0?(wr.isub(qr),Vr.isub(Jr)):(qr.isub(wr),Jr.isub(Vr))}var ii;return wr.cmpn(1)===0?ii=Vr:ii=Jr,ii.cmpn(0)<0&&ii.iadd(Oe),ii},me.prototype.gcd=function(Oe){if(this.isZero())return Oe.abs();if(Oe.isZero())return this.abs();var wr=this.clone(),qr=Oe.clone();wr.negative=0,qr.negative=0;for(var Vr=0;wr.isEven()&&qr.isEven();Vr++)wr.iushrn(1),qr.iushrn(1);do{for(;wr.isEven();)wr.iushrn(1);for(;qr.isEven();)qr.iushrn(1);var Jr=wr.cmp(qr);if(Jr<0){var Xr=wr;wr=qr,qr=Xr}else if(Jr===0||qr.cmpn(1)===0)break;wr.isub(qr)}while(!0);return qr.iushln(Vr)},me.prototype.invm=function(Oe){return this.egcd(Oe).a.umod(Oe)},me.prototype.isEven=function(){return(this.words[0]&1)===0},me.prototype.isOdd=function(){return(this.words[0]&1)===1},me.prototype.andln=function(Oe){return this.words[0]&Oe},me.prototype.bincn=function(Oe){fe(typeof Oe=="number");var wr=Oe%26,qr=(Oe-wr)/26,Vr=1<<wr;if(this.length<=qr)return this._expand(qr+1),this.words[qr]|=Vr,this;for(var Jr=Vr,Xr=qr;Jr!==0&&Xr<this.length;Xr++){var Kr=this.words[Xr]|0;Kr+=Jr,Jr=Kr>>>26,Kr&=67108863,this.words[Xr]=Kr}return Jr!==0&&(this.words[Xr]=Jr,this.length++),this},me.prototype.isZero=function(){return this.length===1&&this.words[0]===0},me.prototype.cmpn=function(Oe){var wr=Oe<0;if(this.negative!==0&&!wr)return-1;if(this.negative===0&&wr)return 1;this._strip();var qr;if(this.length>1)qr=1;else{wr&&(Oe=-Oe),fe(Oe<=67108863,"Number is too big");var Vr=this.words[0]|0;qr=Vr===Oe?0:Vr<Oe?-1:1}return this.negative!==0?-qr|0:qr},me.prototype.cmp=function(Oe){if(this.negative!==0&&Oe.negative===0)return-1;if(this.negative===0&&Oe.negative!==0)return 1;var wr=this.ucmp(Oe);return this.negative!==0?-wr|0:wr},me.prototype.ucmp=function(Oe){if(this.length>Oe.length)return 1;if(this.length<Oe.length)return-1;for(var wr=0,qr=this.length-1;qr>=0;qr--){var Vr=this.words[qr]|0,Jr=Oe.words[qr]|0;if(Vr!==Jr){Vr<Jr?wr=-1:Vr>Jr&&(wr=1);break}}return wr},me.prototype.gtn=function(Oe){return this.cmpn(Oe)===1},me.prototype.gt=function(Oe){return this.cmp(Oe)===1},me.prototype.gten=function(Oe){return this.cmpn(Oe)>=0},me.prototype.gte=function(Oe){return this.cmp(Oe)>=0},me.prototype.ltn=function(Oe){return this.cmpn(Oe)===-1},me.prototype.lt=function(Oe){return this.cmp(Oe)===-1},me.prototype.lten=function(Oe){return this.cmpn(Oe)<=0},me.prototype.lte=function(Oe){return this.cmp(Oe)<=0},me.prototype.eqn=function(Oe){return this.cmpn(Oe)===0},me.prototype.eq=function(Oe){return this.cmp(Oe)===0},me.red=function(Oe){return new On(Oe)},me.prototype.toRed=function(Oe){return fe(!this.red,"Already a number in reduction context"),fe(this.negative===0,"red works only with positives"),Oe.convertTo(this)._forceRed(Oe)},me.prototype.fromRed=function(){return fe(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},me.prototype._forceRed=function(Oe){return this.red=Oe,this},me.prototype.forceRed=function(Oe){return fe(!this.red,"Already a number in reduction context"),this._forceRed(Oe)},me.prototype.redAdd=function(Oe){return fe(this.red,"redAdd works only with red numbers"),this.red.add(this,Oe)},me.prototype.redIAdd=function(Oe){return fe(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Oe)},me.prototype.redSub=function(Oe){return fe(this.red,"redSub works only with red numbers"),this.red.sub(this,Oe)},me.prototype.redISub=function(Oe){return fe(this.red,"redISub works only with red numbers"),this.red.isub(this,Oe)},me.prototype.redShl=function(Oe){return fe(this.red,"redShl works only with red numbers"),this.red.shl(this,Oe)},me.prototype.redMul=function(Oe){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Oe),this.red.mul(this,Oe)},me.prototype.redIMul=function(Oe){return fe(this.red,"redMul works only with red numbers"),this.red._verify2(this,Oe),this.red.imul(this,Oe)},me.prototype.redSqr=function(){return fe(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},me.prototype.redISqr=function(){return fe(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},me.prototype.redSqrt=function(){return fe(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},me.prototype.redInvm=function(){return fe(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},me.prototype.redNeg=function(){return fe(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},me.prototype.redPow=function(Oe){return fe(this.red&&!Oe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Oe)};var Rn={k256:null,p224:null,p192:null,p25519:null};function An(Zr,Oe){this.name=Zr,this.p=new me(Oe,16),this.n=this.p.bitLength(),this.k=new me(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}An.prototype._tmp=function(){var Oe=new me(null);return Oe.words=new Array(Math.ceil(this.n/13)),Oe},An.prototype.ireduce=function(Oe){var wr=Oe,qr;do this.split(wr,this.tmp),wr=this.imulK(wr),wr=wr.iadd(this.tmp),qr=wr.bitLength();while(qr>this.n);var Vr=qr<this.n?-1:wr.ucmp(this.p);return Vr===0?(wr.words[0]=0,wr.length=1):Vr>0?wr.isub(this.p):wr.strip!==void 0?wr.strip():wr._strip(),wr},An.prototype.split=function(Oe,wr){Oe.iushrn(this.n,0,wr)},An.prototype.imulK=function(Oe){return Oe.imul(this.k)};function $n(){An.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ye($n,An),$n.prototype.split=function(Oe,wr){for(var qr=4194303,Vr=Math.min(Oe.length,9),Jr=0;Jr<Vr;Jr++)wr.words[Jr]=Oe.words[Jr];if(wr.length=Vr,Oe.length<=9){Oe.words[0]=0,Oe.length=1;return}var Xr=Oe.words[9];for(wr.words[wr.length++]=Xr&qr,Jr=10;Jr<Oe.length;Jr++){var Kr=Oe.words[Jr]|0;Oe.words[Jr-10]=(Kr&qr)<<4|Xr>>>22,Xr=Kr}Xr>>>=22,Oe.words[Jr-10]=Xr,Xr===0&&Oe.length>10?Oe.length-=10:Oe.length-=9},$n.prototype.imulK=function(Oe){Oe.words[Oe.length]=0,Oe.words[Oe.length+1]=0,Oe.length+=2;for(var wr=0,qr=0;qr<Oe.length;qr++){var Vr=Oe.words[qr]|0;wr+=Vr*977,Oe.words[qr]=wr&67108863,wr=Vr*64+(wr/67108864|0)}return Oe.words[Oe.length-1]===0&&(Oe.length--,Oe.words[Oe.length-1]===0&&Oe.length--),Oe};function Tn(){An.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ye(Tn,An);function ti(){An.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ye(ti,An);function ai(){An.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ye(ai,An),ai.prototype.imulK=function(Oe){for(var wr=0,qr=0;qr<Oe.length;qr++){var Vr=(Oe.words[qr]|0)*19+wr,Jr=Vr&67108863;Vr>>>=26,Oe.words[qr]=Jr,wr=Vr}return wr!==0&&(Oe.words[Oe.length++]=wr),Oe},me._prime=function(Oe){if(Rn[Oe])return Rn[Oe];var wr;if(Oe==="k256")wr=new $n;else if(Oe==="p224")wr=new Tn;else if(Oe==="p192")wr=new ti;else if(Oe==="p25519")wr=new ai;else throw new Error("Unknown prime "+Oe);return Rn[Oe]=wr,wr};function On(Zr){if(typeof Zr=="string"){var Oe=me._prime(Zr);this.m=Oe.p,this.prime=Oe}else fe(Zr.gtn(1),"modulus must be greater than 1"),this.m=Zr,this.prime=null}On.prototype._verify1=function(Oe){fe(Oe.negative===0,"red works only with positives"),fe(Oe.red,"red works only with red numbers")},On.prototype._verify2=function(Oe,wr){fe((Oe.negative|wr.negative)===0,"red works only with positives"),fe(Oe.red&&Oe.red===wr.red,"red works only with red numbers")},On.prototype.imod=function(Oe){return this.prime?this.prime.ireduce(Oe)._forceRed(this):(Se(Oe,Oe.umod(this.m)._forceRed(this)),Oe)},On.prototype.neg=function(Oe){return Oe.isZero()?Oe.clone():this.m.sub(Oe)._forceRed(this)},On.prototype.add=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.add(wr);return qr.cmp(this.m)>=0&&qr.isub(this.m),qr._forceRed(this)},On.prototype.iadd=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.iadd(wr);return qr.cmp(this.m)>=0&&qr.isub(this.m),qr},On.prototype.sub=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.sub(wr);return qr.cmpn(0)<0&&qr.iadd(this.m),qr._forceRed(this)},On.prototype.isub=function(Oe,wr){this._verify2(Oe,wr);var qr=Oe.isub(wr);return qr.cmpn(0)<0&&qr.iadd(this.m),qr},On.prototype.shl=function(Oe,wr){return this._verify1(Oe),this.imod(Oe.ushln(wr))},On.prototype.imul=function(Oe,wr){return this._verify2(Oe,wr),this.imod(Oe.imul(wr))},On.prototype.mul=function(Oe,wr){return this._verify2(Oe,wr),this.imod(Oe.mul(wr))},On.prototype.isqr=function(Oe){return this.imul(Oe,Oe.clone())},On.prototype.sqr=function(Oe){return this.mul(Oe,Oe)},On.prototype.sqrt=function(Oe){if(Oe.isZero())return Oe.clone();var wr=this.m.andln(3);if(fe(wr%2===1),wr===3){var qr=this.m.add(new me(1)).iushrn(2);return this.pow(Oe,qr)}for(var Vr=this.m.subn(1),Jr=0;!Vr.isZero()&&Vr.andln(1)===0;)Jr++,Vr.iushrn(1);fe(!Vr.isZero());var Xr=new me(1).toRed(this),Kr=Xr.redNeg(),Yr=this.m.subn(1).iushrn(1),Br=this.m.bitLength();for(Br=new me(2*Br*Br).toRed(this);this.pow(Br,Yr).cmp(Kr)!==0;)Br.redIAdd(Kr);for(var _n=this.pow(Br,Vr),ii=this.pow(Oe,Vr.addn(1).iushrn(1)),ni=this.pow(Oe,Vr),si=Jr;ni.cmp(Xr)!==0;){for(var Nn=ni,jn=0;Nn.cmp(Xr)!==0;jn++)Nn=Nn.redSqr();fe(jn<si);var ei=this.pow(_n,new me(1).iushln(si-jn-1));ii=ii.redMul(ei),_n=ei.redSqr(),ni=ni.redMul(_n),si=jn}return ii},On.prototype.invm=function(Oe){var wr=Oe._invmp(this.m);return wr.negative!==0?(wr.negative=0,this.imod(wr).redNeg()):this.imod(wr)},On.prototype.pow=function(Oe,wr){if(wr.isZero())return new me(1).toRed(this);if(wr.cmpn(1)===0)return Oe.clone();var qr=4,Vr=new Array(1<<qr);Vr[0]=new me(1).toRed(this),Vr[1]=Oe;for(var Jr=2;Jr<Vr.length;Jr++)Vr[Jr]=this.mul(Vr[Jr-1],Oe);var Xr=Vr[0],Kr=0,Yr=0,Br=wr.bitLength()%26;for(Br===0&&(Br=26),Jr=wr.length-1;Jr>=0;Jr--){for(var _n=wr.words[Jr],ii=Br-1;ii>=0;ii--){var ni=_n>>ii&1;if(Xr!==Vr[0]&&(Xr=this.sqr(Xr)),ni===0&&Kr===0){Yr=0;continue}Kr<<=1,Kr|=ni,Yr++,!(Yr!==qr&&(Jr!==0||ii!==0))&&(Xr=this.mul(Xr,Vr[Kr]),Yr=0,Kr=0)}Br=26}return Xr},On.prototype.convertTo=function(Oe){var wr=Oe.umod(this.m);return wr===Oe?wr.clone():wr},On.prototype.convertFrom=function(Oe){var wr=Oe.clone();return wr.red=null,wr},me.mont=function(Oe){return new Sn(Oe)};function Sn(Zr){On.call(this,Zr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new me(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ye(Sn,On),Sn.prototype.convertTo=function(Oe){return this.imod(Oe.ushln(this.shift))},Sn.prototype.convertFrom=function(Oe){var wr=this.imod(Oe.mul(this.rinv));return wr.red=null,wr},Sn.prototype.imul=function(Oe,wr){if(Oe.isZero()||wr.isZero())return Oe.words[0]=0,Oe.length=1,Oe;var qr=Oe.imul(wr),Vr=qr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Jr=qr.isub(Vr).iushrn(this.shift),Xr=Jr;return Jr.cmp(this.m)>=0?Xr=Jr.isub(this.m):Jr.cmpn(0)<0&&(Xr=Jr.iadd(this.m)),Xr._forceRed(this)},Sn.prototype.mul=function(Oe,wr){if(Oe.isZero()||wr.isZero())return new me(0)._forceRed(this);var qr=Oe.mul(wr),Vr=qr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Jr=qr.isub(Vr).iushrn(this.shift),Xr=Jr;return Jr.cmp(this.m)>=0?Xr=Jr.isub(this.m):Jr.cmpn(0)<0&&(Xr=Jr.iadd(this.m)),Xr._forceRed(this)},Sn.prototype.invm=function(Oe){var wr=this.imod(Oe._invmp(this.m).mul(this.r2));return wr._forceRed(this)}})(se,bn)}(bn$1)),bn$1.exports}var error={},constants$1={},hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,Object.defineProperty(constants$1,"__esModule",{value:!0}),constants$1.errorValues=constants$1.standardErrorCodes=void 0,constants$1.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},constants$1.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}),constants$1}var errors$1={},utils$1={},hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.serialize=se.getErrorCode=se.isValidCode=se.getMessageFromCode=se.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const Y=requireConstants$1(),ne="Unspecified error message.";se.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function fe(fr,br=ne){if(fr&&Number.isInteger(fr)){const kr=fr.toString();if(Se(Y.errorValues,kr))return Y.errorValues[kr].message;if(Ee(fr))return se.JSON_RPC_SERVER_ERROR_MESSAGE}return br}se.getMessageFromCode=fe;function ye(fr){if(!Number.isInteger(fr))return!1;const br=fr.toString();return!!(Y.errorValues[br]||Ee(fr))}se.isValidCode=ye;function me(fr){var br;if(typeof fr=="number")return fr;if(be(fr))return(br=fr.code)!==null&&br!==void 0?br:fr.errorCode}se.getErrorCode=me;function be(fr){return typeof fr=="object"&&fr!==null&&(typeof fr.code=="number"||typeof fr.errorCode=="number")}function we(fr,{shouldIncludeStack:br=!1}={}){const kr={};if(fr&&typeof fr=="object"&&!Array.isArray(fr)&&Se(fr,"code")&&ye(fr.code)){const Wr=fr;kr.code=Wr.code,Wr.message&&typeof Wr.message=="string"?(kr.message=Wr.message,Se(Wr,"data")&&(kr.data=Wr.data)):(kr.message=fe(kr.code),kr.data={originalError:xe(fr)})}else kr.code=Y.standardErrorCodes.rpc.internal,kr.message=Ie(fr,"message")?fr.message:ne,kr.data={originalError:xe(fr)};return br&&(kr.stack=Ie(fr,"stack")?fr.stack:void 0),kr}se.serialize=we;function Ee(fr){return fr>=-32099&&fr<=-32e3}function xe(fr){return fr&&typeof fr=="object"&&!Array.isArray(fr)?Object.assign({},fr):fr}function Se(fr,br){return Object.prototype.hasOwnProperty.call(fr,br)}function Ie(fr,br){return typeof fr=="object"&&fr!==null&&br in fr&&typeof fr[br]=="string"}}(utils$1)),utils$1}var hasRequiredErrors$1;function requireErrors$1(){if(hasRequiredErrors$1)return errors$1;hasRequiredErrors$1=1,Object.defineProperty(errors$1,"__esModule",{value:!0}),errors$1.standardErrors=void 0;const se=requireConstants$1(),Y=requireUtils$1();errors$1.standardErrors={rpc:{parse:Ee=>ne(se.standardErrorCodes.rpc.parse,Ee),invalidRequest:Ee=>ne(se.standardErrorCodes.rpc.invalidRequest,Ee),invalidParams:Ee=>ne(se.standardErrorCodes.rpc.invalidParams,Ee),methodNotFound:Ee=>ne(se.standardErrorCodes.rpc.methodNotFound,Ee),internal:Ee=>ne(se.standardErrorCodes.rpc.internal,Ee),server:Ee=>{if(!Ee||typeof Ee!="object"||Array.isArray(Ee))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:xe}=Ee;if(!Number.isInteger(xe)||xe>-32005||xe<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ne(xe,Ee)},invalidInput:Ee=>ne(se.standardErrorCodes.rpc.invalidInput,Ee),resourceNotFound:Ee=>ne(se.standardErrorCodes.rpc.resourceNotFound,Ee),resourceUnavailable:Ee=>ne(se.standardErrorCodes.rpc.resourceUnavailable,Ee),transactionRejected:Ee=>ne(se.standardErrorCodes.rpc.transactionRejected,Ee),methodNotSupported:Ee=>ne(se.standardErrorCodes.rpc.methodNotSupported,Ee),limitExceeded:Ee=>ne(se.standardErrorCodes.rpc.limitExceeded,Ee)},provider:{userRejectedRequest:Ee=>fe(se.standardErrorCodes.provider.userRejectedRequest,Ee),unauthorized:Ee=>fe(se.standardErrorCodes.provider.unauthorized,Ee),unsupportedMethod:Ee=>fe(se.standardErrorCodes.provider.unsupportedMethod,Ee),disconnected:Ee=>fe(se.standardErrorCodes.provider.disconnected,Ee),chainDisconnected:Ee=>fe(se.standardErrorCodes.provider.chainDisconnected,Ee),unsupportedChain:Ee=>fe(se.standardErrorCodes.provider.unsupportedChain,Ee),custom:Ee=>{if(!Ee||typeof Ee!="object"||Array.isArray(Ee))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:xe,message:Se,data:Ie}=Ee;if(!Se||typeof Se!="string")throw new Error('"message" must be a nonempty string');return new be(xe,Se,Ie)}}};function ne(Ee,xe){const[Se,Ie]=ye(xe);return new me(Ee,Se||(0,Y.getMessageFromCode)(Ee),Ie)}function fe(Ee,xe){const[Se,Ie]=ye(xe);return new be(Ee,Se||(0,Y.getMessageFromCode)(Ee),Ie)}function ye(Ee){if(Ee){if(typeof Ee=="string")return[Ee];if(typeof Ee=="object"&&!Array.isArray(Ee)){const{message:xe,data:Se}=Ee;if(xe&&typeof xe!="string")throw new Error("Must specify string message.");return[xe||void 0,Se]}}return[]}class me extends Error{constructor(xe,Se,Ie){if(!Number.isInteger(xe))throw new Error('"code" must be an integer.');if(!Se||typeof Se!="string")throw new Error('"message" must be a nonempty string.');super(Se),this.code=xe,Ie!==void 0&&(this.data=Ie)}}class be extends me{constructor(xe,Se,Ie){if(!we(xe))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(xe,Se,Ie)}}function we(Ee){return Number.isInteger(Ee)&&Ee>=1e3&&Ee<=4999}return errors$1}var serialize={},Web3Response={},hasRequiredWeb3Response;function requireWeb3Response(){if(hasRequiredWeb3Response)return Web3Response;hasRequiredWeb3Response=1,Object.defineProperty(Web3Response,"__esModule",{value:!0}),Web3Response.isErrorResponse=void 0;function se(Y){return Y.errorMessage!==void 0}return Web3Response.isErrorResponse=se,Web3Response}var version$1={},hasRequiredVersion;function requireVersion(){return hasRequiredVersion||(hasRequiredVersion=1,Object.defineProperty(version$1,"__esModule",{value:!0}),version$1.LIB_VERSION=void 0,version$1.LIB_VERSION="3.9.1"),version$1}var hasRequiredSerialize;function requireSerialize(){if(hasRequiredSerialize)return serialize;hasRequiredSerialize=1,Object.defineProperty(serialize,"__esModule",{value:!0}),serialize.serializeError=void 0;const se=requireWeb3Response(),Y=requireVersion(),ne=requireConstants$1(),fe=requireUtils$1();function ye(we,Ee){const xe=(0,fe.serialize)(me(we),{shouldIncludeStack:!0}),Se=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");Se.searchParams.set("version",Y.LIB_VERSION),Se.searchParams.set("code",xe.code.toString());const Ie=be(xe.data,Ee);return Ie&&Se.searchParams.set("method",Ie),Se.searchParams.set("message",xe.message),Object.assign(Object.assign({},xe),{docUrl:Se.href})}serialize.serializeError=ye;function me(we){return typeof we=="string"?{message:we,code:ne.standardErrorCodes.rpc.internal}:(0,se.isErrorResponse)(we)?Object.assign(Object.assign({},we),{message:we.errorMessage,code:we.errorCode,data:{method:we.method}}):we}function be(we,Ee){const xe=we==null?void 0:we.method;if(xe)return xe;if(Ee!==void 0){if(typeof Ee=="string")return Ee;if(Array.isArray(Ee)){if(Ee.length>0)return Ee[0].method}else return Ee.method}}return serialize}var hasRequiredError;function requireError(){return hasRequiredError||(hasRequiredError=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.standardErrors=se.standardErrorCodes=se.serializeError=se.getMessageFromCode=se.getErrorCode=void 0;const Y=requireConstants$1();Object.defineProperty(se,"standardErrorCodes",{enumerable:!0,get:function(){return Y.standardErrorCodes}});const ne=requireErrors$1();Object.defineProperty(se,"standardErrors",{enumerable:!0,get:function(){return ne.standardErrors}});const fe=requireSerialize();Object.defineProperty(se,"serializeError",{enumerable:!0,get:function(){return fe.serializeError}});const ye=requireUtils$1();Object.defineProperty(se,"getErrorCode",{enumerable:!0,get:function(){return ye.getErrorCode}}),Object.defineProperty(se,"getMessageFromCode",{enumerable:!0,get:function(){return ye.getMessageFromCode}})}(error)),error}var type$1={},hasRequiredType;function requireType(){if(hasRequiredType)return type$1;hasRequiredType=1,Object.defineProperty(type$1,"__esModule",{value:!0}),type$1.ProviderType=type$1.RegExpString=type$1.IntNumber=type$1.BigIntString=type$1.AddressString=type$1.HexString=type$1.OpaqueType=void 0;function se(){return fe=>fe}type$1.OpaqueType=se,type$1.HexString=se(),type$1.AddressString=se(),type$1.BigIntString=se();function Y(fe){return Math.floor(fe)}type$1.IntNumber=Y,type$1.RegExpString=se();var ne;return function(fe){fe.CoinbaseWallet="CoinbaseWallet",fe.MetaMask="MetaMask",fe.Unselected=""}(ne||(type$1.ProviderType=ne={})),type$1}var hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$1;hasRequiredUtil$1=1;var se=util$1.__importDefault||function(qr){return qr&&qr.__esModule?qr:{default:qr}};Object.defineProperty(util$1,"__esModule",{value:!0}),util$1.isMobileWeb=util$1.getLocation=util$1.isInIFrame=util$1.createQrUrl=util$1.getFavicon=util$1.range=util$1.isBigNumber=util$1.ensureParsedJSONObject=util$1.ensureBN=util$1.ensureRegExpString=util$1.ensureIntNumber=util$1.ensureBuffer=util$1.ensureAddressString=util$1.ensureEvenLengthHexString=util$1.ensureHexString=util$1.isHexString=util$1.prepend0x=util$1.strip0x=util$1.has0xPrefix=util$1.hexStringFromIntNumber=util$1.intNumberFromHexString=util$1.bigIntStringFromBN=util$1.hexStringFromBuffer=util$1.hexStringToUint8Array=util$1.uint8ArrayToHex=util$1.randomBytesHex=void 0;const Y=se(requireBn()),ne=requireError(),fe=requireType(),ye=/^[0-9]*$/,me=/^[a-f0-9]*$/;function be(qr){return we(crypto.getRandomValues(new Uint8Array(qr)))}util$1.randomBytesHex=be;function we(qr){return[...qr].map(Vr=>Vr.toString(16).padStart(2,"0")).join("")}util$1.uint8ArrayToHex=we;function Ee(qr){return new Uint8Array(qr.match(/.{1,2}/g).map(Vr=>parseInt(Vr,16)))}util$1.hexStringToUint8Array=Ee;function xe(qr,Vr=!1){const Jr=qr.toString("hex");return(0,fe.HexString)(Vr?`0x${Jr}`:Jr)}util$1.hexStringFromBuffer=xe;function Se(qr){return(0,fe.BigIntString)(qr.toString(10))}util$1.bigIntStringFromBN=Se;function Ie(qr){return(0,fe.IntNumber)(new Y.default(Qr(qr,!1),16).toNumber())}util$1.intNumberFromHexString=Ie;function fr(qr){return(0,fe.HexString)(`0x${new Y.default(qr).toString(16)}`)}util$1.hexStringFromIntNumber=fr;function br(qr){return qr.startsWith("0x")||qr.startsWith("0X")}util$1.has0xPrefix=br;function kr(qr){return br(qr)?qr.slice(2):qr}util$1.strip0x=kr;function Wr(qr){return br(qr)?`0x${qr.slice(2)}`:`0x${qr}`}util$1.prepend0x=Wr;function Gr(qr){if(typeof qr!="string")return!1;const Vr=kr(qr).toLowerCase();return me.test(Vr)}util$1.isHexString=Gr;function jr(qr,Vr=!1){if(typeof qr=="string"){const Jr=kr(qr).toLowerCase();if(me.test(Jr))return(0,fe.HexString)(Vr?`0x${Jr}`:Jr)}throw ne.standardErrors.rpc.invalidParams(`"${String(qr)}" is not a hexadecimal string`)}util$1.ensureHexString=jr;function Qr(qr,Vr=!1){let Jr=jr(qr,!1);return Jr.length%2===1&&(Jr=(0,fe.HexString)(`0${Jr}`)),Vr?(0,fe.HexString)(`0x${Jr}`):Jr}util$1.ensureEvenLengthHexString=Qr;function wn(qr){if(typeof qr=="string"){const Vr=kr(qr).toLowerCase();if(Gr(Vr)&&Vr.length===40)return(0,fe.AddressString)(Wr(Vr))}throw ne.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(qr)}`)}util$1.ensureAddressString=wn;function En(qr){if(Buffer.isBuffer(qr))return qr;if(typeof qr=="string"){if(Gr(qr)){const Vr=Qr(qr,!1);return Buffer.from(Vr,"hex")}return Buffer.from(qr,"utf8")}throw ne.standardErrors.rpc.invalidParams(`Not binary data: ${String(qr)}`)}util$1.ensureBuffer=En;function Rn(qr){if(typeof qr=="number"&&Number.isInteger(qr))return(0,fe.IntNumber)(qr);if(typeof qr=="string"){if(ye.test(qr))return(0,fe.IntNumber)(Number(qr));if(Gr(qr))return(0,fe.IntNumber)(new Y.default(Qr(qr,!1),16).toNumber())}throw ne.standardErrors.rpc.invalidParams(`Not an integer: ${String(qr)}`)}util$1.ensureIntNumber=Rn;function An(qr){if(qr instanceof RegExp)return(0,fe.RegExpString)(qr.toString());throw ne.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(qr)}`)}util$1.ensureRegExpString=An;function $n(qr){if(qr!==null&&(Y.default.isBN(qr)||ti(qr)))return new Y.default(qr.toString(10),10);if(typeof qr=="number")return new Y.default(Rn(qr));if(typeof qr=="string"){if(ye.test(qr))return new Y.default(qr,10);if(Gr(qr))return new Y.default(Qr(qr,!1),16)}throw ne.standardErrors.rpc.invalidParams(`Not an integer: ${String(qr)}`)}util$1.ensureBN=$n;function Tn(qr){if(typeof qr=="string")return JSON.parse(qr);if(typeof qr=="object")return qr;throw ne.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(qr)}`)}util$1.ensureParsedJSONObject=Tn;function ti(qr){if(qr==null||typeof qr.constructor!="function")return!1;const{constructor:Vr}=qr;return typeof Vr.config=="function"&&typeof Vr.EUCLID=="number"}util$1.isBigNumber=ti;function ai(qr,Vr){return Array.from({length:Vr-qr},(Jr,Xr)=>qr+Xr)}util$1.range=ai;function On(){const qr=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:Vr,host:Jr}=document.location,Xr=qr?qr.getAttribute("href"):null;return!Xr||Xr.startsWith("javascript:")||Xr.startsWith("vbscript:")?null:Xr.startsWith("http://")||Xr.startsWith("https://")||Xr.startsWith("data:")?Xr:Xr.startsWith("//")?Vr+Xr:`${Vr}//${Jr}${Xr}`}util$1.getFavicon=On;function Sn(qr,Vr,Jr,Xr,Kr,Yr){const Br=Xr?"parent-id":"id",_n=new URLSearchParams({[Br]:qr,secret:Vr,server:Jr,v:Kr,chainId:Yr.toString()}).toString();return`${Jr}/#/link?${_n}`}util$1.createQrUrl=Sn;function Zr(){try{return window.frameElement!==null}catch{return!1}}util$1.isInIFrame=Zr;function Oe(){try{return Zr()&&window.top?window.top.location:window.location}catch{return window.location}}util$1.getLocation=Oe;function wr(){var qr;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((qr=window==null?void 0:window.navigator)===null||qr===void 0?void 0:qr.userAgent)}return util$1.isMobileWeb=wr,util$1}var ScopedLocalStorage={},hasRequiredScopedLocalStorage;function requireScopedLocalStorage(){if(hasRequiredScopedLocalStorage)return ScopedLocalStorage;hasRequiredScopedLocalStorage=1,Object.defineProperty(ScopedLocalStorage,"__esModule",{value:!0}),ScopedLocalStorage.ScopedLocalStorage=void 0;let se=class{constructor(ne){this.scope=ne}setItem(ne,fe){localStorage.setItem(this.scopedKey(ne),fe)}getItem(ne){return localStorage.getItem(this.scopedKey(ne))}removeItem(ne){localStorage.removeItem(this.scopedKey(ne))}clear(){const ne=this.scopedKey(""),fe=[];for(let ye=0;ye<localStorage.length;ye++){const me=localStorage.key(ye);typeof me=="string"&&me.startsWith(ne)&&fe.push(me)}fe.forEach(ye=>localStorage.removeItem(ye))}scopedKey(ne){return`${this.scope}:${ne}`}};return ScopedLocalStorage.ScopedLocalStorage=se,ScopedLocalStorage}var CoinbaseWalletProvider={},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(se){var Y=Object.prototype.hasOwnProperty,ne="~";function fe(){}Object.create&&(fe.prototype=Object.create(null),new fe().__proto__||(ne=!1));function ye(Ee,xe,Se){this.fn=Ee,this.context=xe,this.once=Se||!1}function me(Ee,xe,Se,Ie,fr){if(typeof Se!="function")throw new TypeError("The listener must be a function");var br=new ye(Se,Ie||Ee,fr),kr=ne?ne+xe:xe;return Ee._events[kr]?Ee._events[kr].fn?Ee._events[kr]=[Ee._events[kr],br]:Ee._events[kr].push(br):(Ee._events[kr]=br,Ee._eventsCount++),Ee}function be(Ee,xe){--Ee._eventsCount===0?Ee._events=new fe:delete Ee._events[xe]}function we(){this._events=new fe,this._eventsCount=0}we.prototype.eventNames=function(){var xe=[],Se,Ie;if(this._eventsCount===0)return xe;for(Ie in Se=this._events)Y.call(Se,Ie)&&xe.push(ne?Ie.slice(1):Ie);return Object.getOwnPropertySymbols?xe.concat(Object.getOwnPropertySymbols(Se)):xe},we.prototype.listeners=function(xe){var Se=ne?ne+xe:xe,Ie=this._events[Se];if(!Ie)return[];if(Ie.fn)return[Ie.fn];for(var fr=0,br=Ie.length,kr=new Array(br);fr<br;fr++)kr[fr]=Ie[fr].fn;return kr},we.prototype.listenerCount=function(xe){var Se=ne?ne+xe:xe,Ie=this._events[Se];return Ie?Ie.fn?1:Ie.length:0},we.prototype.emit=function(xe,Se,Ie,fr,br,kr){var Wr=ne?ne+xe:xe;if(!this._events[Wr])return!1;var Gr=this._events[Wr],jr=arguments.length,Qr,wn;if(Gr.fn){switch(Gr.once&&this.removeListener(xe,Gr.fn,void 0,!0),jr){case 1:return Gr.fn.call(Gr.context),!0;case 2:return Gr.fn.call(Gr.context,Se),!0;case 3:return Gr.fn.call(Gr.context,Se,Ie),!0;case 4:return Gr.fn.call(Gr.context,Se,Ie,fr),!0;case 5:return Gr.fn.call(Gr.context,Se,Ie,fr,br),!0;case 6:return Gr.fn.call(Gr.context,Se,Ie,fr,br,kr),!0}for(wn=1,Qr=new Array(jr-1);wn<jr;wn++)Qr[wn-1]=arguments[wn];Gr.fn.apply(Gr.context,Qr)}else{var En=Gr.length,Rn;for(wn=0;wn<En;wn++)switch(Gr[wn].once&&this.removeListener(xe,Gr[wn].fn,void 0,!0),jr){case 1:Gr[wn].fn.call(Gr[wn].context);break;case 2:Gr[wn].fn.call(Gr[wn].context,Se);break;case 3:Gr[wn].fn.call(Gr[wn].context,Se,Ie);break;case 4:Gr[wn].fn.call(Gr[wn].context,Se,Ie,fr);break;default:if(!Qr)for(Rn=1,Qr=new Array(jr-1);Rn<jr;Rn++)Qr[Rn-1]=arguments[Rn];Gr[wn].fn.apply(Gr[wn].context,Qr)}}return!0},we.prototype.on=function(xe,Se,Ie){return me(this,xe,Se,Ie,!1)},we.prototype.once=function(xe,Se,Ie){return me(this,xe,Se,Ie,!0)},we.prototype.removeListener=function(xe,Se,Ie,fr){var br=ne?ne+xe:xe;if(!this._events[br])return this;if(!Se)return be(this,br),this;var kr=this._events[br];if(kr.fn)kr.fn===Se&&(!fr||kr.once)&&(!Ie||kr.context===Ie)&&be(this,br);else{for(var Wr=0,Gr=[],jr=kr.length;Wr<jr;Wr++)(kr[Wr].fn!==Se||fr&&!kr[Wr].once||Ie&&kr[Wr].context!==Ie)&&Gr.push(kr[Wr]);Gr.length?this._events[br]=Gr.length===1?Gr[0]:Gr:be(this,br)}return this},we.prototype.removeAllListeners=function(xe){var Se;return xe?(Se=ne?ne+xe:xe,this._events[Se]&&be(this,Se)):(this._events=new fe,this._eventsCount=0),this},we.prototype.off=we.prototype.removeListener,we.prototype.addListener=we.prototype.on,we.prefixed=ne,we.EventEmitter=we,se.exports=we}(eventemitter3)),eventemitter3.exports}var MobileRelay={},WalletLinkRelay={},DiagnosticLogger={},hasRequiredDiagnosticLogger;function requireDiagnosticLogger(){return hasRequiredDiagnosticLogger||(hasRequiredDiagnosticLogger=1,Object.defineProperty(DiagnosticLogger,"__esModule",{value:!0}),DiagnosticLogger.EVENTS=void 0,DiagnosticLogger.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}),DiagnosticLogger}var RelayAbstract={},hasRequiredRelayAbstract;function requireRelayAbstract(){if(hasRequiredRelayAbstract)return RelayAbstract;hasRequiredRelayAbstract=1,Object.defineProperty(RelayAbstract,"__esModule",{value:!0}),RelayAbstract.RelayAbstract=RelayAbstract.APP_VERSION_KEY=RelayAbstract.LOCAL_STORAGE_ADDRESSES_KEY=RelayAbstract.WALLET_USER_NAME_KEY=void 0;const se=requireError();RelayAbstract.WALLET_USER_NAME_KEY="walletUsername",RelayAbstract.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",RelayAbstract.APP_VERSION_KEY="AppVersion";let Y=class{async makeEthereumJSONRPCRequest(fe,ye){if(!ye)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(ye,{method:"POST",body:JSON.stringify(fe),mode:"cors",headers:{"Content-Type":"application/json"}}).then(me=>me.json()).then(me=>{if(!me)throw se.standardErrors.rpc.parse({});const be=me,{error:we}=be;if(we)throw(0,se.serializeError)(we,fe.method);return be})}};return RelayAbstract.RelayAbstract=Y,RelayAbstract}var Session={},hasRequiredSession;function requireSession(){if(hasRequiredSession)return Session;hasRequiredSession=1,Object.defineProperty(Session,"__esModule",{value:!0}),Session.Session=void 0;const se=requireSha_js(),Y=requireUtil$1(),ne="session:id",fe="session:secret",ye="session:linked";let me=class Pw{constructor(we,Ee,xe,Se){this._storage=we,this._id=Ee||(0,Y.randomBytesHex)(16),this._secret=xe||(0,Y.randomBytesHex)(32),this._key=new se.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!Se}static load(we){const Ee=we.getItem(ne),xe=we.getItem(ye),Se=we.getItem(fe);return Ee&&Se?new Pw(we,Ee,Se,xe==="1"):null}static hash(we){return new se.sha256().update(we).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(we){this._linked=we,this.persistLinked()}save(){return this._storage.setItem(ne,this._id),this._storage.setItem(fe,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(ye,this._linked?"1":"0")}};return Session.Session=me,Session}var WalletLinkConnection={},Cipher={},hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return Cipher;hasRequiredCipher=1,Object.defineProperty(Cipher,"__esModule",{value:!0}),Cipher.Cipher=void 0;const se=requireUtil$1();let Y=class{constructor(fe){this.secret=fe}async encrypt(fe){const ye=this.secret;if(ye.length!==64)throw Error("secret must be 256 bits");const me=crypto.getRandomValues(new Uint8Array(12)),be=await crypto.subtle.importKey("raw",(0,se.hexStringToUint8Array)(ye),{name:"aes-gcm"},!1,["encrypt","decrypt"]),we=new TextEncoder,Ee=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:me},be,we.encode(fe)),xe=16,Se=Ee.slice(Ee.byteLength-xe),Ie=Ee.slice(0,Ee.byteLength-xe),fr=new Uint8Array(Se),br=new Uint8Array(Ie),kr=new Uint8Array([...me,...fr,...br]);return(0,se.uint8ArrayToHex)(kr)}async decrypt(fe){const ye=this.secret;if(ye.length!==64)throw Error("secret must be 256 bits");return new Promise((me,be)=>{(async function(){const we=await crypto.subtle.importKey("raw",(0,se.hexStringToUint8Array)(ye),{name:"aes-gcm"},!1,["encrypt","decrypt"]),Ee=(0,se.hexStringToUint8Array)(fe),xe=Ee.slice(0,12),Se=Ee.slice(12,28),Ie=Ee.slice(28),fr=new Uint8Array([...Ie,...Se]),br={name:"AES-GCM",iv:new Uint8Array(xe)};try{const kr=await window.crypto.subtle.decrypt(br,we,fr),Wr=new TextDecoder;me(Wr.decode(kr))}catch(kr){be(kr)}})()})}};return Cipher.Cipher=Y,Cipher}var WalletLinkHTTP={},hasRequiredWalletLinkHTTP;function requireWalletLinkHTTP(){if(hasRequiredWalletLinkHTTP)return WalletLinkHTTP;hasRequiredWalletLinkHTTP=1,Object.defineProperty(WalletLinkHTTP,"__esModule",{value:!0}),WalletLinkHTTP.WalletLinkHTTP=void 0;let se=class{constructor(ne,fe,ye){this.linkAPIUrl=ne,this.sessionId=fe;const me=`${fe}:${ye}`;this.auth=`Basic ${btoa(me)}`}async markUnseenEventsAsSeen(ne){return Promise.all(ne.map(fe=>fetch(`${this.linkAPIUrl}/events/${fe.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(fe=>console.error("Unabled to mark event as failed:",fe))}async fetchUnseenEvents(){var ne;const fe=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(fe.ok){const{events:ye,error:me}=await fe.json();if(me)throw new Error(`Check unseen events failed: ${me}`);const be=(ne=ye==null?void 0:ye.filter(we=>we.event==="Web3Response").map(we=>({type:"Event",sessionId:this.sessionId,eventId:we.id,event:we.event,data:we.data})))!==null&&ne!==void 0?ne:[];return this.markUnseenEventsAsSeen(be),be}throw new Error(`Check unseen events failed: ${fe.status}`)}};return WalletLinkHTTP.WalletLinkHTTP=se,WalletLinkHTTP}var WalletLinkWebSocket={},hasRequiredWalletLinkWebSocket;function requireWalletLinkWebSocket(){if(hasRequiredWalletLinkWebSocket)return WalletLinkWebSocket;hasRequiredWalletLinkWebSocket=1,Object.defineProperty(WalletLinkWebSocket,"__esModule",{value:!0}),WalletLinkWebSocket.WalletLinkWebSocket=WalletLinkWebSocket.ConnectionState=void 0;var se;(function(ne){ne[ne.DISCONNECTED=0]="DISCONNECTED",ne[ne.CONNECTING=1]="CONNECTING",ne[ne.CONNECTED=2]="CONNECTED"})(se||(WalletLinkWebSocket.ConnectionState=se={}));let Y=class{setConnectionStateListener(fe){this.connectionStateListener=fe}setIncomingDataListener(fe){this.incomingDataListener=fe}constructor(fe,ye=WebSocket){this.WebSocketClass=ye,this.webSocket=null,this.pendingData=[],this.url=fe.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((fe,ye)=>{var me;let be;try{this.webSocket=be=new this.WebSocketClass(this.url)}catch(we){ye(we);return}(me=this.connectionStateListener)===null||me===void 0||me.call(this,se.CONNECTING),be.onclose=we=>{var Ee;this.clearWebSocket(),ye(new Error(`websocket error ${we.code}: ${we.reason}`)),(Ee=this.connectionStateListener)===null||Ee===void 0||Ee.call(this,se.DISCONNECTED)},be.onopen=we=>{var Ee;fe(),(Ee=this.connectionStateListener)===null||Ee===void 0||Ee.call(this,se.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(Se=>this.sendData(Se)),this.pendingData=[])},be.onmessage=we=>{var Ee,xe;if(we.data==="h")(Ee=this.incomingDataListener)===null||Ee===void 0||Ee.call(this,{type:"Heartbeat"});else try{const Se=JSON.parse(we.data);(xe=this.incomingDataListener)===null||xe===void 0||xe.call(this,Se)}catch{}}})}disconnect(){var fe;const{webSocket:ye}=this;if(ye){this.clearWebSocket(),(fe=this.connectionStateListener)===null||fe===void 0||fe.call(this,se.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{ye.close()}catch{}}}sendData(fe){const{webSocket:ye}=this;if(!ye){this.pendingData.push(fe),this.connect();return}ye.send(fe)}clearWebSocket(){const{webSocket:fe}=this;fe&&(this.webSocket=null,fe.onclose=null,fe.onerror=null,fe.onmessage=null,fe.onopen=null)}};return WalletLinkWebSocket.WalletLinkWebSocket=Y,WalletLinkWebSocket}var hasRequiredWalletLinkConnection;function requireWalletLinkConnection(){if(hasRequiredWalletLinkConnection)return WalletLinkConnection;hasRequiredWalletLinkConnection=1,Object.defineProperty(WalletLinkConnection,"__esModule",{value:!0}),WalletLinkConnection.WalletLinkConnection=void 0;const se=requireType(),Y=requireCipher(),ne=requireDiagnosticLogger(),fe=requireRelayAbstract(),ye=requireSession(),me=requireWalletLinkHTTP(),be=requireWalletLinkWebSocket(),we=1e4,Ee=6e4;let xe=class{constructor({session:Ie,linkAPIUrl:fr,listener:br,diagnostic:kr,WebSocketClass:Wr=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,se.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=jr=>{if(!jr)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",wn=>jr.JsonRpcUrl&&this.handleChainUpdated(wn,jr.JsonRpcUrl)]]).forEach((wn,En)=>{const Rn=jr[En];Rn!==void 0&&wn(Rn)})},this.handleDestroyed=jr=>{var Qr,wn;jr==="1"&&((Qr=this.listener)===null||Qr===void 0||Qr.resetAndReload(),(wn=this.diagnostic)===null||wn===void 0||wn.log(ne.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:ye.Session.hash(this.session.id)}))},this.handleAccountUpdated=async jr=>{var Qr,wn;try{const En=await this.cipher.decrypt(jr);(Qr=this.listener)===null||Qr===void 0||Qr.accountUpdated(En)}catch{(wn=this.diagnostic)===null||wn===void 0||wn.log(ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(jr,Qr)=>{var wn,En;try{const Rn=await this.cipher.decrypt(Qr);(wn=this.listener)===null||wn===void 0||wn.metadataUpdated(jr,Rn)}catch{(En=this.diagnostic)===null||En===void 0||En.log(ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:jr})}},this.handleWalletUsernameUpdated=async jr=>{this.handleMetadataUpdated(fe.WALLET_USER_NAME_KEY,jr)},this.handleAppVersionUpdated=async jr=>{this.handleMetadataUpdated(fe.APP_VERSION_KEY,jr)},this.handleChainUpdated=async(jr,Qr)=>{var wn,En;try{const Rn=await this.cipher.decrypt(jr),An=await this.cipher.decrypt(Qr);(wn=this.listener)===null||wn===void 0||wn.chainUpdated(Rn,An)}catch{(En=this.diagnostic)===null||En===void 0||En.log(ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=Ie,this.cipher=new Y.Cipher(Ie.secret),this.diagnostic=kr,this.listener=br;const Gr=new be.WalletLinkWebSocket(`${fr}/rpc`,Wr);Gr.setConnectionStateListener(async jr=>{var Qr;(Qr=this.diagnostic)===null||Qr===void 0||Qr.log(ne.EVENTS.CONNECTED_STATE_CHANGE,{state:jr,sessionIdHash:ye.Session.hash(Ie.id)});let wn=!1;switch(jr){case be.ConnectionState.DISCONNECTED:if(!this.destroyed){const En=async()=>{await new Promise(Rn=>setTimeout(Rn,5e3)),this.destroyed||Gr.connect().catch(()=>{En()})};En()}break;case be.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),wn=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},we),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case be.ConnectionState.CONNECTING:break}this.connected!==wn&&(this.connected=wn)}),Gr.setIncomingDataListener(jr=>{var Qr,wn,En;switch(jr.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const Rn=jr.type==="IsLinkedOK"?jr.linked:void 0;(Qr=this.diagnostic)===null||Qr===void 0||Qr.log(ne.EVENTS.LINKED,{sessionIdHash:ye.Session.hash(Ie.id),linked:Rn,type:jr.type,onlineGuests:jr.onlineGuests}),this.linked=Rn||jr.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(wn=this.diagnostic)===null||wn===void 0||wn.log(ne.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:ye.Session.hash(Ie.id),metadata_keys:jr&&jr.metadata?Object.keys(jr.metadata):void 0}),this.handleSessionMetadataUpdated(jr.metadata);break}case"Event":{this.handleIncomingEvent(jr);break}}jr.id!==void 0&&((En=this.requestResolutions.get(jr.id))===null||En===void 0||En(jr))}),this.ws=Gr,this.http=new me.WalletLinkHTTP(fr,Ie.id,Ie.key)}connect(){var Ie;if(this.destroyed)throw new Error("instance is destroyed");(Ie=this.diagnostic)===null||Ie===void 0||Ie.log(ne.EVENTS.STARTED_CONNECTING,{sessionIdHash:ye.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var Ie;this.destroyed=!0,this.ws.disconnect(),(Ie=this.diagnostic)===null||Ie===void 0||Ie.log(ne.EVENTS.DISCONNECTED,{sessionIdHash:ye.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(Ie){var fr,br;this._connected=Ie,Ie&&((fr=this.onceConnected)===null||fr===void 0||fr.call(this)),(br=this.listener)===null||br===void 0||br.connectedUpdated(Ie)}setOnceConnected(Ie){return new Promise(fr=>{this.connected?Ie().then(fr):this.onceConnected=()=>{Ie().then(fr),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(Ie){var fr,br;this._linked=Ie,Ie&&((fr=this.onceLinked)===null||fr===void 0||fr.call(this)),(br=this.listener)===null||br===void 0||br.linkedUpdated(Ie)}setOnceLinked(Ie){return new Promise(fr=>{this.linked?Ie().then(fr):this.onceLinked=()=>{Ie().then(fr),this.onceLinked=void 0}})}async handleIncomingEvent(Ie){var fr,br;if(!(Ie.type!=="Event"||Ie.event!=="Web3Response"))try{const kr=await this.cipher.decrypt(Ie.data),Wr=JSON.parse(kr);if(Wr.type!=="WEB3_RESPONSE")return;(fr=this.listener)===null||fr===void 0||fr.handleWeb3ResponseMessage(Wr)}catch{(br=this.diagnostic)===null||br===void 0||br.log(ne.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(Ie=>setTimeout(Ie,250));try{await this.fetchUnseenEventsAPI()}catch(Ie){console.error("Unable to check for unseen events",Ie)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(fr=>this.handleIncomingEvent(fr))}async setSessionMetadata(Ie,fr){const br={type:"SetSessionConfig",id:(0,se.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[Ie]:fr}};return this.setOnceConnected(async()=>{const kr=await this.makeRequest(br);if(kr.type==="Fail")throw new Error(kr.error||"failed to set session metadata")})}async publishEvent(Ie,fr,br=!1){const kr=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},fr),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),Wr={type:"PublishEvent",id:(0,se.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:Ie,data:kr,callWebhook:br};return this.setOnceLinked(async()=>{const Gr=await this.makeRequest(Wr);if(Gr.type==="Fail")throw new Error(Gr.error||"failed to publish event");return Gr.eventId})}sendData(Ie){this.ws.sendData(JSON.stringify(Ie))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>we*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(Ie,fr=Ee){const br=Ie.id;this.sendData(Ie);let kr;return Promise.race([new Promise((Wr,Gr)=>{kr=window.setTimeout(()=>{Gr(new Error(`request ${br} timed out`))},fr)}),new Promise(Wr=>{this.requestResolutions.set(br,Gr=>{clearTimeout(kr),Wr(Gr),this.requestResolutions.delete(br)})})])}async authenticate(){const Ie={type:"HostSession",id:(0,se.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},fr=await this.makeRequest(Ie);if(fr.type==="Fail")throw new Error(fr.error||"failed to authentcate")}sendIsLinked(){const Ie={type:"IsLinked",id:(0,se.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(Ie)}sendGetSessionConfig(){const Ie={type:"GetSessionConfig",id:(0,se.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(Ie)}};return WalletLinkConnection.WalletLinkConnection=xe,WalletLinkConnection}var WalletLinkRelayUI={},cssReset={},cssResetCss={},hasRequiredCssResetCss;function requireCssResetCss(){return hasRequiredCssResetCss||(hasRequiredCssResetCss=1,Object.defineProperty(cssResetCss,"__esModule",{value:!0}),cssResetCss.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'),cssResetCss}var hasRequiredCssReset;function requireCssReset(){if(hasRequiredCssReset)return cssReset;hasRequiredCssReset=1;var se=cssReset.__importDefault||function(fe){return fe&&fe.__esModule?fe:{default:fe}};Object.defineProperty(cssReset,"__esModule",{value:!0}),cssReset.injectCssReset=void 0;const Y=se(requireCssResetCss());function ne(){const fe=document.createElement("style");fe.type="text/css",fe.appendChild(document.createTextNode(Y.default)),document.documentElement.appendChild(fe)}return cssReset.injectCssReset=ne,cssReset}var LinkFlow={},n$1,l$1,u$1,t$1,i$1,r$2,o$1,e$1,f$1,c$1,s$1,a$1,h$1,p$1={},v$1=[],y$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d$1=Array.isArray;function w$1(se,Y){for(var ne in Y)se[ne]=Y[ne];return se}function _$1(se){se&&se.parentNode&&se.parentNode.removeChild(se)}function g$1(se,Y,ne){var fe,ye,me,be={};for(me in Y)me=="key"?fe=Y[me]:me=="ref"?ye=Y[me]:be[me]=Y[me];if(arguments.length>2&&(be.children=arguments.length>3?n$1.call(arguments,2):ne),typeof se=="function"&&se.defaultProps!=null)for(me in se.defaultProps)be[me]===void 0&&(be[me]=se.defaultProps[me]);return m$1(se,be,fe,ye,null)}function m$1(se,Y,ne,fe,ye){var me={type:se,props:Y,key:ne,ref:fe,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:ye??++u$1,__i:-1,__u:0};return ye==null&&l$1.vnode!=null&&l$1.vnode(me),me}function b$2(){return{current:null}}function k$1(se){return se.children}function x$1(se,Y){this.props=se,this.context=Y}function C$1(se,Y){if(Y==null)return se.__?C$1(se.__,se.__i+1):null;for(var ne;Y<se.__k.length;Y++)if((ne=se.__k[Y])!=null&&ne.__e!=null)return ne.__e;return typeof se.type=="function"?C$1(se):null}function S(se){var Y,ne;if((se=se.__)!=null&&se.__c!=null){for(se.__e=se.__c.base=null,Y=0;Y<se.__k.length;Y++)if((ne=se.__k[Y])!=null&&ne.__e!=null){se.__e=se.__c.base=ne.__e;break}return S(se)}}function M(se){(!se.__d&&(se.__d=!0)&&i$1.push(se)&&!P$1.__r++||r$2!==l$1.debounceRendering)&&((r$2=l$1.debounceRendering)||o$1)(P$1)}function P$1(){var se,Y,ne,fe,ye,me,be,we;for(i$1.sort(e$1);se=i$1.shift();)se.__d&&(Y=i$1.length,fe=void 0,me=(ye=(ne=se).__v).__e,be=[],we=[],ne.__P&&((fe=w$1({},ye)).__v=ye.__v+1,l$1.vnode&&l$1.vnode(fe),j$1(ne.__P,fe,ye,ne.__n,ne.__P.namespaceURI,32&ye.__u?[me]:null,be,me??C$1(ye),!!(32&ye.__u),we),fe.__v=ye.__v,fe.__.__k[fe.__i]=fe,z$1(be,fe,we),fe.__e!=me&&S(fe)),i$1.length>Y&&i$1.sort(e$1));P$1.__r=0}function $(se,Y,ne,fe,ye,me,be,we,Ee,xe,Se){var Ie,fr,br,kr,Wr,Gr,jr=fe&&fe.__k||v$1,Qr=Y.length;for(Ee=I(ne,Y,jr,Ee,Qr),Ie=0;Ie<Qr;Ie++)(br=ne.__k[Ie])!=null&&(fr=br.__i===-1?p$1:jr[br.__i]||p$1,br.__i=Ie,Gr=j$1(se,br,fr,ye,me,be,we,Ee,xe,Se),kr=br.__e,br.ref&&fr.ref!=br.ref&&(fr.ref&&V(fr.ref,null,br),Se.push(br.ref,br.__c||kr,br)),Wr==null&&kr!=null&&(Wr=kr),4&br.__u||fr.__k===br.__k?Ee=A$1(br,Ee,se):typeof br.type=="function"&&Gr!==void 0?Ee=Gr:kr&&(Ee=kr.nextSibling),br.__u&=-7);return ne.__e=Wr,Ee}function I(se,Y,ne,fe,ye){var me,be,we,Ee,xe,Se=ne.length,Ie=Se,fr=0;for(se.__k=new Array(ye),me=0;me<ye;me++)(be=Y[me])!=null&&typeof be!="boolean"&&typeof be!="function"?(Ee=me+fr,(be=se.__k[me]=typeof be=="string"||typeof be=="number"||typeof be=="bigint"||be.constructor==String?m$1(null,be,null,null,null):d$1(be)?m$1(k$1,{children:be},null,null,null):be.constructor===void 0&&be.__b>0?m$1(be.type,be.props,be.key,be.ref?be.ref:null,be.__v):be).__=se,be.__b=se.__b+1,we=null,(xe=be.__i=L(be,ne,Ee,Ie))!==-1&&(Ie--,(we=ne[xe])&&(we.__u|=2)),we==null||we.__v===null?(xe==-1&&fr--,typeof be.type!="function"&&(be.__u|=4)):xe!=Ee&&(xe==Ee-1?fr--:xe==Ee+1?fr++:(xe>Ee?fr--:fr++,be.__u|=4))):se.__k[me]=null;if(Ie)for(me=0;me<Se;me++)(we=ne[me])!=null&&!(2&we.__u)&&(we.__e==fe&&(fe=C$1(we)),q$1(we,we));return fe}function A$1(se,Y,ne){var fe,ye;if(typeof se.type=="function"){for(fe=se.__k,ye=0;fe&&ye<fe.length;ye++)fe[ye]&&(fe[ye].__=se,Y=A$1(fe[ye],Y,ne));return Y}se.__e!=Y&&(Y&&se.type&&!ne.contains(Y)&&(Y=C$1(se)),ne.insertBefore(se.__e,Y||null),Y=se.__e);do Y=Y&&Y.nextSibling;while(Y!=null&&Y.nodeType==8);return Y}function H(se,Y){return Y=Y||[],se==null||typeof se=="boolean"||(d$1(se)?se.some(function(ne){H(ne,Y)}):Y.push(se)),Y}function L(se,Y,ne,fe){var ye,me,be=se.key,we=se.type,Ee=Y[ne];if(Ee===null||Ee&&be==Ee.key&&we===Ee.type&&!(2&Ee.__u))return ne;if(fe>(Ee!=null&&!(2&Ee.__u)?1:0))for(ye=ne-1,me=ne+1;ye>=0||me<Y.length;){if(ye>=0){if((Ee=Y[ye])&&!(2&Ee.__u)&&be==Ee.key&&we===Ee.type)return ye;ye--}if(me<Y.length){if((Ee=Y[me])&&!(2&Ee.__u)&&be==Ee.key&&we===Ee.type)return me;me++}}return-1}function T$1(se,Y,ne){Y[0]=="-"?se.setProperty(Y,ne??""):se[Y]=ne==null?"":typeof ne!="number"||y$1.test(Y)?ne:ne+"px"}function F$1(se,Y,ne,fe,ye){var me;e:if(Y=="style")if(typeof ne=="string")se.style.cssText=ne;else{if(typeof fe=="string"&&(se.style.cssText=fe=""),fe)for(Y in fe)ne&&Y in ne||T$1(se.style,Y,"");if(ne)for(Y in ne)fe&&ne[Y]===fe[Y]||T$1(se.style,Y,ne[Y])}else if(Y[0]=="o"&&Y[1]=="n")me=Y!=(Y=Y.replace(f$1,"$1")),Y=Y.toLowerCase()in se||Y=="onFocusOut"||Y=="onFocusIn"?Y.toLowerCase().slice(2):Y.slice(2),se.l||(se.l={}),se.l[Y+me]=ne,ne?fe?ne.u=fe.u:(ne.u=c$1,se.addEventListener(Y,me?a$1:s$1,me)):se.removeEventListener(Y,me?a$1:s$1,me);else{if(ye=="http://www.w3.org/2000/svg")Y=Y.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(Y!="width"&&Y!="height"&&Y!="href"&&Y!="list"&&Y!="form"&&Y!="tabIndex"&&Y!="download"&&Y!="rowSpan"&&Y!="colSpan"&&Y!="role"&&Y!="popover"&&Y in se)try{se[Y]=ne??"";break e}catch{}typeof ne=="function"||(ne==null||ne===!1&&Y[4]!="-"?se.removeAttribute(Y):se.setAttribute(Y,Y=="popover"&&ne==1?"":ne))}}function O(se){return function(Y){if(this.l){var ne=this.l[Y.type+se];if(Y.t==null)Y.t=c$1++;else if(Y.t<ne.u)return;return ne(l$1.event?l$1.event(Y):Y)}}}function j$1(se,Y,ne,fe,ye,me,be,we,Ee,xe){var Se,Ie,fr,br,kr,Wr,Gr,jr,Qr,wn,En,Rn,An,$n,Tn,ti,ai,On=Y.type;if(Y.constructor!==void 0)return null;128&ne.__u&&(Ee=!!(32&ne.__u),me=[we=Y.__e=ne.__e]),(Se=l$1.__b)&&Se(Y);e:if(typeof On=="function")try{if(jr=Y.props,Qr="prototype"in On&&On.prototype.render,wn=(Se=On.contextType)&&fe[Se.__c],En=Se?wn?wn.props.value:Se.__:fe,ne.__c?Gr=(Ie=Y.__c=ne.__c).__=Ie.__E:(Qr?Y.__c=Ie=new On(jr,En):(Y.__c=Ie=new x$1(jr,En),Ie.constructor=On,Ie.render=B$1),wn&&wn.sub(Ie),Ie.props=jr,Ie.state||(Ie.state={}),Ie.context=En,Ie.__n=fe,fr=Ie.__d=!0,Ie.__h=[],Ie._sb=[]),Qr&&Ie.__s==null&&(Ie.__s=Ie.state),Qr&&On.getDerivedStateFromProps!=null&&(Ie.__s==Ie.state&&(Ie.__s=w$1({},Ie.__s)),w$1(Ie.__s,On.getDerivedStateFromProps(jr,Ie.__s))),br=Ie.props,kr=Ie.state,Ie.__v=Y,fr)Qr&&On.getDerivedStateFromProps==null&&Ie.componentWillMount!=null&&Ie.componentWillMount(),Qr&&Ie.componentDidMount!=null&&Ie.__h.push(Ie.componentDidMount);else{if(Qr&&On.getDerivedStateFromProps==null&&jr!==br&&Ie.componentWillReceiveProps!=null&&Ie.componentWillReceiveProps(jr,En),!Ie.__e&&(Ie.shouldComponentUpdate!=null&&Ie.shouldComponentUpdate(jr,Ie.__s,En)===!1||Y.__v==ne.__v)){for(Y.__v!=ne.__v&&(Ie.props=jr,Ie.state=Ie.__s,Ie.__d=!1),Y.__e=ne.__e,Y.__k=ne.__k,Y.__k.some(function(Sn){Sn&&(Sn.__=Y)}),Rn=0;Rn<Ie._sb.length;Rn++)Ie.__h.push(Ie._sb[Rn]);Ie._sb=[],Ie.__h.length&&be.push(Ie);break e}Ie.componentWillUpdate!=null&&Ie.componentWillUpdate(jr,Ie.__s,En),Qr&&Ie.componentDidUpdate!=null&&Ie.__h.push(function(){Ie.componentDidUpdate(br,kr,Wr)})}if(Ie.context=En,Ie.props=jr,Ie.__P=se,Ie.__e=!1,An=l$1.__r,$n=0,Qr){for(Ie.state=Ie.__s,Ie.__d=!1,An&&An(Y),Se=Ie.render(Ie.props,Ie.state,Ie.context),Tn=0;Tn<Ie._sb.length;Tn++)Ie.__h.push(Ie._sb[Tn]);Ie._sb=[]}else do Ie.__d=!1,An&&An(Y),Se=Ie.render(Ie.props,Ie.state,Ie.context),Ie.state=Ie.__s;while(Ie.__d&&++$n<25);Ie.state=Ie.__s,Ie.getChildContext!=null&&(fe=w$1(w$1({},fe),Ie.getChildContext())),Qr&&!fr&&Ie.getSnapshotBeforeUpdate!=null&&(Wr=Ie.getSnapshotBeforeUpdate(br,kr)),we=$(se,d$1(ti=Se!=null&&Se.type===k$1&&Se.key==null?Se.props.children:Se)?ti:[ti],Y,ne,fe,ye,me,be,we,Ee,xe),Ie.base=Y.__e,Y.__u&=-161,Ie.__h.length&&be.push(Ie),Gr&&(Ie.__E=Ie.__=null)}catch(Sn){if(Y.__v=null,Ee||me!=null)if(Sn.then){for(Y.__u|=Ee?160:128;we&&we.nodeType==8&&we.nextSibling;)we=we.nextSibling;me[me.indexOf(we)]=null,Y.__e=we}else for(ai=me.length;ai--;)_$1(me[ai]);else Y.__e=ne.__e,Y.__k=ne.__k;l$1.__e(Sn,Y,ne)}else me==null&&Y.__v==ne.__v?(Y.__k=ne.__k,Y.__e=ne.__e):we=Y.__e=N(ne.__e,Y,ne,fe,ye,me,be,Ee,xe);return(Se=l$1.diffed)&&Se(Y),128&Y.__u?void 0:we}function z$1(se,Y,ne){for(var fe=0;fe<ne.length;fe++)V(ne[fe],ne[++fe],ne[++fe]);l$1.__c&&l$1.__c(Y,se),se.some(function(ye){try{se=ye.__h,ye.__h=[],se.some(function(me){me.call(ye)})}catch(me){l$1.__e(me,ye.__v)}})}function N(se,Y,ne,fe,ye,me,be,we,Ee){var xe,Se,Ie,fr,br,kr,Wr,Gr=ne.props,jr=Y.props,Qr=Y.type;if(Qr=="svg"?ye="http://www.w3.org/2000/svg":Qr=="math"?ye="http://www.w3.org/1998/Math/MathML":ye||(ye="http://www.w3.org/1999/xhtml"),me!=null){for(xe=0;xe<me.length;xe++)if((br=me[xe])&&"setAttribute"in br==!!Qr&&(Qr?br.localName==Qr:br.nodeType==3)){se=br,me[xe]=null;break}}if(se==null){if(Qr==null)return document.createTextNode(jr);se=document.createElementNS(ye,Qr,jr.is&&jr),we&&(l$1.__m&&l$1.__m(Y,me),we=!1),me=null}if(Qr===null)Gr===jr||we&&se.data===jr||(se.data=jr);else{if(me=me&&n$1.call(se.childNodes),Gr=ne.props||p$1,!we&&me!=null)for(Gr={},xe=0;xe<se.attributes.length;xe++)Gr[(br=se.attributes[xe]).name]=br.value;for(xe in Gr)if(br=Gr[xe],xe!="children"){if(xe=="dangerouslySetInnerHTML")Ie=br;else if(!(xe in jr)){if(xe=="value"&&"defaultValue"in jr||xe=="checked"&&"defaultChecked"in jr)continue;F$1(se,xe,null,br,ye)}}for(xe in jr)br=jr[xe],xe=="children"?fr=br:xe=="dangerouslySetInnerHTML"?Se=br:xe=="value"?kr=br:xe=="checked"?Wr=br:we&&typeof br!="function"||Gr[xe]===br||F$1(se,xe,br,Gr[xe],ye);if(Se)we||Ie&&(Se.__html===Ie.__html||Se.__html===se.innerHTML)||(se.innerHTML=Se.__html),Y.__k=[];else if(Ie&&(se.innerHTML=""),$(se,d$1(fr)?fr:[fr],Y,ne,fe,Qr=="foreignObject"?"http://www.w3.org/1999/xhtml":ye,me,be,me?me[0]:ne.__k&&C$1(ne,0),we,Ee),me!=null)for(xe=me.length;xe--;)_$1(me[xe]);we||(xe="value",Qr=="progress"&&kr==null?se.removeAttribute("value"):kr!==void 0&&(kr!==se[xe]||Qr=="progress"&&!kr||Qr=="option"&&kr!==Gr[xe])&&F$1(se,xe,kr,Gr[xe],ye),xe="checked",Wr!==void 0&&Wr!==se[xe]&&F$1(se,xe,Wr,Gr[xe],ye))}return se}function V(se,Y,ne){try{if(typeof se=="function"){var fe=typeof se.__u=="function";fe&&se.__u(),fe&&Y==null||(se.__u=se(Y))}else se.current=Y}catch(ye){l$1.__e(ye,ne)}}function q$1(se,Y,ne){var fe,ye;if(l$1.unmount&&l$1.unmount(se),(fe=se.ref)&&(fe.current&&fe.current!==se.__e||V(fe,null,Y)),(fe=se.__c)!=null){if(fe.componentWillUnmount)try{fe.componentWillUnmount()}catch(me){l$1.__e(me,Y)}fe.base=fe.__P=null}if(fe=se.__k)for(ye=0;ye<fe.length;ye++)fe[ye]&&q$1(fe[ye],Y,ne||typeof se.type!="function");ne||_$1(se.__e),se.__c=se.__=se.__e=void 0}function B$1(se,Y,ne){return this.constructor(se,ne)}function D$1(se,Y,ne){var fe,ye,me,be;Y==document&&(Y=document.documentElement),l$1.__&&l$1.__(se,Y),ye=(fe=typeof ne=="function")?null:ne&&ne.__k||Y.__k,me=[],be=[],j$1(Y,se=(!fe&&ne||Y).__k=g$1(k$1,null,[se]),ye||p$1,p$1,Y.namespaceURI,!fe&&ne?[ne]:ye?null:Y.firstChild?n$1.call(Y.childNodes):null,me,!fe&&ne?ne:ye?ye.__e:Y.firstChild,fe,be),z$1(me,se,be)}function E(se,Y){D$1(se,Y,E)}function G(se,Y,ne){var fe,ye,me,be,we=w$1({},se.props);for(me in se.type&&se.type.defaultProps&&(be=se.type.defaultProps),Y)me=="key"?fe=Y[me]:me=="ref"?ye=Y[me]:we[me]=Y[me]===void 0&&be!==void 0?be[me]:Y[me];return arguments.length>2&&(we.children=arguments.length>3?n$1.call(arguments,2):ne),m$1(se.type,we,fe||se.key,ye||se.ref,null)}function J(se,Y){var ne={__c:Y="__cC"+h$1++,__:se,Consumer:function(fe,ye){return fe.children(ye)},Provider:function(fe){var ye,me;return this.getChildContext||(ye=new Set,(me={})[Y]=this,this.getChildContext=function(){return me},this.componentWillUnmount=function(){ye=null},this.shouldComponentUpdate=function(be){this.props.value!==be.value&&ye.forEach(function(we){we.__e=!0,M(we)})},this.sub=function(be){ye.add(be);var we=be.componentWillUnmount;be.componentWillUnmount=function(){ye&&ye.delete(be),we&&we.call(be)}}),fe.children}};return ne.Provider.__=ne.Consumer.contextType=ne}n$1=v$1.slice,l$1={__e:function(se,Y,ne,fe){for(var ye,me,be;Y=Y.__;)if((ye=Y.__c)&&!ye.__)try{if((me=ye.constructor)&&me.getDerivedStateFromError!=null&&(ye.setState(me.getDerivedStateFromError(se)),be=ye.__d),ye.componentDidCatch!=null&&(ye.componentDidCatch(se,fe||{}),be=ye.__d),be)return ye.__E=ye}catch(we){se=we}throw se}},u$1=0,t$1=function(se){return se!=null&&se.constructor==null},x$1.prototype.setState=function(se,Y){var ne;ne=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=w$1({},this.state),typeof se=="function"&&(se=se(w$1({},ne),this.props)),se&&w$1(ne,se),se!=null&&this.__v&&(Y&&this._sb.push(Y),M(this))},x$1.prototype.forceUpdate=function(se){this.__v&&(this.__e=!0,se&&this.__h.push(se),M(this))},x$1.prototype.render=k$1,i$1=[],o$1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e$1=function(se,Y){return se.__v.__b-Y.__v.__b},P$1.__r=0,f$1=/(PointerCapture)$|Capture$/i,c$1=0,s$1=O(!1),a$1=O(!0),h$1=0;const preact_module=Object.freeze(Object.defineProperty({__proto__:null,Component:x$1,Fragment:k$1,cloneElement:G,createContext:J,createElement:g$1,createRef:b$2,h:g$1,hydrate:E,get isValidElement(){return t$1},get options(){return l$1},render:D$1,toChildArray:H},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(preact_module);var ConnectDialog={};function r$1(se){var Y,ne,fe="";if(typeof se=="string"||typeof se=="number")fe+=se;else if(typeof se=="object")if(Array.isArray(se))for(Y=0;Y<se.length;Y++)se[Y]&&(ne=r$1(se[Y]))&&(fe&&(fe+=" "),fe+=ne);else for(Y in se)se[Y]&&(fe&&(fe+=" "),fe+=Y);return fe}function clsx(){for(var se,Y,ne=0,fe="";ne<arguments.length;)(se=arguments[ne++])&&(Y=r$1(se))&&(fe&&(fe+=" "),fe+=Y);return fe}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(clsx_m);var t,r,u,i,o=0,f=[],c=l$1,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function d(se,Y){c.__h&&c.__h(r,se,o||Y),o=0;var ne=r.__H||(r.__H={__:[],__h:[]});return se>=ne.__.length&&ne.__.push({}),ne.__[se]}function h(se){return o=1,p(D,se)}function p(se,Y,ne){var fe=d(t++,2);if(fe.t=se,!fe.__c&&(fe.__=[ne?ne(Y):D(void 0,Y),function(we){var Ee=fe.__N?fe.__N[0]:fe.__[0],xe=fe.t(Ee,we);Ee!==xe&&(fe.__N=[xe,fe.__[1]],fe.__c.setState({}))}],fe.__c=r,!r.u)){var ye=function(we,Ee,xe){if(!fe.__c.__H)return!0;var Se=fe.__c.__H.__.filter(function(fr){return!!fr.__c});if(Se.every(function(fr){return!fr.__N}))return!me||me.call(this,we,Ee,xe);var Ie=fe.__c.props!==we;return Se.forEach(function(fr){if(fr.__N){var br=fr.__[0];fr.__=fr.__N,fr.__N=void 0,br!==fr.__[0]&&(Ie=!0)}}),me&&me.call(this,we,Ee,xe)||Ie};r.u=!0;var me=r.shouldComponentUpdate,be=r.componentWillUpdate;r.componentWillUpdate=function(we,Ee,xe){if(this.__e){var Se=me;me=void 0,ye(we,Ee,xe),me=Se}be&&be.call(this,we,Ee,xe)},r.shouldComponentUpdate=ye}return fe.__N||fe.__}function y(se,Y){var ne=d(t++,3);!c.__s&&C(ne.__H,Y)&&(ne.__=se,ne.i=Y,r.__H.__h.push(ne))}function _(se,Y){var ne=d(t++,4);!c.__s&&C(ne.__H,Y)&&(ne.__=se,ne.i=Y,r.__h.push(ne))}function A(se){return o=5,T(function(){return{current:se}},[])}function F(se,Y,ne){o=6,_(function(){return typeof se=="function"?(se(Y()),function(){return se(null)}):se?(se.current=Y(),function(){return se.current=null}):void 0},ne==null?ne:ne.concat(se))}function T(se,Y){var ne=d(t++,7);return C(ne.__H,Y)&&(ne.__=se(),ne.__H=Y,ne.__h=se),ne.__}function q(se,Y){return o=8,T(function(){return se},Y)}function x(se){var Y=r.context[se.__c],ne=d(t++,9);return ne.c=se,Y?(ne.__==null&&(ne.__=!0,Y.sub(r)),Y.props.value):se.__}function P(se,Y){c.useDebugValue&&c.useDebugValue(Y?Y(se):se)}function b$1(se){var Y=d(t++,10),ne=h();return Y.__=se,r.componentDidCatch||(r.componentDidCatch=function(fe,ye){Y.__&&Y.__(fe,ye),ne[1](fe)}),[ne[0],function(){ne[1](void 0)}]}function g(){var se=d(t++,11);if(!se.__){for(var Y=r.__v;Y!==null&&!Y.__m&&Y.__!==null;)Y=Y.__;var ne=Y.__m||(Y.__m=[0,0]);se.__="P"+ne[0]+"-"+ne[1]++}return se.__}function j(){for(var se;se=f.shift();)if(se.__P&&se.__H)try{se.__H.__h.forEach(z),se.__H.__h.forEach(B),se.__H.__h=[]}catch(Y){se.__H.__h=[],c.__e(Y,se.__v)}}c.__b=function(se){r=null,e&&e(se)},c.__=function(se,Y){se&&Y.__k&&Y.__k.__m&&(se.__m=Y.__k.__m),s&&s(se,Y)},c.__r=function(se){a&&a(se),t=0;var Y=(r=se.__c).__H;Y&&(u===r?(Y.__h=[],r.__h=[],Y.__.forEach(function(ne){ne.__N&&(ne.__=ne.__N),ne.i=ne.__N=void 0})):(Y.__h.forEach(z),Y.__h.forEach(B),Y.__h=[],t=0)),u=r},c.diffed=function(se){v&&v(se);var Y=se.__c;Y&&Y.__H&&(Y.__H.__h.length&&(f.push(Y)!==1&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),Y.__H.__.forEach(function(ne){ne.i&&(ne.__H=ne.i),ne.i=void 0})),u=r=null},c.__c=function(se,Y){Y.some(function(ne){try{ne.__h.forEach(z),ne.__h=ne.__h.filter(function(fe){return!fe.__||B(fe)})}catch(fe){Y.some(function(ye){ye.__h&&(ye.__h=[])}),Y=[],c.__e(fe,ne.__v)}}),l&&l(se,Y)},c.unmount=function(se){m&&m(se);var Y,ne=se.__c;ne&&ne.__H&&(ne.__H.__.forEach(function(fe){try{z(fe)}catch(ye){Y=ye}}),ne.__H=void 0,Y&&c.__e(Y,ne.__v))};var k=typeof requestAnimationFrame=="function";function w(se){var Y,ne=function(){clearTimeout(fe),k&&cancelAnimationFrame(Y),setTimeout(se)},fe=setTimeout(ne,100);k&&(Y=requestAnimationFrame(ne))}function z(se){var Y=r,ne=se.__c;typeof ne=="function"&&(se.__c=void 0,ne()),r=Y}function B(se){var Y=r;se.__c=se.__(),r=Y}function C(se,Y){return!se||se.length!==Y.length||Y.some(function(ne,fe){return ne!==se[fe]})}function D(se,Y){return typeof Y=="function"?Y(se):Y}const hooks_module=Object.freeze(Object.defineProperty({__proto__:null,useCallback:q,useContext:x,useDebugValue:P,useEffect:y,useErrorBoundary:b$1,useId:g,useImperativeHandle:F,useLayoutEffect:_,useMemo:T,useReducer:p,useRef:A,useState:h},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(hooks_module);var ConnectContent={},CloseIcon={},hasRequiredCloseIcon;function requireCloseIcon(){if(hasRequiredCloseIcon)return CloseIcon;hasRequiredCloseIcon=1,Object.defineProperty(CloseIcon,"__esModule",{value:!0}),CloseIcon.CloseIcon=void 0;const se=require$$1$1;function Y(ne){return(0,se.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne),(0,se.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}return CloseIcon.CloseIcon=Y,CloseIcon}var CoinbaseWalletRound={},hasRequiredCoinbaseWalletRound;function requireCoinbaseWalletRound(){if(hasRequiredCoinbaseWalletRound)return CoinbaseWalletRound;hasRequiredCoinbaseWalletRound=1,Object.defineProperty(CoinbaseWalletRound,"__esModule",{value:!0}),CoinbaseWalletRound.CoinbaseWalletRound=void 0;const se=require$$1$1;function Y(ne){return(0,se.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne),(0,se.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,se.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,se.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}return CoinbaseWalletRound.CoinbaseWalletRound=Y,CoinbaseWalletRound}var QRCodeIcon={},hasRequiredQRCodeIcon;function requireQRCodeIcon(){if(hasRequiredQRCodeIcon)return QRCodeIcon;hasRequiredQRCodeIcon=1,Object.defineProperty(QRCodeIcon,"__esModule",{value:!0}),QRCodeIcon.QRCodeIcon=void 0;const se=require$$1$1;function Y(ne){return(0,se.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ne),(0,se.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,se.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,se.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,se.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}return QRCodeIcon.QRCodeIcon=Y,QRCodeIcon}var QRCode={},qrcodeSvg,hasRequiredQrcodeSvg;function requireQrcodeSvg(){if(hasRequiredQrcodeSvg)return qrcodeSvg;hasRequiredQrcodeSvg=1;function se(br){this.mode=ne.MODE_8BIT_BYTE,this.data=br,this.parsedData=[];for(var kr=0,Wr=this.data.length;kr<Wr;kr++){var Gr=[],jr=this.data.charCodeAt(kr);jr>65536?(Gr[0]=240|(jr&1835008)>>>18,Gr[1]=128|(jr&258048)>>>12,Gr[2]=128|(jr&4032)>>>6,Gr[3]=128|jr&63):jr>2048?(Gr[0]=224|(jr&61440)>>>12,Gr[1]=128|(jr&4032)>>>6,Gr[2]=128|jr&63):jr>128?(Gr[0]=192|(jr&1984)>>>6,Gr[1]=128|jr&63):Gr[0]=jr,this.parsedData.push(Gr)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}se.prototype={getLength:function(br){return this.parsedData.length},write:function(br){for(var kr=0,Wr=this.parsedData.length;kr<Wr;kr++)br.put(this.parsedData[kr],8)}};function Y(br,kr){this.typeNumber=br,this.errorCorrectLevel=kr,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Y.prototype={addData:function(br){var kr=new se(br);this.dataList.push(kr),this.dataCache=null},isDark:function(br,kr){if(br<0||this.moduleCount<=br||kr<0||this.moduleCount<=kr)throw new Error(br+","+kr);return this.modules[br][kr]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(br,kr){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var Wr=0;Wr<this.moduleCount;Wr++){this.modules[Wr]=new Array(this.moduleCount);for(var Gr=0;Gr<this.moduleCount;Gr++)this.modules[Wr][Gr]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(br,kr),this.typeNumber>=7&&this.setupTypeNumber(br),this.dataCache==null&&(this.dataCache=Y.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,kr)},setupPositionProbePattern:function(br,kr){for(var Wr=-1;Wr<=7;Wr++)if(!(br+Wr<=-1||this.moduleCount<=br+Wr))for(var Gr=-1;Gr<=7;Gr++)kr+Gr<=-1||this.moduleCount<=kr+Gr||(0<=Wr&&Wr<=6&&(Gr==0||Gr==6)||0<=Gr&&Gr<=6&&(Wr==0||Wr==6)||2<=Wr&&Wr<=4&&2<=Gr&&Gr<=4?this.modules[br+Wr][kr+Gr]=!0:this.modules[br+Wr][kr+Gr]=!1)},getBestMaskPattern:function(){for(var br=0,kr=0,Wr=0;Wr<8;Wr++){this.makeImpl(!0,Wr);var Gr=me.getLostPoint(this);(Wr==0||br>Gr)&&(br=Gr,kr=Wr)}return kr},createMovieClip:function(br,kr,Wr){var Gr=br.createEmptyMovieClip(kr,Wr),jr=1;this.make();for(var Qr=0;Qr<this.modules.length;Qr++)for(var wn=Qr*jr,En=0;En<this.modules[Qr].length;En++){var Rn=En*jr,An=this.modules[Qr][En];An&&(Gr.beginFill(0,100),Gr.moveTo(Rn,wn),Gr.lineTo(Rn+jr,wn),Gr.lineTo(Rn+jr,wn+jr),Gr.lineTo(Rn,wn+jr),Gr.endFill())}return Gr},setupTimingPattern:function(){for(var br=8;br<this.moduleCount-8;br++)this.modules[br][6]==null&&(this.modules[br][6]=br%2==0);for(var kr=8;kr<this.moduleCount-8;kr++)this.modules[6][kr]==null&&(this.modules[6][kr]=kr%2==0)},setupPositionAdjustPattern:function(){for(var br=me.getPatternPosition(this.typeNumber),kr=0;kr<br.length;kr++)for(var Wr=0;Wr<br.length;Wr++){var Gr=br[kr],jr=br[Wr];if(this.modules[Gr][jr]==null)for(var Qr=-2;Qr<=2;Qr++)for(var wn=-2;wn<=2;wn++)Qr==-2||Qr==2||wn==-2||wn==2||Qr==0&&wn==0?this.modules[Gr+Qr][jr+wn]=!0:this.modules[Gr+Qr][jr+wn]=!1}},setupTypeNumber:function(br){for(var kr=me.getBCHTypeNumber(this.typeNumber),Wr=0;Wr<18;Wr++){var Gr=!br&&(kr>>Wr&1)==1;this.modules[Math.floor(Wr/3)][Wr%3+this.moduleCount-8-3]=Gr}for(var Wr=0;Wr<18;Wr++){var Gr=!br&&(kr>>Wr&1)==1;this.modules[Wr%3+this.moduleCount-8-3][Math.floor(Wr/3)]=Gr}},setupTypeInfo:function(br,kr){for(var Wr=this.errorCorrectLevel<<3|kr,Gr=me.getBCHTypeInfo(Wr),jr=0;jr<15;jr++){var Qr=!br&&(Gr>>jr&1)==1;jr<6?this.modules[jr][8]=Qr:jr<8?this.modules[jr+1][8]=Qr:this.modules[this.moduleCount-15+jr][8]=Qr}for(var jr=0;jr<15;jr++){var Qr=!br&&(Gr>>jr&1)==1;jr<8?this.modules[8][this.moduleCount-jr-1]=Qr:jr<9?this.modules[8][15-jr-1+1]=Qr:this.modules[8][15-jr-1]=Qr}this.modules[this.moduleCount-8][8]=!br},mapData:function(br,kr){for(var Wr=-1,Gr=this.moduleCount-1,jr=7,Qr=0,wn=this.moduleCount-1;wn>0;wn-=2)for(wn==6&&wn--;;){for(var En=0;En<2;En++)if(this.modules[Gr][wn-En]==null){var Rn=!1;Qr<br.length&&(Rn=(br[Qr]>>>jr&1)==1);var An=me.getMask(kr,Gr,wn-En);An&&(Rn=!Rn),this.modules[Gr][wn-En]=Rn,jr--,jr==-1&&(Qr++,jr=7)}if(Gr+=Wr,Gr<0||this.moduleCount<=Gr){Gr-=Wr,Wr=-Wr;break}}}},Y.PAD0=236,Y.PAD1=17,Y.createData=function(br,kr,Wr){for(var Gr=xe.getRSBlocks(br,kr),jr=new Se,Qr=0;Qr<Wr.length;Qr++){var wn=Wr[Qr];jr.put(wn.mode,4),jr.put(wn.getLength(),me.getLengthInBits(wn.mode,br)),wn.write(jr)}for(var En=0,Qr=0;Qr<Gr.length;Qr++)En+=Gr[Qr].dataCount;if(jr.getLengthInBits()>En*8)throw new Error("code length overflow. ("+jr.getLengthInBits()+">"+En*8+")");for(jr.getLengthInBits()+4<=En*8&&jr.put(0,4);jr.getLengthInBits()%8!=0;)jr.putBit(!1);for(;!(jr.getLengthInBits()>=En*8||(jr.put(Y.PAD0,8),jr.getLengthInBits()>=En*8));)jr.put(Y.PAD1,8);return Y.createBytes(jr,Gr)},Y.createBytes=function(br,kr){for(var Wr=0,Gr=0,jr=0,Qr=new Array(kr.length),wn=new Array(kr.length),En=0;En<kr.length;En++){var Rn=kr[En].dataCount,An=kr[En].totalCount-Rn;Gr=Math.max(Gr,Rn),jr=Math.max(jr,An),Qr[En]=new Array(Rn);for(var $n=0;$n<Qr[En].length;$n++)Qr[En][$n]=255&br.buffer[$n+Wr];Wr+=Rn;var Tn=me.getErrorCorrectPolynomial(An),ti=new Ee(Qr[En],Tn.getLength()-1),ai=ti.mod(Tn);wn[En]=new Array(Tn.getLength()-1);for(var $n=0;$n<wn[En].length;$n++){var On=$n+ai.getLength()-wn[En].length;wn[En][$n]=On>=0?ai.get(On):0}}for(var Sn=0,$n=0;$n<kr.length;$n++)Sn+=kr[$n].totalCount;for(var Zr=new Array(Sn),Oe=0,$n=0;$n<Gr;$n++)for(var En=0;En<kr.length;En++)$n<Qr[En].length&&(Zr[Oe++]=Qr[En][$n]);for(var $n=0;$n<jr;$n++)for(var En=0;En<kr.length;En++)$n<wn[En].length&&(Zr[Oe++]=wn[En][$n]);return Zr};for(var ne={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},fe={L:1,M:0,Q:3,H:2},ye={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},me={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(br){for(var kr=br<<10;me.getBCHDigit(kr)-me.getBCHDigit(me.G15)>=0;)kr^=me.G15<<me.getBCHDigit(kr)-me.getBCHDigit(me.G15);return(br<<10|kr)^me.G15_MASK},getBCHTypeNumber:function(br){for(var kr=br<<12;me.getBCHDigit(kr)-me.getBCHDigit(me.G18)>=0;)kr^=me.G18<<me.getBCHDigit(kr)-me.getBCHDigit(me.G18);return br<<12|kr},getBCHDigit:function(br){for(var kr=0;br!=0;)kr++,br>>>=1;return kr},getPatternPosition:function(br){return me.PATTERN_POSITION_TABLE[br-1]},getMask:function(br,kr,Wr){switch(br){case ye.PATTERN000:return(kr+Wr)%2==0;case ye.PATTERN001:return kr%2==0;case ye.PATTERN010:return Wr%3==0;case ye.PATTERN011:return(kr+Wr)%3==0;case ye.PATTERN100:return(Math.floor(kr/2)+Math.floor(Wr/3))%2==0;case ye.PATTERN101:return kr*Wr%2+kr*Wr%3==0;case ye.PATTERN110:return(kr*Wr%2+kr*Wr%3)%2==0;case ye.PATTERN111:return(kr*Wr%3+(kr+Wr)%2)%2==0;default:throw new Error("bad maskPattern:"+br)}},getErrorCorrectPolynomial:function(br){for(var kr=new Ee([1],0),Wr=0;Wr<br;Wr++)kr=kr.multiply(new Ee([1,be.gexp(Wr)],0));return kr},getLengthInBits:function(br,kr){if(1<=kr&&kr<10)switch(br){case ne.MODE_NUMBER:return 10;case ne.MODE_ALPHA_NUM:return 9;case ne.MODE_8BIT_BYTE:return 8;case ne.MODE_KANJI:return 8;default:throw new Error("mode:"+br)}else if(kr<27)switch(br){case ne.MODE_NUMBER:return 12;case ne.MODE_ALPHA_NUM:return 11;case ne.MODE_8BIT_BYTE:return 16;case ne.MODE_KANJI:return 10;default:throw new Error("mode:"+br)}else if(kr<41)switch(br){case ne.MODE_NUMBER:return 14;case ne.MODE_ALPHA_NUM:return 13;case ne.MODE_8BIT_BYTE:return 16;case ne.MODE_KANJI:return 12;default:throw new Error("mode:"+br)}else throw new Error("type:"+kr)},getLostPoint:function(br){for(var kr=br.getModuleCount(),Wr=0,Gr=0;Gr<kr;Gr++)for(var jr=0;jr<kr;jr++){for(var Qr=0,wn=br.isDark(Gr,jr),En=-1;En<=1;En++)if(!(Gr+En<0||kr<=Gr+En))for(var Rn=-1;Rn<=1;Rn++)jr+Rn<0||kr<=jr+Rn||En==0&&Rn==0||wn==br.isDark(Gr+En,jr+Rn)&&Qr++;Qr>5&&(Wr+=3+Qr-5)}for(var Gr=0;Gr<kr-1;Gr++)for(var jr=0;jr<kr-1;jr++){var An=0;br.isDark(Gr,jr)&&An++,br.isDark(Gr+1,jr)&&An++,br.isDark(Gr,jr+1)&&An++,br.isDark(Gr+1,jr+1)&&An++,(An==0||An==4)&&(Wr+=3)}for(var Gr=0;Gr<kr;Gr++)for(var jr=0;jr<kr-6;jr++)br.isDark(Gr,jr)&&!br.isDark(Gr,jr+1)&&br.isDark(Gr,jr+2)&&br.isDark(Gr,jr+3)&&br.isDark(Gr,jr+4)&&!br.isDark(Gr,jr+5)&&br.isDark(Gr,jr+6)&&(Wr+=40);for(var jr=0;jr<kr;jr++)for(var Gr=0;Gr<kr-6;Gr++)br.isDark(Gr,jr)&&!br.isDark(Gr+1,jr)&&br.isDark(Gr+2,jr)&&br.isDark(Gr+3,jr)&&br.isDark(Gr+4,jr)&&!br.isDark(Gr+5,jr)&&br.isDark(Gr+6,jr)&&(Wr+=40);for(var $n=0,jr=0;jr<kr;jr++)for(var Gr=0;Gr<kr;Gr++)br.isDark(Gr,jr)&&$n++;var Tn=Math.abs(100*$n/kr/kr-50)/5;return Wr+=Tn*10,Wr}},be={glog:function(br){if(br<1)throw new Error("glog("+br+")");return be.LOG_TABLE[br]},gexp:function(br){for(;br<0;)br+=255;for(;br>=256;)br-=255;return be.EXP_TABLE[br]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},we=0;we<8;we++)be.EXP_TABLE[we]=1<<we;for(var we=8;we<256;we++)be.EXP_TABLE[we]=be.EXP_TABLE[we-4]^be.EXP_TABLE[we-5]^be.EXP_TABLE[we-6]^be.EXP_TABLE[we-8];for(var we=0;we<255;we++)be.LOG_TABLE[be.EXP_TABLE[we]]=we;function Ee(br,kr){if(br.length==null)throw new Error(br.length+"/"+kr);for(var Wr=0;Wr<br.length&&br[Wr]==0;)Wr++;this.num=new Array(br.length-Wr+kr);for(var Gr=0;Gr<br.length-Wr;Gr++)this.num[Gr]=br[Gr+Wr]}Ee.prototype={get:function(br){return this.num[br]},getLength:function(){return this.num.length},multiply:function(br){for(var kr=new Array(this.getLength()+br.getLength()-1),Wr=0;Wr<this.getLength();Wr++)for(var Gr=0;Gr<br.getLength();Gr++)kr[Wr+Gr]^=be.gexp(be.glog(this.get(Wr))+be.glog(br.get(Gr)));return new Ee(kr,0)},mod:function(br){if(this.getLength()-br.getLength()<0)return this;for(var kr=be.glog(this.get(0))-be.glog(br.get(0)),Wr=new Array(this.getLength()),Gr=0;Gr<this.getLength();Gr++)Wr[Gr]=this.get(Gr);for(var Gr=0;Gr<br.getLength();Gr++)Wr[Gr]^=be.gexp(be.glog(br.get(Gr))+kr);return new Ee(Wr,0).mod(br)}};function xe(br,kr){this.totalCount=br,this.dataCount=kr}xe.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],xe.getRSBlocks=function(br,kr){var Wr=xe.getRsBlockTable(br,kr);if(Wr==null)throw new Error("bad rs block @ typeNumber:"+br+"/errorCorrectLevel:"+kr);for(var Gr=Wr.length/3,jr=[],Qr=0;Qr<Gr;Qr++)for(var wn=Wr[Qr*3+0],En=Wr[Qr*3+1],Rn=Wr[Qr*3+2],An=0;An<wn;An++)jr.push(new xe(En,Rn));return jr},xe.getRsBlockTable=function(br,kr){switch(kr){case fe.L:return xe.RS_BLOCK_TABLE[(br-1)*4+0];case fe.M:return xe.RS_BLOCK_TABLE[(br-1)*4+1];case fe.Q:return xe.RS_BLOCK_TABLE[(br-1)*4+2];case fe.H:return xe.RS_BLOCK_TABLE[(br-1)*4+3];default:return}};function Se(){this.buffer=[],this.length=0}Se.prototype={get:function(br){var kr=Math.floor(br/8);return(this.buffer[kr]>>>7-br%8&1)==1},put:function(br,kr){for(var Wr=0;Wr<kr;Wr++)this.putBit((br>>>kr-Wr-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(br){var kr=Math.floor(this.length/8);this.buffer.length<=kr&&this.buffer.push(0),br&&(this.buffer[kr]|=128>>>this.length%8),this.length++}};var Ie=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function fr(br){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof br=="string"&&(br={content:br}),br)for(var kr in br)this.options[kr]=br[kr];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function Wr(Rn){switch(Rn){case"L":return fe.L;case"M":return fe.M;case"Q":return fe.Q;case"H":return fe.H;default:throw new Error("Unknwon error correction level: "+Rn)}}function Gr(Rn,An){for(var $n=jr(Rn),Tn=1,ti=0,ai=0,On=Ie.length;ai<=On;ai++){var Sn=Ie[ai];if(!Sn)throw new Error("Content too long: expected "+ti+" but got "+$n);switch(An){case"L":ti=Sn[0];break;case"M":ti=Sn[1];break;case"Q":ti=Sn[2];break;case"H":ti=Sn[3];break;default:throw new Error("Unknwon error correction level: "+An)}if($n<=ti)break;Tn++}if(Tn>Ie.length)throw new Error("Content too long");return Tn}function jr(Rn){var An=encodeURI(Rn).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return An.length+(An.length!=Rn?3:0)}var Qr=this.options.content,wn=Gr(Qr,this.options.ecl),En=Wr(this.options.ecl);this.qrcode=new Y(wn,En),this.qrcode.addData(Qr),this.qrcode.make()}return fr.prototype.svg=function(br){var kr=this.options||{},Wr=this.qrcode.modules;typeof br>"u"&&(br={container:kr.container||"svg"});for(var Gr=typeof kr.pretty<"u"?!!kr.pretty:!0,jr=Gr?"  ":"",Qr=Gr?`\r
`:"",wn=kr.width,En=kr.height,Rn=Wr.length,An=wn/(Rn+2*kr.padding),$n=En/(Rn+2*kr.padding),Tn=typeof kr.join<"u"?!!kr.join:!1,ti=typeof kr.swap<"u"?!!kr.swap:!1,ai=typeof kr.xmlDeclaration<"u"?!!kr.xmlDeclaration:!0,On=typeof kr.predefined<"u"?!!kr.predefined:!1,Sn=On?jr+'<defs><path id="qrmodule" d="M0 0 h'+$n+" v"+An+' H0 z" style="fill:'+kr.color+';shape-rendering:crispEdges;" /></defs>'+Qr:"",Zr=jr+'<rect x="0" y="0" width="'+wn+'" height="'+En+'" style="fill:'+kr.background+';shape-rendering:crispEdges;"/>'+Qr,Oe="",wr="",qr=0;qr<Rn;qr++)for(var Vr=0;Vr<Rn;Vr++){var Jr=Wr[Vr][qr];if(Jr){var Xr=Vr*An+kr.padding*An,Kr=qr*$n+kr.padding*$n;if(ti){var Yr=Xr;Xr=Kr,Kr=Yr}if(Tn){var Br=An+Xr,_n=$n+Kr;Xr=Number.isInteger(Xr)?Number(Xr):Xr.toFixed(2),Kr=Number.isInteger(Kr)?Number(Kr):Kr.toFixed(2),Br=Number.isInteger(Br)?Number(Br):Br.toFixed(2),_n=Number.isInteger(_n)?Number(_n):_n.toFixed(2),wr+="M"+Xr+","+Kr+" V"+_n+" H"+Br+" V"+Kr+" H"+Xr+" Z "}else On?Oe+=jr+'<use x="'+Xr.toString()+'" y="'+Kr.toString()+'" href="#qrmodule" />'+Qr:Oe+=jr+'<rect x="'+Xr.toString()+'" y="'+Kr.toString()+'" width="'+An+'" height="'+$n+'" style="fill:'+kr.color+';shape-rendering:crispEdges;"/>'+Qr}}Tn&&(Oe=jr+'<path x="0" y="0" style="fill:'+kr.color+';shape-rendering:crispEdges;" d="'+wr+'" />');let ii="";if(this.options.image!==void 0&&this.options.image.svg){const si=wn*this.options.image.width/100,Nn=En*this.options.image.height/100,jn=wn/2-si/2,ei=En/2-Nn/2;ii+=`<svg x="${jn}" y="${ei}" width="${si}" height="${Nn}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ii+=this.options.image.svg+Qr,ii+="</svg>"}var ni="";switch(br.container){case"svg":ai&&(ni+='<?xml version="1.0" standalone="yes"?>'+Qr),ni+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+wn+'" height="'+En+'">'+Qr,ni+=Sn+Zr+Oe,ni+=ii,ni+="</svg>";break;case"svg-viewbox":ai&&(ni+='<?xml version="1.0" standalone="yes"?>'+Qr),ni+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+wn+" "+En+'">'+Qr,ni+=Sn+Zr+Oe,ni+=ii,ni+="</svg>";break;case"g":ni+='<g width="'+wn+'" height="'+En+'">'+Qr,ni+=Sn+Zr+Oe,ni+=ii,ni+="</g>";break;default:ni+=(Sn+Zr+Oe+ii).replace(/^\s+/,"");break}return ni},qrcodeSvg=fr,qrcodeSvg}var hasRequiredQRCode;function requireQRCode(){if(hasRequiredQRCode)return QRCode;hasRequiredQRCode=1;var se=QRCode.__importDefault||function(me){return me&&me.__esModule?me:{default:me}};Object.defineProperty(QRCode,"__esModule",{value:!0}),QRCode.QRCode=void 0;const Y=require$$1$1,ne=require$$2,fe=se(requireQrcodeSvg()),ye=me=>{const[be,we]=(0,ne.useState)("");return(0,ne.useEffect)(()=>{var Ee,xe;const Se=new fe.default({content:me.content,background:me.bgColor||"#ffffff",color:me.fgColor||"#000000",container:"svg",ecl:"M",width:(Ee=me.width)!==null&&Ee!==void 0?Ee:256,height:(xe=me.height)!==null&&xe!==void 0?xe:256,padding:0,image:me.image}),Ie=Buffer.from(Se.svg(),"utf8").toString("base64");we(`data:image/svg+xml;base64,${Ie}`)},[me.bgColor,me.content,me.fgColor,me.height,me.image,me.width]),be?(0,Y.h)("img",{src:be,alt:"QR Code"}):null};return QRCode.QRCode=ye,QRCode}var Spinner={},SpinnerCss={},hasRequiredSpinnerCss;function requireSpinnerCss(){return hasRequiredSpinnerCss||(hasRequiredSpinnerCss=1,Object.defineProperty(SpinnerCss,"__esModule",{value:!0}),SpinnerCss.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"),SpinnerCss}var hasRequiredSpinner;function requireSpinner(){if(hasRequiredSpinner)return Spinner;hasRequiredSpinner=1;var se=Spinner.__importDefault||function(ye){return ye&&ye.__esModule?ye:{default:ye}};Object.defineProperty(Spinner,"__esModule",{value:!0}),Spinner.Spinner=void 0;const Y=require$$1$1,ne=se(requireSpinnerCss()),fe=ye=>{var me;const be=(me=ye.size)!==null&&me!==void 0?me:64,we=ye.color||"#000";return(0,Y.h)("div",{class:"-cbwsdk-spinner"},(0,Y.h)("style",null,ne.default),(0,Y.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:be,height:be}},(0,Y.h)("circle",{style:{cx:50,cy:50,r:45,stroke:we}})))};return Spinner.Spinner=fe,Spinner}var ConnectContentCss={},hasRequiredConnectContentCss;function requireConnectContentCss(){return hasRequiredConnectContentCss||(hasRequiredConnectContentCss=1,Object.defineProperty(ConnectContentCss,"__esModule",{value:!0}),ConnectContentCss.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}"),ConnectContentCss}var hasRequiredConnectContent;function requireConnectContent(){if(hasRequiredConnectContent)return ConnectContent;hasRequiredConnectContent=1;var se=ConnectContent.__importDefault||function(Gr){return Gr&&Gr.__esModule?Gr:{default:Gr}};Object.defineProperty(ConnectContent,"__esModule",{value:!0}),ConnectContent.CoinbaseWalletSteps=ConnectContent.ConnectContent=void 0;const Y=se(require$$0$1),ne=require$$1$1,fe=requireUtil$1(),ye=requireVersion(),me=requireCloseIcon(),be=requireCoinbaseWalletRound(),we=requireQRCodeIcon(),Ee=requireQRCode(),xe=requireSpinner(),Se=se(requireConnectContentCss()),Ie={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:Wr},fr=Gr=>Gr==="light"?"#FFFFFF":"#0A0B0D";function br(Gr){const{theme:jr}=Gr,Qr=(0,fe.createQrUrl)(Gr.sessionId,Gr.sessionSecret,Gr.linkAPIUrl,Gr.isParentConnection,Gr.version,Gr.chainId),wn=Ie.steps;return(0,ne.h)("div",{"data-testid":"connect-content",className:(0,Y.default)("-cbwsdk-connect-content",jr)},(0,ne.h)("style",null,Se.default),(0,ne.h)("div",{className:"-cbwsdk-connect-content-header"},(0,ne.h)("h2",{className:(0,Y.default)("-cbwsdk-connect-content-heading",jr)},"Scan to connect with our mobile app"),Gr.onCancel&&(0,ne.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:Gr.onCancel},(0,ne.h)(me.CloseIcon,{fill:jr==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ne.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,ne.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,ne.h)(kr,{title:Ie.title,description:Ie.description,theme:jr})),(0,ne.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,ne.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,ne.h)(Ee.QRCode,{content:Qr,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,ne.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:ye.LIB_VERSION}),(0,ne.h)("input",{type:"hidden",value:Qr})),(0,ne.h)(wn,{theme:jr}),!Gr.isConnected&&(0,ne.h)("div",{"data-testid":"connecting-spinner",className:(0,Y.default)("-cbwsdk-connect-content-qr-connecting",jr)},(0,ne.h)(xe.Spinner,{size:36,color:jr==="dark"?"#FFF":"#000"}),(0,ne.h)("p",null,"Connecting...")))))}ConnectContent.ConnectContent=br;function kr({title:Gr,description:jr,theme:Qr}){return(0,ne.h)("div",{className:(0,Y.default)("-cbwsdk-connect-item",Qr)},(0,ne.h)("div",null,(0,ne.h)(be.CoinbaseWalletRound,null)),(0,ne.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,ne.h)("h3",{className:"-cbwsdk-connect-item-title"},Gr),(0,ne.h)("p",{className:"-cbwsdk-connect-item-description"},jr)))}function Wr({theme:Gr}){return(0,ne.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,ne.h)("li",{className:(0,Y.default)("-cbwsdk-wallet-steps-item",Gr)},(0,ne.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,ne.h)("li",{className:(0,Y.default)("-cbwsdk-wallet-steps-item",Gr)},(0,ne.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,ne.h)("span",null,"Tap ",(0,ne.h)("strong",null,"Scan")," "),(0,ne.h)("span",{className:(0,Y.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",Gr)},(0,ne.h)(we.QRCodeIcon,{fill:fr(Gr)})))))}return ConnectContent.CoinbaseWalletSteps=Wr,ConnectContent}var TryExtensionContent={},ArrowLeftIcon={},hasRequiredArrowLeftIcon;function requireArrowLeftIcon(){if(hasRequiredArrowLeftIcon)return ArrowLeftIcon;hasRequiredArrowLeftIcon=1,Object.defineProperty(ArrowLeftIcon,"__esModule",{value:!0}),ArrowLeftIcon.ArrowLeftIcon=void 0;const se=require$$1$1;function Y(ne){return(0,se.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ne),(0,se.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}return ArrowLeftIcon.ArrowLeftIcon=Y,ArrowLeftIcon}var LaptopIcon={},hasRequiredLaptopIcon;function requireLaptopIcon(){if(hasRequiredLaptopIcon)return LaptopIcon;hasRequiredLaptopIcon=1,Object.defineProperty(LaptopIcon,"__esModule",{value:!0}),LaptopIcon.LaptopIcon=void 0;const se=require$$1$1;function Y(ne){return(0,se.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},ne),(0,se.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,se.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}return LaptopIcon.LaptopIcon=Y,LaptopIcon}var SafeIcon={},hasRequiredSafeIcon;function requireSafeIcon(){if(hasRequiredSafeIcon)return SafeIcon;hasRequiredSafeIcon=1,Object.defineProperty(SafeIcon,"__esModule",{value:!0}),SafeIcon.SafeIcon=void 0;const se=require$$1$1;function Y(ne){return(0,se.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},ne),(0,se.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}return SafeIcon.SafeIcon=Y,SafeIcon}var TryExtensionContentCss={},hasRequiredTryExtensionContentCss;function requireTryExtensionContentCss(){return hasRequiredTryExtensionContentCss||(hasRequiredTryExtensionContentCss=1,Object.defineProperty(TryExtensionContentCss,"__esModule",{value:!0}),TryExtensionContentCss.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}"),TryExtensionContentCss}var hasRequiredTryExtensionContent;function requireTryExtensionContent(){if(hasRequiredTryExtensionContent)return TryExtensionContent;hasRequiredTryExtensionContent=1;var se=TryExtensionContent.__importDefault||function(xe){return xe&&xe.__esModule?xe:{default:xe}};Object.defineProperty(TryExtensionContent,"__esModule",{value:!0}),TryExtensionContent.TryExtensionContent=void 0;const Y=se(require$$0$1),ne=require$$1$1,fe=require$$2,ye=requireArrowLeftIcon(),me=requireLaptopIcon(),be=requireSafeIcon(),we=se(requireTryExtensionContentCss());function Ee({theme:xe}){const[Se,Ie]=(0,fe.useState)(!1),fr=(0,fe.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),br=(0,fe.useCallback)(()=>{Se?window.location.reload():(fr(),Ie(!0))},[fr,Se]);return(0,ne.h)("div",{class:(0,Y.default)("-cbwsdk-try-extension",xe)},(0,ne.h)("style",null,we.default),(0,ne.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ne.h)("h3",{class:(0,Y.default)("-cbwsdk-try-extension-heading",xe)},"Or try the Coinbase Wallet browser extension"),(0,ne.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,ne.h)("button",{class:(0,Y.default)("-cbwsdk-try-extension-cta",xe),onClick:br},Se?"Refresh":"Install"),(0,ne.h)("div",null,!Se&&(0,ne.h)(ye.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:xe==="light"?"#0052FF":"#588AF5"})))),(0,ne.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ne.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,ne.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ne.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ne.h)("span",{class:(0,Y.default)("-cbwsdk-try-extension-list-item-icon",xe)},(0,ne.h)(me.LaptopIcon,{fill:xe==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ne.h)("div",{class:(0,Y.default)("-cbwsdk-try-extension-list-item-copy",xe)},"Connect with dapps with just one click on your desktop browser")),(0,ne.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ne.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ne.h)("span",{class:(0,Y.default)("-cbwsdk-try-extension-list-item-icon",xe)},(0,ne.h)(be.SafeIcon,{fill:xe==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ne.h)("div",{class:(0,Y.default)("-cbwsdk-try-extension-list-item-copy",xe)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}return TryExtensionContent.TryExtensionContent=Ee,TryExtensionContent}var ConnectDialogCss={},hasRequiredConnectDialogCss;function requireConnectDialogCss(){return hasRequiredConnectDialogCss||(hasRequiredConnectDialogCss=1,Object.defineProperty(ConnectDialogCss,"__esModule",{value:!0}),ConnectDialogCss.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}"),ConnectDialogCss}var hasRequiredConnectDialog;function requireConnectDialog(){if(hasRequiredConnectDialog)return ConnectDialog;hasRequiredConnectDialog=1;var se=ConnectDialog.__importDefault||function(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}};Object.defineProperty(ConnectDialog,"__esModule",{value:!0}),ConnectDialog.ConnectDialog=void 0;const Y=se(require$$0$1),ne=require$$1$1,fe=require$$2,ye=requireConnectContent(),me=requireTryExtensionContent(),be=se(requireConnectDialogCss()),we=Ee=>{const{isOpen:xe,darkMode:Se}=Ee,[Ie,fr]=(0,fe.useState)(!xe),[br,kr]=(0,fe.useState)(!xe);(0,fe.useEffect)(()=>{const Gr=[window.setTimeout(()=>{kr(!xe)},10)];return xe?fr(!1):Gr.push(window.setTimeout(()=>{fr(!0)},360)),()=>{Gr.forEach(window.clearTimeout)}},[xe]);const Wr=Se?"dark":"light";return(0,ne.h)("div",{class:(0,Y.default)("-cbwsdk-connect-dialog-container",Ie&&"-cbwsdk-connect-dialog-container-hidden")},(0,ne.h)("style",null,be.default),(0,ne.h)("div",{class:(0,Y.default)("-cbwsdk-connect-dialog-backdrop",Wr,br&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,ne.h)("div",{class:"-cbwsdk-connect-dialog"},(0,ne.h)("div",{class:(0,Y.default)("-cbwsdk-connect-dialog-box",br&&"-cbwsdk-connect-dialog-box-hidden")},Ee.connectDisabled?null:(0,ne.h)(ye.ConnectContent,{theme:Wr,version:Ee.version,sessionId:Ee.sessionId,sessionSecret:Ee.sessionSecret,linkAPIUrl:Ee.linkAPIUrl,isConnected:Ee.isConnected,isParentConnection:Ee.isParentConnection,chainId:Ee.chainId,onCancel:Ee.onCancel}),(0,ne.h)(me.TryExtensionContent,{theme:Wr}))))};return ConnectDialog.ConnectDialog=we,ConnectDialog}var hasRequiredLinkFlow;function requireLinkFlow(){if(hasRequiredLinkFlow)return LinkFlow;hasRequiredLinkFlow=1,Object.defineProperty(LinkFlow,"__esModule",{value:!0}),LinkFlow.LinkFlow=void 0;const se=require$$1$1,Y=requireConnectDialog();let ne=class{constructor(ye){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=ye.darkMode,this.version=ye.version,this.sessionId=ye.sessionId,this.sessionSecret=ye.sessionSecret,this.linkAPIUrl=ye.linkAPIUrl,this.isParentConnection=ye.isParentConnection}attach(ye){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",ye.appendChild(this.root),this.render()}setConnected(ye){this.connected!==ye&&(this.connected=ye,this.render())}setChainId(ye){this.chainId!==ye&&(this.chainId=ye,this.render())}detach(){var ye;this.root&&((0,se.render)(null,this.root),(ye=this.root.parentElement)===null||ye===void 0||ye.removeChild(this.root))}setConnectDisabled(ye){this.connectDisabled=ye}open(ye){this.isOpen=!0,this.onCancel=ye.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,se.render)((0,se.h)(Y.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}};return LinkFlow.LinkFlow=ne,LinkFlow}var Snackbar$1={},SnackbarCss={},hasRequiredSnackbarCss;function requireSnackbarCss(){return hasRequiredSnackbarCss||(hasRequiredSnackbarCss=1,Object.defineProperty(SnackbarCss,"__esModule",{value:!0}),SnackbarCss.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),SnackbarCss}var hasRequiredSnackbar$1;function requireSnackbar$1(){return hasRequiredSnackbar$1||(hasRequiredSnackbar$1=1,function(se){var Y=Snackbar$1.__importDefault||function(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}};Object.defineProperty(se,"__esModule",{value:!0}),se.SnackbarInstance=se.SnackbarContainer=se.Snackbar=void 0;const ne=Y(require$$0$1),fe=require$$1$1,ye=require$$2,me=Y(requireSnackbarCss()),be="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",we="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Ee{constructor(fr){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=fr.darkMode}attach(fr){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",fr.appendChild(this.root),this.render()}presentItem(fr){const br=this.nextItemKey++;return this.items.set(br,fr),this.render(),()=>{this.items.delete(br),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,fe.render)((0,fe.h)("div",null,(0,fe.h)(se.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([fr,br])=>(0,fe.h)(se.SnackbarInstance,Object.assign({},br,{key:fr}))))),this.root)}}se.Snackbar=Ee;const xe=Ie=>(0,fe.h)("div",{class:(0,ne.default)("-cbwsdk-snackbar-container")},(0,fe.h)("style",null,me.default),(0,fe.h)("div",{class:"-cbwsdk-snackbar"},Ie.children));se.SnackbarContainer=xe;const Se=({autoExpand:Ie,message:fr,menuItems:br})=>{const[kr,Wr]=(0,ye.useState)(!0),[Gr,jr]=(0,ye.useState)(Ie??!1);(0,ye.useEffect)(()=>{const wn=[window.setTimeout(()=>{Wr(!1)},1),window.setTimeout(()=>{jr(!0)},1e4)];return()=>{wn.forEach(window.clearTimeout)}});const Qr=()=>{jr(!Gr)};return(0,fe.h)("div",{class:(0,ne.default)("-cbwsdk-snackbar-instance",kr&&"-cbwsdk-snackbar-instance-hidden",Gr&&"-cbwsdk-snackbar-instance-expanded")},(0,fe.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:Qr},(0,fe.h)("img",{src:be,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,fe.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},fr),(0,fe.h)("div",{class:"-gear-container"},!Gr&&(0,fe.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,fe.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,fe.h)("img",{src:we,class:"-gear-icon",title:"Expand"}))),br&&br.length>0&&(0,fe.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},br.map((wn,En)=>(0,fe.h)("div",{class:(0,ne.default)("-cbwsdk-snackbar-instance-menu-item",wn.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:wn.onClick,key:En},(0,fe.h)("svg",{width:wn.svgWidth,height:wn.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,fe.h)("path",{"fill-rule":wn.defaultFillRule,"clip-rule":wn.defaultClipRule,d:wn.path,fill:"#AAAAAA"})),(0,fe.h)("span",{class:(0,ne.default)("-cbwsdk-snackbar-instance-menu-item-info",wn.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},wn.info)))))};se.SnackbarInstance=Se}(Snackbar$1)),Snackbar$1}var hasRequiredWalletLinkRelayUI;function requireWalletLinkRelayUI(){if(hasRequiredWalletLinkRelayUI)return WalletLinkRelayUI;hasRequiredWalletLinkRelayUI=1,Object.defineProperty(WalletLinkRelayUI,"__esModule",{value:!0}),WalletLinkRelayUI.WalletLinkRelayUI=void 0;const se=requireCssReset(),Y=requireLinkFlow(),ne=requireSnackbar$1();let fe=class{constructor(me){this.standalone=null,this.attached=!1,this.snackbar=new ne.Snackbar({darkMode:me.darkMode}),this.linkFlow=new Y.LinkFlow({darkMode:me.darkMode,version:me.version,sessionId:me.session.id,sessionSecret:me.session.secret,linkAPIUrl:me.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const me=document.documentElement,be=document.createElement("div");be.className="-cbwsdk-css-reset",me.appendChild(be),this.linkFlow.attach(be),this.snackbar.attach(be),this.attached=!0,(0,se.injectCssReset)()}setConnected(me){this.linkFlow.setConnected(me)}setChainId(me){this.linkFlow.setChainId(me)}setConnectDisabled(me){this.linkFlow.setConnectDisabled(me)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(me){this.linkFlow.open({onCancel:me.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(me){let be;return me.isUnlinkedErrorState?be={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:me.onResetConnection}]}:be={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:me.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:me.onResetConnection}]},this.snackbar.presentItem(be)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(me){this.standalone=me}isStandalone(){var me;return(me=this.standalone)!==null&&me!==void 0?me:!1}};return WalletLinkRelayUI.WalletLinkRelayUI=fe,WalletLinkRelayUI}var hasRequiredWalletLinkRelay;function requireWalletLinkRelay(){if(hasRequiredWalletLinkRelay)return WalletLinkRelay;hasRequiredWalletLinkRelay=1,Object.defineProperty(WalletLinkRelay,"__esModule",{value:!0}),WalletLinkRelay.WalletLinkRelay=void 0;const se=requireError(),Y=requireType(),ne=requireUtil$1(),fe=requireDiagnosticLogger(),ye=requireRelayAbstract(),me=requireSession(),be=requireWalletLinkConnection(),we=requireWeb3Response(),Ee=requireWalletLinkRelayUI();let xe=class nh extends ye.RelayAbstract{constructor(Ie){var fr;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=Gr=>{var jr;this.isLinked=Gr;const Qr=this.storage.getItem(ye.LOCAL_STORAGE_ADDRESSES_KEY);if(Gr&&(this.session.linked=Gr),this.isUnlinkedErrorState=!1,Qr){const wn=Qr.split(" "),En=this.storage.getItem("IsStandaloneSigning")==="true";if(wn[0]!==""&&!Gr&&this.session.linked&&!En){this.isUnlinkedErrorState=!0;const Rn=this.getSessionIdHash();(jr=this.diagnostic)===null||jr===void 0||jr.log(fe.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:Rn})}}},this.metadataUpdated=(Gr,jr)=>{this.storage.setItem(Gr,jr)},this.chainUpdated=(Gr,jr)=>{this.chainCallbackParams.chainId===Gr&&this.chainCallbackParams.jsonRpcUrl===jr||(this.chainCallbackParams={chainId:Gr,jsonRpcUrl:jr},this.chainCallback&&this.chainCallback(Gr,jr))},this.accountUpdated=Gr=>{this.accountsCallback&&this.accountsCallback([Gr]),nh.accountRequestCallbackIds.size>0&&(Array.from(nh.accountRequestCallbackIds.values()).forEach(jr=>{const Qr={type:"WEB3_RESPONSE",id:jr,response:{method:"requestEthereumAccounts",result:[Gr]}};this.invokeCallback(Object.assign(Object.assign({},Qr),{id:jr}))}),nh.accountRequestCallbackIds.clear())},this.connectedUpdated=Gr=>{this.ui.setConnected(Gr)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=Ie.linkAPIUrl,this.storage=Ie.storage,this.options=Ie;const{session:br,ui:kr,connection:Wr}=this.subscribe();this._session=br,this.connection=Wr,this.relayEventManager=Ie.relayEventManager,this.diagnostic=Ie.diagnosticLogger,this._reloadOnDisconnect=(fr=Ie.reloadOnDisconnect)!==null&&fr!==void 0?fr:!0,this.ui=kr}subscribe(){const Ie=me.Session.load(this.storage)||new me.Session(this.storage).save(),{linkAPIUrl:fr,diagnostic:br}=this,kr=new be.WalletLinkConnection({session:Ie,linkAPIUrl:fr,diagnostic:br,listener:this}),{version:Wr,darkMode:Gr}=this.options,jr=this.options.uiConstructor({linkAPIUrl:fr,version:Wr,darkMode:Gr,session:Ie});return kr.connect(),{session:Ie,ui:jr,connection:kr}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(Ie=>setTimeout(()=>Ie(null),1e3))]).then(()=>{var Ie,fr;const br=this.ui.isStandalone();(Ie=this.diagnostic)===null||Ie===void 0||Ie.log(fe.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const kr=me.Session.load(this.storage);if((kr==null?void 0:kr.id)===this._session.id?this.storage.clear():kr&&((fr=this.diagnostic)===null||fr===void 0||fr.log(fe.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:me.Session.hash(kr.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:Wr,ui:Gr,connection:jr}=this.subscribe();this._session=Wr,this.connection=jr,this.ui=Gr,br&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()}).catch(Ie=>{var fr;(fr=this.diagnostic)===null||fr===void 0||fr.log(fe.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${Ie}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(Ie,fr){this.appName=Ie,this.appLogoUrl=fr}getStorageItem(Ie){return this.storage.getItem(Ie)}get session(){return this._session}setStorageItem(Ie,fr){this.storage.setItem(Ie,fr)}signEthereumMessage(Ie,fr,br,kr){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,ne.hexStringFromBuffer)(Ie,!0),address:fr,addPrefix:br,typedDataJson:kr||null}})}ethereumAddressFromSignedMessage(Ie,fr,br){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,ne.hexStringFromBuffer)(Ie,!0),signature:(0,ne.hexStringFromBuffer)(fr,!0),addPrefix:br}})}signEthereumTransaction(Ie){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:Ie.fromAddress,toAddress:Ie.toAddress,weiValue:(0,ne.bigIntStringFromBN)(Ie.weiValue),data:(0,ne.hexStringFromBuffer)(Ie.data,!0),nonce:Ie.nonce,gasPriceInWei:Ie.gasPriceInWei?(0,ne.bigIntStringFromBN)(Ie.gasPriceInWei):null,maxFeePerGas:Ie.gasPriceInWei?(0,ne.bigIntStringFromBN)(Ie.gasPriceInWei):null,maxPriorityFeePerGas:Ie.gasPriceInWei?(0,ne.bigIntStringFromBN)(Ie.gasPriceInWei):null,gasLimit:Ie.gasLimit?(0,ne.bigIntStringFromBN)(Ie.gasLimit):null,chainId:Ie.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(Ie){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:Ie.fromAddress,toAddress:Ie.toAddress,weiValue:(0,ne.bigIntStringFromBN)(Ie.weiValue),data:(0,ne.hexStringFromBuffer)(Ie.data,!0),nonce:Ie.nonce,gasPriceInWei:Ie.gasPriceInWei?(0,ne.bigIntStringFromBN)(Ie.gasPriceInWei):null,maxFeePerGas:Ie.maxFeePerGas?(0,ne.bigIntStringFromBN)(Ie.maxFeePerGas):null,maxPriorityFeePerGas:Ie.maxPriorityFeePerGas?(0,ne.bigIntStringFromBN)(Ie.maxPriorityFeePerGas):null,gasLimit:Ie.gasLimit?(0,ne.bigIntStringFromBN)(Ie.gasLimit):null,chainId:Ie.chainId,shouldSubmit:!0}})}submitEthereumTransaction(Ie,fr){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,ne.hexStringFromBuffer)(Ie,!0),chainId:fr}})}scanQRCode(Ie){return this.sendRequest({method:"scanQRCode",params:{regExp:Ie}})}getQRCodeUrl(){return(0,ne.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(Ie,fr){return this.sendRequest({method:"generic",params:{action:fr,data:Ie}})}sendGenericMessage(Ie){return this.sendRequest(Ie)}sendRequest(Ie){let fr=null;const br=(0,ne.randomBytesHex)(8),kr=Gr=>{this.publishWeb3RequestCanceledEvent(br),this.handleErrorResponse(br,Ie.method,Gr),fr==null||fr()};return{promise:new Promise((Gr,jr)=>{this.ui.isStandalone()||(fr=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:kr,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(br,Qr=>{if(fr==null||fr(),(0,we.isErrorResponse)(Qr))return jr(new Error(Qr.errorMessage));Gr(Qr)}),this.ui.isStandalone()?this.sendRequestStandalone(br,Ie):this.publishWeb3RequestEvent(br,Ie)}),cancel:kr}}setConnectDisabled(Ie){this.ui.setConnectDisabled(Ie)}setAccountsCallback(Ie){this.accountsCallback=Ie}setChainCallback(Ie){this.chainCallback=Ie}setDappDefaultChainCallback(Ie){this.dappDefaultChain=Ie,this.ui instanceof Ee.WalletLinkRelayUI&&this.ui.setChainId(Ie)}publishWeb3RequestEvent(Ie,fr){var br;const kr={type:"WEB3_REQUEST",id:Ie,request:fr},Wr=me.Session.load(this.storage);(br=this.diagnostic)===null||br===void 0||br.log(fe.EVENTS.WEB3_REQUEST,{eventId:kr.id,method:`relay::${fr.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Wr?me.Session.hash(Wr.id):"",isSessionMismatched:((Wr==null?void 0:Wr.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",kr,!0).then(Gr=>{var jr;(jr=this.diagnostic)===null||jr===void 0||jr.log(fe.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:kr.id,method:`relay::${fr.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Wr?me.Session.hash(Wr.id):"",isSessionMismatched:((Wr==null?void 0:Wr.id)!==this._session.id).toString()})}).catch(Gr=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:kr.id,response:{method:fr.method,errorMessage:Gr.message}})})}publishWeb3RequestCanceledEvent(Ie){const fr={type:"WEB3_REQUEST_CANCELED",id:Ie};this.publishEvent("Web3RequestCanceled",fr,!1).then()}publishEvent(Ie,fr,br){return this.connection.publishEvent(Ie,fr,br)}handleWeb3ResponseMessage(Ie){var fr;const{response:br}=Ie;if((fr=this.diagnostic)===null||fr===void 0||fr.log(fe.EVENTS.WEB3_RESPONSE,{eventId:Ie.id,method:`relay::${br.method}`,sessionIdHash:this.getSessionIdHash()}),br.method==="requestEthereumAccounts"){nh.accountRequestCallbackIds.forEach(kr=>this.invokeCallback(Object.assign(Object.assign({},Ie),{id:kr}))),nh.accountRequestCallbackIds.clear();return}this.invokeCallback(Ie)}handleErrorResponse(Ie,fr,br,kr){var Wr;const Gr=(Wr=br==null?void 0:br.message)!==null&&Wr!==void 0?Wr:(0,se.getMessageFromCode)(kr);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:Ie,response:{method:fr,errorMessage:Gr,errorCode:kr}})}invokeCallback(Ie){const fr=this.relayEventManager.callbacks.get(Ie.id);fr&&(fr(Ie.response),this.relayEventManager.callbacks.delete(Ie.id))}requestEthereumAccounts(){const Ie={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},fr=(0,ne.randomBytesHex)(8),br=Wr=>{this.publishWeb3RequestCanceledEvent(fr),this.handleErrorResponse(fr,Ie.method,Wr)};return{promise:new Promise((Wr,Gr)=>{if(this.relayEventManager.callbacks.set(fr,jr=>{if(this.ui.hideRequestEthereumAccounts(),(0,we.isErrorResponse)(jr))return Gr(new Error(jr.errorMessage));Wr(jr)}),this.ui.inlineAccountsResponse()){const jr=Qr=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:fr,response:{method:"requestEthereumAccounts",result:Qr}})};this.ui.requestEthereumAccounts({onCancel:br,onAccounts:jr})}else{const jr=se.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>br(jr)})}nh.accountRequestCallbackIds.add(fr),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(fr,Ie)}),cancel:br}}selectProvider(Ie){const fr={method:"selectProvider",params:{providerOptions:Ie}},br=(0,ne.randomBytesHex)(8),kr=Gr=>{this.publishWeb3RequestCanceledEvent(br),this.handleErrorResponse(br,fr.method,Gr)},Wr=new Promise((Gr,jr)=>{this.relayEventManager.callbacks.set(br,En=>{if((0,we.isErrorResponse)(En))return jr(new Error(En.errorMessage));Gr(En)});const Qr=En=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:br,response:{method:"selectProvider",result:Y.ProviderType.Unselected}})},wn=En=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:br,response:{method:"selectProvider",result:En}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:wn,onCancel:Qr,providerOptions:Ie})});return{cancel:kr,promise:Wr}}watchAsset(Ie,fr,br,kr,Wr,Gr){const jr={method:"watchAsset",params:{type:Ie,options:{address:fr,symbol:br,decimals:kr,image:Wr},chainId:Gr}};let Qr=null;const wn=(0,ne.randomBytesHex)(8),En=An=>{this.publishWeb3RequestCanceledEvent(wn),this.handleErrorResponse(wn,jr.method,An),Qr==null||Qr()};this.ui.inlineWatchAsset()||(Qr=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:En,onResetConnection:this.resetAndReload}));const Rn=new Promise((An,$n)=>{this.relayEventManager.callbacks.set(wn,ai=>{if(Qr==null||Qr(),(0,we.isErrorResponse)(ai))return $n(new Error(ai.errorMessage));An(ai)});const Tn=ai=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:wn,response:{method:"watchAsset",result:!1}})},ti=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:wn,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:ti,onCancel:Tn,type:Ie,address:fr,symbol:br,decimals:kr,image:Wr,chainId:Gr}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(wn,jr)});return{cancel:En,promise:Rn}}addEthereumChain(Ie,fr,br,kr,Wr,Gr){const jr={method:"addEthereumChain",params:{chainId:Ie,rpcUrls:fr,blockExplorerUrls:kr,chainName:Wr,iconUrls:br,nativeCurrency:Gr}};let Qr=null;const wn=(0,ne.randomBytesHex)(8),En=An=>{this.publishWeb3RequestCanceledEvent(wn),this.handleErrorResponse(wn,jr.method,An),Qr==null||Qr()};return this.ui.inlineAddEthereumChain(Ie)||(Qr=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:En,onResetConnection:this.resetAndReload})),{promise:new Promise((An,$n)=>{this.relayEventManager.callbacks.set(wn,ai=>{if(Qr==null||Qr(),(0,we.isErrorResponse)(ai))return $n(new Error(ai.errorMessage));An(ai)});const Tn=ai=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:wn,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},ti=ai=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:wn,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:ai}}})};this.ui.inlineAddEthereumChain(Ie)&&this.ui.addEthereumChain({onCancel:Tn,onApprove:ti,chainId:jr.params.chainId,rpcUrls:jr.params.rpcUrls,blockExplorerUrls:jr.params.blockExplorerUrls,chainName:jr.params.chainName,iconUrls:jr.params.iconUrls,nativeCurrency:jr.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(Ie)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(wn,jr)}),cancel:En}}switchEthereumChain(Ie,fr){const br={method:"switchEthereumChain",params:Object.assign({chainId:Ie},{address:fr})},kr=(0,ne.randomBytesHex)(8),Wr=jr=>{this.publishWeb3RequestCanceledEvent(kr),this.handleErrorResponse(kr,br.method,jr)};return{promise:new Promise((jr,Qr)=>{this.relayEventManager.callbacks.set(kr,Rn=>{if((0,we.isErrorResponse)(Rn)&&Rn.errorCode)return Qr(se.standardErrors.provider.custom({code:Rn.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,we.isErrorResponse)(Rn))return Qr(new Error(Rn.errorMessage));jr(Rn)});const wn=Rn=>{var An;if(Rn){const $n=(An=(0,se.getErrorCode)(Rn))!==null&&An!==void 0?An:se.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(kr,"switchEthereumChain",Rn instanceof Error?Rn:se.standardErrors.provider.unsupportedChain(Ie),$n)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:kr,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},En=Rn=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:kr,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:Rn}}})};this.ui.switchEthereumChain({onCancel:wn,onApprove:En,chainId:br.params.chainId,address:br.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(kr,br)}),cancel:Wr}}inlineAddEthereumChain(Ie){return this.ui.inlineAddEthereumChain(Ie)}getSessionIdHash(){return me.Session.hash(this._session.id)}sendRequestStandalone(Ie,fr){const br=Wr=>{this.handleErrorResponse(Ie,fr.method,Wr)},kr=Wr=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:Ie,response:Wr})};switch(fr.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:fr,onSuccess:kr,onCancel:br});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:fr,onSuccess:kr,onCancel:br});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:fr,onSuccess:kr,onCancel:br});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:fr,onSuccess:kr});break;default:br();break}}};return WalletLinkRelay.WalletLinkRelay=xe,xe.accountRequestCallbackIds=new Set,WalletLinkRelay}var MobileRelayUI={},RedirectDialog={},Snackbar={},hasRequiredSnackbar;function requireSnackbar(){return hasRequiredSnackbar||(hasRequiredSnackbar=1,function(se){var Y=Snackbar.__createBinding||(Object.create?function(fe,ye,me,be){be===void 0&&(be=me);var we=Object.getOwnPropertyDescriptor(ye,me);(!we||("get"in we?!ye.__esModule:we.writable||we.configurable))&&(we={enumerable:!0,get:function(){return ye[me]}}),Object.defineProperty(fe,be,we)}:function(fe,ye,me,be){be===void 0&&(be=me),fe[be]=ye[me]}),ne=Snackbar.__exportStar||function(fe,ye){for(var me in fe)me!=="default"&&!Object.prototype.hasOwnProperty.call(ye,me)&&Y(ye,fe,me)};Object.defineProperty(se,"__esModule",{value:!0}),ne(requireSnackbar$1(),se)}(Snackbar)),Snackbar}var RedirectDialogCss={},hasRequiredRedirectDialogCss;function requireRedirectDialogCss(){return hasRequiredRedirectDialogCss||(hasRequiredRedirectDialogCss=1,Object.defineProperty(RedirectDialogCss,"__esModule",{value:!0}),RedirectDialogCss.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),RedirectDialogCss}var hasRequiredRedirectDialog;function requireRedirectDialog(){if(hasRequiredRedirectDialog)return RedirectDialog;hasRequiredRedirectDialog=1;var se=RedirectDialog.__importDefault||function(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}};Object.defineProperty(RedirectDialog,"__esModule",{value:!0}),RedirectDialog.RedirectDialog=void 0;const Y=se(require$$0$1),ne=require$$1$1,fe=requireCssReset(),ye=requireSnackbar(),me=se(requireRedirectDialogCss());let be=class{constructor(){this.root=null}attach(){const xe=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",xe.appendChild(this.root),(0,fe.injectCssReset)()}present(xe){this.render(xe)}clear(){this.render(null)}render(xe){this.root&&((0,ne.render)(null,this.root),xe&&(0,ne.render)((0,ne.h)(we,Object.assign({},xe,{onDismiss:()=>{this.clear()}})),this.root))}};RedirectDialog.RedirectDialog=be;const we=({title:Ee,buttonText:xe,darkMode:Se,onButtonClick:Ie,onDismiss:fr})=>{const br=Se?"dark":"light";return(0,ne.h)(ye.SnackbarContainer,{darkMode:Se},(0,ne.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,ne.h)("style",null,me.default),(0,ne.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:fr}),(0,ne.h)("div",{class:(0,Y.default)("-cbwsdk-redirect-dialog-box",br)},(0,ne.h)("p",null,Ee),(0,ne.h)("button",{onClick:Ie},xe))))};return RedirectDialog}var hasRequiredMobileRelayUI;function requireMobileRelayUI(){if(hasRequiredMobileRelayUI)return MobileRelayUI;hasRequiredMobileRelayUI=1,Object.defineProperty(MobileRelayUI,"__esModule",{value:!0}),MobileRelayUI.MobileRelayUI=void 0;const se=requireRedirectDialog();let Y=class{constructor(fe){this.attached=!1,this.darkMode=!1,this.openedWindow=null,this.redirectDialog=new se.RedirectDialog,this.darkMode=fe.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(fe){}closeOpenedWindow(){var fe;(fe=this.openedWindow)===null||fe===void 0||fe.close(),this.openedWindow=null}redirectToCoinbaseWallet(fe){const ye=new URL("https://go.cb-w.com/walletlink");ye.searchParams.append("redirect_url",window.location.href),fe&&ye.searchParams.append("wl_url",fe),this.openedWindow=window.open(ye.href,"cbw-opener"),this.openedWindow&&setTimeout(()=>this.closeOpenedWindow(),5e3)}openCoinbaseWalletDeeplink(fe){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(fe)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(fe)},99)}showConnecting(fe){return()=>{this.closeOpenedWindow(),this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.closeOpenedWindow(),this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}};return MobileRelayUI.MobileRelayUI=Y,MobileRelayUI}var hasRequiredMobileRelay;function requireMobileRelay(){if(hasRequiredMobileRelay)return MobileRelay;hasRequiredMobileRelay=1,Object.defineProperty(MobileRelay,"__esModule",{value:!0}),MobileRelay.MobileRelay=void 0;const se=requireUtil$1(),Y=requireWalletLinkRelay(),ne=requireMobileRelayUI();let fe=class extends Y.WalletLinkRelay{constructor(me){var be;super(me),this._enableMobileWalletLink=(be=me.enableMobileWalletLink)!==null&&be!==void 0?be:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const me=(0,se.getLocation)();me.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(me.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(me,be){if(super.publishWeb3RequestEvent(me,be),!(this._enableMobileWalletLink&&this.ui instanceof ne.MobileRelayUI))return;let we=!1;switch(be.method){case"requestEthereumAccounts":case"connectAndSignIn":we=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:we=!0,this.ui.openCoinbaseWalletDeeplink();break}we&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(me){super.handleWeb3ResponseMessage(me),this._enableMobileWalletLink&&this.ui instanceof ne.MobileRelayUI&&this.ui.closeOpenedWindow()}connectAndSignIn(me){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:me.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:me.statement,resources:me.resources}})}};return MobileRelay.MobileRelay=fe,MobileRelay}var keccak$1,hasRequiredKeccak$1;function requireKeccak$1(){if(hasRequiredKeccak$1)return keccak$1;hasRequiredKeccak$1=1;const{Transform:se}=requireReadableBrowser$1();return keccak$1=Y=>class Tw extends se{constructor(fe,ye,me,be,we){super(we),this._rate=fe,this._capacity=ye,this._delimitedSuffix=me,this._hashBitLength=be,this._options=we,this._state=new Y,this._state.initialize(fe,ye),this._finalized=!1}_transform(fe,ye,me){let be=null;try{this.update(fe,ye)}catch(we){be=we}me(be)}_flush(fe){let ye=null;try{this.push(this.digest())}catch(me){ye=me}fe(ye)}update(fe,ye){if(!Buffer.isBuffer(fe)&&typeof fe!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(fe)||(fe=Buffer.from(fe,ye)),this._state.absorb(fe),this}digest(fe){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let ye=this._state.squeeze(this._hashBitLength/8);return fe!==void 0&&(ye=ye.toString(fe)),this._resetState(),ye}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const fe=new Tw(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(fe._state),fe._finalized=this._finalized,fe}},keccak$1}var shake,hasRequiredShake;function requireShake(){if(hasRequiredShake)return shake;hasRequiredShake=1;const{Transform:se}=requireReadableBrowser$1();return shake=Y=>class Nw extends se{constructor(fe,ye,me,be){super(be),this._rate=fe,this._capacity=ye,this._delimitedSuffix=me,this._options=be,this._state=new Y,this._state.initialize(fe,ye),this._finalized=!1}_transform(fe,ye,me){let be=null;try{this.update(fe,ye)}catch(we){be=we}me(be)}_flush(){}_read(fe){this.push(this.squeeze(fe))}update(fe,ye){if(!Buffer.isBuffer(fe)&&typeof fe!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(fe)||(fe=Buffer.from(fe,ye)),this._state.absorb(fe),this}squeeze(fe,ye){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let me=this._state.squeeze(fe);return ye!==void 0&&(me=me.toString(ye)),me}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const fe=new Nw(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(fe._state),fe._finalized=this._finalized,fe}},shake}var api,hasRequiredApi;function requireApi(){if(hasRequiredApi)return api;hasRequiredApi=1;const se=requireKeccak$1(),Y=requireShake();return api=function(ne){const fe=se(ne),ye=Y(ne);return function(me,be){switch(typeof me=="string"?me.toLowerCase():me){case"keccak224":return new fe(1152,448,null,224,be);case"keccak256":return new fe(1088,512,null,256,be);case"keccak384":return new fe(832,768,null,384,be);case"keccak512":return new fe(576,1024,null,512,be);case"sha3-224":return new fe(1152,448,6,224,be);case"sha3-256":return new fe(1088,512,6,256,be);case"sha3-384":return new fe(832,768,6,384,be);case"sha3-512":return new fe(576,1024,6,512,be);case"shake128":return new ye(1344,256,31,be);case"shake256":return new ye(1088,512,31,be);default:throw new Error("Invald algorithm: "+me)}}},api}var keccakStateUnroll={},hasRequiredKeccakStateUnroll;function requireKeccakStateUnroll(){if(hasRequiredKeccakStateUnroll)return keccakStateUnroll;hasRequiredKeccakStateUnroll=1;const se=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];return keccakStateUnroll.p1600=function(Y){for(let ne=0;ne<24;++ne){const fe=Y[0]^Y[10]^Y[20]^Y[30]^Y[40],ye=Y[1]^Y[11]^Y[21]^Y[31]^Y[41],me=Y[2]^Y[12]^Y[22]^Y[32]^Y[42],be=Y[3]^Y[13]^Y[23]^Y[33]^Y[43],we=Y[4]^Y[14]^Y[24]^Y[34]^Y[44],Ee=Y[5]^Y[15]^Y[25]^Y[35]^Y[45],xe=Y[6]^Y[16]^Y[26]^Y[36]^Y[46],Se=Y[7]^Y[17]^Y[27]^Y[37]^Y[47],Ie=Y[8]^Y[18]^Y[28]^Y[38]^Y[48],fr=Y[9]^Y[19]^Y[29]^Y[39]^Y[49];let br=Ie^(me<<1|be>>>31),kr=fr^(be<<1|me>>>31);const Wr=Y[0]^br,Gr=Y[1]^kr,jr=Y[10]^br,Qr=Y[11]^kr,wn=Y[20]^br,En=Y[21]^kr,Rn=Y[30]^br,An=Y[31]^kr,$n=Y[40]^br,Tn=Y[41]^kr;br=fe^(we<<1|Ee>>>31),kr=ye^(Ee<<1|we>>>31);const ti=Y[2]^br,ai=Y[3]^kr,On=Y[12]^br,Sn=Y[13]^kr,Zr=Y[22]^br,Oe=Y[23]^kr,wr=Y[32]^br,qr=Y[33]^kr,Vr=Y[42]^br,Jr=Y[43]^kr;br=me^(xe<<1|Se>>>31),kr=be^(Se<<1|xe>>>31);const Xr=Y[4]^br,Kr=Y[5]^kr,Yr=Y[14]^br,Br=Y[15]^kr,_n=Y[24]^br,ii=Y[25]^kr,ni=Y[34]^br,si=Y[35]^kr,Nn=Y[44]^br,jn=Y[45]^kr;br=we^(Ie<<1|fr>>>31),kr=Ee^(fr<<1|Ie>>>31);const ei=Y[6]^br,Pn=Y[7]^kr,zn=Y[16]^br,ri=Y[17]^kr,hi=Y[26]^br,mi=Y[27]^kr,$i=Y[36]^br,Ti=Y[37]^kr,xi=Y[46]^br,Ri=Y[47]^kr;br=xe^(fe<<1|ye>>>31),kr=Se^(ye<<1|fe>>>31);const vi=Y[8]^br,Pi=Y[9]^kr,Ei=Y[18]^br,ha=Y[19]^kr,Ni=Y[28]^br,Ai=Y[29]^kr,ga=Y[38]^br,Bi=Y[39]^kr,Ci=Y[48]^br,ma=Y[49]^kr,Vi=Wr,Ii=Gr,Pa=Qr<<4|jr>>>28,ra=jr<<4|Qr>>>28,Oi=wn<<3|En>>>29,Na=En<<3|wn>>>29,na=An<<9|Rn>>>23,ia=Rn<<9|An>>>23,Ga=$n<<18|Tn>>>14,wa=Tn<<18|$n>>>14,sa=ti<<1|ai>>>31,Ka=ai<<1|ti>>>31,_a=Sn<<12|On>>>20,ca=On<<12|Sn>>>20,Da=Zr<<10|Oe>>>22,la=Oe<<10|Zr>>>22,ji=qr<<13|wr>>>19,qa=wr<<13|qr>>>19,ua=Vr<<2|Jr>>>30,qi=Jr<<2|Vr>>>30,Fa=Kr<<30|Xr>>>2,pa=Xr<<30|Kr>>>2,zi=Yr<<6|Br>>>26,Wa=Br<<6|Yr>>>26,fa=ii<<11|_n>>>21,Ki=_n<<11|ii>>>21,Ua=ni<<15|si>>>17,oa=si<<15|ni>>>17,ea=jn<<29|Nn>>>3,ja=Nn<<29|jn>>>3,Aa=ei<<28|Pn>>>4,da=Pn<<28|ei>>>4,no=ri<<23|zn>>>9,va=zn<<23|ri>>>9,Ca=hi<<25|mi>>>7,Io=mi<<25|hi>>>7,Po=$i<<21|Ti>>>11,To=Ti<<21|$i>>>11,No=Ri<<24|xi>>>8,ho=xi<<24|Ri>>>8,_o=vi<<27|Pi>>>5,ko=Pi<<27|vi>>>5,$o=Ei<<20|ha>>>12,Mo=ha<<20|Ei>>>12,Oo=Ai<<7|Ni>>>25,Eo=Ni<<7|Ai>>>25,So=ga<<8|Bi>>>24,Ao=Bi<<8|ga>>>24,co=Ci<<14|ma>>>18,Bo=ma<<14|Ci>>>18;Y[0]=Vi^~_a&fa,Y[1]=Ii^~ca&Ki,Y[10]=Aa^~$o&Oi,Y[11]=da^~Mo&Na,Y[20]=sa^~zi&Ca,Y[21]=Ka^~Wa&Io,Y[30]=_o^~Pa&Da,Y[31]=ko^~ra&la,Y[40]=Fa^~no&Oo,Y[41]=pa^~va&Eo,Y[2]=_a^~fa&Po,Y[3]=ca^~Ki&To,Y[12]=$o^~Oi&ji,Y[13]=Mo^~Na&qa,Y[22]=zi^~Ca&So,Y[23]=Wa^~Io&Ao,Y[32]=Pa^~Da&Ua,Y[33]=ra^~la&oa,Y[42]=no^~Oo&na,Y[43]=va^~Eo&ia,Y[4]=fa^~Po&co,Y[5]=Ki^~To&Bo,Y[14]=Oi^~ji&ea,Y[15]=Na^~qa&ja,Y[24]=Ca^~So&Ga,Y[25]=Io^~Ao&wa,Y[34]=Da^~Ua&No,Y[35]=la^~oa&ho,Y[44]=Oo^~na&ua,Y[45]=Eo^~ia&qi,Y[6]=Po^~co&Vi,Y[7]=To^~Bo&Ii,Y[16]=ji^~ea&Aa,Y[17]=qa^~ja&da,Y[26]=So^~Ga&sa,Y[27]=Ao^~wa&Ka,Y[36]=Ua^~No&_o,Y[37]=oa^~ho&ko,Y[46]=na^~ua&Fa,Y[47]=ia^~qi&pa,Y[8]=co^~Vi&_a,Y[9]=Bo^~Ii&ca,Y[18]=ea^~Aa&$o,Y[19]=ja^~da&Mo,Y[28]=Ga^~sa&zi,Y[29]=wa^~Ka&Wa,Y[38]=No^~_o&Pa,Y[39]=ho^~ko&ra,Y[48]=ua^~Fa&no,Y[49]=qi^~pa&va,Y[0]^=se[ne*2],Y[1]^=se[ne*2+1]}},keccakStateUnroll}var keccak,hasRequiredKeccak;function requireKeccak(){if(hasRequiredKeccak)return keccak;hasRequiredKeccak=1;const se=requireKeccakStateUnroll();function Y(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}return Y.prototype.initialize=function(ne,fe){for(let ye=0;ye<50;++ye)this.state[ye]=0;this.blockSize=ne/8,this.count=0,this.squeezing=!1},Y.prototype.absorb=function(ne){for(let fe=0;fe<ne.length;++fe)this.state[~~(this.count/4)]^=ne[fe]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(se.p1600(this.state),this.count=0)},Y.prototype.absorbLastFewBits=function(ne){this.state[~~(this.count/4)]^=ne<<8*(this.count%4),ne&128&&this.count===this.blockSize-1&&se.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),se.p1600(this.state),this.count=0,this.squeezing=!0},Y.prototype.squeeze=function(ne){this.squeezing||this.absorbLastFewBits(1);const fe=Buffer.alloc(ne);for(let ye=0;ye<ne;++ye)fe[ye]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(se.p1600(this.state),this.count=0);return fe},Y.prototype.copy=function(ne){for(let fe=0;fe<50;++fe)ne.state[fe]=this.state[fe];ne.blockSize=this.blockSize,ne.count=this.count,ne.squeezing=this.squeezing},keccak=Y,keccak}var js,hasRequiredJs;function requireJs(){return hasRequiredJs||(hasRequiredJs=1,js=requireApi()(requireKeccak())),js}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;const se=requireJs(),Y=requireBn();function ne(Ie){return Buffer.allocUnsafe(Ie).fill(0)}function fe(Ie,fr,br){const kr=ne(fr);return Ie=me(Ie),br?Ie.length<fr?(Ie.copy(kr),kr):Ie.slice(0,fr):Ie.length<fr?(Ie.copy(kr,fr-Ie.length),kr):Ie.slice(-fr)}function ye(Ie,fr){return fe(Ie,fr,!0)}function me(Ie){if(!Buffer.isBuffer(Ie))if(Array.isArray(Ie))Ie=Buffer.from(Ie);else if(typeof Ie=="string")xe(Ie)?Ie=Buffer.from(Ee(Se(Ie)),"hex"):Ie=Buffer.from(Ie);else if(typeof Ie=="number")Ie=intToBuffer(Ie);else if(Ie==null)Ie=Buffer.allocUnsafe(0);else if(Y.isBN(Ie))Ie=Ie.toArrayLike(Buffer);else if(Ie.toArray)Ie=Buffer.from(Ie.toArray());else throw new Error("invalid type");return Ie}function be(Ie){return Ie=me(Ie),"0x"+Ie.toString("hex")}function we(Ie,fr){return Ie=me(Ie),fr||(fr=256),se("keccak"+fr).update(Ie).digest()}function Ee(Ie){return Ie.length%2?"0"+Ie:Ie}function xe(Ie){return typeof Ie=="string"&&Ie.match(/^0x[0-9A-Fa-f]*$/)}function Se(Ie){return typeof Ie=="string"&&Ie.startsWith("0x")?Ie.slice(2):Ie}return util={zeros:ne,setLength:fe,setLengthRight:ye,isHexString:xe,stripHexPrefix:Se,toBuffer:me,bufferToHex:be,keccak:we},util}var abi,hasRequiredAbi;function requireAbi(){if(hasRequiredAbi)return abi;hasRequiredAbi=1;const se=requireUtil(),Y=requireBn();function ne(br){return br.startsWith("int[")?"int256"+br.slice(3):br==="int"?"int256":br.startsWith("uint[")?"uint256"+br.slice(4):br==="uint"?"uint256":br.startsWith("fixed[")?"fixed128x128"+br.slice(5):br==="fixed"?"fixed128x128":br.startsWith("ufixed[")?"ufixed128x128"+br.slice(6):br==="ufixed"?"ufixed128x128":br}function fe(br){return parseInt(/^\D+(\d+)$/.exec(br)[1],10)}function ye(br){var kr=/^\D+(\d+)x(\d+)$/.exec(br);return[parseInt(kr[1],10),parseInt(kr[2],10)]}function me(br){var kr=br.match(/(.*)\[(.*?)\]$/);return kr?kr[2]===""?"dynamic":parseInt(kr[2],10):null}function be(br){var kr=typeof br;if(kr==="string")return se.isHexString(br)?new Y(se.stripHexPrefix(br),16):new Y(br,10);if(kr==="number")return new Y(br);if(br.toArray)return br;throw new Error("Argument is not a number")}function we(br,kr){var Wr,Gr,jr,Qr;if(br==="address")return we("uint160",be(kr));if(br==="bool")return we("uint8",kr?1:0);if(br==="string")return we("bytes",new Buffer(kr,"utf8"));if(xe(br)){if(typeof kr.length>"u")throw new Error("Not an array?");if(Wr=me(br),Wr!=="dynamic"&&Wr!==0&&kr.length>Wr)throw new Error("Elements exceed array size: "+Wr);jr=[],br=br.slice(0,br.lastIndexOf("[")),typeof kr=="string"&&(kr=JSON.parse(kr));for(Qr in kr)jr.push(we(br,kr[Qr]));if(Wr==="dynamic"){var wn=we("uint256",kr.length);jr.unshift(wn)}return Buffer.concat(jr)}else{if(br==="bytes")return kr=new Buffer(kr),jr=Buffer.concat([we("uint256",kr.length),kr]),kr.length%32!==0&&(jr=Buffer.concat([jr,se.zeros(32-kr.length%32)])),jr;if(br.startsWith("bytes")){if(Wr=fe(br),Wr<1||Wr>32)throw new Error("Invalid bytes<N> width: "+Wr);return se.setLengthRight(kr,32)}else if(br.startsWith("uint")){if(Wr=fe(br),Wr%8||Wr<8||Wr>256)throw new Error("Invalid uint<N> width: "+Wr);if(Gr=be(kr),Gr.bitLength()>Wr)throw new Error("Supplied uint exceeds width: "+Wr+" vs "+Gr.bitLength());if(Gr<0)throw new Error("Supplied uint is negative");return Gr.toArrayLike(Buffer,"be",32)}else if(br.startsWith("int")){if(Wr=fe(br),Wr%8||Wr<8||Wr>256)throw new Error("Invalid int<N> width: "+Wr);if(Gr=be(kr),Gr.bitLength()>Wr)throw new Error("Supplied int exceeds width: "+Wr+" vs "+Gr.bitLength());return Gr.toTwos(256).toArrayLike(Buffer,"be",32)}else if(br.startsWith("ufixed")){if(Wr=ye(br),Gr=be(kr),Gr<0)throw new Error("Supplied ufixed is negative");return we("uint256",Gr.mul(new Y(2).pow(new Y(Wr[1]))))}else if(br.startsWith("fixed"))return Wr=ye(br),we("int256",be(kr).mul(new Y(2).pow(new Y(Wr[1]))))}throw new Error("Unsupported or invalid type: "+br)}function Ee(br){return br==="string"||br==="bytes"||me(br)==="dynamic"}function xe(br){return br.lastIndexOf("]")===br.length-1}function Se(br,kr){var Wr=[],Gr=[],jr=32*br.length;for(var Qr in br){var wn=ne(br[Qr]),En=kr[Qr],Rn=we(wn,En);Ee(wn)?(Wr.push(we("uint256",jr)),Gr.push(Rn),jr+=Rn.length):Wr.push(Rn)}return Buffer.concat(Wr.concat(Gr))}function Ie(br,kr){if(br.length!==kr.length)throw new Error("Number of types are not matching the values");for(var Wr,Gr,jr=[],Qr=0;Qr<br.length;Qr++){var wn=ne(br[Qr]),En=kr[Qr];if(wn==="bytes")jr.push(En);else if(wn==="string")jr.push(new Buffer(En,"utf8"));else if(wn==="bool")jr.push(new Buffer(En?"01":"00","hex"));else if(wn==="address")jr.push(se.setLength(En,20));else if(wn.startsWith("bytes")){if(Wr=fe(wn),Wr<1||Wr>32)throw new Error("Invalid bytes<N> width: "+Wr);jr.push(se.setLengthRight(En,Wr))}else if(wn.startsWith("uint")){if(Wr=fe(wn),Wr%8||Wr<8||Wr>256)throw new Error("Invalid uint<N> width: "+Wr);if(Gr=be(En),Gr.bitLength()>Wr)throw new Error("Supplied uint exceeds width: "+Wr+" vs "+Gr.bitLength());jr.push(Gr.toArrayLike(Buffer,"be",Wr/8))}else if(wn.startsWith("int")){if(Wr=fe(wn),Wr%8||Wr<8||Wr>256)throw new Error("Invalid int<N> width: "+Wr);if(Gr=be(En),Gr.bitLength()>Wr)throw new Error("Supplied int exceeds width: "+Wr+" vs "+Gr.bitLength());jr.push(Gr.toTwos(Wr).toArrayLike(Buffer,"be",Wr/8))}else throw new Error("Unsupported or invalid type: "+wn)}return Buffer.concat(jr)}function fr(br,kr){return se.keccak(Ie(br,kr))}return abi={rawEncode:Se,solidityPack:Ie,soliditySHA3:fr},abi}var ethEip712Util,hasRequiredEthEip712Util;function requireEthEip712Util(){if(hasRequiredEthEip712Util)return ethEip712Util;hasRequiredEthEip712Util=1;const se=requireUtil(),Y=requireAbi(),ne={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},fe={encodeData(me,be,we,Ee=!0){const xe=["bytes32"],Se=[this.hashType(me,we)];if(Ee){const Ie=(fr,br,kr)=>{if(we[br]!==void 0)return["bytes32",kr==null?"0x0000000000000000000000000000000000000000000000000000000000000000":se.keccak(this.encodeData(br,kr,we,Ee))];if(kr===void 0)throw new Error(`missing value for field ${fr} of type ${br}`);if(br==="bytes")return["bytes32",se.keccak(kr)];if(br==="string")return typeof kr=="string"&&(kr=Buffer.from(kr,"utf8")),["bytes32",se.keccak(kr)];if(br.lastIndexOf("]")===br.length-1){const Wr=br.slice(0,br.lastIndexOf("[")),Gr=kr.map(jr=>Ie(fr,Wr,jr));return["bytes32",se.keccak(Y.rawEncode(Gr.map(([jr])=>jr),Gr.map(([,jr])=>jr)))]}return[br,kr]};for(const fr of we[me]){const[br,kr]=Ie(fr.name,fr.type,be[fr.name]);xe.push(br),Se.push(kr)}}else for(const Ie of we[me]){let fr=be[Ie.name];if(fr!==void 0)if(Ie.type==="bytes")xe.push("bytes32"),fr=se.keccak(fr),Se.push(fr);else if(Ie.type==="string")xe.push("bytes32"),typeof fr=="string"&&(fr=Buffer.from(fr,"utf8")),fr=se.keccak(fr),Se.push(fr);else if(we[Ie.type]!==void 0)xe.push("bytes32"),fr=se.keccak(this.encodeData(Ie.type,fr,we,Ee)),Se.push(fr);else{if(Ie.type.lastIndexOf("]")===Ie.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");xe.push(Ie.type),Se.push(fr)}}return Y.rawEncode(xe,Se)},encodeType(me,be){let we="",Ee=this.findTypeDependencies(me,be).filter(xe=>xe!==me);Ee=[me].concat(Ee.sort());for(const xe of Ee){if(!be[xe])throw new Error("No type definition specified: "+xe);we+=xe+"("+be[xe].map(({name:Ie,type:fr})=>fr+" "+Ie).join(",")+")"}return we},findTypeDependencies(me,be,we=[]){if(me=me.match(/^\w*/)[0],we.includes(me)||be[me]===void 0)return we;we.push(me);for(const Ee of be[me])for(const xe of this.findTypeDependencies(Ee.type,be,we))!we.includes(xe)&&we.push(xe);return we},hashStruct(me,be,we,Ee=!0){return se.keccak(this.encodeData(me,be,we,Ee))},hashType(me,be){return se.keccak(this.encodeType(me,be))},sanitizeData(me){const be={};for(const we in ne.properties)me[we]&&(be[we]=me[we]);return be.types&&(be.types=Object.assign({EIP712Domain:[]},be.types)),be},hash(me,be=!0){const we=this.sanitizeData(me),Ee=[Buffer.from("1901","hex")];return Ee.push(this.hashStruct("EIP712Domain",we.domain,we.types,be)),we.primaryType!=="EIP712Domain"&&Ee.push(this.hashStruct(we.primaryType,we.message,we.types,be)),se.keccak(Buffer.concat(Ee))}};ethEip712Util={TYPED_MESSAGE_SCHEMA:ne,TypedDataUtils:fe,hashForSignTypedDataLegacy:function(me){return ye(me.data)},hashForSignTypedData_v3:function(me){return fe.hash(me.data,!1)},hashForSignTypedData_v4:function(me){return fe.hash(me.data)}};function ye(me){const be=new Error("Expect argument to be non-empty array");if(typeof me!="object"||!me.length)throw be;const we=me.map(function(Se){return Se.type==="bytes"?se.toBuffer(Se.value):Se.value}),Ee=me.map(function(Se){return Se.type}),xe=me.map(function(Se){if(!Se.name)throw be;return Se.type+" "+Se.name});return Y.soliditySHA3(["bytes32","bytes32"],[Y.soliditySHA3(new Array(me.length).fill("string"),xe),Y.soliditySHA3(Ee,we)])}return ethEip712Util}var FilterPolyfill={},hasRequiredFilterPolyfill;function requireFilterPolyfill(){if(hasRequiredFilterPolyfill)return FilterPolyfill;hasRequiredFilterPolyfill=1,Object.defineProperty(FilterPolyfill,"__esModule",{value:!0}),FilterPolyfill.filterFromParam=FilterPolyfill.FilterPolyfill=void 0;const se=requireType(),Y=requireUtil$1(),ne=5*60*1e3,fe={jsonrpc:"2.0",id:0};let ye=class{constructor(fr){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,se.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=fr}async newFilter(fr){const br=me(fr),kr=this.makeFilterId(),Wr=await this.setInitialCursorPosition(kr,br.fromBlock);return console.info(`Installing new log filter(${kr}):`,br,"initial cursor position:",Wr),this.logFilters.set(kr,br),this.setFilterTimeout(kr),(0,Y.hexStringFromIntNumber)(kr)}async newBlockFilter(){const fr=this.makeFilterId(),br=await this.setInitialCursorPosition(fr,"latest");return console.info(`Installing new block filter (${fr}) with initial cursor position:`,br),this.blockFilters.add(fr),this.setFilterTimeout(fr),(0,Y.hexStringFromIntNumber)(fr)}async newPendingTransactionFilter(){const fr=this.makeFilterId(),br=await this.setInitialCursorPosition(fr,"latest");return console.info(`Installing new block filter (${fr}) with initial cursor position:`,br),this.pendingTransactionFilters.add(fr),this.setFilterTimeout(fr),(0,Y.hexStringFromIntNumber)(fr)}uninstallFilter(fr){const br=(0,Y.intNumberFromHexString)(fr);return console.info(`Uninstalling filter (${br})`),this.deleteFilter(br),!0}getFilterChanges(fr){const br=(0,Y.intNumberFromHexString)(fr);return this.timeouts.has(br)&&this.setFilterTimeout(br),this.logFilters.has(br)?this.getLogFilterChanges(br):this.blockFilters.has(br)?this.getBlockFilterChanges(br):this.pendingTransactionFilters.has(br)?this.getPendingTransactionFilterChanges(br):Promise.resolve(xe())}async getFilterLogs(fr){const br=(0,Y.intNumberFromHexString)(fr),kr=this.logFilters.get(br);return kr?this.sendAsyncPromise(Object.assign(Object.assign({},fe),{method:"eth_getLogs",params:[be(kr)]})):xe()}makeFilterId(){return(0,se.IntNumber)(++this.nextFilterId)}sendAsyncPromise(fr){return new Promise((br,kr)=>{this.provider.sendAsync(fr,(Wr,Gr)=>{if(Wr)return kr(Wr);if(Array.isArray(Gr)||Gr==null)return kr(new Error(`unexpected response received: ${JSON.stringify(Gr)}`));br(Gr)})})}deleteFilter(fr){console.info(`Deleting filter (${fr})`),this.logFilters.delete(fr),this.blockFilters.delete(fr),this.pendingTransactionFilters.delete(fr),this.cursors.delete(fr),this.timeouts.delete(fr)}async getLogFilterChanges(fr){const br=this.logFilters.get(fr),kr=this.cursors.get(fr);if(!kr||!br)return xe();const Wr=await this.getCurrentBlockHeight(),Gr=br.toBlock==="latest"?Wr:br.toBlock;if(kr>Wr||kr>Number(br.toBlock))return Se();console.info(`Fetching logs from ${kr} to ${Gr} for filter ${fr}`);const jr=await this.sendAsyncPromise(Object.assign(Object.assign({},fe),{method:"eth_getLogs",params:[be(Object.assign(Object.assign({},br),{fromBlock:kr,toBlock:Gr}))]}));if(Array.isArray(jr.result)){const Qr=jr.result.map(En=>(0,Y.intNumberFromHexString)(En.blockNumber||"0x0")),wn=Math.max(...Qr);if(wn&&wn>kr){const En=(0,se.IntNumber)(wn+1);console.info(`Moving cursor position for filter (${fr}) from ${kr} to ${En}`),this.cursors.set(fr,En)}}return jr}async getBlockFilterChanges(fr){const br=this.cursors.get(fr);if(!br)return xe();const kr=await this.getCurrentBlockHeight();if(br>kr)return Se();console.info(`Fetching blocks from ${br} to ${kr} for filter (${fr})`);const Wr=(await Promise.all((0,Y.range)(br,kr+1).map(jr=>this.getBlockHashByNumber((0,se.IntNumber)(jr))))).filter(jr=>!!jr),Gr=(0,se.IntNumber)(br+Wr.length);return console.info(`Moving cursor position for filter (${fr}) from ${br} to ${Gr}`),this.cursors.set(fr,Gr),Object.assign(Object.assign({},fe),{result:Wr})}async getPendingTransactionFilterChanges(fr){return Promise.resolve(Se())}async setInitialCursorPosition(fr,br){const kr=await this.getCurrentBlockHeight(),Wr=typeof br=="number"&&br>kr?br:kr;return this.cursors.set(fr,Wr),Wr}setFilterTimeout(fr){const br=this.timeouts.get(fr);br&&window.clearTimeout(br);const kr=window.setTimeout(()=>{console.info(`Filter (${fr}) timed out`),this.deleteFilter(fr)},ne);this.timeouts.set(fr,kr)}async getCurrentBlockHeight(){const fr=new Date;if(fr.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=fr;const br=await this._getCurrentBlockHeight();this.currentBlockHeight=br,this.resolvers.forEach(kr=>kr(br)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(br=>this.resolvers.push(br))}async _getCurrentBlockHeight(){const{result:fr}=await this.sendAsyncPromise(Object.assign(Object.assign({},fe),{method:"eth_blockNumber",params:[]}));return(0,Y.intNumberFromHexString)((0,Y.ensureHexString)(fr))}async getBlockHashByNumber(fr){const br=await this.sendAsyncPromise(Object.assign(Object.assign({},fe),{method:"eth_getBlockByNumber",params:[(0,Y.hexStringFromIntNumber)(fr),!1]}));return br.result&&typeof br.result.hash=="string"?(0,Y.ensureHexString)(br.result.hash):null}};FilterPolyfill.FilterPolyfill=ye;function me(Ie){return{fromBlock:we(Ie.fromBlock),toBlock:we(Ie.toBlock),addresses:Ie.address===void 0?null:Array.isArray(Ie.address)?Ie.address:[Ie.address],topics:Ie.topics||[]}}FilterPolyfill.filterFromParam=me;function be(Ie){const fr={fromBlock:Ee(Ie.fromBlock),toBlock:Ee(Ie.toBlock),topics:Ie.topics};return Ie.addresses!==null&&(fr.address=Ie.addresses),fr}function we(Ie){if(Ie===void 0||Ie==="latest"||Ie==="pending")return"latest";if(Ie==="earliest")return(0,se.IntNumber)(0);if((0,Y.isHexString)(Ie))return(0,Y.intNumberFromHexString)(Ie);throw new Error(`Invalid block option: ${String(Ie)}`)}function Ee(Ie){return Ie==="latest"?Ie:(0,Y.hexStringFromIntNumber)(Ie)}function xe(){return Object.assign(Object.assign({},fe),{error:{code:-32e3,message:"filter not found"}})}function Se(){return Object.assign(Object.assign({},fe),{result:[]})}return FilterPolyfill}var SubscriptionManager={},dist$4={},PollingBlockTracker={},jsonRpcRandomId,hasRequiredJsonRpcRandomId;function requireJsonRpcRandomId(){if(hasRequiredJsonRpcRandomId)return jsonRpcRandomId;hasRequiredJsonRpcRandomId=1,jsonRpcRandomId=se;function se(Y){Y=Y||{};var ne=Y.max||Number.MAX_SAFE_INTEGER,fe=typeof Y.start<"u"?Y.start:Math.floor(Math.random()*ne);return function(){return fe=fe%ne,fe++}}return jsonRpcRandomId}var pify$1,hasRequiredPify$1;function requirePify$1(){if(hasRequiredPify$1)return pify$1;hasRequiredPify$1=1;const se=(Y,ne)=>function(){const fe=ne.promiseModule,ye=new Array(arguments.length);for(let me=0;me<arguments.length;me++)ye[me]=arguments[me];return new fe((me,be)=>{ne.errorFirst?ye.push(function(we,Ee){if(ne.multiArgs){const xe=new Array(arguments.length-1);for(let Se=1;Se<arguments.length;Se++)xe[Se-1]=arguments[Se];we?(xe.unshift(we),be(xe)):me(xe)}else we?be(we):me(Ee)}):ye.push(function(we){if(ne.multiArgs){const Ee=new Array(arguments.length-1);for(let xe=0;xe<arguments.length;xe++)Ee[xe]=arguments[xe];me(Ee)}else me(we)}),Y.apply(this,ye)})};return pify$1=(Y,ne)=>{ne=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},ne);const fe=me=>{const be=we=>typeof we=="string"?me===we:we.test(me);return ne.include?ne.include.some(be):!ne.exclude.some(be)};let ye;typeof Y=="function"?ye=function(){return ne.excludeMain?Y.apply(this,arguments):se(Y,ne).apply(this,arguments)}:ye=Object.create(Object.getPrototypeOf(Y));for(const me in Y){const be=Y[me];ye[me]=typeof be=="function"&&fe(me)?se(be,ne):be}return ye},pify$1}var BaseBlockTracker={},cjs={},hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1,Object.defineProperty(cjs,"__esModule",{value:!0});const se=requireEvents();function Y(ye,me,be){try{Reflect.apply(ye,me,be)}catch(we){setTimeout(()=>{throw we})}}function ne(ye){const me=ye.length,be=new Array(me);for(let we=0;we<me;we+=1)be[we]=ye[we];return be}class fe extends se.EventEmitter{emit(me,...be){let we=me==="error";const Ee=this._events;if(Ee!==void 0)we=we&&Ee.error===void 0;else if(!we)return!1;if(we){let Se;if(be.length>0&&([Se]=be),Se instanceof Error)throw Se;const Ie=new Error(`Unhandled error.${Se?` (${Se.message})`:""}`);throw Ie.context=Se,Ie}const xe=Ee[me];if(xe===void 0)return!1;if(typeof xe=="function")Y(xe,this,be);else{const Se=xe.length,Ie=ne(xe);for(let fr=0;fr<Se;fr+=1)Y(Ie[fr],this,be)}return!0}}return cjs.default=fe,cjs}var hasRequiredBaseBlockTracker;function requireBaseBlockTracker(){if(hasRequiredBaseBlockTracker)return BaseBlockTracker;hasRequiredBaseBlockTracker=1;var se=BaseBlockTracker.__importDefault||function(we){return we&&we.__esModule?we:{default:we}};Object.defineProperty(BaseBlockTracker,"__esModule",{value:!0}),BaseBlockTracker.BaseBlockTracker=void 0;const Y=se(requireCjs()),ne=1e3,fe=(we,Ee)=>we+Ee,ye=["sync","latest"];let me=class extends Y.default{constructor(Ee){super(),this._blockResetDuration=Ee.blockResetDuration||20*ne,this._usePastBlocks=Ee.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(xe=>this.once("latest",xe))}removeAllListeners(Ee){return Ee?super.removeAllListeners(Ee):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(Ee){ye.includes(Ee)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ye.map(Ee=>this.listenerCount(Ee)).reduce(fe)}_shouldUseNewBlock(Ee){const xe=this._currentBlock;if(!xe)return!0;const Se=be(Ee),Ie=be(xe);return this._usePastBlocks&&Se<Ie||Se>Ie}_newPotentialLatest(Ee){this._shouldUseNewBlock(Ee)&&this._setCurrentBlock(Ee)}_setCurrentBlock(Ee){const xe=this._currentBlock;this._currentBlock=Ee,this.emit("latest",Ee),this.emit("sync",{oldBlock:xe,newBlock:Ee})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};BaseBlockTracker.BaseBlockTracker=me;function be(we){return Number.parseInt(we,16)}return BaseBlockTracker}var loggingUtils={},dist$3={},assert$2={};class StructError extends TypeError{constructor(Y,ne){let fe;const{message:ye,explanation:me,...be}=Y,{path:we}=Y,Ee=we.length===0?ye:`At path: ${we.join(".")} -- ${ye}`;super(me??Ee),me!=null&&(this.cause=Ee),Object.assign(this,be),this.name=this.constructor.name,this.failures=()=>fe??(fe=[Y,...ne()])}}function isIterable(se){return isObject(se)&&typeof se[Symbol.iterator]=="function"}function isObject(se){return typeof se=="object"&&se!=null}function isPlainObject(se){if(Object.prototype.toString.call(se)!=="[object Object]")return!1;const Y=Object.getPrototypeOf(se);return Y===null||Y===Object.prototype}function print(se){return typeof se=="symbol"?se.toString():typeof se=="string"?JSON.stringify(se):`${se}`}function shiftIterator(se){const{done:Y,value:ne}=se.next();return Y?void 0:ne}function toFailure(se,Y,ne,fe){if(se===!0)return;se===!1?se={}:typeof se=="string"&&(se={message:se});const{path:ye,branch:me}=Y,{type:be}=ne,{refinement:we,message:Ee=`Expected a value of type \`${be}\`${we?` with refinement \`${we}\``:""}, but received: \`${print(fe)}\``}=se;return{value:fe,type:be,refinement:we,key:ye[ye.length-1],path:ye,branch:me,...se,message:Ee}}function*toFailures(se,Y,ne,fe){isIterable(se)||(se=[se]);for(const ye of se){const me=toFailure(ye,Y,ne,fe);me&&(yield me)}}function*run(se,Y,ne={}){const{path:fe=[],branch:ye=[se],coerce:me=!1,mask:be=!1}=ne,we={path:fe,branch:ye};if(me&&(se=Y.coercer(se,we),be&&Y.type!=="type"&&isObject(Y.schema)&&isObject(se)&&!Array.isArray(se)))for(const xe in se)Y.schema[xe]===void 0&&delete se[xe];let Ee="valid";for(const xe of Y.validator(se,we))xe.explanation=ne.message,Ee="not_valid",yield[xe,void 0];for(let[xe,Se,Ie]of Y.entries(se,we)){const fr=run(Se,Ie,{path:xe===void 0?fe:[...fe,xe],branch:xe===void 0?ye:[...ye,Se],coerce:me,mask:be,message:ne.message});for(const br of fr)br[0]?(Ee=br[0].refinement!=null?"not_refined":"not_valid",yield[br[0],void 0]):me&&(Se=br[1],xe===void 0?se=Se:se instanceof Map?se.set(xe,Se):se instanceof Set?se.add(Se):isObject(se)&&(Se!==void 0||xe in se)&&(se[xe]=Se))}if(Ee!=="not_valid")for(const xe of Y.refiner(se,we))xe.explanation=ne.message,Ee="not_refined",yield[xe,void 0];Ee==="valid"&&(yield[void 0,se])}class Struct{constructor(Y){const{type:ne,schema:fe,validator:ye,refiner:me,coercer:be=Ee=>Ee,entries:we=function*(){}}=Y;this.type=ne,this.schema=fe,this.entries=we,this.coercer=be,ye?this.validator=(Ee,xe)=>{const Se=ye(Ee,xe);return toFailures(Se,xe,this,Ee)}:this.validator=()=>[],me?this.refiner=(Ee,xe)=>{const Se=me(Ee,xe);return toFailures(Se,xe,this,Ee)}:this.refiner=()=>[]}assert(Y,ne){return assert$1(Y,this,ne)}create(Y,ne){return create(Y,this,ne)}is(Y){return is(Y,this)}mask(Y,ne){return mask$1(Y,this,ne)}validate(Y,ne={}){return validate(Y,this,ne)}}function assert$1(se,Y,ne){const fe=validate(se,Y,{message:ne});if(fe[0])throw fe[0]}function create(se,Y,ne){const fe=validate(se,Y,{coerce:!0,message:ne});if(fe[0])throw fe[0];return fe[1]}function mask$1(se,Y,ne){const fe=validate(se,Y,{coerce:!0,mask:!0,message:ne});if(fe[0])throw fe[0];return fe[1]}function is(se,Y){return!validate(se,Y)[0]}function validate(se,Y,ne={}){const fe=run(se,Y,ne),ye=shiftIterator(fe);return ye[0]?[new StructError(ye[0],function*(){for(const be of fe)be[0]&&(yield be[0])}),void 0]:[void 0,ye[1]]}function assign(...se){const Y=se[0].type==="type",ne=se.map(ye=>ye.schema),fe=Object.assign({},...ne);return Y?type(fe):object$1(fe)}function define(se,Y){return new Struct({type:se,schema:null,validator:Y})}function deprecated(se,Y){return new Struct({...se,refiner:(ne,fe)=>ne===void 0||se.refiner(ne,fe),validator(ne,fe){return ne===void 0?!0:(Y(ne,fe),se.validator(ne,fe))}})}function dynamic(se){return new Struct({type:"dynamic",schema:null,*entries(Y,ne){yield*se(Y,ne).entries(Y,ne)},validator(Y,ne){return se(Y,ne).validator(Y,ne)},coercer(Y,ne){return se(Y,ne).coercer(Y,ne)},refiner(Y,ne){return se(Y,ne).refiner(Y,ne)}})}function lazy(se){let Y;return new Struct({type:"lazy",schema:null,*entries(ne,fe){Y??(Y=se()),yield*Y.entries(ne,fe)},validator(ne,fe){return Y??(Y=se()),Y.validator(ne,fe)},coercer(ne,fe){return Y??(Y=se()),Y.coercer(ne,fe)},refiner(ne,fe){return Y??(Y=se()),Y.refiner(ne,fe)}})}function omit(se,Y){const{schema:ne}=se,fe={...ne};for(const ye of Y)delete fe[ye];switch(se.type){case"type":return type(fe);default:return object$1(fe)}}function partial(se){const Y=se instanceof Struct,ne=Y?{...se.schema}:{...se};for(const fe in ne)ne[fe]=optional(ne[fe]);return Y&&se.type==="type"?type(ne):object$1(ne)}function pick(se,Y){const{schema:ne}=se,fe={};for(const ye of Y)fe[ye]=ne[ye];switch(se.type){case"type":return type(fe);default:return object$1(fe)}}function struct(se,Y){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),define(se,Y)}function any(){return define("any",()=>!0)}function array(se){return new Struct({type:"array",schema:se,*entries(Y){if(se&&Array.isArray(Y))for(const[ne,fe]of Y.entries())yield[ne,fe,se]},coercer(Y){return Array.isArray(Y)?Y.slice():Y},validator(Y){return Array.isArray(Y)||`Expected an array value, but received: ${print(Y)}`}})}function bigint(){return define("bigint",se=>typeof se=="bigint")}function boolean(){return define("boolean",se=>typeof se=="boolean")}function date(){return define("date",se=>se instanceof Date&&!isNaN(se.getTime())||`Expected a valid \`Date\` object, but received: ${print(se)}`)}function enums(se){const Y={},ne=se.map(fe=>print(fe)).join();for(const fe of se)Y[fe]=fe;return new Struct({type:"enums",schema:Y,validator(fe){return se.includes(fe)||`Expected one of \`${ne}\`, but received: ${print(fe)}`}})}function func(){return define("func",se=>typeof se=="function"||`Expected a function, but received: ${print(se)}`)}function instance(se){return define("instance",Y=>Y instanceof se||`Expected a \`${se.name}\` instance, but received: ${print(Y)}`)}function integer(){return define("integer",se=>typeof se=="number"&&!isNaN(se)&&Number.isInteger(se)||`Expected an integer, but received: ${print(se)}`)}function intersection(se){return new Struct({type:"intersection",schema:null,*entries(Y,ne){for(const fe of se)yield*fe.entries(Y,ne)},*validator(Y,ne){for(const fe of se)yield*fe.validator(Y,ne)},*refiner(Y,ne){for(const fe of se)yield*fe.refiner(Y,ne)}})}function literal(se){const Y=print(se),ne=typeof se;return new Struct({type:"literal",schema:ne==="string"||ne==="number"||ne==="boolean"?se:null,validator(fe){return fe===se||`Expected the literal \`${Y}\`, but received: ${print(fe)}`}})}function map(se,Y){return new Struct({type:"map",schema:null,*entries(ne){if(se&&Y&&ne instanceof Map)for(const[fe,ye]of ne.entries())yield[fe,fe,se],yield[fe,ye,Y]},coercer(ne){return ne instanceof Map?new Map(ne):ne},validator(ne){return ne instanceof Map||`Expected a \`Map\` object, but received: ${print(ne)}`}})}function never(){return define("never",()=>!1)}function nullable(se){return new Struct({...se,validator:(Y,ne)=>Y===null||se.validator(Y,ne),refiner:(Y,ne)=>Y===null||se.refiner(Y,ne)})}function number$2(){return define("number",se=>typeof se=="number"&&!isNaN(se)||`Expected a number, but received: ${print(se)}`)}function object$1(se){const Y=se?Object.keys(se):[],ne=never();return new Struct({type:"object",schema:se||null,*entries(fe){if(se&&isObject(fe)){const ye=new Set(Object.keys(fe));for(const me of Y)ye.delete(me),yield[me,fe[me],se[me]];for(const me of ye)yield[me,fe[me],ne]}},validator(fe){return isObject(fe)||`Expected an object, but received: ${print(fe)}`},coercer(fe){return isObject(fe)?{...fe}:fe}})}function optional(se){return new Struct({...se,validator:(Y,ne)=>Y===void 0||se.validator(Y,ne),refiner:(Y,ne)=>Y===void 0||se.refiner(Y,ne)})}function record(se,Y){return new Struct({type:"record",schema:null,*entries(ne){if(isObject(ne))for(const fe in ne){const ye=ne[fe];yield[fe,fe,se],yield[fe,ye,Y]}},validator(ne){return isObject(ne)||`Expected an object, but received: ${print(ne)}`}})}function regexp(){return define("regexp",se=>se instanceof RegExp)}function set(se){return new Struct({type:"set",schema:null,*entries(Y){if(se&&Y instanceof Set)for(const ne of Y)yield[ne,ne,se]},coercer(Y){return Y instanceof Set?new Set(Y):Y},validator(Y){return Y instanceof Set||`Expected a \`Set\` object, but received: ${print(Y)}`}})}function string(){return define("string",se=>typeof se=="string"||`Expected a string, but received: ${print(se)}`)}function tuple(se){const Y=never();return new Struct({type:"tuple",schema:null,*entries(ne){if(Array.isArray(ne)){const fe=Math.max(se.length,ne.length);for(let ye=0;ye<fe;ye++)yield[ye,ne[ye],se[ye]||Y]}},validator(ne){return Array.isArray(ne)||`Expected an array, but received: ${print(ne)}`}})}function type(se){const Y=Object.keys(se);return new Struct({type:"type",schema:se,*entries(ne){if(isObject(ne))for(const fe of Y)yield[fe,ne[fe],se[fe]]},validator(ne){return isObject(ne)||`Expected an object, but received: ${print(ne)}`},coercer(ne){return isObject(ne)?{...ne}:ne}})}function union(se){const Y=se.map(ne=>ne.type).join(" | ");return new Struct({type:"union",schema:null,coercer(ne){for(const fe of se){const[ye,me]=fe.validate(ne,{coerce:!0});if(!ye)return me}return ne},validator(ne,fe){const ye=[];for(const me of se){const[...be]=run(ne,me,fe),[we]=be;if(we[0])for(const[Ee]of be)Ee&&ye.push(Ee);else return[]}return[`Expected the value to satisfy a union of \`${Y}\`, but received: ${print(ne)}`,...ye]}})}function unknown(){return define("unknown",()=>!0)}function coerce(se,Y,ne){return new Struct({...se,coercer:(fe,ye)=>is(fe,Y)?se.coercer(ne(fe,ye),ye):se.coercer(fe,ye)})}function defaulted(se,Y,ne={}){return coerce(se,unknown(),fe=>{const ye=typeof Y=="function"?Y():Y;if(fe===void 0)return ye;if(!ne.strict&&isPlainObject(fe)&&isPlainObject(ye)){const me={...fe};let be=!1;for(const we in ye)me[we]===void 0&&(me[we]=ye[we],be=!0);if(be)return me}return fe})}function trimmed(se){return coerce(se,string(),Y=>Y.trim())}function empty$1(se){return refine(se,"empty",Y=>{const ne=getSize(Y);return ne===0||`Expected an empty ${se.type} but received one with a size of \`${ne}\``})}function getSize(se){return se instanceof Map||se instanceof Set?se.size:se.length}function max(se,Y,ne={}){const{exclusive:fe}=ne;return refine(se,"max",ye=>fe?ye<Y:ye<=Y||`Expected a ${se.type} less than ${fe?"":"or equal to "}${Y} but received \`${ye}\``)}function min(se,Y,ne={}){const{exclusive:fe}=ne;return refine(se,"min",ye=>fe?ye>Y:ye>=Y||`Expected a ${se.type} greater than ${fe?"":"or equal to "}${Y} but received \`${ye}\``)}function nonempty(se){return refine(se,"nonempty",Y=>getSize(Y)>0||`Expected a nonempty ${se.type} but received an empty one`)}function pattern(se,Y){return refine(se,"pattern",ne=>Y.test(ne)||`Expected a ${se.type} matching \`/${Y.source}/\` but received "${ne}"`)}function size(se,Y,ne=Y){const fe=`Expected a ${se.type}`,ye=Y===ne?`of \`${Y}\``:`between \`${Y}\` and \`${ne}\``;return refine(se,"size",me=>{if(typeof me=="number"||me instanceof Date)return Y<=me&&me<=ne||`${fe} ${ye} but received \`${me}\``;if(me instanceof Map||me instanceof Set){const{size:be}=me;return Y<=be&&be<=ne||`${fe} with a size ${ye} but received one with a size of \`${be}\``}else{const{length:be}=me;return Y<=be&&be<=ne||`${fe} with a length ${ye} but received one with a length of \`${be}\``}})}function refine(se,Y,ne){return new Struct({...se,*refiner(fe,ye){yield*se.refiner(fe,ye);const me=ne(fe,ye),be=toFailures(me,ye,se,fe);for(const we of be)yield{...we,refinement:Y}}})}const dist$2=Object.freeze(Object.defineProperty({__proto__:null,Struct,StructError,any,array,assert:assert$1,assign,bigint,boolean,coerce,create,date,defaulted,define,deprecated,dynamic,empty:empty$1,enums,func,instance,integer,intersection,is,lazy,literal,map,mask:mask$1,max,min,never,nonempty,nullable,number:number$2,object:object$1,omit,optional,partial,pattern,pick,record,refine,regexp,set,size,string,struct,trimmed,tuple,type,union,unknown,validate},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(dist$2);var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$2;hasRequiredAssert=1,Object.defineProperty(assert$2,"__esModule",{value:!0}),assert$2.assertExhaustive=assert$2.assertStruct=assert$2.assert=assert$2.AssertionError=void 0;const se=require$$1;function Y(xe){return typeof xe=="object"&&xe!==null&&"message"in xe}function ne(xe){var Se,Ie;return typeof((Ie=(Se=xe==null?void 0:xe.prototype)===null||Se===void 0?void 0:Se.constructor)===null||Ie===void 0?void 0:Ie.name)=="string"}function fe(xe){const Se=Y(xe)?xe.message:String(xe);return Se.endsWith(".")?Se.slice(0,-1):Se}function ye(xe,Se){return ne(xe)?new xe({message:Se}):xe({message:Se})}class me extends Error{constructor(Se){super(Se.message),this.code="ERR_ASSERTION"}}assert$2.AssertionError=me;function be(xe,Se="Assertion failed.",Ie=me){if(!xe)throw Se instanceof Error?Se:ye(Ie,Se)}assert$2.assert=be;function we(xe,Se,Ie="Assertion failed",fr=me){try{(0,se.assert)(xe,Se)}catch(br){throw ye(fr,`${Ie}: ${fe(br)}.`)}}assert$2.assertStruct=we;function Ee(xe){throw new Error("Invalid branch reached. Should be detected during compilation.")}return assert$2.assertExhaustive=Ee,assert$2}var base64={},hasRequiredBase64;function requireBase64(){if(hasRequiredBase64)return base64;hasRequiredBase64=1,Object.defineProperty(base64,"__esModule",{value:!0}),base64.base64=void 0;const se=require$$1,Y=requireAssert(),ne=(fe,ye={})=>{var me,be;const we=(me=ye.paddingRequired)!==null&&me!==void 0?me:!1,Ee=(be=ye.characterSet)!==null&&be!==void 0?be:"base64";let xe;Ee==="base64"?xe=String.raw`[A-Za-z0-9+\/]`:((0,Y.assert)(Ee==="base64url"),xe=String.raw`[-_A-Za-z0-9]`);let Se;return we?Se=new RegExp(`^(?:${xe}{4})*(?:${xe}{3}=|${xe}{2}==)?$`,"u"):Se=new RegExp(`^(?:${xe}{4})*(?:${xe}{2,3}|${xe}{3}=|${xe}{2}==)?$`,"u"),(0,se.pattern)(fe,Se)};return base64.base64=ne,base64}var bytes$1={},hex={},hasRequiredHex;function requireHex(){return hasRequiredHex||(hasRequiredHex=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.remove0x=se.add0x=se.assertIsStrictHexString=se.assertIsHexString=se.isStrictHexString=se.isHexString=se.StrictHexStruct=se.HexStruct=void 0;const Y=require$$1,ne=requireAssert();se.HexStruct=(0,Y.pattern)((0,Y.string)(),/^(?:0x)?[0-9a-f]+$/iu),se.StrictHexStruct=(0,Y.pattern)((0,Y.string)(),/^0x[0-9a-f]+$/iu);function fe(xe){return(0,Y.is)(xe,se.HexStruct)}se.isHexString=fe;function ye(xe){return(0,Y.is)(xe,se.StrictHexStruct)}se.isStrictHexString=ye;function me(xe){(0,ne.assert)(fe(xe),"Value must be a hexadecimal string.")}se.assertIsHexString=me;function be(xe){(0,ne.assert)(ye(xe),'Value must be a hexadecimal string, starting with "0x".')}se.assertIsStrictHexString=be;function we(xe){return xe.startsWith("0x")?xe:xe.startsWith("0X")?`0x${xe.substring(2)}`:`0x${xe}`}se.add0x=we;function Ee(xe){return xe.startsWith("0x")||xe.startsWith("0X")?xe.substring(2):xe}se.remove0x=Ee}(hex)),hex}var hasRequiredBytes;function requireBytes(){if(hasRequiredBytes)return bytes$1;hasRequiredBytes=1,Object.defineProperty(bytes$1,"__esModule",{value:!0}),bytes$1.createDataView=bytes$1.concatBytes=bytes$1.valueToBytes=bytes$1.stringToBytes=bytes$1.numberToBytes=bytes$1.signedBigIntToBytes=bytes$1.bigIntToBytes=bytes$1.hexToBytes=bytes$1.bytesToString=bytes$1.bytesToNumber=bytes$1.bytesToSignedBigInt=bytes$1.bytesToBigInt=bytes$1.bytesToHex=bytes$1.assertIsBytes=bytes$1.isBytes=void 0;const se=requireAssert(),Y=requireHex(),ne=48,fe=58,ye=87;function me(){const $n=[];return()=>{if($n.length===0)for(let Tn=0;Tn<256;Tn++)$n.push(Tn.toString(16).padStart(2,"0"));return $n}}const be=me();function we($n){return $n instanceof Uint8Array}bytes$1.isBytes=we;function Ee($n){(0,se.assert)(we($n),"Value must be a Uint8Array.")}bytes$1.assertIsBytes=Ee;function xe($n){if(Ee($n),$n.length===0)return"0x";const Tn=be(),ti=new Array($n.length);for(let ai=0;ai<$n.length;ai++)ti[ai]=Tn[$n[ai]];return(0,Y.add0x)(ti.join(""))}bytes$1.bytesToHex=xe;function Se($n){Ee($n);const Tn=xe($n);return BigInt(Tn)}bytes$1.bytesToBigInt=Se;function Ie($n){Ee($n);let Tn=BigInt(0);for(const ti of $n)Tn=(Tn<<BigInt(8))+BigInt(ti);return BigInt.asIntN($n.length*8,Tn)}bytes$1.bytesToSignedBigInt=Ie;function fr($n){Ee($n);const Tn=Se($n);return(0,se.assert)(Tn<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(Tn)}bytes$1.bytesToNumber=fr;function br($n){return Ee($n),new TextDecoder().decode($n)}bytes$1.bytesToString=br;function kr($n){var Tn;if(((Tn=$n==null?void 0:$n.toLowerCase)===null||Tn===void 0?void 0:Tn.call($n))==="0x")return new Uint8Array;(0,Y.assertIsHexString)($n);const ti=(0,Y.remove0x)($n).toLowerCase(),ai=ti.length%2===0?ti:`0${ti}`,On=new Uint8Array(ai.length/2);for(let Sn=0;Sn<On.length;Sn++){const Zr=ai.charCodeAt(Sn*2),Oe=ai.charCodeAt(Sn*2+1),wr=Zr-(Zr<fe?ne:ye),qr=Oe-(Oe<fe?ne:ye);On[Sn]=wr*16+qr}return On}bytes$1.hexToBytes=kr;function Wr($n){(0,se.assert)(typeof $n=="bigint","Value must be a bigint."),(0,se.assert)($n>=BigInt(0),"Value must be a non-negative bigint.");const Tn=$n.toString(16);return kr(Tn)}bytes$1.bigIntToBytes=Wr;function Gr($n,Tn){(0,se.assert)(Tn>0);const ti=$n>>BigInt(31);return!((~$n&ti)+($n&~ti)>>BigInt(Tn*8+-1))}function jr($n,Tn){(0,se.assert)(typeof $n=="bigint","Value must be a bigint."),(0,se.assert)(typeof Tn=="number","Byte length must be a number."),(0,se.assert)(Tn>0,"Byte length must be greater than 0."),(0,se.assert)(Gr($n,Tn),"Byte length is too small to represent the given value.");let ti=$n;const ai=new Uint8Array(Tn);for(let On=0;On<ai.length;On++)ai[On]=Number(BigInt.asUintN(8,ti)),ti>>=BigInt(8);return ai.reverse()}bytes$1.signedBigIntToBytes=jr;function Qr($n){(0,se.assert)(typeof $n=="number","Value must be a number."),(0,se.assert)($n>=0,"Value must be a non-negative number."),(0,se.assert)(Number.isSafeInteger($n),"Value is not a safe integer. Use `bigIntToBytes` instead.");const Tn=$n.toString(16);return kr(Tn)}bytes$1.numberToBytes=Qr;function wn($n){return(0,se.assert)(typeof $n=="string","Value must be a string."),new TextEncoder().encode($n)}bytes$1.stringToBytes=wn;function En($n){if(typeof $n=="bigint")return Wr($n);if(typeof $n=="number")return Qr($n);if(typeof $n=="string")return $n.startsWith("0x")?kr($n):wn($n);if(we($n))return $n;throw new TypeError(`Unsupported value type: "${typeof $n}".`)}bytes$1.valueToBytes=En;function Rn($n){const Tn=new Array($n.length);let ti=0;for(let On=0;On<$n.length;On++){const Sn=En($n[On]);Tn[On]=Sn,ti+=Sn.length}const ai=new Uint8Array(ti);for(let On=0,Sn=0;On<Tn.length;On++)ai.set(Tn[On],Sn),Sn+=Tn[On].length;return ai}bytes$1.concatBytes=Rn;function An($n){if(typeof Buffer<"u"&&$n instanceof Buffer){const Tn=$n.buffer.slice($n.byteOffset,$n.byteOffset+$n.byteLength);return new DataView(Tn)}return new DataView($n.buffer,$n.byteOffset,$n.byteLength)}return bytes$1.createDataView=An,bytes$1}var checksum={},hasRequiredChecksum;function requireChecksum(){if(hasRequiredChecksum)return checksum;hasRequiredChecksum=1,Object.defineProperty(checksum,"__esModule",{value:!0}),checksum.ChecksumStruct=void 0;const se=require$$1,Y=requireBase64();return checksum.ChecksumStruct=(0,se.size)((0,Y.base64)((0,se.string)(),{paddingRequired:!0}),44,44),checksum}var coercers={},hasRequiredCoercers;function requireCoercers(){if(hasRequiredCoercers)return coercers;hasRequiredCoercers=1,Object.defineProperty(coercers,"__esModule",{value:!0}),coercers.createHex=coercers.createBytes=coercers.createBigInt=coercers.createNumber=void 0;const se=require$$1,Y=requireAssert(),ne=requireBytes(),fe=requireHex(),ye=(0,se.union)([(0,se.number)(),(0,se.bigint)(),(0,se.string)(),fe.StrictHexStruct]),me=(0,se.coerce)((0,se.number)(),ye,Number),be=(0,se.coerce)((0,se.bigint)(),ye,BigInt);(0,se.union)([fe.StrictHexStruct,(0,se.instance)(Uint8Array)]);const we=(0,se.coerce)((0,se.instance)(Uint8Array),(0,se.union)([fe.StrictHexStruct]),ne.hexToBytes),Ee=(0,se.coerce)(fe.StrictHexStruct,(0,se.instance)(Uint8Array),ne.bytesToHex);function xe(br){try{const kr=(0,se.create)(br,me);return(0,Y.assert)(Number.isFinite(kr),`Expected a number-like value, got "${br}".`),kr}catch(kr){throw kr instanceof se.StructError?new Error(`Expected a number-like value, got "${br}".`):kr}}coercers.createNumber=xe;function Se(br){try{return(0,se.create)(br,be)}catch(kr){throw kr instanceof se.StructError?new Error(`Expected a number-like value, got "${String(kr.value)}".`):kr}}coercers.createBigInt=Se;function Ie(br){if(typeof br=="string"&&br.toLowerCase()==="0x")return new Uint8Array;try{return(0,se.create)(br,we)}catch(kr){throw kr instanceof se.StructError?new Error(`Expected a bytes-like value, got "${String(kr.value)}".`):kr}}coercers.createBytes=Ie;function fr(br){if(br instanceof Uint8Array&&br.length===0||typeof br=="string"&&br.toLowerCase()==="0x")return"0x";try{return(0,se.create)(br,Ee)}catch(kr){throw kr instanceof se.StructError?new Error(`Expected a bytes-like value, got "${String(kr.value)}".`):kr}}return coercers.createHex=fr,coercers}var collections={},hasRequiredCollections;function requireCollections(){if(hasRequiredCollections)return collections;hasRequiredCollections=1;var se=collections.__classPrivateFieldSet||function(be,we,Ee,xe,Se){if(xe==="m")throw new TypeError("Private method is not writable");if(xe==="a"&&!Se)throw new TypeError("Private accessor was defined without a setter");if(typeof we=="function"?be!==we||!Se:!we.has(be))throw new TypeError("Cannot write private member to an object whose class did not declare it");return xe==="a"?Se.call(be,Ee):Se?Se.value=Ee:we.set(be,Ee),Ee},Y=collections.__classPrivateFieldGet||function(be,we,Ee,xe){if(Ee==="a"&&!xe)throw new TypeError("Private accessor was defined without a getter");if(typeof we=="function"?be!==we||!xe:!we.has(be))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Ee==="m"?xe:Ee==="a"?xe.call(be):xe?xe.value:we.get(be)},ne,fe;Object.defineProperty(collections,"__esModule",{value:!0}),collections.FrozenSet=collections.FrozenMap=void 0;class ye{constructor(we){ne.set(this,void 0),se(this,ne,new Map(we),"f"),Object.freeze(this)}get size(){return Y(this,ne,"f").size}[(ne=new WeakMap,Symbol.iterator)](){return Y(this,ne,"f")[Symbol.iterator]()}entries(){return Y(this,ne,"f").entries()}forEach(we,Ee){return Y(this,ne,"f").forEach((xe,Se,Ie)=>we.call(Ee,xe,Se,this))}get(we){return Y(this,ne,"f").get(we)}has(we){return Y(this,ne,"f").has(we)}keys(){return Y(this,ne,"f").keys()}values(){return Y(this,ne,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([we,Ee])=>`${String(we)} => ${String(Ee)}`).join(", ")} `:""}}`}}collections.FrozenMap=ye;class me{constructor(we){fe.set(this,void 0),se(this,fe,new Set(we),"f"),Object.freeze(this)}get size(){return Y(this,fe,"f").size}[(fe=new WeakMap,Symbol.iterator)](){return Y(this,fe,"f")[Symbol.iterator]()}entries(){return Y(this,fe,"f").entries()}forEach(we,Ee){return Y(this,fe,"f").forEach((xe,Se,Ie)=>we.call(Ee,xe,Se,this))}has(we){return Y(this,fe,"f").has(we)}keys(){return Y(this,fe,"f").keys()}values(){return Y(this,fe,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(we=>String(we)).join(", ")} `:""}}`}}return collections.FrozenSet=me,Object.freeze(ye),Object.freeze(ye.prototype),Object.freeze(me),Object.freeze(me.prototype),collections}var encryptionTypes={},hasRequiredEncryptionTypes;function requireEncryptionTypes(){return hasRequiredEncryptionTypes||(hasRequiredEncryptionTypes=1,Object.defineProperty(encryptionTypes,"__esModule",{value:!0})),encryptionTypes}var json={},hasRequiredJson;function requireJson(){return hasRequiredJson||(hasRequiredJson=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.getJsonRpcIdValidator=se.assertIsJsonRpcError=se.isJsonRpcError=se.assertIsJsonRpcFailure=se.isJsonRpcFailure=se.assertIsJsonRpcSuccess=se.isJsonRpcSuccess=se.assertIsJsonRpcResponse=se.isJsonRpcResponse=se.assertIsPendingJsonRpcResponse=se.isPendingJsonRpcResponse=se.JsonRpcResponseStruct=se.JsonRpcFailureStruct=se.JsonRpcSuccessStruct=se.PendingJsonRpcResponseStruct=se.assertIsJsonRpcRequest=se.isJsonRpcRequest=se.assertIsJsonRpcNotification=se.isJsonRpcNotification=se.JsonRpcNotificationStruct=se.JsonRpcRequestStruct=se.JsonRpcParamsStruct=se.JsonRpcErrorStruct=se.JsonRpcIdStruct=se.JsonRpcVersionStruct=se.jsonrpc2=se.getJsonSize=se.isValidJson=se.JsonStruct=se.UnsafeJsonStruct=void 0;const Y=require$$1,ne=requireAssert(),fe=()=>(0,Y.define)("finite number",Rn=>(0,Y.is)(Rn,(0,Y.number)())&&Number.isFinite(Rn));se.UnsafeJsonStruct=(0,Y.union)([(0,Y.literal)(null),(0,Y.boolean)(),fe(),(0,Y.string)(),(0,Y.array)((0,Y.lazy)(()=>se.UnsafeJsonStruct)),(0,Y.record)((0,Y.string)(),(0,Y.lazy)(()=>se.UnsafeJsonStruct))]),se.JsonStruct=(0,Y.define)("Json",(Rn,An)=>{function $n(Tn,ti){const On=[...ti.validator(Tn,An)];return On.length>0?On:!0}try{const Tn=$n(Rn,se.UnsafeJsonStruct);return Tn!==!0?Tn:$n(JSON.parse(JSON.stringify(Rn)),se.UnsafeJsonStruct)}catch(Tn){return Tn instanceof RangeError?"Circular reference detected":!1}});function ye(Rn){return(0,Y.is)(Rn,se.JsonStruct)}se.isValidJson=ye;function me(Rn){(0,ne.assertStruct)(Rn,se.JsonStruct,"Invalid JSON value");const An=JSON.stringify(Rn);return new TextEncoder().encode(An).byteLength}se.getJsonSize=me,se.jsonrpc2="2.0",se.JsonRpcVersionStruct=(0,Y.literal)(se.jsonrpc2),se.JsonRpcIdStruct=(0,Y.nullable)((0,Y.union)([(0,Y.number)(),(0,Y.string)()])),se.JsonRpcErrorStruct=(0,Y.object)({code:(0,Y.integer)(),message:(0,Y.string)(),data:(0,Y.optional)(se.JsonStruct),stack:(0,Y.optional)((0,Y.string)())}),se.JsonRpcParamsStruct=(0,Y.optional)((0,Y.union)([(0,Y.record)((0,Y.string)(),se.JsonStruct),(0,Y.array)(se.JsonStruct)])),se.JsonRpcRequestStruct=(0,Y.object)({id:se.JsonRpcIdStruct,jsonrpc:se.JsonRpcVersionStruct,method:(0,Y.string)(),params:se.JsonRpcParamsStruct}),se.JsonRpcNotificationStruct=(0,Y.omit)(se.JsonRpcRequestStruct,["id"]);function be(Rn){return(0,Y.is)(Rn,se.JsonRpcNotificationStruct)}se.isJsonRpcNotification=be;function we(Rn,An){(0,ne.assertStruct)(Rn,se.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",An)}se.assertIsJsonRpcNotification=we;function Ee(Rn){return(0,Y.is)(Rn,se.JsonRpcRequestStruct)}se.isJsonRpcRequest=Ee;function xe(Rn,An){(0,ne.assertStruct)(Rn,se.JsonRpcRequestStruct,"Invalid JSON-RPC request",An)}se.assertIsJsonRpcRequest=xe,se.PendingJsonRpcResponseStruct=(0,Y.object)({id:se.JsonRpcIdStruct,jsonrpc:se.JsonRpcVersionStruct,result:(0,Y.optional)((0,Y.unknown)()),error:(0,Y.optional)(se.JsonRpcErrorStruct)}),se.JsonRpcSuccessStruct=(0,Y.object)({id:se.JsonRpcIdStruct,jsonrpc:se.JsonRpcVersionStruct,result:se.JsonStruct}),se.JsonRpcFailureStruct=(0,Y.object)({id:se.JsonRpcIdStruct,jsonrpc:se.JsonRpcVersionStruct,error:se.JsonRpcErrorStruct}),se.JsonRpcResponseStruct=(0,Y.union)([se.JsonRpcSuccessStruct,se.JsonRpcFailureStruct]);function Se(Rn){return(0,Y.is)(Rn,se.PendingJsonRpcResponseStruct)}se.isPendingJsonRpcResponse=Se;function Ie(Rn,An){(0,ne.assertStruct)(Rn,se.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",An)}se.assertIsPendingJsonRpcResponse=Ie;function fr(Rn){return(0,Y.is)(Rn,se.JsonRpcResponseStruct)}se.isJsonRpcResponse=fr;function br(Rn,An){(0,ne.assertStruct)(Rn,se.JsonRpcResponseStruct,"Invalid JSON-RPC response",An)}se.assertIsJsonRpcResponse=br;function kr(Rn){return(0,Y.is)(Rn,se.JsonRpcSuccessStruct)}se.isJsonRpcSuccess=kr;function Wr(Rn,An){(0,ne.assertStruct)(Rn,se.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",An)}se.assertIsJsonRpcSuccess=Wr;function Gr(Rn){return(0,Y.is)(Rn,se.JsonRpcFailureStruct)}se.isJsonRpcFailure=Gr;function jr(Rn,An){(0,ne.assertStruct)(Rn,se.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",An)}se.assertIsJsonRpcFailure=jr;function Qr(Rn){return(0,Y.is)(Rn,se.JsonRpcErrorStruct)}se.isJsonRpcError=Qr;function wn(Rn,An){(0,ne.assertStruct)(Rn,se.JsonRpcErrorStruct,"Invalid JSON-RPC error",An)}se.assertIsJsonRpcError=wn;function En(Rn){const{permitEmptyString:An,permitFractions:$n,permitNull:Tn}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},Rn);return ai=>!!(typeof ai=="number"&&($n||Number.isInteger(ai))||typeof ai=="string"&&(An||ai.length>0)||Tn&&ai===null)}se.getJsonRpcIdValidator=En}(json)),json}var keyring={},hasRequiredKeyring;function requireKeyring(){return hasRequiredKeyring||(hasRequiredKeyring=1,Object.defineProperty(keyring,"__esModule",{value:!0})),keyring}var logging={},browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var se=1e3,Y=se*60,ne=Y*60,fe=ne*24,ye=fe*7,me=fe*365.25;ms=function(Se,Ie){Ie=Ie||{};var fr=typeof Se;if(fr==="string"&&Se.length>0)return be(Se);if(fr==="number"&&isFinite(Se))return Ie.long?Ee(Se):we(Se);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Se))};function be(Se){if(Se=String(Se),!(Se.length>100)){var Ie=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Se);if(Ie){var fr=parseFloat(Ie[1]),br=(Ie[2]||"ms").toLowerCase();switch(br){case"years":case"year":case"yrs":case"yr":case"y":return fr*me;case"weeks":case"week":case"w":return fr*ye;case"days":case"day":case"d":return fr*fe;case"hours":case"hour":case"hrs":case"hr":case"h":return fr*ne;case"minutes":case"minute":case"mins":case"min":case"m":return fr*Y;case"seconds":case"second":case"secs":case"sec":case"s":return fr*se;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return fr;default:return}}}}function we(Se){var Ie=Math.abs(Se);return Ie>=fe?Math.round(Se/fe)+"d":Ie>=ne?Math.round(Se/ne)+"h":Ie>=Y?Math.round(Se/Y)+"m":Ie>=se?Math.round(Se/se)+"s":Se+"ms"}function Ee(Se){var Ie=Math.abs(Se);return Ie>=fe?xe(Se,Ie,fe,"day"):Ie>=ne?xe(Se,Ie,ne,"hour"):Ie>=Y?xe(Se,Ie,Y,"minute"):Ie>=se?xe(Se,Ie,se,"second"):Se+" ms"}function xe(Se,Ie,fr,br){var kr=Ie>=fr*1.5;return Math.round(Se/fr)+" "+br+(kr?"s":"")}return ms}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function se(Y){fe.debug=fe,fe.default=fe,fe.coerce=xe,fe.disable=we,fe.enable=me,fe.enabled=Ee,fe.humanize=requireMs(),fe.destroy=Se,Object.keys(Y).forEach(Ie=>{fe[Ie]=Y[Ie]}),fe.names=[],fe.skips=[],fe.formatters={};function ne(Ie){let fr=0;for(let br=0;br<Ie.length;br++)fr=(fr<<5)-fr+Ie.charCodeAt(br),fr|=0;return fe.colors[Math.abs(fr)%fe.colors.length]}fe.selectColor=ne;function fe(Ie){let fr,br=null,kr,Wr;function Gr(...jr){if(!Gr.enabled)return;const Qr=Gr,wn=Number(new Date),En=wn-(fr||wn);Qr.diff=En,Qr.prev=fr,Qr.curr=wn,fr=wn,jr[0]=fe.coerce(jr[0]),typeof jr[0]!="string"&&jr.unshift("%O");let Rn=0;jr[0]=jr[0].replace(/%([a-zA-Z%])/g,($n,Tn)=>{if($n==="%%")return"%";Rn++;const ti=fe.formatters[Tn];if(typeof ti=="function"){const ai=jr[Rn];$n=ti.call(Qr,ai),jr.splice(Rn,1),Rn--}return $n}),fe.formatArgs.call(Qr,jr),(Qr.log||fe.log).apply(Qr,jr)}return Gr.namespace=Ie,Gr.useColors=fe.useColors(),Gr.color=fe.selectColor(Ie),Gr.extend=ye,Gr.destroy=fe.destroy,Object.defineProperty(Gr,"enabled",{enumerable:!0,configurable:!1,get:()=>br!==null?br:(kr!==fe.namespaces&&(kr=fe.namespaces,Wr=fe.enabled(Ie)),Wr),set:jr=>{br=jr}}),typeof fe.init=="function"&&fe.init(Gr),Gr}function ye(Ie,fr){const br=fe(this.namespace+(typeof fr>"u"?":":fr)+Ie);return br.log=this.log,br}function me(Ie){fe.save(Ie),fe.namespaces=Ie,fe.names=[],fe.skips=[];const fr=(typeof Ie=="string"?Ie:"").trim().replace(" ",",").split(",").filter(Boolean);for(const br of fr)br[0]==="-"?fe.skips.push(br.slice(1)):fe.names.push(br)}function be(Ie,fr){let br=0,kr=0,Wr=-1,Gr=0;for(;br<Ie.length;)if(kr<fr.length&&(fr[kr]===Ie[br]||fr[kr]==="*"))fr[kr]==="*"?(Wr=kr,Gr=br,kr++):(br++,kr++);else if(Wr!==-1)kr=Wr+1,Gr++,br=Gr;else return!1;for(;kr<fr.length&&fr[kr]==="*";)kr++;return kr===fr.length}function we(){const Ie=[...fe.names,...fe.skips.map(fr=>"-"+fr)].join(",");return fe.enable(""),Ie}function Ee(Ie){for(const fr of fe.skips)if(be(Ie,fr))return!1;for(const fr of fe.names)if(be(Ie,fr))return!0;return!1}function xe(Ie){return Ie instanceof Error?Ie.stack||Ie.message:Ie}function Se(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return fe.enable(fe.load()),fe}return common=se,common}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(se,Y){var ne={};Y.formatArgs=ye,Y.save=me,Y.load=be,Y.useColors=fe,Y.storage=we(),Y.destroy=(()=>{let xe=!1;return()=>{xe||(xe=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),Y.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function fe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let xe;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(xe=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(xe[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ye(xe){if(xe[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+xe[0]+(this.useColors?"%c ":" ")+"+"+se.exports.humanize(this.diff),!this.useColors)return;const Se="color: "+this.color;xe.splice(1,0,Se,"color: inherit");let Ie=0,fr=0;xe[0].replace(/%[a-zA-Z%]/g,br=>{br!=="%%"&&(Ie++,br==="%c"&&(fr=Ie))}),xe.splice(fr,0,Se)}Y.log=console.debug||console.log||(()=>{});function me(xe){try{xe?Y.storage.setItem("debug",xe):Y.storage.removeItem("debug")}catch{}}function be(){let xe;try{xe=Y.storage.getItem("debug")}catch{}return!xe&&typeof process$1<"u"&&"env"in process$1&&(xe=ne.DEBUG),xe}function we(){try{return localStorage}catch{}}se.exports=requireCommon()(Y);const{formatters:Ee}=se.exports;Ee.j=function(xe){try{return JSON.stringify(xe)}catch(Se){return"[UnexpectedJSONParseError]: "+Se.message}}}(browser,browser.exports)),browser.exports}var hasRequiredLogging;function requireLogging(){if(hasRequiredLogging)return logging;hasRequiredLogging=1;var se=logging.__importDefault||function(me){return me&&me.__esModule?me:{default:me}};Object.defineProperty(logging,"__esModule",{value:!0}),logging.createModuleLogger=logging.createProjectLogger=void 0;const ne=(0,se(requireBrowser()).default)("metamask");function fe(me){return ne.extend(me)}logging.createProjectLogger=fe;function ye(me,be){return me.extend(be)}return logging.createModuleLogger=ye,logging}var misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.calculateNumberSize=se.calculateStringSize=se.isASCII=se.isPlainObject=se.ESCAPE_CHARACTERS_REGEXP=se.JsonSize=se.hasProperty=se.isObject=se.isNullOrUndefined=se.isNonEmptyArray=void 0;function Y(xe){return Array.isArray(xe)&&xe.length>0}se.isNonEmptyArray=Y;function ne(xe){return xe==null}se.isNullOrUndefined=ne;function fe(xe){return!!xe&&typeof xe=="object"&&!Array.isArray(xe)}se.isObject=fe;const ye=(xe,Se)=>Object.hasOwnProperty.call(xe,Se);se.hasProperty=ye,function(xe){xe[xe.Null=4]="Null",xe[xe.Comma=1]="Comma",xe[xe.Wrapper=1]="Wrapper",xe[xe.True=4]="True",xe[xe.False=5]="False",xe[xe.Quote=1]="Quote",xe[xe.Colon=1]="Colon",xe[xe.Date=24]="Date"}(se.JsonSize||(se.JsonSize={})),se.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function me(xe){if(typeof xe!="object"||xe===null)return!1;try{let Se=xe;for(;Object.getPrototypeOf(Se)!==null;)Se=Object.getPrototypeOf(Se);return Object.getPrototypeOf(xe)===Se}catch{return!1}}se.isPlainObject=me;function be(xe){return xe.charCodeAt(0)<=127}se.isASCII=be;function we(xe){var Se;return xe.split("").reduce((fr,br)=>be(br)?fr+1:fr+2,0)+((Se=xe.match(se.ESCAPE_CHARACTERS_REGEXP))!==null&&Se!==void 0?Se:[]).length}se.calculateStringSize=we;function Ee(xe){return xe.toString().length}se.calculateNumberSize=Ee}(misc)),misc}var number$1={},hasRequiredNumber;function requireNumber(){if(hasRequiredNumber)return number$1;hasRequiredNumber=1,Object.defineProperty(number$1,"__esModule",{value:!0}),number$1.hexToBigInt=number$1.hexToNumber=number$1.bigIntToHex=number$1.numberToHex=void 0;const se=requireAssert(),Y=requireHex(),ne=be=>((0,se.assert)(typeof be=="number","Value must be a number."),(0,se.assert)(be>=0,"Value must be a non-negative number."),(0,se.assert)(Number.isSafeInteger(be),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Y.add0x)(be.toString(16)));number$1.numberToHex=ne;const fe=be=>((0,se.assert)(typeof be=="bigint","Value must be a bigint."),(0,se.assert)(be>=0,"Value must be a non-negative bigint."),(0,Y.add0x)(be.toString(16)));number$1.bigIntToHex=fe;const ye=be=>{(0,Y.assertIsHexString)(be);const we=parseInt(be,16);return(0,se.assert)(Number.isSafeInteger(we),"Value is not a safe integer. Use `hexToBigInt` instead."),we};number$1.hexToNumber=ye;const me=be=>((0,Y.assertIsHexString)(be),BigInt((0,Y.add0x)(be)));return number$1.hexToBigInt=me,number$1}var opaque={},hasRequiredOpaque;function requireOpaque(){return hasRequiredOpaque||(hasRequiredOpaque=1,Object.defineProperty(opaque,"__esModule",{value:!0})),opaque}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.timeSince=se.inMilliseconds=se.Duration=void 0,function(me){me[me.Millisecond=1]="Millisecond",me[me.Second=1e3]="Second",me[me.Minute=6e4]="Minute",me[me.Hour=36e5]="Hour",me[me.Day=864e5]="Day",me[me.Week=6048e5]="Week",me[me.Year=31536e6]="Year"}(se.Duration||(se.Duration={}));const Y=me=>Number.isInteger(me)&&me>=0,ne=(me,be)=>{if(!Y(me))throw new Error(`"${be}" must be a non-negative integer. Received: "${me}".`)};function fe(me,be){return ne(me,"count"),me*be}se.inMilliseconds=fe;function ye(me){return ne(me,"timestamp"),Date.now()-me}se.timeSince=ye}(time)),time}var transactionTypes={},hasRequiredTransactionTypes;function requireTransactionTypes(){return hasRequiredTransactionTypes||(hasRequiredTransactionTypes=1,Object.defineProperty(transactionTypes,"__esModule",{value:!0})),transactionTypes}var versions={},re={exports:{}},constants,hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1;const se="2.0.0",Y=256,ne=Number.MAX_SAFE_INTEGER||9007199254740991,fe=16,ye=Y-6;return constants={MAX_LENGTH:Y,MAX_SAFE_COMPONENT_LENGTH:fe,MAX_SAFE_BUILD_LENGTH:ye,MAX_SAFE_INTEGER:ne,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:se,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},constants}var debug_1,hasRequiredDebug;function requireDebug(){if(hasRequiredDebug)return debug_1;hasRequiredDebug=1;var se={};return debug_1=typeof process$1=="object"&&se&&se.NODE_DEBUG&&/\bsemver\b/i.test(se.NODE_DEBUG)?(...ne)=>console.error("SEMVER",...ne):()=>{},debug_1}var hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,function(se,Y){const{MAX_SAFE_COMPONENT_LENGTH:ne,MAX_SAFE_BUILD_LENGTH:fe,MAX_LENGTH:ye}=requireConstants(),me=requireDebug();Y=se.exports={};const be=Y.re=[],we=Y.safeRe=[],Ee=Y.src=[],xe=Y.t={};let Se=0;const Ie="[a-zA-Z0-9-]",fr=[["\\s",1],["\\d",ye],[Ie,fe]],br=Wr=>{for(const[Gr,jr]of fr)Wr=Wr.split(`${Gr}*`).join(`${Gr}{0,${jr}}`).split(`${Gr}+`).join(`${Gr}{1,${jr}}`);return Wr},kr=(Wr,Gr,jr)=>{const Qr=br(Gr),wn=Se++;me(Wr,wn,Gr),xe[Wr]=wn,Ee[wn]=Gr,be[wn]=new RegExp(Gr,jr?"g":void 0),we[wn]=new RegExp(Qr,jr?"g":void 0)};kr("NUMERICIDENTIFIER","0|[1-9]\\d*"),kr("NUMERICIDENTIFIERLOOSE","\\d+"),kr("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ie}*`),kr("MAINVERSION",`(${Ee[xe.NUMERICIDENTIFIER]})\\.(${Ee[xe.NUMERICIDENTIFIER]})\\.(${Ee[xe.NUMERICIDENTIFIER]})`),kr("MAINVERSIONLOOSE",`(${Ee[xe.NUMERICIDENTIFIERLOOSE]})\\.(${Ee[xe.NUMERICIDENTIFIERLOOSE]})\\.(${Ee[xe.NUMERICIDENTIFIERLOOSE]})`),kr("PRERELEASEIDENTIFIER",`(?:${Ee[xe.NUMERICIDENTIFIER]}|${Ee[xe.NONNUMERICIDENTIFIER]})`),kr("PRERELEASEIDENTIFIERLOOSE",`(?:${Ee[xe.NUMERICIDENTIFIERLOOSE]}|${Ee[xe.NONNUMERICIDENTIFIER]})`),kr("PRERELEASE",`(?:-(${Ee[xe.PRERELEASEIDENTIFIER]}(?:\\.${Ee[xe.PRERELEASEIDENTIFIER]})*))`),kr("PRERELEASELOOSE",`(?:-?(${Ee[xe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ee[xe.PRERELEASEIDENTIFIERLOOSE]})*))`),kr("BUILDIDENTIFIER",`${Ie}+`),kr("BUILD",`(?:\\+(${Ee[xe.BUILDIDENTIFIER]}(?:\\.${Ee[xe.BUILDIDENTIFIER]})*))`),kr("FULLPLAIN",`v?${Ee[xe.MAINVERSION]}${Ee[xe.PRERELEASE]}?${Ee[xe.BUILD]}?`),kr("FULL",`^${Ee[xe.FULLPLAIN]}$`),kr("LOOSEPLAIN",`[v=\\s]*${Ee[xe.MAINVERSIONLOOSE]}${Ee[xe.PRERELEASELOOSE]}?${Ee[xe.BUILD]}?`),kr("LOOSE",`^${Ee[xe.LOOSEPLAIN]}$`),kr("GTLT","((?:<|>)?=?)"),kr("XRANGEIDENTIFIERLOOSE",`${Ee[xe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),kr("XRANGEIDENTIFIER",`${Ee[xe.NUMERICIDENTIFIER]}|x|X|\\*`),kr("XRANGEPLAIN",`[v=\\s]*(${Ee[xe.XRANGEIDENTIFIER]})(?:\\.(${Ee[xe.XRANGEIDENTIFIER]})(?:\\.(${Ee[xe.XRANGEIDENTIFIER]})(?:${Ee[xe.PRERELEASE]})?${Ee[xe.BUILD]}?)?)?`),kr("XRANGEPLAINLOOSE",`[v=\\s]*(${Ee[xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ee[xe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ee[xe.XRANGEIDENTIFIERLOOSE]})(?:${Ee[xe.PRERELEASELOOSE]})?${Ee[xe.BUILD]}?)?)?`),kr("XRANGE",`^${Ee[xe.GTLT]}\\s*${Ee[xe.XRANGEPLAIN]}$`),kr("XRANGELOOSE",`^${Ee[xe.GTLT]}\\s*${Ee[xe.XRANGEPLAINLOOSE]}$`),kr("COERCEPLAIN",`(^|[^\\d])(\\d{1,${ne}})(?:\\.(\\d{1,${ne}}))?(?:\\.(\\d{1,${ne}}))?`),kr("COERCE",`${Ee[xe.COERCEPLAIN]}(?:$|[^\\d])`),kr("COERCEFULL",Ee[xe.COERCEPLAIN]+`(?:${Ee[xe.PRERELEASE]})?(?:${Ee[xe.BUILD]})?(?:$|[^\\d])`),kr("COERCERTL",Ee[xe.COERCE],!0),kr("COERCERTLFULL",Ee[xe.COERCEFULL],!0),kr("LONETILDE","(?:~>?)"),kr("TILDETRIM",`(\\s*)${Ee[xe.LONETILDE]}\\s+`,!0),Y.tildeTrimReplace="$1~",kr("TILDE",`^${Ee[xe.LONETILDE]}${Ee[xe.XRANGEPLAIN]}$`),kr("TILDELOOSE",`^${Ee[xe.LONETILDE]}${Ee[xe.XRANGEPLAINLOOSE]}$`),kr("LONECARET","(?:\\^)"),kr("CARETTRIM",`(\\s*)${Ee[xe.LONECARET]}\\s+`,!0),Y.caretTrimReplace="$1^",kr("CARET",`^${Ee[xe.LONECARET]}${Ee[xe.XRANGEPLAIN]}$`),kr("CARETLOOSE",`^${Ee[xe.LONECARET]}${Ee[xe.XRANGEPLAINLOOSE]}$`),kr("COMPARATORLOOSE",`^${Ee[xe.GTLT]}\\s*(${Ee[xe.LOOSEPLAIN]})$|^$`),kr("COMPARATOR",`^${Ee[xe.GTLT]}\\s*(${Ee[xe.FULLPLAIN]})$|^$`),kr("COMPARATORTRIM",`(\\s*)${Ee[xe.GTLT]}\\s*(${Ee[xe.LOOSEPLAIN]}|${Ee[xe.XRANGEPLAIN]})`,!0),Y.comparatorTrimReplace="$1$2$3",kr("HYPHENRANGE",`^\\s*(${Ee[xe.XRANGEPLAIN]})\\s+-\\s+(${Ee[xe.XRANGEPLAIN]})\\s*$`),kr("HYPHENRANGELOOSE",`^\\s*(${Ee[xe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ee[xe.XRANGEPLAINLOOSE]})\\s*$`),kr("STAR","(<|>)?=?\\s*\\*"),kr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),kr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(re,re.exports)),re.exports}var parseOptions_1,hasRequiredParseOptions;function requireParseOptions(){if(hasRequiredParseOptions)return parseOptions_1;hasRequiredParseOptions=1;const se=Object.freeze({loose:!0}),Y=Object.freeze({});return parseOptions_1=fe=>fe?typeof fe!="object"?se:fe:Y,parseOptions_1}var identifiers,hasRequiredIdentifiers;function requireIdentifiers(){if(hasRequiredIdentifiers)return identifiers;hasRequiredIdentifiers=1;const se=/^[0-9]+$/,Y=(fe,ye)=>{const me=se.test(fe),be=se.test(ye);return me&&be&&(fe=+fe,ye=+ye),fe===ye?0:me&&!be?-1:be&&!me?1:fe<ye?-1:1};return identifiers={compareIdentifiers:Y,rcompareIdentifiers:(fe,ye)=>Y(ye,fe)},identifiers}var semver$1,hasRequiredSemver$1;function requireSemver$1(){if(hasRequiredSemver$1)return semver$1;hasRequiredSemver$1=1;const se=requireDebug(),{MAX_LENGTH:Y,MAX_SAFE_INTEGER:ne}=requireConstants(),{safeRe:fe,t:ye}=requireRe(),me=requireParseOptions(),{compareIdentifiers:be}=requireIdentifiers();class we{constructor(xe,Se){if(Se=me(Se),xe instanceof we){if(xe.loose===!!Se.loose&&xe.includePrerelease===!!Se.includePrerelease)return xe;xe=xe.version}else if(typeof xe!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof xe}".`);if(xe.length>Y)throw new TypeError(`version is longer than ${Y} characters`);se("SemVer",xe,Se),this.options=Se,this.loose=!!Se.loose,this.includePrerelease=!!Se.includePrerelease;const Ie=xe.trim().match(Se.loose?fe[ye.LOOSE]:fe[ye.FULL]);if(!Ie)throw new TypeError(`Invalid Version: ${xe}`);if(this.raw=xe,this.major=+Ie[1],this.minor=+Ie[2],this.patch=+Ie[3],this.major>ne||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ne||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ne||this.patch<0)throw new TypeError("Invalid patch version");Ie[4]?this.prerelease=Ie[4].split(".").map(fr=>{if(/^[0-9]+$/.test(fr)){const br=+fr;if(br>=0&&br<ne)return br}return fr}):this.prerelease=[],this.build=Ie[5]?Ie[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(xe){if(se("SemVer.compare",this.version,this.options,xe),!(xe instanceof we)){if(typeof xe=="string"&&xe===this.version)return 0;xe=new we(xe,this.options)}return xe.version===this.version?0:this.compareMain(xe)||this.comparePre(xe)}compareMain(xe){return xe instanceof we||(xe=new we(xe,this.options)),be(this.major,xe.major)||be(this.minor,xe.minor)||be(this.patch,xe.patch)}comparePre(xe){if(xe instanceof we||(xe=new we(xe,this.options)),this.prerelease.length&&!xe.prerelease.length)return-1;if(!this.prerelease.length&&xe.prerelease.length)return 1;if(!this.prerelease.length&&!xe.prerelease.length)return 0;let Se=0;do{const Ie=this.prerelease[Se],fr=xe.prerelease[Se];if(se("prerelease compare",Se,Ie,fr),Ie===void 0&&fr===void 0)return 0;if(fr===void 0)return 1;if(Ie===void 0)return-1;if(Ie===fr)continue;return be(Ie,fr)}while(++Se)}compareBuild(xe){xe instanceof we||(xe=new we(xe,this.options));let Se=0;do{const Ie=this.build[Se],fr=xe.build[Se];if(se("build compare",Se,Ie,fr),Ie===void 0&&fr===void 0)return 0;if(fr===void 0)return 1;if(Ie===void 0)return-1;if(Ie===fr)continue;return be(Ie,fr)}while(++Se)}inc(xe,Se,Ie){switch(xe){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Se,Ie);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Se,Ie);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Se,Ie),this.inc("pre",Se,Ie);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",Se,Ie),this.inc("pre",Se,Ie);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const fr=Number(Ie)?1:0;if(!Se&&Ie===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[fr];else{let br=this.prerelease.length;for(;--br>=0;)typeof this.prerelease[br]=="number"&&(this.prerelease[br]++,br=-2);if(br===-1){if(Se===this.prerelease.join(".")&&Ie===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(fr)}}if(Se){let br=[Se,fr];Ie===!1&&(br=[Se]),be(this.prerelease[0],Se)===0?isNaN(this.prerelease[1])&&(this.prerelease=br):this.prerelease=br}break}default:throw new Error(`invalid increment argument: ${xe}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return semver$1=we,semver$1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1;const se=requireSemver$1();return parse_1=(ne,fe,ye=!1)=>{if(ne instanceof se)return ne;try{return new se(ne,fe)}catch(me){if(!ye)return null;throw me}},parse_1}var valid_1,hasRequiredValid$1;function requireValid$1(){if(hasRequiredValid$1)return valid_1;hasRequiredValid$1=1;const se=requireParse();return valid_1=(ne,fe)=>{const ye=se(ne,fe);return ye?ye.version:null},valid_1}var clean_1,hasRequiredClean;function requireClean(){if(hasRequiredClean)return clean_1;hasRequiredClean=1;const se=requireParse();return clean_1=(ne,fe)=>{const ye=se(ne.trim().replace(/^[=v]+/,""),fe);return ye?ye.version:null},clean_1}var inc_1,hasRequiredInc;function requireInc(){if(hasRequiredInc)return inc_1;hasRequiredInc=1;const se=requireSemver$1();return inc_1=(ne,fe,ye,me,be)=>{typeof ye=="string"&&(be=me,me=ye,ye=void 0);try{return new se(ne instanceof se?ne.version:ne,ye).inc(fe,me,be).version}catch{return null}},inc_1}var diff_1,hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff_1;hasRequiredDiff=1;const se=requireParse();return diff_1=(ne,fe)=>{const ye=se(ne,null,!0),me=se(fe,null,!0),be=ye.compare(me);if(be===0)return null;const we=be>0,Ee=we?ye:me,xe=we?me:ye,Se=!!Ee.prerelease.length;if(!!xe.prerelease.length&&!Se)return!xe.patch&&!xe.minor?"major":Ee.patch?"patch":Ee.minor?"minor":"major";const fr=Se?"pre":"";return ye.major!==me.major?fr+"major":ye.minor!==me.minor?fr+"minor":ye.patch!==me.patch?fr+"patch":"prerelease"},diff_1}var major_1,hasRequiredMajor;function requireMajor(){if(hasRequiredMajor)return major_1;hasRequiredMajor=1;const se=requireSemver$1();return major_1=(ne,fe)=>new se(ne,fe).major,major_1}var minor_1,hasRequiredMinor;function requireMinor(){if(hasRequiredMinor)return minor_1;hasRequiredMinor=1;const se=requireSemver$1();return minor_1=(ne,fe)=>new se(ne,fe).minor,minor_1}var patch_1,hasRequiredPatch;function requirePatch(){if(hasRequiredPatch)return patch_1;hasRequiredPatch=1;const se=requireSemver$1();return patch_1=(ne,fe)=>new se(ne,fe).patch,patch_1}var prerelease_1,hasRequiredPrerelease;function requirePrerelease(){if(hasRequiredPrerelease)return prerelease_1;hasRequiredPrerelease=1;const se=requireParse();return prerelease_1=(ne,fe)=>{const ye=se(ne,fe);return ye&&ye.prerelease.length?ye.prerelease:null},prerelease_1}var compare_1,hasRequiredCompare;function requireCompare(){if(hasRequiredCompare)return compare_1;hasRequiredCompare=1;const se=requireSemver$1();return compare_1=(ne,fe,ye)=>new se(ne,ye).compare(new se(fe,ye)),compare_1}var rcompare_1,hasRequiredRcompare;function requireRcompare(){if(hasRequiredRcompare)return rcompare_1;hasRequiredRcompare=1;const se=requireCompare();return rcompare_1=(ne,fe,ye)=>se(fe,ne,ye),rcompare_1}var compareLoose_1,hasRequiredCompareLoose;function requireCompareLoose(){if(hasRequiredCompareLoose)return compareLoose_1;hasRequiredCompareLoose=1;const se=requireCompare();return compareLoose_1=(ne,fe)=>se(ne,fe,!0),compareLoose_1}var compareBuild_1,hasRequiredCompareBuild;function requireCompareBuild(){if(hasRequiredCompareBuild)return compareBuild_1;hasRequiredCompareBuild=1;const se=requireSemver$1();return compareBuild_1=(ne,fe,ye)=>{const me=new se(ne,ye),be=new se(fe,ye);return me.compare(be)||me.compareBuild(be)},compareBuild_1}var sort_1,hasRequiredSort;function requireSort(){if(hasRequiredSort)return sort_1;hasRequiredSort=1;const se=requireCompareBuild();return sort_1=(ne,fe)=>ne.sort((ye,me)=>se(ye,me,fe)),sort_1}var rsort_1,hasRequiredRsort;function requireRsort(){if(hasRequiredRsort)return rsort_1;hasRequiredRsort=1;const se=requireCompareBuild();return rsort_1=(ne,fe)=>ne.sort((ye,me)=>se(me,ye,fe)),rsort_1}var gt_1,hasRequiredGt;function requireGt(){if(hasRequiredGt)return gt_1;hasRequiredGt=1;const se=requireCompare();return gt_1=(ne,fe,ye)=>se(ne,fe,ye)>0,gt_1}var lt_1,hasRequiredLt;function requireLt(){if(hasRequiredLt)return lt_1;hasRequiredLt=1;const se=requireCompare();return lt_1=(ne,fe,ye)=>se(ne,fe,ye)<0,lt_1}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;const se=requireCompare();return eq_1=(ne,fe,ye)=>se(ne,fe,ye)===0,eq_1}var neq_1,hasRequiredNeq;function requireNeq(){if(hasRequiredNeq)return neq_1;hasRequiredNeq=1;const se=requireCompare();return neq_1=(ne,fe,ye)=>se(ne,fe,ye)!==0,neq_1}var gte_1,hasRequiredGte;function requireGte(){if(hasRequiredGte)return gte_1;hasRequiredGte=1;const se=requireCompare();return gte_1=(ne,fe,ye)=>se(ne,fe,ye)>=0,gte_1}var lte_1,hasRequiredLte;function requireLte(){if(hasRequiredLte)return lte_1;hasRequiredLte=1;const se=requireCompare();return lte_1=(ne,fe,ye)=>se(ne,fe,ye)<=0,lte_1}var cmp_1,hasRequiredCmp;function requireCmp(){if(hasRequiredCmp)return cmp_1;hasRequiredCmp=1;const se=requireEq(),Y=requireNeq(),ne=requireGt(),fe=requireGte(),ye=requireLt(),me=requireLte();return cmp_1=(we,Ee,xe,Se)=>{switch(Ee){case"===":return typeof we=="object"&&(we=we.version),typeof xe=="object"&&(xe=xe.version),we===xe;case"!==":return typeof we=="object"&&(we=we.version),typeof xe=="object"&&(xe=xe.version),we!==xe;case"":case"=":case"==":return se(we,xe,Se);case"!=":return Y(we,xe,Se);case">":return ne(we,xe,Se);case">=":return fe(we,xe,Se);case"<":return ye(we,xe,Se);case"<=":return me(we,xe,Se);default:throw new TypeError(`Invalid operator: ${Ee}`)}},cmp_1}var coerce_1,hasRequiredCoerce;function requireCoerce(){if(hasRequiredCoerce)return coerce_1;hasRequiredCoerce=1;const se=requireSemver$1(),Y=requireParse(),{safeRe:ne,t:fe}=requireRe();return coerce_1=(me,be)=>{if(me instanceof se)return me;if(typeof me=="number"&&(me=String(me)),typeof me!="string")return null;be=be||{};let we=null;if(!be.rtl)we=me.match(be.includePrerelease?ne[fe.COERCEFULL]:ne[fe.COERCE]);else{const br=be.includePrerelease?ne[fe.COERCERTLFULL]:ne[fe.COERCERTL];let kr;for(;(kr=br.exec(me))&&(!we||we.index+we[0].length!==me.length);)(!we||kr.index+kr[0].length!==we.index+we[0].length)&&(we=kr),br.lastIndex=kr.index+kr[1].length+kr[2].length;br.lastIndex=-1}if(we===null)return null;const Ee=we[2],xe=we[3]||"0",Se=we[4]||"0",Ie=be.includePrerelease&&we[5]?`-${we[5]}`:"",fr=be.includePrerelease&&we[6]?`+${we[6]}`:"";return Y(`${Ee}.${xe}.${Se}${Ie}${fr}`,be)},coerce_1}var lrucache,hasRequiredLrucache;function requireLrucache(){if(hasRequiredLrucache)return lrucache;hasRequiredLrucache=1;class se{constructor(){this.max=1e3,this.map=new Map}get(ne){const fe=this.map.get(ne);if(fe!==void 0)return this.map.delete(ne),this.map.set(ne,fe),fe}delete(ne){return this.map.delete(ne)}set(ne,fe){if(!this.delete(ne)&&fe!==void 0){if(this.map.size>=this.max){const me=this.map.keys().next().value;this.delete(me)}this.map.set(ne,fe)}return this}}return lrucache=se,lrucache}var range,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1;const se=/\s+/g;class Y{constructor(wr,qr){if(qr=ye(qr),wr instanceof Y)return wr.loose===!!qr.loose&&wr.includePrerelease===!!qr.includePrerelease?wr:new Y(wr.raw,qr);if(wr instanceof me)return this.raw=wr.value,this.set=[[wr]],this.formatted=void 0,this;if(this.options=qr,this.loose=!!qr.loose,this.includePrerelease=!!qr.includePrerelease,this.raw=wr.trim().replace(se," "),this.set=this.raw.split("||").map(Vr=>this.parseRange(Vr.trim())).filter(Vr=>Vr.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Vr=this.set[0];if(this.set=this.set.filter(Jr=>!Wr(Jr[0])),this.set.length===0)this.set=[Vr];else if(this.set.length>1){for(const Jr of this.set)if(Jr.length===1&&Gr(Jr[0])){this.set=[Jr];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let wr=0;wr<this.set.length;wr++){wr>0&&(this.formatted+="||");const qr=this.set[wr];for(let Vr=0;Vr<qr.length;Vr++)Vr>0&&(this.formatted+=" "),this.formatted+=qr[Vr].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(wr){const Vr=((this.options.includePrerelease&&br)|(this.options.loose&&kr))+":"+wr,Jr=fe.get(Vr);if(Jr)return Jr;const Xr=this.options.loose,Kr=Xr?Ee[xe.HYPHENRANGELOOSE]:Ee[xe.HYPHENRANGE];wr=wr.replace(Kr,Sn(this.options.includePrerelease)),be("hyphen replace",wr),wr=wr.replace(Ee[xe.COMPARATORTRIM],Se),be("comparator trim",wr),wr=wr.replace(Ee[xe.TILDETRIM],Ie),be("tilde trim",wr),wr=wr.replace(Ee[xe.CARETTRIM],fr),be("caret trim",wr);let Yr=wr.split(" ").map(ni=>Qr(ni,this.options)).join(" ").split(/\s+/).map(ni=>On(ni,this.options));Xr&&(Yr=Yr.filter(ni=>(be("loose invalid filter",ni,this.options),!!ni.match(Ee[xe.COMPARATORLOOSE])))),be("range list",Yr);const Br=new Map,_n=Yr.map(ni=>new me(ni,this.options));for(const ni of _n){if(Wr(ni))return[ni];Br.set(ni.value,ni)}Br.size>1&&Br.has("")&&Br.delete("");const ii=[...Br.values()];return fe.set(Vr,ii),ii}intersects(wr,qr){if(!(wr instanceof Y))throw new TypeError("a Range is required");return this.set.some(Vr=>jr(Vr,qr)&&wr.set.some(Jr=>jr(Jr,qr)&&Vr.every(Xr=>Jr.every(Kr=>Xr.intersects(Kr,qr)))))}test(wr){if(!wr)return!1;if(typeof wr=="string")try{wr=new we(wr,this.options)}catch{return!1}for(let qr=0;qr<this.set.length;qr++)if(Zr(this.set[qr],wr,this.options))return!0;return!1}}range=Y;const ne=requireLrucache(),fe=new ne,ye=requireParseOptions(),me=requireComparator(),be=requireDebug(),we=requireSemver$1(),{safeRe:Ee,t:xe,comparatorTrimReplace:Se,tildeTrimReplace:Ie,caretTrimReplace:fr}=requireRe(),{FLAG_INCLUDE_PRERELEASE:br,FLAG_LOOSE:kr}=requireConstants(),Wr=Oe=>Oe.value==="<0.0.0-0",Gr=Oe=>Oe.value==="",jr=(Oe,wr)=>{let qr=!0;const Vr=Oe.slice();let Jr=Vr.pop();for(;qr&&Vr.length;)qr=Vr.every(Xr=>Jr.intersects(Xr,wr)),Jr=Vr.pop();return qr},Qr=(Oe,wr)=>(be("comp",Oe,wr),Oe=An(Oe,wr),be("caret",Oe),Oe=En(Oe,wr),be("tildes",Oe),Oe=Tn(Oe,wr),be("xrange",Oe),Oe=ai(Oe,wr),be("stars",Oe),Oe),wn=Oe=>!Oe||Oe.toLowerCase()==="x"||Oe==="*",En=(Oe,wr)=>Oe.trim().split(/\s+/).map(qr=>Rn(qr,wr)).join(" "),Rn=(Oe,wr)=>{const qr=wr.loose?Ee[xe.TILDELOOSE]:Ee[xe.TILDE];return Oe.replace(qr,(Vr,Jr,Xr,Kr,Yr)=>{be("tilde",Oe,Vr,Jr,Xr,Kr,Yr);let Br;return wn(Jr)?Br="":wn(Xr)?Br=`>=${Jr}.0.0 <${+Jr+1}.0.0-0`:wn(Kr)?Br=`>=${Jr}.${Xr}.0 <${Jr}.${+Xr+1}.0-0`:Yr?(be("replaceTilde pr",Yr),Br=`>=${Jr}.${Xr}.${Kr}-${Yr} <${Jr}.${+Xr+1}.0-0`):Br=`>=${Jr}.${Xr}.${Kr} <${Jr}.${+Xr+1}.0-0`,be("tilde return",Br),Br})},An=(Oe,wr)=>Oe.trim().split(/\s+/).map(qr=>$n(qr,wr)).join(" "),$n=(Oe,wr)=>{be("caret",Oe,wr);const qr=wr.loose?Ee[xe.CARETLOOSE]:Ee[xe.CARET],Vr=wr.includePrerelease?"-0":"";return Oe.replace(qr,(Jr,Xr,Kr,Yr,Br)=>{be("caret",Oe,Jr,Xr,Kr,Yr,Br);let _n;return wn(Xr)?_n="":wn(Kr)?_n=`>=${Xr}.0.0${Vr} <${+Xr+1}.0.0-0`:wn(Yr)?Xr==="0"?_n=`>=${Xr}.${Kr}.0${Vr} <${Xr}.${+Kr+1}.0-0`:_n=`>=${Xr}.${Kr}.0${Vr} <${+Xr+1}.0.0-0`:Br?(be("replaceCaret pr",Br),Xr==="0"?Kr==="0"?_n=`>=${Xr}.${Kr}.${Yr}-${Br} <${Xr}.${Kr}.${+Yr+1}-0`:_n=`>=${Xr}.${Kr}.${Yr}-${Br} <${Xr}.${+Kr+1}.0-0`:_n=`>=${Xr}.${Kr}.${Yr}-${Br} <${+Xr+1}.0.0-0`):(be("no pr"),Xr==="0"?Kr==="0"?_n=`>=${Xr}.${Kr}.${Yr}${Vr} <${Xr}.${Kr}.${+Yr+1}-0`:_n=`>=${Xr}.${Kr}.${Yr}${Vr} <${Xr}.${+Kr+1}.0-0`:_n=`>=${Xr}.${Kr}.${Yr} <${+Xr+1}.0.0-0`),be("caret return",_n),_n})},Tn=(Oe,wr)=>(be("replaceXRanges",Oe,wr),Oe.split(/\s+/).map(qr=>ti(qr,wr)).join(" ")),ti=(Oe,wr)=>{Oe=Oe.trim();const qr=wr.loose?Ee[xe.XRANGELOOSE]:Ee[xe.XRANGE];return Oe.replace(qr,(Vr,Jr,Xr,Kr,Yr,Br)=>{be("xRange",Oe,Vr,Jr,Xr,Kr,Yr,Br);const _n=wn(Xr),ii=_n||wn(Kr),ni=ii||wn(Yr),si=ni;return Jr==="="&&si&&(Jr=""),Br=wr.includePrerelease?"-0":"",_n?Jr===">"||Jr==="<"?Vr="<0.0.0-0":Vr="*":Jr&&si?(ii&&(Kr=0),Yr=0,Jr===">"?(Jr=">=",ii?(Xr=+Xr+1,Kr=0,Yr=0):(Kr=+Kr+1,Yr=0)):Jr==="<="&&(Jr="<",ii?Xr=+Xr+1:Kr=+Kr+1),Jr==="<"&&(Br="-0"),Vr=`${Jr+Xr}.${Kr}.${Yr}${Br}`):ii?Vr=`>=${Xr}.0.0${Br} <${+Xr+1}.0.0-0`:ni&&(Vr=`>=${Xr}.${Kr}.0${Br} <${Xr}.${+Kr+1}.0-0`),be("xRange return",Vr),Vr})},ai=(Oe,wr)=>(be("replaceStars",Oe,wr),Oe.trim().replace(Ee[xe.STAR],"")),On=(Oe,wr)=>(be("replaceGTE0",Oe,wr),Oe.trim().replace(Ee[wr.includePrerelease?xe.GTE0PRE:xe.GTE0],"")),Sn=Oe=>(wr,qr,Vr,Jr,Xr,Kr,Yr,Br,_n,ii,ni,si)=>(wn(Vr)?qr="":wn(Jr)?qr=`>=${Vr}.0.0${Oe?"-0":""}`:wn(Xr)?qr=`>=${Vr}.${Jr}.0${Oe?"-0":""}`:Kr?qr=`>=${qr}`:qr=`>=${qr}${Oe?"-0":""}`,wn(_n)?Br="":wn(ii)?Br=`<${+_n+1}.0.0-0`:wn(ni)?Br=`<${_n}.${+ii+1}.0-0`:si?Br=`<=${_n}.${ii}.${ni}-${si}`:Oe?Br=`<${_n}.${ii}.${+ni+1}-0`:Br=`<=${Br}`,`${qr} ${Br}`.trim()),Zr=(Oe,wr,qr)=>{for(let Vr=0;Vr<Oe.length;Vr++)if(!Oe[Vr].test(wr))return!1;if(wr.prerelease.length&&!qr.includePrerelease){for(let Vr=0;Vr<Oe.length;Vr++)if(be(Oe[Vr].semver),Oe[Vr].semver!==me.ANY&&Oe[Vr].semver.prerelease.length>0){const Jr=Oe[Vr].semver;if(Jr.major===wr.major&&Jr.minor===wr.minor&&Jr.patch===wr.patch)return!0}return!1}return!0};return range}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const se=Symbol("SemVer ANY");class Y{static get ANY(){return se}constructor(Se,Ie){if(Ie=ne(Ie),Se instanceof Y){if(Se.loose===!!Ie.loose)return Se;Se=Se.value}Se=Se.trim().split(/\s+/).join(" "),be("comparator",Se,Ie),this.options=Ie,this.loose=!!Ie.loose,this.parse(Se),this.semver===se?this.value="":this.value=this.operator+this.semver.version,be("comp",this)}parse(Se){const Ie=this.options.loose?fe[ye.COMPARATORLOOSE]:fe[ye.COMPARATOR],fr=Se.match(Ie);if(!fr)throw new TypeError(`Invalid comparator: ${Se}`);this.operator=fr[1]!==void 0?fr[1]:"",this.operator==="="&&(this.operator=""),fr[2]?this.semver=new we(fr[2],this.options.loose):this.semver=se}toString(){return this.value}test(Se){if(be("Comparator.test",Se,this.options.loose),this.semver===se||Se===se)return!0;if(typeof Se=="string")try{Se=new we(Se,this.options)}catch{return!1}return me(Se,this.operator,this.semver,this.options)}intersects(Se,Ie){if(!(Se instanceof Y))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ee(Se.value,Ie).test(this.value):Se.operator===""?Se.value===""?!0:new Ee(this.value,Ie).test(Se.semver):(Ie=ne(Ie),Ie.includePrerelease&&(this.value==="<0.0.0-0"||Se.value==="<0.0.0-0")||!Ie.includePrerelease&&(this.value.startsWith("<0.0.0")||Se.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&Se.operator.startsWith(">")||this.operator.startsWith("<")&&Se.operator.startsWith("<")||this.semver.version===Se.semver.version&&this.operator.includes("=")&&Se.operator.includes("=")||me(this.semver,"<",Se.semver,Ie)&&this.operator.startsWith(">")&&Se.operator.startsWith("<")||me(this.semver,">",Se.semver,Ie)&&this.operator.startsWith("<")&&Se.operator.startsWith(">")))}}comparator=Y;const ne=requireParseOptions(),{safeRe:fe,t:ye}=requireRe(),me=requireCmp(),be=requireDebug(),we=requireSemver$1(),Ee=requireRange();return comparator}var satisfies_1,hasRequiredSatisfies;function requireSatisfies(){if(hasRequiredSatisfies)return satisfies_1;hasRequiredSatisfies=1;const se=requireRange();return satisfies_1=(ne,fe,ye)=>{try{fe=new se(fe,ye)}catch{return!1}return fe.test(ne)},satisfies_1}var toComparators_1,hasRequiredToComparators;function requireToComparators(){if(hasRequiredToComparators)return toComparators_1;hasRequiredToComparators=1;const se=requireRange();return toComparators_1=(ne,fe)=>new se(ne,fe).set.map(ye=>ye.map(me=>me.value).join(" ").trim().split(" ")),toComparators_1}var maxSatisfying_1,hasRequiredMaxSatisfying;function requireMaxSatisfying(){if(hasRequiredMaxSatisfying)return maxSatisfying_1;hasRequiredMaxSatisfying=1;const se=requireSemver$1(),Y=requireRange();return maxSatisfying_1=(fe,ye,me)=>{let be=null,we=null,Ee=null;try{Ee=new Y(ye,me)}catch{return null}return fe.forEach(xe=>{Ee.test(xe)&&(!be||we.compare(xe)===-1)&&(be=xe,we=new se(be,me))}),be},maxSatisfying_1}var minSatisfying_1,hasRequiredMinSatisfying;function requireMinSatisfying(){if(hasRequiredMinSatisfying)return minSatisfying_1;hasRequiredMinSatisfying=1;const se=requireSemver$1(),Y=requireRange();return minSatisfying_1=(fe,ye,me)=>{let be=null,we=null,Ee=null;try{Ee=new Y(ye,me)}catch{return null}return fe.forEach(xe=>{Ee.test(xe)&&(!be||we.compare(xe)===1)&&(be=xe,we=new se(be,me))}),be},minSatisfying_1}var minVersion_1,hasRequiredMinVersion;function requireMinVersion(){if(hasRequiredMinVersion)return minVersion_1;hasRequiredMinVersion=1;const se=requireSemver$1(),Y=requireRange(),ne=requireGt();return minVersion_1=(ye,me)=>{ye=new Y(ye,me);let be=new se("0.0.0");if(ye.test(be)||(be=new se("0.0.0-0"),ye.test(be)))return be;be=null;for(let we=0;we<ye.set.length;++we){const Ee=ye.set[we];let xe=null;Ee.forEach(Se=>{const Ie=new se(Se.semver.version);switch(Se.operator){case">":Ie.prerelease.length===0?Ie.patch++:Ie.prerelease.push(0),Ie.raw=Ie.format();case"":case">=":(!xe||ne(Ie,xe))&&(xe=Ie);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${Se.operator}`)}}),xe&&(!be||ne(be,xe))&&(be=xe)}return be&&ye.test(be)?be:null},minVersion_1}var valid,hasRequiredValid;function requireValid(){if(hasRequiredValid)return valid;hasRequiredValid=1;const se=requireRange();return valid=(ne,fe)=>{try{return new se(ne,fe).range||"*"}catch{return null}},valid}var outside_1,hasRequiredOutside;function requireOutside(){if(hasRequiredOutside)return outside_1;hasRequiredOutside=1;const se=requireSemver$1(),Y=requireComparator(),{ANY:ne}=Y,fe=requireRange(),ye=requireSatisfies(),me=requireGt(),be=requireLt(),we=requireLte(),Ee=requireGte();return outside_1=(Se,Ie,fr,br)=>{Se=new se(Se,br),Ie=new fe(Ie,br);let kr,Wr,Gr,jr,Qr;switch(fr){case">":kr=me,Wr=we,Gr=be,jr=">",Qr=">=";break;case"<":kr=be,Wr=Ee,Gr=me,jr="<",Qr="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ye(Se,Ie,br))return!1;for(let wn=0;wn<Ie.set.length;++wn){const En=Ie.set[wn];let Rn=null,An=null;if(En.forEach($n=>{$n.semver===ne&&($n=new Y(">=0.0.0")),Rn=Rn||$n,An=An||$n,kr($n.semver,Rn.semver,br)?Rn=$n:Gr($n.semver,An.semver,br)&&(An=$n)}),Rn.operator===jr||Rn.operator===Qr||(!An.operator||An.operator===jr)&&Wr(Se,An.semver))return!1;if(An.operator===Qr&&Gr(Se,An.semver))return!1}return!0},outside_1}var gtr_1,hasRequiredGtr;function requireGtr(){if(hasRequiredGtr)return gtr_1;hasRequiredGtr=1;const se=requireOutside();return gtr_1=(ne,fe,ye)=>se(ne,fe,">",ye),gtr_1}var ltr_1,hasRequiredLtr;function requireLtr(){if(hasRequiredLtr)return ltr_1;hasRequiredLtr=1;const se=requireOutside();return ltr_1=(ne,fe,ye)=>se(ne,fe,"<",ye),ltr_1}var intersects_1,hasRequiredIntersects;function requireIntersects(){if(hasRequiredIntersects)return intersects_1;hasRequiredIntersects=1;const se=requireRange();return intersects_1=(ne,fe,ye)=>(ne=new se(ne,ye),fe=new se(fe,ye),ne.intersects(fe,ye)),intersects_1}var simplify,hasRequiredSimplify;function requireSimplify(){if(hasRequiredSimplify)return simplify;hasRequiredSimplify=1;const se=requireSatisfies(),Y=requireCompare();return simplify=(ne,fe,ye)=>{const me=[];let be=null,we=null;const Ee=ne.sort((fr,br)=>Y(fr,br,ye));for(const fr of Ee)se(fr,fe,ye)?(we=fr,be||(be=fr)):(we&&me.push([be,we]),we=null,be=null);be&&me.push([be,null]);const xe=[];for(const[fr,br]of me)fr===br?xe.push(fr):!br&&fr===Ee[0]?xe.push("*"):br?fr===Ee[0]?xe.push(`<=${br}`):xe.push(`${fr} - ${br}`):xe.push(`>=${fr}`);const Se=xe.join(" || "),Ie=typeof fe.raw=="string"?fe.raw:String(fe);return Se.length<Ie.length?Se:fe},simplify}var subset_1,hasRequiredSubset;function requireSubset(){if(hasRequiredSubset)return subset_1;hasRequiredSubset=1;const se=requireRange(),Y=requireComparator(),{ANY:ne}=Y,fe=requireSatisfies(),ye=requireCompare(),me=(Ie,fr,br={})=>{if(Ie===fr)return!0;Ie=new se(Ie,br),fr=new se(fr,br);let kr=!1;e:for(const Wr of Ie.set){for(const Gr of fr.set){const jr=Ee(Wr,Gr,br);if(kr=kr||jr!==null,jr)continue e}if(kr)return!1}return!0},be=[new Y(">=0.0.0-0")],we=[new Y(">=0.0.0")],Ee=(Ie,fr,br)=>{if(Ie===fr)return!0;if(Ie.length===1&&Ie[0].semver===ne){if(fr.length===1&&fr[0].semver===ne)return!0;br.includePrerelease?Ie=be:Ie=we}if(fr.length===1&&fr[0].semver===ne){if(br.includePrerelease)return!0;fr=we}const kr=new Set;let Wr,Gr;for(const Tn of Ie)Tn.operator===">"||Tn.operator===">="?Wr=xe(Wr,Tn,br):Tn.operator==="<"||Tn.operator==="<="?Gr=Se(Gr,Tn,br):kr.add(Tn.semver);if(kr.size>1)return null;let jr;if(Wr&&Gr){if(jr=ye(Wr.semver,Gr.semver,br),jr>0)return null;if(jr===0&&(Wr.operator!==">="||Gr.operator!=="<="))return null}for(const Tn of kr){if(Wr&&!fe(Tn,String(Wr),br)||Gr&&!fe(Tn,String(Gr),br))return null;for(const ti of fr)if(!fe(Tn,String(ti),br))return!1;return!0}let Qr,wn,En,Rn,An=Gr&&!br.includePrerelease&&Gr.semver.prerelease.length?Gr.semver:!1,$n=Wr&&!br.includePrerelease&&Wr.semver.prerelease.length?Wr.semver:!1;An&&An.prerelease.length===1&&Gr.operator==="<"&&An.prerelease[0]===0&&(An=!1);for(const Tn of fr){if(Rn=Rn||Tn.operator===">"||Tn.operator===">=",En=En||Tn.operator==="<"||Tn.operator==="<=",Wr){if($n&&Tn.semver.prerelease&&Tn.semver.prerelease.length&&Tn.semver.major===$n.major&&Tn.semver.minor===$n.minor&&Tn.semver.patch===$n.patch&&($n=!1),Tn.operator===">"||Tn.operator===">="){if(Qr=xe(Wr,Tn,br),Qr===Tn&&Qr!==Wr)return!1}else if(Wr.operator===">="&&!fe(Wr.semver,String(Tn),br))return!1}if(Gr){if(An&&Tn.semver.prerelease&&Tn.semver.prerelease.length&&Tn.semver.major===An.major&&Tn.semver.minor===An.minor&&Tn.semver.patch===An.patch&&(An=!1),Tn.operator==="<"||Tn.operator==="<="){if(wn=Se(Gr,Tn,br),wn===Tn&&wn!==Gr)return!1}else if(Gr.operator==="<="&&!fe(Gr.semver,String(Tn),br))return!1}if(!Tn.operator&&(Gr||Wr)&&jr!==0)return!1}return!(Wr&&En&&!Gr&&jr!==0||Gr&&Rn&&!Wr&&jr!==0||$n||An)},xe=(Ie,fr,br)=>{if(!Ie)return fr;const kr=ye(Ie.semver,fr.semver,br);return kr>0?Ie:kr<0||fr.operator===">"&&Ie.operator===">="?fr:Ie},Se=(Ie,fr,br)=>{if(!Ie)return fr;const kr=ye(Ie.semver,fr.semver,br);return kr<0?Ie:kr>0||fr.operator==="<"&&Ie.operator==="<="?fr:Ie};return subset_1=me,subset_1}var semver,hasRequiredSemver;function requireSemver(){if(hasRequiredSemver)return semver;hasRequiredSemver=1;const se=requireRe(),Y=requireConstants(),ne=requireSemver$1(),fe=requireIdentifiers(),ye=requireParse(),me=requireValid$1(),be=requireClean(),we=requireInc(),Ee=requireDiff(),xe=requireMajor(),Se=requireMinor(),Ie=requirePatch(),fr=requirePrerelease(),br=requireCompare(),kr=requireRcompare(),Wr=requireCompareLoose(),Gr=requireCompareBuild(),jr=requireSort(),Qr=requireRsort(),wn=requireGt(),En=requireLt(),Rn=requireEq(),An=requireNeq(),$n=requireGte(),Tn=requireLte(),ti=requireCmp(),ai=requireCoerce(),On=requireComparator(),Sn=requireRange(),Zr=requireSatisfies(),Oe=requireToComparators(),wr=requireMaxSatisfying(),qr=requireMinSatisfying(),Vr=requireMinVersion(),Jr=requireValid(),Xr=requireOutside(),Kr=requireGtr(),Yr=requireLtr(),Br=requireIntersects(),_n=requireSimplify(),ii=requireSubset();return semver={parse:ye,valid:me,clean:be,inc:we,diff:Ee,major:xe,minor:Se,patch:Ie,prerelease:fr,compare:br,rcompare:kr,compareLoose:Wr,compareBuild:Gr,sort:jr,rsort:Qr,gt:wn,lt:En,eq:Rn,neq:An,gte:$n,lte:Tn,cmp:ti,coerce:ai,Comparator:On,Range:Sn,satisfies:Zr,toComparators:Oe,maxSatisfying:wr,minSatisfying:qr,minVersion:Vr,validRange:Jr,outside:Xr,gtr:Kr,ltr:Yr,intersects:Br,simplifyRange:_n,subset:ii,SemVer:ne,re:se.re,src:se.src,tokens:se.t,SEMVER_SPEC_VERSION:Y.SEMVER_SPEC_VERSION,RELEASE_TYPES:Y.RELEASE_TYPES,compareIdentifiers:fe.compareIdentifiers,rcompareIdentifiers:fe.rcompareIdentifiers},semver}var hasRequiredVersions;function requireVersions(){return hasRequiredVersions||(hasRequiredVersions=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.satisfiesVersionRange=se.gtRange=se.gtVersion=se.assertIsSemVerRange=se.assertIsSemVerVersion=se.isValidSemVerRange=se.isValidSemVerVersion=se.VersionRangeStruct=se.VersionStruct=void 0;const Y=requireSemver(),ne=require$$1,fe=requireAssert();se.VersionStruct=(0,ne.refine)((0,ne.string)(),"Version",Ie=>(0,Y.valid)(Ie)===null?`Expected SemVer version, got "${Ie}"`:!0),se.VersionRangeStruct=(0,ne.refine)((0,ne.string)(),"Version range",Ie=>(0,Y.validRange)(Ie)===null?`Expected SemVer range, got "${Ie}"`:!0);function ye(Ie){return(0,ne.is)(Ie,se.VersionStruct)}se.isValidSemVerVersion=ye;function me(Ie){return(0,ne.is)(Ie,se.VersionRangeStruct)}se.isValidSemVerRange=me;function be(Ie){(0,fe.assertStruct)(Ie,se.VersionStruct)}se.assertIsSemVerVersion=be;function we(Ie){(0,fe.assertStruct)(Ie,se.VersionRangeStruct)}se.assertIsSemVerRange=we;function Ee(Ie,fr){return(0,Y.gt)(Ie,fr)}se.gtVersion=Ee;function xe(Ie,fr){return(0,Y.gtr)(Ie,fr)}se.gtRange=xe;function Se(Ie,fr){return(0,Y.satisfies)(Ie,fr,{includePrerelease:!0})}se.satisfiesVersionRange=Se}(versions)),versions}var hasRequiredDist$4;function requireDist$4(){return hasRequiredDist$4||(hasRequiredDist$4=1,function(se){var Y=dist$3.__createBinding||(Object.create?function(fe,ye,me,be){be===void 0&&(be=me);var we=Object.getOwnPropertyDescriptor(ye,me);(!we||("get"in we?!ye.__esModule:we.writable||we.configurable))&&(we={enumerable:!0,get:function(){return ye[me]}}),Object.defineProperty(fe,be,we)}:function(fe,ye,me,be){be===void 0&&(be=me),fe[be]=ye[me]}),ne=dist$3.__exportStar||function(fe,ye){for(var me in fe)me!=="default"&&!Object.prototype.hasOwnProperty.call(ye,me)&&Y(ye,fe,me)};Object.defineProperty(se,"__esModule",{value:!0}),ne(requireAssert(),se),ne(requireBase64(),se),ne(requireBytes(),se),ne(requireChecksum(),se),ne(requireCoercers(),se),ne(requireCollections(),se),ne(requireEncryptionTypes(),se),ne(requireHex(),se),ne(requireJson(),se),ne(requireKeyring(),se),ne(requireLogging(),se),ne(requireMisc(),se),ne(requireNumber(),se),ne(requireOpaque(),se),ne(requireTime(),se),ne(requireTransactionTypes(),se),ne(requireVersions(),se)}(dist$3)),dist$3}var hasRequiredLoggingUtils;function requireLoggingUtils(){return hasRequiredLoggingUtils||(hasRequiredLoggingUtils=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.createModuleLogger=se.projectLogger=void 0;const Y=requireDist$4();Object.defineProperty(se,"createModuleLogger",{enumerable:!0,get:function(){return Y.createModuleLogger}}),se.projectLogger=(0,Y.createProjectLogger)("eth-block-tracker")}(loggingUtils)),loggingUtils}var hasRequiredPollingBlockTracker;function requirePollingBlockTracker(){if(hasRequiredPollingBlockTracker)return PollingBlockTracker;hasRequiredPollingBlockTracker=1;var se=PollingBlockTracker.__importDefault||function(Se){return Se&&Se.__esModule?Se:{default:Se}};Object.defineProperty(PollingBlockTracker,"__esModule",{value:!0}),PollingBlockTracker.PollingBlockTracker=void 0;const Y=se(requireJsonRpcRandomId()),ne=se(requirePify$1()),fe=requireBaseBlockTracker(),ye=requireLoggingUtils(),me=(0,ye.createModuleLogger)(ye.projectLogger,"polling-block-tracker"),be=(0,Y.default)(),we=1e3;let Ee=class extends fe.BaseBlockTracker{constructor(Ie={}){var fr;if(!Ie.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},Ie),{blockResetDuration:(fr=Ie.blockResetDuration)!==null&&fr!==void 0?fr:Ie.pollingInterval})),this._provider=Ie.provider,this._pollingInterval=Ie.pollingInterval||20*we,this._retryTimeout=Ie.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=Ie.keepEventLoopActive===void 0?!0:Ie.keepEventLoopActive,this._setSkipCacheFlag=Ie.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var Ie;this._isRunning;)try{await this._updateLatestBlock();const fr=xe(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await fr}catch(fr){const br=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(Ie=fr.stack)!==null&&Ie!==void 0?Ie:fr}`);try{this.emit("error",br)}catch{console.error(br)}const kr=xe(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await kr}}async _updateLatestBlock(){const Ie=await this._fetchLatestBlock();this._newPotentialLatest(Ie)}async _fetchLatestBlock(){const Ie={jsonrpc:"2.0",id:be(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(Ie.skipCache=!0),me("Making request",Ie);const fr=await(0,ne.default)(br=>this._provider.sendAsync(Ie,br))();if(me("Got response",fr),fr.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${fr.error.message}`);return fr.result}};PollingBlockTracker.PollingBlockTracker=Ee;function xe(Se,Ie){return new Promise(fr=>{const br=setTimeout(fr,Se);br.unref&&Ie&&br.unref()})}return PollingBlockTracker}var SubscribeBlockTracker={},hasRequiredSubscribeBlockTracker;function requireSubscribeBlockTracker(){if(hasRequiredSubscribeBlockTracker)return SubscribeBlockTracker;hasRequiredSubscribeBlockTracker=1;var se=SubscribeBlockTracker.__importDefault||function(me){return me&&me.__esModule?me:{default:me}};Object.defineProperty(SubscribeBlockTracker,"__esModule",{value:!0}),SubscribeBlockTracker.SubscribeBlockTracker=void 0;const Y=se(requireJsonRpcRandomId()),ne=requireBaseBlockTracker(),fe=(0,Y.default)();let ye=class extends ne.BaseBlockTracker{constructor(be={}){if(!be.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(be),this._provider=be.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const be=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(be)}catch(be){this.emit("error",be)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(be){this.emit("error",be)}}_call(be,...we){return new Promise((Ee,xe)=>{this._provider.sendAsync({id:fe(),method:be,params:we,jsonrpc:"2.0"},(Se,Ie)=>{Se?xe(Se):Ee(Ie.result)})})}_handleSubData(be,we){var Ee;we.method==="eth_subscription"&&((Ee=we.params)===null||Ee===void 0?void 0:Ee.subscription)===this._subscriptionId&&this._newPotentialLatest(we.params.result.number)}};return SubscribeBlockTracker.SubscribeBlockTracker=ye,SubscribeBlockTracker}var hasRequiredDist$3;function requireDist$3(){return hasRequiredDist$3||(hasRequiredDist$3=1,function(se){var Y=dist$4.__createBinding||(Object.create?function(fe,ye,me,be){be===void 0&&(be=me),Object.defineProperty(fe,be,{enumerable:!0,get:function(){return ye[me]}})}:function(fe,ye,me,be){be===void 0&&(be=me),fe[be]=ye[me]}),ne=dist$4.__exportStar||function(fe,ye){for(var me in fe)me!=="default"&&!Object.prototype.hasOwnProperty.call(ye,me)&&Y(ye,fe,me)};Object.defineProperty(se,"__esModule",{value:!0}),ne(requirePollingBlockTracker(),se),ne(requireSubscribeBlockTracker(),se)}(dist$4)),dist$4}var dist$1={},idRemapMiddleware={},getUniqueId={},hasRequiredGetUniqueId;function requireGetUniqueId(){if(hasRequiredGetUniqueId)return getUniqueId;hasRequiredGetUniqueId=1,Object.defineProperty(getUniqueId,"__esModule",{value:!0}),getUniqueId.getUniqueId=void 0;const se=4294967295;let Y=Math.floor(Math.random()*se);function ne(){return Y=(Y+1)%se,Y}return getUniqueId.getUniqueId=ne,getUniqueId}var hasRequiredIdRemapMiddleware;function requireIdRemapMiddleware(){if(hasRequiredIdRemapMiddleware)return idRemapMiddleware;hasRequiredIdRemapMiddleware=1,Object.defineProperty(idRemapMiddleware,"__esModule",{value:!0}),idRemapMiddleware.createIdRemapMiddleware=void 0;const se=requireGetUniqueId();function Y(){return(ne,fe,ye,me)=>{const be=ne.id,we=se.getUniqueId();ne.id=we,fe.id=we,ye(Ee=>{ne.id=be,fe.id=be,Ee()})}}return idRemapMiddleware.createIdRemapMiddleware=Y,idRemapMiddleware}var createAsyncMiddleware={},hasRequiredCreateAsyncMiddleware;function requireCreateAsyncMiddleware(){if(hasRequiredCreateAsyncMiddleware)return createAsyncMiddleware;hasRequiredCreateAsyncMiddleware=1,Object.defineProperty(createAsyncMiddleware,"__esModule",{value:!0}),createAsyncMiddleware.createAsyncMiddleware=void 0;function se(Y){return async(ne,fe,ye,me)=>{let be;const we=new Promise(Ie=>{be=Ie});let Ee=null,xe=!1;const Se=async()=>{xe=!0,ye(Ie=>{Ee=Ie,be()}),await we};try{await Y(ne,fe,Se),xe?(await we,Ee(null)):me(null)}catch(Ie){Ee?Ee(Ie):me(Ie)}}}return createAsyncMiddleware.createAsyncMiddleware=se,createAsyncMiddleware}var createScaffoldMiddleware={},hasRequiredCreateScaffoldMiddleware;function requireCreateScaffoldMiddleware(){if(hasRequiredCreateScaffoldMiddleware)return createScaffoldMiddleware;hasRequiredCreateScaffoldMiddleware=1,Object.defineProperty(createScaffoldMiddleware,"__esModule",{value:!0}),createScaffoldMiddleware.createScaffoldMiddleware=void 0;function se(Y){return(ne,fe,ye,me)=>{const be=Y[ne.method];return be===void 0?ye():typeof be=="function"?be(ne,fe,ye,me):(fe.result=be,me())}}return createScaffoldMiddleware.createScaffoldMiddleware=se,createScaffoldMiddleware}var JsonRpcEngine={},safeEventEmitter={},hasRequiredSafeEventEmitter;function requireSafeEventEmitter(){if(hasRequiredSafeEventEmitter)return safeEventEmitter;hasRequiredSafeEventEmitter=1,Object.defineProperty(safeEventEmitter,"__esModule",{value:!0});const se=requireEvents();function Y(ye,me,be){try{Reflect.apply(ye,me,be)}catch(we){setTimeout(()=>{throw we})}}function ne(ye){const me=ye.length,be=new Array(me);for(let we=0;we<me;we+=1)be[we]=ye[we];return be}class fe extends se.EventEmitter{emit(me,...be){let we=me==="error";const Ee=this._events;if(Ee!==void 0)we=we&&Ee.error===void 0;else if(!we)return!1;if(we){let Se;if(be.length>0&&([Se]=be),Se instanceof Error)throw Se;const Ie=new Error(`Unhandled error.${Se?` (${Se.message})`:""}`);throw Ie.context=Se,Ie}const xe=Ee[me];if(xe===void 0)return!1;if(typeof xe=="function")Y(xe,this,be);else{const Se=xe.length,Ie=ne(xe);for(let fr=0;fr<Se;fr+=1)Y(Ie[fr],this,be)}return!0}}return safeEventEmitter.default=fe,safeEventEmitter}var dist={},classes={},fastSafeStringify,hasRequiredFastSafeStringify;function requireFastSafeStringify(){if(hasRequiredFastSafeStringify)return fastSafeStringify;hasRequiredFastSafeStringify=1,fastSafeStringify=me,me.default=me,me.stable=xe,me.stableStringify=xe;var se="[...]",Y="[Circular]",ne=[],fe=[];function ye(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function me(fr,br,kr,Wr){typeof Wr>"u"&&(Wr=ye()),we(fr,"",0,[],void 0,0,Wr);var Gr;try{fe.length===0?Gr=JSON.stringify(fr,br,kr):Gr=JSON.stringify(fr,Ie(br),kr)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ne.length!==0;){var jr=ne.pop();jr.length===4?Object.defineProperty(jr[0],jr[1],jr[3]):jr[0][jr[1]]=jr[2]}}return Gr}function be(fr,br,kr,Wr){var Gr=Object.getOwnPropertyDescriptor(Wr,kr);Gr.get!==void 0?Gr.configurable?(Object.defineProperty(Wr,kr,{value:fr}),ne.push([Wr,kr,br,Gr])):fe.push([br,kr,fr]):(Wr[kr]=fr,ne.push([Wr,kr,br]))}function we(fr,br,kr,Wr,Gr,jr,Qr){jr+=1;var wn;if(typeof fr=="object"&&fr!==null){for(wn=0;wn<Wr.length;wn++)if(Wr[wn]===fr){be(Y,fr,br,Gr);return}if(typeof Qr.depthLimit<"u"&&jr>Qr.depthLimit){be(se,fr,br,Gr);return}if(typeof Qr.edgesLimit<"u"&&kr+1>Qr.edgesLimit){be(se,fr,br,Gr);return}if(Wr.push(fr),Array.isArray(fr))for(wn=0;wn<fr.length;wn++)we(fr[wn],wn,wn,Wr,fr,jr,Qr);else{var En=Object.keys(fr);for(wn=0;wn<En.length;wn++){var Rn=En[wn];we(fr[Rn],Rn,wn,Wr,fr,jr,Qr)}}Wr.pop()}}function Ee(fr,br){return fr<br?-1:fr>br?1:0}function xe(fr,br,kr,Wr){typeof Wr>"u"&&(Wr=ye());var Gr=Se(fr,"",0,[],void 0,0,Wr)||fr,jr;try{fe.length===0?jr=JSON.stringify(Gr,br,kr):jr=JSON.stringify(Gr,Ie(br),kr)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ne.length!==0;){var Qr=ne.pop();Qr.length===4?Object.defineProperty(Qr[0],Qr[1],Qr[3]):Qr[0][Qr[1]]=Qr[2]}}return jr}function Se(fr,br,kr,Wr,Gr,jr,Qr){jr+=1;var wn;if(typeof fr=="object"&&fr!==null){for(wn=0;wn<Wr.length;wn++)if(Wr[wn]===fr){be(Y,fr,br,Gr);return}try{if(typeof fr.toJSON=="function")return}catch{return}if(typeof Qr.depthLimit<"u"&&jr>Qr.depthLimit){be(se,fr,br,Gr);return}if(typeof Qr.edgesLimit<"u"&&kr+1>Qr.edgesLimit){be(se,fr,br,Gr);return}if(Wr.push(fr),Array.isArray(fr))for(wn=0;wn<fr.length;wn++)Se(fr[wn],wn,wn,Wr,fr,jr,Qr);else{var En={},Rn=Object.keys(fr).sort(Ee);for(wn=0;wn<Rn.length;wn++){var An=Rn[wn];Se(fr[An],An,wn,Wr,fr,jr,Qr),En[An]=fr[An]}if(typeof Gr<"u")ne.push([Gr,br,fr]),Gr[br]=En;else return En}Wr.pop()}}function Ie(fr){return fr=typeof fr<"u"?fr:function(br,kr){return kr},function(br,kr){if(fe.length>0)for(var Wr=0;Wr<fe.length;Wr++){var Gr=fe[Wr];if(Gr[1]===br&&Gr[0]===kr){kr=Gr[2],fe.splice(Wr,1);break}}return fr.call(this,br,kr)}}return fastSafeStringify}var hasRequiredClasses;function requireClasses(){if(hasRequiredClasses)return classes;hasRequiredClasses=1,Object.defineProperty(classes,"__esModule",{value:!0}),classes.EthereumProviderError=classes.EthereumRpcError=void 0;const se=requireFastSafeStringify();class Y extends Error{constructor(be,we,Ee){if(!Number.isInteger(be))throw new Error('"code" must be an integer.');if(!we||typeof we!="string")throw new Error('"message" must be a nonempty string.');super(we),this.code=be,Ee!==void 0&&(this.data=Ee)}serialize(){const be={code:this.code,message:this.message};return this.data!==void 0&&(be.data=this.data),this.stack&&(be.stack=this.stack),be}toString(){return se.default(this.serialize(),ye,2)}}classes.EthereumRpcError=Y;class ne extends Y{constructor(be,we,Ee){if(!fe(be))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(be,we,Ee)}}classes.EthereumProviderError=ne;function fe(me){return Number.isInteger(me)&&me>=1e3&&me<=4999}function ye(me,be){if(be!=="[Circular]")return be}return classes}var utils={},errorConstants={},hasRequiredErrorConstants;function requireErrorConstants(){return hasRequiredErrorConstants||(hasRequiredErrorConstants=1,Object.defineProperty(errorConstants,"__esModule",{value:!0}),errorConstants.errorValues=errorConstants.errorCodes=void 0,errorConstants.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},errorConstants.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}),errorConstants}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.serializeError=se.isValidCode=se.getMessageFromCode=se.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const Y=requireErrorConstants(),ne=requireClasses(),fe=Y.errorCodes.rpc.internal,ye="Unspecified error message. This is a bug, please report it.",me={code:fe,message:be(fe)};se.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function be(fr,br=ye){if(Number.isInteger(fr)){const kr=fr.toString();if(Ie(Y.errorValues,kr))return Y.errorValues[kr].message;if(xe(fr))return se.JSON_RPC_SERVER_ERROR_MESSAGE}return br}se.getMessageFromCode=be;function we(fr){if(!Number.isInteger(fr))return!1;const br=fr.toString();return!!(Y.errorValues[br]||xe(fr))}se.isValidCode=we;function Ee(fr,{fallbackError:br=me,shouldIncludeStack:kr=!1}={}){var Wr,Gr;if(!br||!Number.isInteger(br.code)||typeof br.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(fr instanceof ne.EthereumRpcError)return fr.serialize();const jr={};if(fr&&typeof fr=="object"&&!Array.isArray(fr)&&Ie(fr,"code")&&we(fr.code)){const wn=fr;jr.code=wn.code,wn.message&&typeof wn.message=="string"?(jr.message=wn.message,Ie(wn,"data")&&(jr.data=wn.data)):(jr.message=be(jr.code),jr.data={originalError:Se(fr)})}else{jr.code=br.code;const wn=(Wr=fr)===null||Wr===void 0?void 0:Wr.message;jr.message=wn&&typeof wn=="string"?wn:br.message,jr.data={originalError:Se(fr)}}const Qr=(Gr=fr)===null||Gr===void 0?void 0:Gr.stack;return kr&&fr&&Qr&&typeof Qr=="string"&&(jr.stack=Qr),jr}se.serializeError=Ee;function xe(fr){return fr>=-32099&&fr<=-32e3}function Se(fr){return fr&&typeof fr=="object"&&!Array.isArray(fr)?Object.assign({},fr):fr}function Ie(fr,br){return Object.prototype.hasOwnProperty.call(fr,br)}}(utils)),utils}var errors={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.ethErrors=void 0;const se=requireClasses(),Y=requireUtils(),ne=requireErrorConstants();errors.ethErrors={rpc:{parse:be=>fe(ne.errorCodes.rpc.parse,be),invalidRequest:be=>fe(ne.errorCodes.rpc.invalidRequest,be),invalidParams:be=>fe(ne.errorCodes.rpc.invalidParams,be),methodNotFound:be=>fe(ne.errorCodes.rpc.methodNotFound,be),internal:be=>fe(ne.errorCodes.rpc.internal,be),server:be=>{if(!be||typeof be!="object"||Array.isArray(be))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:we}=be;if(!Number.isInteger(we)||we>-32005||we<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return fe(we,be)},invalidInput:be=>fe(ne.errorCodes.rpc.invalidInput,be),resourceNotFound:be=>fe(ne.errorCodes.rpc.resourceNotFound,be),resourceUnavailable:be=>fe(ne.errorCodes.rpc.resourceUnavailable,be),transactionRejected:be=>fe(ne.errorCodes.rpc.transactionRejected,be),methodNotSupported:be=>fe(ne.errorCodes.rpc.methodNotSupported,be),limitExceeded:be=>fe(ne.errorCodes.rpc.limitExceeded,be)},provider:{userRejectedRequest:be=>ye(ne.errorCodes.provider.userRejectedRequest,be),unauthorized:be=>ye(ne.errorCodes.provider.unauthorized,be),unsupportedMethod:be=>ye(ne.errorCodes.provider.unsupportedMethod,be),disconnected:be=>ye(ne.errorCodes.provider.disconnected,be),chainDisconnected:be=>ye(ne.errorCodes.provider.chainDisconnected,be),custom:be=>{if(!be||typeof be!="object"||Array.isArray(be))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:we,message:Ee,data:xe}=be;if(!Ee||typeof Ee!="string")throw new Error('"message" must be a nonempty string');return new se.EthereumProviderError(we,Ee,xe)}}};function fe(be,we){const[Ee,xe]=me(we);return new se.EthereumRpcError(be,Ee||Y.getMessageFromCode(be),xe)}function ye(be,we){const[Ee,xe]=me(we);return new se.EthereumProviderError(be,Ee||Y.getMessageFromCode(be),xe)}function me(be){if(be){if(typeof be=="string")return[be];if(typeof be=="object"&&!Array.isArray(be)){const{message:we,data:Ee}=be;if(we&&typeof we!="string")throw new Error("Must specify string message.");return[we||void 0,Ee]}}return[]}return errors}var hasRequiredDist$2;function requireDist$2(){return hasRequiredDist$2||(hasRequiredDist$2=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.getMessageFromCode=se.serializeError=se.EthereumProviderError=se.EthereumRpcError=se.ethErrors=se.errorCodes=void 0;const Y=requireClasses();Object.defineProperty(se,"EthereumRpcError",{enumerable:!0,get:function(){return Y.EthereumRpcError}}),Object.defineProperty(se,"EthereumProviderError",{enumerable:!0,get:function(){return Y.EthereumProviderError}});const ne=requireUtils();Object.defineProperty(se,"serializeError",{enumerable:!0,get:function(){return ne.serializeError}}),Object.defineProperty(se,"getMessageFromCode",{enumerable:!0,get:function(){return ne.getMessageFromCode}});const fe=requireErrors();Object.defineProperty(se,"ethErrors",{enumerable:!0,get:function(){return fe.ethErrors}});const ye=requireErrorConstants();Object.defineProperty(se,"errorCodes",{enumerable:!0,get:function(){return ye.errorCodes}})}(dist)),dist}var hasRequiredJsonRpcEngine;function requireJsonRpcEngine(){if(hasRequiredJsonRpcEngine)return JsonRpcEngine;hasRequiredJsonRpcEngine=1;var se=JsonRpcEngine.__importDefault||function(me){return me&&me.__esModule?me:{default:me}};Object.defineProperty(JsonRpcEngine,"__esModule",{value:!0}),JsonRpcEngine.JsonRpcEngine=void 0;const Y=se(requireSafeEventEmitter()),ne=requireDist$2();let fe=class Yu extends Y.default{constructor(){super(),this._middleware=[]}push(be){this._middleware.push(be)}handle(be,we){if(we&&typeof we!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(be)?we?this._handleBatch(be,we):this._handleBatch(be):we?this._handle(be,we):this._promiseHandle(be)}asMiddleware(){return async(be,we,Ee,xe)=>{try{const[Se,Ie,fr]=await Yu._runAllMiddleware(be,we,this._middleware);return Ie?(await Yu._runReturnHandlers(fr),xe(Se)):Ee(async br=>{try{await Yu._runReturnHandlers(fr)}catch(kr){return br(kr)}return br()})}catch(Se){return xe(Se)}}}async _handleBatch(be,we){try{const Ee=await Promise.all(be.map(this._promiseHandle.bind(this)));return we?we(null,Ee):Ee}catch(Ee){if(we)return we(Ee);throw Ee}}_promiseHandle(be){return new Promise(we=>{this._handle(be,(Ee,xe)=>{we(xe)})})}async _handle(be,we){if(!be||Array.isArray(be)||typeof be!="object"){const Ie=new ne.EthereumRpcError(ne.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof be}`,{request:be});return we(Ie,{id:void 0,jsonrpc:"2.0",error:Ie})}if(typeof be.method!="string"){const Ie=new ne.EthereumRpcError(ne.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof be.method}`,{request:be});return we(Ie,{id:be.id,jsonrpc:"2.0",error:Ie})}const Ee=Object.assign({},be),xe={id:Ee.id,jsonrpc:Ee.jsonrpc};let Se=null;try{await this._processRequest(Ee,xe)}catch(Ie){Se=Ie}return Se&&(delete xe.result,xe.error||(xe.error=ne.serializeError(Se))),we(Se,xe)}async _processRequest(be,we){const[Ee,xe,Se]=await Yu._runAllMiddleware(be,we,this._middleware);if(Yu._checkForCompletion(be,we,xe),await Yu._runReturnHandlers(Se),Ee)throw Ee}static async _runAllMiddleware(be,we,Ee){const xe=[];let Se=null,Ie=!1;for(const fr of Ee)if([Se,Ie]=await Yu._runMiddleware(be,we,fr,xe),Ie)break;return[Se,Ie,xe.reverse()]}static _runMiddleware(be,we,Ee,xe){return new Promise(Se=>{const Ie=br=>{const kr=br||we.error;kr&&(we.error=ne.serializeError(kr)),Se([kr,!0])},fr=br=>{we.error?Ie(we.error):(br&&(typeof br!="function"&&Ie(new ne.EthereumRpcError(ne.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof br}" for request:
${ye(be)}`,{request:be})),xe.push(br)),Se([null,!1]))};try{Ee(be,we,fr,Ie)}catch(br){Ie(br)}})}static async _runReturnHandlers(be){for(const we of be)await new Promise((Ee,xe)=>{we(Se=>Se?xe(Se):Ee())})}static _checkForCompletion(be,we,Ee){if(!("result"in we)&&!("error"in we))throw new ne.EthereumRpcError(ne.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${ye(be)}`,{request:be});if(!Ee)throw new ne.EthereumRpcError(ne.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${ye(be)}`,{request:be})}};JsonRpcEngine.JsonRpcEngine=fe;function ye(me){return JSON.stringify(me,null,2)}return JsonRpcEngine}var mergeMiddleware={},hasRequiredMergeMiddleware;function requireMergeMiddleware(){if(hasRequiredMergeMiddleware)return mergeMiddleware;hasRequiredMergeMiddleware=1,Object.defineProperty(mergeMiddleware,"__esModule",{value:!0}),mergeMiddleware.mergeMiddleware=void 0;const se=requireJsonRpcEngine();function Y(ne){const fe=new se.JsonRpcEngine;return ne.forEach(ye=>fe.push(ye)),fe.asMiddleware()}return mergeMiddleware.mergeMiddleware=Y,mergeMiddleware}var hasRequiredDist$1;function requireDist$1(){return hasRequiredDist$1||(hasRequiredDist$1=1,function(se){var Y=dist$1.__createBinding||(Object.create?function(fe,ye,me,be){be===void 0&&(be=me),Object.defineProperty(fe,be,{enumerable:!0,get:function(){return ye[me]}})}:function(fe,ye,me,be){be===void 0&&(be=me),fe[be]=ye[me]}),ne=dist$1.__exportStar||function(fe,ye){for(var me in fe)me!=="default"&&!Object.prototype.hasOwnProperty.call(ye,me)&&Y(ye,fe,me)};Object.defineProperty(se,"__esModule",{value:!0}),ne(requireIdRemapMiddleware(),se),ne(requireCreateAsyncMiddleware(),se),ne(requireCreateScaffoldMiddleware(),se),ne(requireGetUniqueId(),se),ne(requireJsonRpcEngine(),se),ne(requireMergeMiddleware(),se)}(dist$1)),dist$1}var lib={},Mutex={},extendStatics=function(se,Y){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var ye in fe)Object.prototype.hasOwnProperty.call(fe,ye)&&(ne[ye]=fe[ye])},extendStatics(se,Y)};function __extends(se,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");extendStatics(se,Y);function ne(){this.constructor=se}se.prototype=Y===null?Object.create(Y):(ne.prototype=Y.prototype,new ne)}var __assign=function(){return __assign=Object.assign||function(Y){for(var ne,fe=1,ye=arguments.length;fe<ye;fe++){ne=arguments[fe];for(var me in ne)Object.prototype.hasOwnProperty.call(ne,me)&&(Y[me]=ne[me])}return Y},__assign.apply(this,arguments)};function __rest(se,Y){var ne={};for(var fe in se)Object.prototype.hasOwnProperty.call(se,fe)&&Y.indexOf(fe)<0&&(ne[fe]=se[fe]);if(se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ye=0,fe=Object.getOwnPropertySymbols(se);ye<fe.length;ye++)Y.indexOf(fe[ye])<0&&Object.prototype.propertyIsEnumerable.call(se,fe[ye])&&(ne[fe[ye]]=se[fe[ye]]);return ne}function __decorate(se,Y,ne,fe){var ye=arguments.length,me=ye<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ne):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(se,Y,ne,fe);else for(var we=se.length-1;we>=0;we--)(be=se[we])&&(me=(ye<3?be(me):ye>3?be(Y,ne,me):be(Y,ne))||me);return ye>3&&me&&Object.defineProperty(Y,ne,me),me}function __param(se,Y){return function(ne,fe){Y(ne,fe,se)}}function __esDecorate(se,Y,ne,fe,ye,me){function be(jr){if(jr!==void 0&&typeof jr!="function")throw new TypeError("Function expected");return jr}for(var we=fe.kind,Ee=we==="getter"?"get":we==="setter"?"set":"value",xe=!Y&&se?fe.static?se:se.prototype:null,Se=Y||(xe?Object.getOwnPropertyDescriptor(xe,fe.name):{}),Ie,fr=!1,br=ne.length-1;br>=0;br--){var kr={};for(var Wr in fe)kr[Wr]=Wr==="access"?{}:fe[Wr];for(var Wr in fe.access)kr.access[Wr]=fe.access[Wr];kr.addInitializer=function(jr){if(fr)throw new TypeError("Cannot add initializers after decoration has completed");me.push(be(jr||null))};var Gr=(0,ne[br])(we==="accessor"?{get:Se.get,set:Se.set}:Se[Ee],kr);if(we==="accessor"){if(Gr===void 0)continue;if(Gr===null||typeof Gr!="object")throw new TypeError("Object expected");(Ie=be(Gr.get))&&(Se.get=Ie),(Ie=be(Gr.set))&&(Se.set=Ie),(Ie=be(Gr.init))&&ye.unshift(Ie)}else(Ie=be(Gr))&&(we==="field"?ye.unshift(Ie):Se[Ee]=Ie)}xe&&Object.defineProperty(xe,fe.name,Se),fr=!0}function __runInitializers(se,Y,ne){for(var fe=arguments.length>2,ye=0;ye<Y.length;ye++)ne=fe?Y[ye].call(se,ne):Y[ye].call(se);return fe?ne:void 0}function __propKey(se){return typeof se=="symbol"?se:"".concat(se)}function __setFunctionName(se,Y,ne){return typeof Y=="symbol"&&(Y=Y.description?"[".concat(Y.description,"]"):""),Object.defineProperty(se,"name",{configurable:!0,value:ne?"".concat(ne," ",Y):Y})}function __metadata(se,Y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(se,Y)}function __awaiter(se,Y,ne,fe){function ye(me){return me instanceof ne?me:new ne(function(be){be(me)})}return new(ne||(ne=Promise))(function(me,be){function we(Se){try{xe(fe.next(Se))}catch(Ie){be(Ie)}}function Ee(Se){try{xe(fe.throw(Se))}catch(Ie){be(Ie)}}function xe(Se){Se.done?me(Se.value):ye(Se.value).then(we,Ee)}xe((fe=fe.apply(se,Y||[])).next())})}function __generator(se,Y){var ne={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},fe,ye,me,be=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return be.next=we(0),be.throw=we(1),be.return=we(2),typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function we(xe){return function(Se){return Ee([xe,Se])}}function Ee(xe){if(fe)throw new TypeError("Generator is already executing.");for(;be&&(be=0,xe[0]&&(ne=0)),ne;)try{if(fe=1,ye&&(me=xe[0]&2?ye.return:xe[0]?ye.throw||((me=ye.return)&&me.call(ye),0):ye.next)&&!(me=me.call(ye,xe[1])).done)return me;switch(ye=0,me&&(xe=[xe[0]&2,me.value]),xe[0]){case 0:case 1:me=xe;break;case 4:return ne.label++,{value:xe[1],done:!1};case 5:ne.label++,ye=xe[1],xe=[0];continue;case 7:xe=ne.ops.pop(),ne.trys.pop();continue;default:if(me=ne.trys,!(me=me.length>0&&me[me.length-1])&&(xe[0]===6||xe[0]===2)){ne=0;continue}if(xe[0]===3&&(!me||xe[1]>me[0]&&xe[1]<me[3])){ne.label=xe[1];break}if(xe[0]===6&&ne.label<me[1]){ne.label=me[1],me=xe;break}if(me&&ne.label<me[2]){ne.label=me[2],ne.ops.push(xe);break}me[2]&&ne.ops.pop(),ne.trys.pop();continue}xe=Y.call(se,ne)}catch(Se){xe=[6,Se],ye=0}finally{fe=me=0}if(xe[0]&5)throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}}var __createBinding=Object.create?function(se,Y,ne,fe){fe===void 0&&(fe=ne);var ye=Object.getOwnPropertyDescriptor(Y,ne);(!ye||("get"in ye?!Y.__esModule:ye.writable||ye.configurable))&&(ye={enumerable:!0,get:function(){return Y[ne]}}),Object.defineProperty(se,fe,ye)}:function(se,Y,ne,fe){fe===void 0&&(fe=ne),se[fe]=Y[ne]};function __exportStar(se,Y){for(var ne in se)ne!=="default"&&!Object.prototype.hasOwnProperty.call(Y,ne)&&__createBinding(Y,se,ne)}function __values(se){var Y=typeof Symbol=="function"&&Symbol.iterator,ne=Y&&se[Y],fe=0;if(ne)return ne.call(se);if(se&&typeof se.length=="number")return{next:function(){return se&&fe>=se.length&&(se=void 0),{value:se&&se[fe++],done:!se}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(se,Y){var ne=typeof Symbol=="function"&&se[Symbol.iterator];if(!ne)return se;var fe=ne.call(se),ye,me=[],be;try{for(;(Y===void 0||Y-- >0)&&!(ye=fe.next()).done;)me.push(ye.value)}catch(we){be={error:we}}finally{try{ye&&!ye.done&&(ne=fe.return)&&ne.call(fe)}finally{if(be)throw be.error}}return me}function __spread(){for(var se=[],Y=0;Y<arguments.length;Y++)se=se.concat(__read(arguments[Y]));return se}function __spreadArrays(){for(var se=0,Y=0,ne=arguments.length;Y<ne;Y++)se+=arguments[Y].length;for(var fe=Array(se),ye=0,Y=0;Y<ne;Y++)for(var me=arguments[Y],be=0,we=me.length;be<we;be++,ye++)fe[ye]=me[be];return fe}function __spreadArray(se,Y,ne){if(ne||arguments.length===2)for(var fe=0,ye=Y.length,me;fe<ye;fe++)(me||!(fe in Y))&&(me||(me=Array.prototype.slice.call(Y,0,fe)),me[fe]=Y[fe]);return se.concat(me||Array.prototype.slice.call(Y))}function __await(se){return this instanceof __await?(this.v=se,this):new __await(se)}function __asyncGenerator(se,Y,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe=ne.apply(se,Y||[]),ye,me=[];return ye=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),we("next"),we("throw"),we("return",be),ye[Symbol.asyncIterator]=function(){return this},ye;function be(br){return function(kr){return Promise.resolve(kr).then(br,Ie)}}function we(br,kr){fe[br]&&(ye[br]=function(Wr){return new Promise(function(Gr,jr){me.push([br,Wr,Gr,jr])>1||Ee(br,Wr)})},kr&&(ye[br]=kr(ye[br])))}function Ee(br,kr){try{xe(fe[br](kr))}catch(Wr){fr(me[0][3],Wr)}}function xe(br){br.value instanceof __await?Promise.resolve(br.value.v).then(Se,Ie):fr(me[0][2],br)}function Se(br){Ee("next",br)}function Ie(br){Ee("throw",br)}function fr(br,kr){br(kr),me.shift(),me.length&&Ee(me[0][0],me[0][1])}}function __asyncDelegator(se){var Y,ne;return Y={},fe("next"),fe("throw",function(ye){throw ye}),fe("return"),Y[Symbol.iterator]=function(){return this},Y;function fe(ye,me){Y[ye]=se[ye]?function(be){return(ne=!ne)?{value:__await(se[ye](be)),done:!1}:me?me(be):be}:me}}function __asyncValues(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=se[Symbol.asyncIterator],ne;return Y?Y.call(se):(se=typeof __values=="function"?__values(se):se[Symbol.iterator](),ne={},fe("next"),fe("throw"),fe("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function fe(me){ne[me]=se[me]&&function(be){return new Promise(function(we,Ee){be=se[me](be),ye(we,Ee,be.done,be.value)})}}function ye(me,be,we,Ee){Promise.resolve(Ee).then(function(xe){me({value:xe,done:we})},be)}}function __makeTemplateObject(se,Y){return Object.defineProperty?Object.defineProperty(se,"raw",{value:Y}):se.raw=Y,se}var __setModuleDefault=Object.create?function(se,Y){Object.defineProperty(se,"default",{enumerable:!0,value:Y})}:function(se,Y){se.default=Y},ownKeys=function(se){return ownKeys=Object.getOwnPropertyNames||function(Y){var ne=[];for(var fe in Y)Object.prototype.hasOwnProperty.call(Y,fe)&&(ne[ne.length]=fe);return ne},ownKeys(se)};function __importStar(se){if(se&&se.__esModule)return se;var Y={};if(se!=null)for(var ne=ownKeys(se),fe=0;fe<ne.length;fe++)ne[fe]!=="default"&&__createBinding(Y,se,ne[fe]);return __setModuleDefault(Y,se),Y}function __importDefault(se){return se&&se.__esModule?se:{default:se}}function __classPrivateFieldGet(se,Y,ne,fe){if(ne==="a"&&!fe)throw new TypeError("Private accessor was defined without a getter");if(typeof Y=="function"?se!==Y||!fe:!Y.has(se))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ne==="m"?fe:ne==="a"?fe.call(se):fe?fe.value:Y.get(se)}function __classPrivateFieldSet(se,Y,ne,fe,ye){if(fe==="m")throw new TypeError("Private method is not writable");if(fe==="a"&&!ye)throw new TypeError("Private accessor was defined without a setter");if(typeof Y=="function"?se!==Y||!ye:!Y.has(se))throw new TypeError("Cannot write private member to an object whose class did not declare it");return fe==="a"?ye.call(se,ne):ye?ye.value=ne:Y.set(se,ne),ne}function __classPrivateFieldIn(se,Y){if(Y===null||typeof Y!="object"&&typeof Y!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof se=="function"?Y===se:se.has(Y)}function __addDisposableResource(se,Y,ne){if(Y!=null){if(typeof Y!="object"&&typeof Y!="function")throw new TypeError("Object expected.");var fe,ye;if(ne){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");fe=Y[Symbol.asyncDispose]}if(fe===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");fe=Y[Symbol.dispose],ne&&(ye=fe)}if(typeof fe!="function")throw new TypeError("Object not disposable.");ye&&(fe=function(){try{ye.call(this)}catch(me){return Promise.reject(me)}}),se.stack.push({value:Y,dispose:fe,async:ne})}else ne&&se.stack.push({async:!0});return Y}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(se,Y,ne){var fe=new Error(ne);return fe.name="SuppressedError",fe.error=se,fe.suppressed=Y,fe};function __disposeResources(se){function Y(me){se.error=se.hasError?new _SuppressedError(me,se.error,"An error was suppressed during disposal."):me,se.hasError=!0}var ne,fe=0;function ye(){for(;ne=se.stack.pop();)try{if(!ne.async&&fe===1)return fe=0,se.stack.push(ne),Promise.resolve().then(ye);if(ne.dispose){var me=ne.dispose.call(ne.value);if(ne.async)return fe|=2,Promise.resolve(me).then(ye,function(be){return Y(be),ye()})}else fe|=1}catch(be){Y(be)}if(fe===1)return se.hasError?Promise.reject(se.error):Promise.resolve();if(se.hasError)throw se.error}return ye()}function __rewriteRelativeImportExtension(se,Y){return typeof se=="string"&&/^\.\.?\//.test(se)?se.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(ne,fe,ye,me,be){return fe?Y?".jsx":".js":ye&&(!me||!be)?ne:ye+me+"."+be.toLowerCase()+"js"}):se}const tslib_es6={__extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6$1);var Semaphore={},hasRequiredSemaphore;function requireSemaphore(){if(hasRequiredSemaphore)return Semaphore;hasRequiredSemaphore=1,Object.defineProperty(Semaphore,"__esModule",{value:!0});var se=require$$0,Y=function(){function ne(fe){if(this._maxConcurrency=fe,this._queue=[],fe<=0)throw new Error("semaphore must be initialized to a positive value");this._value=fe}return ne.prototype.acquire=function(){var fe=this,ye=this.isLocked(),me=new Promise(function(be){return fe._queue.push(be)});return ye||this._dispatch(),me},ne.prototype.runExclusive=function(fe){return se.__awaiter(this,void 0,void 0,function(){var ye,me,be;return se.__generator(this,function(we){switch(we.label){case 0:return[4,this.acquire()];case 1:ye=we.sent(),me=ye[0],be=ye[1],we.label=2;case 2:return we.trys.push([2,,4,5]),[4,fe(me)];case 3:return[2,we.sent()];case 4:return be(),[7];case 5:return[2]}})})},ne.prototype.isLocked=function(){return this._value<=0},ne.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var fe=this._currentReleaser;this._currentReleaser=void 0,fe()}},ne.prototype._dispatch=function(){var fe=this,ye=this._queue.shift();if(ye){var me=!1;this._currentReleaser=function(){me||(me=!0,fe._value++,fe._dispatch())},ye([this._value--,this._currentReleaser])}},ne}();return Semaphore.default=Y,Semaphore}var hasRequiredMutex;function requireMutex(){if(hasRequiredMutex)return Mutex;hasRequiredMutex=1,Object.defineProperty(Mutex,"__esModule",{value:!0});var se=require$$0,Y=requireSemaphore(),ne=function(){function fe(){this._semaphore=new Y.default(1)}return fe.prototype.acquire=function(){return se.__awaiter(this,void 0,void 0,function(){var ye,me;return se.__generator(this,function(be){switch(be.label){case 0:return[4,this._semaphore.acquire()];case 1:return ye=be.sent(),me=ye[1],[2,me]}})})},fe.prototype.runExclusive=function(ye){return this._semaphore.runExclusive(function(){return ye()})},fe.prototype.isLocked=function(){return this._semaphore.isLocked()},fe.prototype.release=function(){this._semaphore.release()},fe}();return Mutex.default=ne,Mutex}var withTimeout={},hasRequiredWithTimeout;function requireWithTimeout(){if(hasRequiredWithTimeout)return withTimeout;hasRequiredWithTimeout=1,Object.defineProperty(withTimeout,"__esModule",{value:!0}),withTimeout.withTimeout=void 0;var se=require$$0;function Y(ne,fe,ye){var me=this;return ye===void 0&&(ye=new Error("timeout")),{acquire:function(){return new Promise(function(be,we){return se.__awaiter(me,void 0,void 0,function(){var Ee,xe,Se;return se.__generator(this,function(Ie){switch(Ie.label){case 0:return Ee=!1,setTimeout(function(){Ee=!0,we(ye)},fe),[4,ne.acquire()];case 1:return xe=Ie.sent(),Ee?(Se=Array.isArray(xe)?xe[1]:xe,Se()):be(xe),[2]}})})})},runExclusive:function(be){return se.__awaiter(this,void 0,void 0,function(){var we,Ee;return se.__generator(this,function(xe){switch(xe.label){case 0:we=function(){},xe.label=1;case 1:return xe.trys.push([1,,7,8]),[4,this.acquire()];case 2:return Ee=xe.sent(),Array.isArray(Ee)?(we=Ee[1],[4,be(Ee[0])]):[3,4];case 3:return[2,xe.sent()];case 4:return we=Ee,[4,be()];case 5:return[2,xe.sent()];case 6:return[3,8];case 7:return we(),[7];case 8:return[2]}})})},release:function(){ne.release()},isLocked:function(){return ne.isLocked()}}}return withTimeout.withTimeout=Y,withTimeout}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.withTimeout=se.Semaphore=se.Mutex=void 0;var Y=requireMutex();Object.defineProperty(se,"Mutex",{enumerable:!0,get:function(){return Y.default}});var ne=requireSemaphore();Object.defineProperty(se,"Semaphore",{enumerable:!0,get:function(){return ne.default}});var fe=requireWithTimeout();Object.defineProperty(se,"withTimeout",{enumerable:!0,get:function(){return fe.withTimeout}})}(lib)),lib}var immutable,hasRequiredImmutable;function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=Y;var se=Object.prototype.hasOwnProperty;function Y(){for(var ne={},fe=0;fe<arguments.length;fe++){var ye=arguments[fe];for(var me in ye)se.call(ye,me)&&(ne[me]=ye[me])}return ne}return immutable}var ethQuery,hasRequiredEthQuery;function requireEthQuery(){if(hasRequiredEthQuery)return ethQuery;hasRequiredEthQuery=1;const se=requireImmutable(),Y=requireJsonRpcRandomId()();ethQuery=ne;function ne(be){const we=this;we.currentProvider=be}ne.prototype.getBalance=ye(2,"eth_getBalance"),ne.prototype.getCode=ye(2,"eth_getCode"),ne.prototype.getTransactionCount=ye(2,"eth_getTransactionCount"),ne.prototype.getStorageAt=ye(3,"eth_getStorageAt"),ne.prototype.call=ye(2,"eth_call"),ne.prototype.protocolVersion=fe("eth_protocolVersion"),ne.prototype.syncing=fe("eth_syncing"),ne.prototype.coinbase=fe("eth_coinbase"),ne.prototype.mining=fe("eth_mining"),ne.prototype.hashrate=fe("eth_hashrate"),ne.prototype.gasPrice=fe("eth_gasPrice"),ne.prototype.accounts=fe("eth_accounts"),ne.prototype.blockNumber=fe("eth_blockNumber"),ne.prototype.getBlockTransactionCountByHash=fe("eth_getBlockTransactionCountByHash"),ne.prototype.getBlockTransactionCountByNumber=fe("eth_getBlockTransactionCountByNumber"),ne.prototype.getUncleCountByBlockHash=fe("eth_getUncleCountByBlockHash"),ne.prototype.getUncleCountByBlockNumber=fe("eth_getUncleCountByBlockNumber"),ne.prototype.sign=fe("eth_sign"),ne.prototype.sendTransaction=fe("eth_sendTransaction"),ne.prototype.sendRawTransaction=fe("eth_sendRawTransaction"),ne.prototype.estimateGas=fe("eth_estimateGas"),ne.prototype.getBlockByHash=fe("eth_getBlockByHash"),ne.prototype.getBlockByNumber=fe("eth_getBlockByNumber"),ne.prototype.getTransactionByHash=fe("eth_getTransactionByHash"),ne.prototype.getTransactionByBlockHashAndIndex=fe("eth_getTransactionByBlockHashAndIndex"),ne.prototype.getTransactionByBlockNumberAndIndex=fe("eth_getTransactionByBlockNumberAndIndex"),ne.prototype.getTransactionReceipt=fe("eth_getTransactionReceipt"),ne.prototype.getUncleByBlockHashAndIndex=fe("eth_getUncleByBlockHashAndIndex"),ne.prototype.getUncleByBlockNumberAndIndex=fe("eth_getUncleByBlockNumberAndIndex"),ne.prototype.getCompilers=fe("eth_getCompilers"),ne.prototype.compileLLL=fe("eth_compileLLL"),ne.prototype.compileSolidity=fe("eth_compileSolidity"),ne.prototype.compileSerpent=fe("eth_compileSerpent"),ne.prototype.newFilter=fe("eth_newFilter"),ne.prototype.newBlockFilter=fe("eth_newBlockFilter"),ne.prototype.newPendingTransactionFilter=fe("eth_newPendingTransactionFilter"),ne.prototype.uninstallFilter=fe("eth_uninstallFilter"),ne.prototype.getFilterChanges=fe("eth_getFilterChanges"),ne.prototype.getFilterLogs=fe("eth_getFilterLogs"),ne.prototype.getLogs=fe("eth_getLogs"),ne.prototype.getWork=fe("eth_getWork"),ne.prototype.submitWork=fe("eth_submitWork"),ne.prototype.submitHashrate=fe("eth_submitHashrate"),ne.prototype.sendAsync=function(be,we){this.currentProvider.sendAsync(me(be),function(xe,Se){if(!xe&&Se.error&&(xe=new Error("EthQuery - RPC Error - "+Se.error.message)),xe)return we(xe);we(null,Se.result)})};function fe(be){return function(){const we=this;var Ee=[].slice.call(arguments),xe=Ee.pop();we.sendAsync({method:be,params:Ee},xe)}}function ye(be,we){return function(){const Ee=this;var xe=[].slice.call(arguments),Se=xe.pop();xe.length<be&&xe.push("latest"),Ee.sendAsync({method:we,params:xe},Se)}}function me(be){return se({id:Y(),jsonrpc:"2.0",params:[]},be)}return ethQuery}var pify,hasRequiredPify;function requirePify(){if(hasRequiredPify)return pify;hasRequiredPify=1;const se=(ne,fe,ye,me)=>function(...be){const we=fe.promiseModule;return new we((Ee,xe)=>{fe.multiArgs?be.push((...Ie)=>{fe.errorFirst?Ie[0]?xe(Ie):(Ie.shift(),Ee(Ie)):Ee(Ie)}):fe.errorFirst?be.push((Ie,fr)=>{Ie?xe(Ie):Ee(fr)}):be.push(Ee),Reflect.apply(ne,this===ye?me:this,be)})},Y=new WeakMap;return pify=(ne,fe)=>{fe={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...fe};const ye=typeof ne;if(!(ne!==null&&(ye==="object"||ye==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${ne===null?"null":ye}\``);const me=(Ee,xe)=>{let Se=Y.get(Ee);if(Se||(Se={},Y.set(Ee,Se)),xe in Se)return Se[xe];const Ie=Gr=>typeof Gr=="string"||typeof xe=="symbol"?xe===Gr:Gr.test(xe),fr=Reflect.getOwnPropertyDescriptor(Ee,xe),br=fr===void 0||fr.writable||fr.configurable,Wr=(fe.include?fe.include.some(Ie):!fe.exclude.some(Ie))&&br;return Se[xe]=Wr,Wr},be=new WeakMap,we=new Proxy(ne,{apply(Ee,xe,Se){const Ie=be.get(Ee);if(Ie)return Reflect.apply(Ie,xe,Se);const fr=fe.excludeMain?Ee:se(Ee,fe,we,Ee);return be.set(Ee,fr),Reflect.apply(fr,xe,Se)},get(Ee,xe){const Se=Ee[xe];if(!me(Ee,xe)||Se===Function.prototype[xe])return Se;const Ie=be.get(Se);if(Ie)return Ie;if(typeof Se=="function"){const fr=se(Se,fe,we,Ee);return be.set(Se,fr),fr}return Se}});return we},pify}var baseFilter,hasRequiredBaseFilter;function requireBaseFilter(){if(hasRequiredBaseFilter)return baseFilter;hasRequiredBaseFilter=1;const se=requireCjs().default;class Y extends se{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(fe){this.updates=this.updates.concat(fe),fe.forEach(ye=>this.emit("update",ye))}addInitialResults(fe){}getChangesAndClear(){const fe=this.updates;return this.updates=[],fe}}return baseFilter=Y,baseFilter}var baseFilterHistory,hasRequiredBaseFilterHistory;function requireBaseFilterHistory(){if(hasRequiredBaseFilterHistory)return baseFilterHistory;hasRequiredBaseFilterHistory=1;const se=requireBaseFilter();class Y extends se{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(fe){this.allResults=this.allResults.concat(fe),super.addResults(fe)}addInitialResults(fe){this.allResults=this.allResults.concat(fe),super.addInitialResults(fe)}getAllResults(){return this.allResults}}return baseFilterHistory=Y,baseFilterHistory}var hexUtils,hasRequiredHexUtils;function requireHexUtils(){if(hasRequiredHexUtils)return hexUtils;hasRequiredHexUtils=1,hexUtils={minBlockRef:se,maxBlockRef:Y,sortBlockRefs:ne,bnToHex:fe,blockRefIsNumber:ye,hexToInt:me,incrementHexInt:be,intToHex:we,unsafeRandomBytes:Ee};function se(...Se){return ne(Se)[0]}function Y(...Se){const Ie=ne(Se);return Ie[Ie.length-1]}function ne(Se){return Se.sort((Ie,fr)=>Ie==="latest"||fr==="earliest"?1:fr==="latest"||Ie==="earliest"?-1:me(Ie)-me(fr))}function fe(Se){return"0x"+Se.toString(16)}function ye(Se){return Se&&!["earliest","latest","pending"].includes(Se)}function me(Se){return Se==null?Se:Number.parseInt(Se,16)}function be(Se){if(Se==null)return Se;const Ie=me(Se);return we(Ie+1)}function we(Se){if(Se==null)return Se;let Ie=Se.toString(16);return Ie.length%2&&(Ie="0"+Ie),"0x"+Ie}function Ee(Se){let Ie="0x";for(let fr=0;fr<Se;fr++)Ie+=xe(),Ie+=xe();return Ie}function xe(){return Math.floor(Math.random()*16).toString(16)}return hexUtils}var logFilter,hasRequiredLogFilter;function requireLogFilter(){if(hasRequiredLogFilter)return logFilter;hasRequiredLogFilter=1;const se=requireEthQuery(),Y=requirePify(),ne=requireBaseFilterHistory(),{bnToHex:fe,hexToInt:ye,incrementHexInt:me,minBlockRef:be,blockRefIsNumber:we}=requireHexUtils();class Ee extends ne{constructor({provider:Se,params:Ie}){super(),this.type="log",this.ethQuery=new se(Se),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},Ie),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(fr=>fr.toLowerCase()))}async initialize({currentBlock:Se}){let Ie=this.params.fromBlock;["latest","pending"].includes(Ie)&&(Ie=Se),Ie==="earliest"&&(Ie="0x0"),this.params.fromBlock=Ie;const fr=be(this.params.toBlock,Se),br=Object.assign({},this.params,{toBlock:fr}),kr=await this._fetchLogs(br);this.addInitialResults(kr)}async update({oldBlock:Se,newBlock:Ie}){const fr=Ie;let br;Se?br=me(Se):br=Ie;const kr=Object.assign({},this.params,{fromBlock:br,toBlock:fr}),Gr=(await this._fetchLogs(kr)).filter(jr=>this.matchLog(jr));this.addResults(Gr)}async _fetchLogs(Se){return await Y(fr=>this.ethQuery.getLogs(Se,fr))()}matchLog(Se){if(ye(this.params.fromBlock)>=ye(Se.blockNumber)||we(this.params.toBlock)&&ye(this.params.toBlock)<=ye(Se.blockNumber))return!1;const Ie=Se.address&&Se.address.toLowerCase();return this.params.address&&Ie&&!this.params.address.includes(Ie)?!1:this.params.topics.every((br,kr)=>{let Wr=Se.topics[kr];if(!Wr)return!1;Wr=Wr.toLowerCase();let Gr=Array.isArray(br)?br:[br];return Gr.includes(null)?!0:(Gr=Gr.map(wn=>wn.toLowerCase()),Gr.includes(Wr))})}}return logFilter=Ee,logFilter}var getBlocksForRange_1,hasRequiredGetBlocksForRange;function requireGetBlocksForRange(){if(hasRequiredGetBlocksForRange)return getBlocksForRange_1;hasRequiredGetBlocksForRange=1,getBlocksForRange_1=se;async function se({provider:me,fromBlock:be,toBlock:we}){be||(be=we);const Ee=Y(be),Se=Y(we)-Ee+1,Ie=Array(Se).fill().map((br,kr)=>Ee+kr).map(ne);let fr=await Promise.all(Ie.map(br=>ye(me,"eth_getBlockByNumber",[br,!1])));return fr=fr.filter(br=>br!==null),fr}function Y(me){return me==null?me:Number.parseInt(me,16)}function ne(me){return me==null?me:"0x"+me.toString(16)}function fe(me,be){return new Promise((we,Ee)=>{me.sendAsync(be,(xe,Se)=>{xe?Ee(xe):Se.error?Ee(Se.error):Se.result?we(Se.result):Ee(new Error("Result was empty"))})})}async function ye(me,be,we){for(let Ee=0;Ee<3;Ee++)try{return await fe(me,{id:1,jsonrpc:"2.0",method:be,params:we})}catch(xe){console.error(`provider.sendAsync failed: ${xe.stack||xe.message||xe}`)}return null}return getBlocksForRange_1}var blockFilter,hasRequiredBlockFilter;function requireBlockFilter(){if(hasRequiredBlockFilter)return blockFilter;hasRequiredBlockFilter=1;const se=requireBaseFilter(),Y=requireGetBlocksForRange(),{incrementHexInt:ne}=requireHexUtils();class fe extends se{constructor({provider:me,params:be}){super(),this.type="block",this.provider=me}async update({oldBlock:me,newBlock:be}){const we=be,Ee=ne(me),Se=(await Y({provider:this.provider,fromBlock:Ee,toBlock:we})).map(Ie=>Ie.hash);this.addResults(Se)}}return blockFilter=fe,blockFilter}var txFilter,hasRequiredTxFilter;function requireTxFilter(){if(hasRequiredTxFilter)return txFilter;hasRequiredTxFilter=1;const se=requireBaseFilter(),Y=requireGetBlocksForRange(),{incrementHexInt:ne}=requireHexUtils();class fe extends se{constructor({provider:me}){super(),this.type="tx",this.provider=me}async update({oldBlock:me}){const be=me,we=ne(me),Ee=await Y({provider:this.provider,fromBlock:we,toBlock:be}),xe=[];for(const Se of Ee)xe.push(...Se.transactions);this.addResults(xe)}}return txFilter=fe,txFilter}var ethJsonRpcFilters,hasRequiredEthJsonRpcFilters;function requireEthJsonRpcFilters(){if(hasRequiredEthJsonRpcFilters)return ethJsonRpcFilters;hasRequiredEthJsonRpcFilters=1;const se=requireLib().Mutex,{createAsyncMiddleware:Y,createScaffoldMiddleware:ne}=requireDist$1(),fe=requireLogFilter(),ye=requireBlockFilter(),me=requireTxFilter(),{intToHex:be,hexToInt:we}=requireHexUtils();ethJsonRpcFilters=Ee;function Ee({blockTracker:br,provider:kr}){let Wr=0,Gr={};const jr=new se,Qr=Ie({mutex:jr}),wn=ne({eth_newFilter:Qr(xe(Rn)),eth_newBlockFilter:Qr(xe(An)),eth_newPendingTransactionFilter:Qr(xe($n)),eth_uninstallFilter:Qr(Se(ai)),eth_getFilterChanges:Qr(Se(Tn)),eth_getFilterLogs:Qr(Se(ti))}),En=async({oldBlock:wr,newBlock:qr})=>{if(Gr.length===0)return;const Vr=await jr.acquire();try{await Promise.all(fr(Gr).map(async Jr=>{try{await Jr.update({oldBlock:wr,newBlock:qr})}catch(Xr){console.error(Xr)}}))}catch(Jr){console.error(Jr)}Vr()};return wn.newLogFilter=Rn,wn.newBlockFilter=An,wn.newPendingTransactionFilter=$n,wn.uninstallFilter=ai,wn.getFilterChanges=Tn,wn.getFilterLogs=ti,wn.destroy=()=>{Zr()},wn;async function Rn(wr){const qr=new fe({provider:kr,params:wr});return await On(qr),qr}async function An(){const wr=new ye({provider:kr});return await On(wr),wr}async function $n(){const wr=new me({provider:kr});return await On(wr),wr}async function Tn(wr){const qr=we(wr),Vr=Gr[qr];if(!Vr)throw new Error(`No filter for index "${qr}"`);return Vr.getChangesAndClear()}async function ti(wr){const qr=we(wr),Vr=Gr[qr];if(!Vr)throw new Error(`No filter for index "${qr}"`);let Jr=[];return Vr.type==="log"&&(Jr=Vr.getAllResults()),Jr}async function ai(wr){const qr=we(wr),Jr=!!Gr[qr];return Jr&&await Sn(qr),Jr}async function On(wr){const qr=fr(Gr).length,Vr=await br.getLatestBlock();await wr.initialize({currentBlock:Vr}),Wr++,Gr[Wr]=wr,wr.id=Wr,wr.idHex=be(Wr);const Jr=fr(Gr).length;return Oe({prevFilterCount:qr,newFilterCount:Jr}),Wr}async function Sn(wr){const qr=fr(Gr).length;delete Gr[wr];const Vr=fr(Gr).length;Oe({prevFilterCount:qr,newFilterCount:Vr})}async function Zr(){const wr=fr(Gr).length;Gr={},Oe({prevFilterCount:wr,newFilterCount:0})}function Oe({prevFilterCount:wr,newFilterCount:qr}){if(wr===0&&qr>0){br.on("sync",En);return}if(wr>0&&qr===0){br.removeListener("sync",En);return}}}function xe(br){return Se(async(...kr)=>{const Wr=await br(...kr);return be(Wr.id)})}function Se(br){return Y(async(kr,Wr)=>{const Gr=await br.apply(null,kr.params);Wr.result=Gr})}function Ie({mutex:br}){return kr=>async(Wr,Gr,jr,Qr)=>{(await br.acquire())(),kr(Wr,Gr,jr,Qr)}}function fr(br,kr){const Wr=[];for(let Gr in br)Wr.push(br[Gr]);return Wr}return ethJsonRpcFilters}var subscriptionManager,hasRequiredSubscriptionManager$1;function requireSubscriptionManager$1(){if(hasRequiredSubscriptionManager$1)return subscriptionManager;hasRequiredSubscriptionManager$1=1;const se=requireCjs().default,{createAsyncMiddleware:Y,createScaffoldMiddleware:ne}=requireDist$1(),fe=requireEthJsonRpcFilters(),{unsafeRandomBytes:ye,incrementHexInt:me}=requireHexUtils(),be=requireGetBlocksForRange();subscriptionManager=we;function we({blockTracker:xe,provider:Se}){const Ie={},fr=fe({blockTracker:xe,provider:Se});let br=!1;const kr=new se,Wr=ne({eth_subscribe:Y(Gr),eth_unsubscribe:Y(jr)});return Wr.destroy=wn,{events:kr,middleware:Wr};async function Gr(En,Rn){if(br)throw new Error("SubscriptionManager - attempting to use after destroying");const An=En.params[0],$n=ye(16);let Tn;switch(An){case"newHeads":Tn=ti({subId:$n});break;case"logs":const On=En.params[1],Sn=await fr.newLogFilter(On);Tn=ai({subId:$n,filter:Sn});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${An}"`)}Ie[$n]=Tn,Rn.result=$n;return;function ti({subId:On}){const Sn={type:An,destroy:async()=>{xe.removeListener("sync",Sn.update)},update:async({oldBlock:Zr,newBlock:Oe})=>{const wr=Oe,qr=me(Zr);(await be({provider:Se,fromBlock:qr,toBlock:wr})).map(Ee).filter(Xr=>Xr!==null).forEach(Xr=>{Qr(On,Xr)})}};return xe.on("sync",Sn.update),Sn}function ai({subId:On,filter:Sn}){return Sn.on("update",Oe=>Qr(On,Oe)),{type:An,destroy:async()=>await fr.uninstallFilter(Sn.idHex)}}}async function jr(En,Rn){if(br)throw new Error("SubscriptionManager - attempting to use after destroying");const An=En.params[0],$n=Ie[An];if(!$n){Rn.result=!1;return}delete Ie[An],await $n.destroy(),Rn.result=!0}function Qr(En,Rn){kr.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:En,result:Rn}})}function wn(){kr.removeAllListeners();for(const En in Ie)Ie[En].destroy(),delete Ie[En];br=!0}}function Ee(xe){return xe==null?null:{hash:xe.hash,parentHash:xe.parentHash,sha3Uncles:xe.sha3Uncles,miner:xe.miner,stateRoot:xe.stateRoot,transactionsRoot:xe.transactionsRoot,receiptsRoot:xe.receiptsRoot,logsBloom:xe.logsBloom,difficulty:xe.difficulty,number:xe.number,gasLimit:xe.gasLimit,gasUsed:xe.gasUsed,nonce:xe.nonce,mixHash:xe.mixHash,timestamp:xe.timestamp,extraData:xe.extraData}}return subscriptionManager}var hasRequiredSubscriptionManager;function requireSubscriptionManager(){if(hasRequiredSubscriptionManager)return SubscriptionManager;hasRequiredSubscriptionManager=1,Object.defineProperty(SubscriptionManager,"__esModule",{value:!0}),SubscriptionManager.SubscriptionManager=void 0;const se=requireDist$3(),Y=requireSubscriptionManager$1(),ne=()=>{};let fe=class{constructor(me){const be=new se.PollingBlockTracker({provider:me,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:we,middleware:Ee}=Y({blockTracker:be,provider:me});this.events=we,this.subscriptionMiddleware=Ee}async handleRequest(me){const be={};return await this.subscriptionMiddleware(me,be,ne,ne),be}destroy(){this.subscriptionMiddleware.destroy()}};return SubscriptionManager.SubscriptionManager=fe,SubscriptionManager}var hasRequiredCoinbaseWalletProvider;function requireCoinbaseWalletProvider(){if(hasRequiredCoinbaseWalletProvider)return CoinbaseWalletProvider;hasRequiredCoinbaseWalletProvider=1;var se=CoinbaseWalletProvider.__importDefault||function(Gr){return Gr&&Gr.__esModule?Gr:{default:Gr}};Object.defineProperty(CoinbaseWalletProvider,"__esModule",{value:!0}),CoinbaseWalletProvider.CoinbaseWalletProvider=void 0;const Y=se(requireBn()),ne=requireEventemitter3(),fe=requireError(),ye=requireUtil$1(),me=requireMobileRelay(),be=requireRelayAbstract(),we=requireSession(),Ee=requireWeb3Response(),xe=se(requireEthEip712Util()),Se=requireDiagnosticLogger(),Ie=requireFilterPolyfill(),fr=requireSubscriptionManager(),br="DefaultChainId",kr="DefaultJsonRpcUrl";let Wr=class extends ne.EventEmitter{constructor(jr){var Qr,wn;super(),this._filterPolyfill=new Ie.FilterPolyfill(this),this._subscriptionManager=new fr.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=jr.chainId,this._jsonRpcUrlFromOpts=jr.jsonRpcUrl,this._overrideIsMetaMask=jr.overrideIsMetaMask,this._relayProvider=jr.relayProvider,this._storage=jr.storage,this._relayEventManager=jr.relayEventManager,this.diagnostic=jr.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(Qr=jr.overrideIsCoinbaseWallet)!==null&&Qr!==void 0?Qr:!0,this.isCoinbaseBrowser=(wn=jr.overrideIsCoinbaseBrowser)!==null&&wn!==void 0?wn:!1,this.qrUrl=jr.qrUrl;const En=this.getChainId(),Rn=(0,ye.prepend0x)(En.toString(16));this.emit("connect",{chainIdStr:Rn});const An=this._storage.getItem(be.LOCAL_STORAGE_ADDRESSES_KEY);if(An){const $n=An.split(" ");$n[0]!==""&&(this._addresses=$n.map(Tn=>(0,ye.ensureAddressString)(Tn)),this.emit("accountsChanged",$n))}this._subscriptionManager.events.on("notification",$n=>{this.emit("message",{type:$n.method,data:$n.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",$n=>{var Tn;if(!($n.origin!==location.origin||$n.source!==window)&&$n.data.type==="walletLinkMessage"&&$n.data.data.action==="dappChainSwitched"){const ti=$n.data.data.chainId,ai=(Tn=$n.data.data.jsonRpcUrl)!==null&&Tn!==void 0?Tn:this.jsonRpcUrl;this.updateProviderInfo(ai,Number(ti))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ye.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var jr;return(jr=this._storage.getItem(kr))!==null&&jr!==void 0?jr:this._jsonRpcUrlFromOpts}set jsonRpcUrl(jr){this._storage.setItem(kr,jr)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(jr,Qr){this.isCoinbaseBrowser||(this._chainIdFromOpts=Qr,this._jsonRpcUrlFromOpts=jr),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(jr,Qr){this.jsonRpcUrl=jr;const wn=this.getChainId();this._storage.setItem(br,Qr.toString(10)),((0,ye.ensureIntNumber)(Qr)!==wn||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(jr,Qr,wn,En,Rn,An){const Tn=await(await this.initializeRelay()).watchAsset(jr,Qr,wn,En,Rn,An==null?void 0:An.toString()).promise;return(0,Ee.isErrorResponse)(Tn)?!1:!!Tn.result}async addEthereumChain(jr,Qr,wn,En,Rn,An){var $n,Tn;if((0,ye.ensureIntNumber)(jr)===this.getChainId())return!1;const ti=await this.initializeRelay(),ai=ti.inlineAddEthereumChain(jr.toString());!this._isAuthorized()&&!ai&&await ti.requestEthereumAccounts().promise;const On=await ti.addEthereumChain(jr.toString(),Qr,Rn,wn,En,An).promise;return(0,Ee.isErrorResponse)(On)?!1:((($n=On.result)===null||$n===void 0?void 0:$n.isApproved)===!0&&this.updateProviderInfo(Qr[0],jr),((Tn=On.result)===null||Tn===void 0?void 0:Tn.isApproved)===!0)}async switchEthereumChain(jr){const wn=await(await this.initializeRelay()).switchEthereumChain(jr.toString(10),this.selectedAddress||void 0).promise;if((0,Ee.isErrorResponse)(wn)){if(!wn.errorCode)return;throw wn.errorCode===fe.standardErrorCodes.provider.unsupportedChain?fe.standardErrors.provider.unsupportedChain():fe.standardErrors.provider.custom({message:wn.errorMessage,code:wn.errorCode})}const En=wn.result;En.isApproved&&En.rpcUrl.length>0&&this.updateProviderInfo(En.rpcUrl,jr)}setAppInfo(jr,Qr){this.initializeRelay().then(wn=>wn.setAppInfo(jr,Qr))}async enable(){var jr;return(jr=this.diagnostic)===null||jr===void 0||jr.log(Se.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?we.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(jr,Qr){try{const wn=this._send(jr,Qr);if(wn instanceof Promise)return wn.catch(En=>{throw(0,fe.serializeError)(En,jr)})}catch(wn){throw(0,fe.serializeError)(wn,jr)}}_send(jr,Qr){if(typeof jr=="string"){const En=jr,Rn=Array.isArray(Qr)?Qr:Qr!==void 0?[Qr]:[],An={jsonrpc:"2.0",id:0,method:En,params:Rn};return this._sendRequestAsync(An).then($n=>$n.result)}if(typeof Qr=="function"){const En=jr,Rn=Qr;return this._sendAsync(En,Rn)}if(Array.isArray(jr))return jr.map(Rn=>this._sendRequest(Rn));const wn=jr;return this._sendRequest(wn)}async sendAsync(jr,Qr){try{return this._sendAsync(jr,Qr).catch(wn=>{throw(0,fe.serializeError)(wn,jr)})}catch(wn){return Promise.reject((0,fe.serializeError)(wn,jr))}}async _sendAsync(jr,Qr){if(typeof Qr!="function")throw new Error("callback is required");if(Array.isArray(jr)){const En=Qr;this._sendMultipleRequestsAsync(jr).then(Rn=>En(null,Rn)).catch(Rn=>En(Rn,null));return}const wn=Qr;return this._sendRequestAsync(jr).then(En=>wn(null,En)).catch(En=>wn(En,null))}async request(jr){try{return this._request(jr).catch(Qr=>{throw(0,fe.serializeError)(Qr,jr.method)})}catch(Qr){return Promise.reject((0,fe.serializeError)(Qr,jr.method))}}async _request(jr){if(!jr||typeof jr!="object"||Array.isArray(jr))throw fe.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:jr});const{method:Qr,params:wn}=jr;if(typeof Qr!="string"||Qr.length===0)throw fe.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:jr});if(wn!==void 0&&!Array.isArray(wn)&&(typeof wn!="object"||wn===null))throw fe.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:jr});const En=wn===void 0?[]:wn,Rn=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:Qr,params:En,jsonrpc:"2.0",id:Rn})).result}async scanQRCode(jr){const wn=await(await this.initializeRelay()).scanQRCode((0,ye.ensureRegExpString)(jr)).promise;if((0,Ee.isErrorResponse)(wn))throw(0,fe.serializeError)(wn.errorMessage,"scanQRCode");if(typeof wn.result!="string")throw(0,fe.serializeError)("result was not a string","scanQRCode");return wn.result}async genericRequest(jr,Qr){const En=await(await this.initializeRelay()).genericRequest(jr,Qr).promise;if((0,Ee.isErrorResponse)(En))throw(0,fe.serializeError)(En.errorMessage,"generic");if(typeof En.result!="string")throw(0,fe.serializeError)("result was not a string","generic");return En.result}async connectAndSignIn(jr){var Qr;(Qr=this.diagnostic)===null||Qr===void 0||Qr.log(Se.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?we.Session.hash(this._relay.session.id):void 0});let wn;try{const Rn=await this.initializeRelay();if(!(Rn instanceof me.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(wn=await Rn.connectAndSignIn(jr).promise,(0,Ee.isErrorResponse)(wn))throw new Error(wn.errorMessage)}catch(Rn){throw typeof Rn.message=="string"&&Rn.message.match(/(denied|rejected)/i)?fe.standardErrors.provider.userRejectedRequest("User denied account authorization"):Rn}if(!wn.result)throw new Error("accounts received is empty");const{accounts:En}=wn.result;return this._setAddresses(En),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),wn.result}async selectProvider(jr){const wn=await(await this.initializeRelay()).selectProvider(jr).promise;if((0,Ee.isErrorResponse)(wn))throw(0,fe.serializeError)(wn.errorMessage,"selectProvider");if(typeof wn.result!="string")throw(0,fe.serializeError)("result was not a string","selectProvider");return wn.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(jr){const Qr={jsonrpc:"2.0",id:jr.id},{method:wn}=jr;if(Qr.result=this._handleSynchronousMethods(jr),Qr.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${wn} synchronously without a callback. Please provide a callback parameter to call ${wn} asynchronously.`);return Qr}_setAddresses(jr,Qr){if(!Array.isArray(jr))throw new Error("addresses is not an array");const wn=jr.map(En=>(0,ye.ensureAddressString)(En));JSON.stringify(wn)!==JSON.stringify(this._addresses)&&(this._addresses=wn,this.emit("accountsChanged",this._addresses),this._storage.setItem(be.LOCAL_STORAGE_ADDRESSES_KEY,wn.join(" ")))}_sendRequestAsync(jr){return new Promise((Qr,wn)=>{try{const En=this._handleSynchronousMethods(jr);if(En!==void 0)return Qr({jsonrpc:"2.0",id:jr.id,result:En});const Rn=this._handleAsynchronousFilterMethods(jr);if(Rn!==void 0){Rn.then($n=>Qr(Object.assign(Object.assign({},$n),{id:jr.id}))).catch($n=>wn($n));return}const An=this._handleSubscriptionMethods(jr);if(An!==void 0){An.then($n=>Qr({jsonrpc:"2.0",id:jr.id,result:$n.result})).catch($n=>wn($n));return}}catch(En){return wn(En)}this._handleAsynchronousMethods(jr).then(En=>En&&Qr(Object.assign(Object.assign({},En),{id:jr.id}))).catch(En=>wn(En))})}_sendMultipleRequestsAsync(jr){return Promise.all(jr.map(Qr=>this._sendRequestAsync(Qr)))}_handleSynchronousMethods(jr){const{method:Qr}=jr,wn=jr.params||[];switch(Qr){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(wn);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(jr){const{method:Qr}=jr,wn=jr.params||[];switch(Qr){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(wn);case"eth_ecRecover":return this._eth_ecRecover(wn);case"personal_sign":return this._personal_sign(wn);case"personal_ecRecover":return this._personal_ecRecover(wn);case"eth_signTransaction":return this._eth_signTransaction(wn);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(wn);case"eth_sendTransaction":return this._eth_sendTransaction(wn);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(wn);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(wn);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(wn);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(wn);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(wn);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(wn);case"wallet_watchAsset":return this._wallet_watchAsset(wn)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(jr,this.jsonRpcUrl).catch(Rn=>{var An;throw(Rn.code===fe.standardErrorCodes.rpc.methodNotFound||Rn.code===fe.standardErrorCodes.rpc.methodNotSupported)&&((An=this.diagnostic)===null||An===void 0||An.log(Se.EVENTS.METHOD_NOT_IMPLEMENTED,{method:jr.method,sessionIdHash:this._relay?we.Session.hash(this._relay.session.id):void 0})),Rn})}_handleAsynchronousFilterMethods(jr){const{method:Qr}=jr,wn=jr.params||[];switch(Qr){case"eth_newFilter":return this._eth_newFilter(wn);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(wn);case"eth_getFilterLogs":return this._eth_getFilterLogs(wn)}}_handleSubscriptionMethods(jr){switch(jr.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(jr)}}_isKnownAddress(jr){try{const Qr=(0,ye.ensureAddressString)(jr);return this._addresses.map(En=>(0,ye.ensureAddressString)(En)).includes(Qr)}catch{}return!1}_ensureKnownAddress(jr){var Qr;if(!this._isKnownAddress(jr))throw(Qr=this.diagnostic)===null||Qr===void 0||Qr.log(Se.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(jr){const Qr=jr.from?(0,ye.ensureAddressString)(jr.from):this.selectedAddress;if(!Qr)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(Qr);const wn=jr.to?(0,ye.ensureAddressString)(jr.to):null,En=jr.value!=null?(0,ye.ensureBN)(jr.value):new Y.default(0),Rn=jr.data?(0,ye.ensureBuffer)(jr.data):Buffer.alloc(0),An=jr.nonce!=null?(0,ye.ensureIntNumber)(jr.nonce):null,$n=jr.gasPrice!=null?(0,ye.ensureBN)(jr.gasPrice):null,Tn=jr.maxFeePerGas!=null?(0,ye.ensureBN)(jr.maxFeePerGas):null,ti=jr.maxPriorityFeePerGas!=null?(0,ye.ensureBN)(jr.maxPriorityFeePerGas):null,ai=jr.gas!=null?(0,ye.ensureBN)(jr.gas):null,On=jr.chainId?(0,ye.ensureIntNumber)(jr.chainId):this.getChainId();return{fromAddress:Qr,toAddress:wn,weiValue:En,data:Rn,nonce:An,gasPriceInWei:$n,maxFeePerGas:Tn,maxPriorityFeePerGas:ti,gasLimit:ai,chainId:On}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw fe.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw fe.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(jr,Qr,wn,En){this._ensureKnownAddress(Qr);try{const An=await(await this.initializeRelay()).signEthereumMessage(jr,Qr,wn,En).promise;if((0,Ee.isErrorResponse)(An))throw new Error(An.errorMessage);return{jsonrpc:"2.0",id:0,result:An.result}}catch(Rn){throw typeof Rn.message=="string"&&Rn.message.match(/(denied|rejected)/i)?fe.standardErrors.provider.userRejectedRequest("User denied message signature"):Rn}}async _ethereumAddressFromSignedMessage(jr,Qr,wn){const Rn=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(jr,Qr,wn).promise;if((0,Ee.isErrorResponse)(Rn))throw new Error(Rn.errorMessage);return{jsonrpc:"2.0",id:0,result:Rn.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ye.hexStringFromIntNumber)(this.getChainId())}getChainId(){const jr=this._storage.getItem(br);if(!jr)return(0,ye.ensureIntNumber)(this._chainIdFromOpts);const Qr=parseInt(jr,10);return(0,ye.ensureIntNumber)(Qr)}async _eth_requestAccounts(){var jr;if((jr=this.diagnostic)===null||jr===void 0||jr.log(Se.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?we.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let Qr;try{if(Qr=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,Ee.isErrorResponse)(Qr))throw new Error(Qr.errorMessage)}catch(wn){throw typeof wn.message=="string"&&wn.message.match(/(denied|rejected)/i)?fe.standardErrors.provider.userRejectedRequest("User denied account authorization"):wn}if(!Qr.result)throw new Error("accounts received is empty");return this._setAddresses(Qr.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(jr){this._requireAuthorization();const Qr=(0,ye.ensureAddressString)(jr[0]),wn=(0,ye.ensureBuffer)(jr[1]);return this._signEthereumMessage(wn,Qr,!1)}_eth_ecRecover(jr){const Qr=(0,ye.ensureBuffer)(jr[0]),wn=(0,ye.ensureBuffer)(jr[1]);return this._ethereumAddressFromSignedMessage(Qr,wn,!1)}_personal_sign(jr){this._requireAuthorization();const Qr=(0,ye.ensureBuffer)(jr[0]),wn=(0,ye.ensureAddressString)(jr[1]);return this._signEthereumMessage(Qr,wn,!0)}_personal_ecRecover(jr){const Qr=(0,ye.ensureBuffer)(jr[0]),wn=(0,ye.ensureBuffer)(jr[1]);return this._ethereumAddressFromSignedMessage(Qr,wn,!0)}async _eth_signTransaction(jr){this._requireAuthorization();const Qr=this._prepareTransactionParams(jr[0]||{});try{const En=await(await this.initializeRelay()).signEthereumTransaction(Qr).promise;if((0,Ee.isErrorResponse)(En))throw new Error(En.errorMessage);return{jsonrpc:"2.0",id:0,result:En.result}}catch(wn){throw typeof wn.message=="string"&&wn.message.match(/(denied|rejected)/i)?fe.standardErrors.provider.userRejectedRequest("User denied transaction signature"):wn}}async _eth_sendRawTransaction(jr){const Qr=(0,ye.ensureBuffer)(jr[0]),En=await(await this.initializeRelay()).submitEthereumTransaction(Qr,this.getChainId()).promise;if((0,Ee.isErrorResponse)(En))throw new Error(En.errorMessage);return{jsonrpc:"2.0",id:0,result:En.result}}async _eth_sendTransaction(jr){this._requireAuthorization();const Qr=this._prepareTransactionParams(jr[0]||{});try{const En=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(Qr).promise;if((0,Ee.isErrorResponse)(En))throw new Error(En.errorMessage);return{jsonrpc:"2.0",id:0,result:En.result}}catch(wn){throw typeof wn.message=="string"&&wn.message.match(/(denied|rejected)/i)?fe.standardErrors.provider.userRejectedRequest("User denied transaction signature"):wn}}async _eth_signTypedData_v1(jr){this._requireAuthorization();const Qr=(0,ye.ensureParsedJSONObject)(jr[0]),wn=(0,ye.ensureAddressString)(jr[1]);this._ensureKnownAddress(wn);const En=xe.default.hashForSignTypedDataLegacy({data:Qr}),Rn=JSON.stringify(Qr,null,2);return this._signEthereumMessage(En,wn,!1,Rn)}async _eth_signTypedData_v3(jr){this._requireAuthorization();const Qr=(0,ye.ensureAddressString)(jr[0]),wn=(0,ye.ensureParsedJSONObject)(jr[1]);this._ensureKnownAddress(Qr);const En=xe.default.hashForSignTypedData_v3({data:wn}),Rn=JSON.stringify(wn,null,2);return this._signEthereumMessage(En,Qr,!1,Rn)}async _eth_signTypedData_v4(jr){this._requireAuthorization();const Qr=(0,ye.ensureAddressString)(jr[0]),wn=(0,ye.ensureParsedJSONObject)(jr[1]);this._ensureKnownAddress(Qr);const En=xe.default.hashForSignTypedData_v4({data:wn}),Rn=JSON.stringify(wn,null,2);return this._signEthereumMessage(En,Qr,!1,Rn)}async _cbwallet_arbitrary(jr){const Qr=jr[0],wn=jr[1];if(typeof wn!="string")throw new Error("parameter must be a string");if(typeof Qr!="object"||Qr===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(Qr,wn)}}async _wallet_addEthereumChain(jr){var Qr,wn,En,Rn;const An=jr[0];if(((Qr=An.rpcUrls)===null||Qr===void 0?void 0:Qr.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!An.chainName||An.chainName.trim()==="")throw fe.standardErrors.rpc.invalidParams("chainName is a required field");if(!An.nativeCurrency)throw fe.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const $n=parseInt(An.chainId,16);return await this.addEthereumChain($n,(wn=An.rpcUrls)!==null&&wn!==void 0?wn:[],(En=An.blockExplorerUrls)!==null&&En!==void 0?En:[],An.chainName,(Rn=An.iconUrls)!==null&&Rn!==void 0?Rn:[],An.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(jr){const Qr=jr[0];return await this.switchEthereumChain(parseInt(Qr.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(jr){const Qr=Array.isArray(jr)?jr[0]:jr;if(!Qr.type)throw fe.standardErrors.rpc.invalidParams("Type is required");if((Qr==null?void 0:Qr.type)!=="ERC20")throw fe.standardErrors.rpc.invalidParams(`Asset of type '${Qr.type}' is not supported`);if(!(Qr!=null&&Qr.options))throw fe.standardErrors.rpc.invalidParams("Options are required");if(!(Qr!=null&&Qr.options.address))throw fe.standardErrors.rpc.invalidParams("Address is required");const wn=this.getChainId(),{address:En,symbol:Rn,image:An,decimals:$n}=Qr.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(Qr.type,En,Rn,$n,An,wn)}}_eth_uninstallFilter(jr){const Qr=(0,ye.ensureHexString)(jr[0]);return this._filterPolyfill.uninstallFilter(Qr)}async _eth_newFilter(jr){const Qr=jr[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(Qr)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(jr){const Qr=(0,ye.ensureHexString)(jr[0]);return this._filterPolyfill.getFilterChanges(Qr)}_eth_getFilterLogs(jr){const Qr=(0,ye.ensureHexString)(jr[0]);return this._filterPolyfill.getFilterLogs(Qr)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(jr=>(jr.setAccountsCallback((Qr,wn)=>this._setAddresses(Qr,wn)),jr.setChainCallback((Qr,wn)=>{this.updateProviderInfo(wn,parseInt(Qr,10))}),jr.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=jr,jr))}};return CoinbaseWalletProvider.CoinbaseWalletProvider=Wr,CoinbaseWalletProvider}var RelayEventManager={},hasRequiredRelayEventManager;function requireRelayEventManager(){if(hasRequiredRelayEventManager)return RelayEventManager;hasRequiredRelayEventManager=1,Object.defineProperty(RelayEventManager,"__esModule",{value:!0}),RelayEventManager.RelayEventManager=void 0;const se=requireUtil$1();let Y=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const fe=this._nextRequestId,ye=(0,se.prepend0x)(fe.toString(16));return this.callbacks.get(ye)&&this.callbacks.delete(ye),fe}};return RelayEventManager.RelayEventManager=Y,RelayEventManager}var hasRequiredCoinbaseWalletSDK;function requireCoinbaseWalletSDK(){if(hasRequiredCoinbaseWalletSDK)return CoinbaseWalletSDK;hasRequiredCoinbaseWalletSDK=1,Object.defineProperty(CoinbaseWalletSDK,"__esModule",{value:!0}),CoinbaseWalletSDK.CoinbaseWalletSDK=void 0;const se=requireWalletLogo(),Y=requireConstants$2(),ne=requireUtil$1(),fe=requireScopedLocalStorage(),ye=requireCoinbaseWalletProvider(),me=requireMobileRelay(),be=requireMobileRelayUI(),we=requireRelayEventManager(),Ee=requireWalletLinkRelayUI(),xe=requireWalletLinkRelay(),Se=requireVersion();let Ie=class kw{constructor(br){var kr,Wr,Gr;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const jr=br.linkAPIUrl||Y.LINK_API_URL;typeof br.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=br.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(kr=br.overrideIsCoinbaseWallet)!==null&&kr!==void 0?kr:!0,this._overrideIsCoinbaseBrowser=(Wr=br.overrideIsCoinbaseBrowser)!==null&&Wr!==void 0?Wr:!1,this._diagnosticLogger=br.diagnosticLogger,this._reloadOnDisconnect=(Gr=br.reloadOnDisconnect)!==null&&Gr!==void 0?Gr:!0;const Qr=new URL(jr),wn=`${Qr.protocol}//${Qr.host}`;if(this._storage=new fe.ScopedLocalStorage(`-walletlink:${wn}`),this._storage.setItem("version",kw.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new we.RelayEventManager;const En=(0,ne.isMobileWeb)(),Rn=br.uiConstructor||($n=>En?new be.MobileRelayUI($n):new Ee.WalletLinkRelayUI($n)),An={linkAPIUrl:jr,version:Se.LIB_VERSION,darkMode:!!br.darkMode,uiConstructor:Rn,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:br.enableMobileWalletLink};this._relay=En?new me.MobileRelay(An):new xe.WalletLinkRelay(An),this.setAppInfo(br.appName,br.appLogoUrl),!br.headlessMode&&this._relay.attachUI()}makeWeb3Provider(br="",kr=1){const Wr=this.walletExtension;if(Wr)return this.isCipherProvider(Wr)||Wr.setProviderInfo(br,kr),this._reloadOnDisconnect===!1&&typeof Wr.disableReloadOnDisconnect=="function"&&Wr.disableReloadOnDisconnect(),Wr;const Gr=this.coinbaseBrowser;if(Gr)return Gr;const jr=this._relay;if(!jr||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return br||jr.setConnectDisabled(!0),new ye.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(jr),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:br,chainId:kr,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(br,kr){var Wr;this._appName=br||"DApp",this._appLogoUrl=kr||(0,ne.getFavicon)();const Gr=this.walletExtension;Gr?this.isCipherProvider(Gr)||Gr.setAppInfo(this._appName,this._appLogoUrl):(Wr=this._relay)===null||Wr===void 0||Wr.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var br;const kr=this===null||this===void 0?void 0:this.walletExtension;kr?kr.close():(br=this._relay)===null||br===void 0||br.resetAndReload()}getQrUrl(){var br,kr;return(kr=(br=this._relay)===null||br===void 0?void 0:br.getQRCodeUrl())!==null&&kr!==void 0?kr:null}getCoinbaseWalletLogo(br,kr=240){return(0,se.walletLogo)(br,kr)}get walletExtension(){var br;return(br=window.coinbaseWalletExtension)!==null&&br!==void 0?br:window.walletLinkExtension}get coinbaseBrowser(){var br,kr;try{const Wr=(br=window.ethereum)!==null&&br!==void 0?br:(kr=window.top)===null||kr===void 0?void 0:kr.ethereum;return Wr&&"isCoinbaseBrowser"in Wr&&Wr.isCoinbaseBrowser?Wr:void 0}catch{return}}isCipherProvider(br){return typeof br.isCipher=="boolean"&&br.isCipher}};return CoinbaseWalletSDK.CoinbaseWalletSDK=Ie,Ie.VERSION=Se.LIB_VERSION,CoinbaseWalletSDK}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(se){Object.defineProperty(se,"__esModule",{value:!0}),se.CoinbaseWalletProvider=se.CoinbaseWalletSDK=void 0;const Y=requireCoinbaseWalletSDK(),ne=requireCoinbaseWalletProvider();var fe=requireCoinbaseWalletSDK();Object.defineProperty(se,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return fe.CoinbaseWalletSDK}});var ye=requireCoinbaseWalletProvider();Object.defineProperty(se,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return ye.CoinbaseWalletProvider}}),se.default=Y.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=Y.CoinbaseWalletSDK,window.CoinbaseWalletProvider=ne.CoinbaseWalletProvider,window.WalletLink=Y.CoinbaseWalletSDK,window.WalletLinkProvider=ne.CoinbaseWalletProvider)}(dist$5)),dist$5}var distExports=requireDist();function defaultConfig(se){const{enableEIP6963:Y=!0,enableInjected:ne=!0,enableCoinbase:fe=!0,enableEmail:ye=!1,metadata:me,rpcUrl:be,defaultChainId:we}=se;let Ee,xe;const Se={metadata:me};function Ie(){if(Ee)return Ee;if(!(typeof window>"u")&&window.ethereum)return Ee=window.ethereum,Ee}function fr(){return xe||(typeof window>"u"?void 0:(xe=new distExports.CoinbaseWalletSDK({appName:me.name,appLogoUrl:me.icons[0],darkMode:!1,enableMobileWalletLink:!0}).makeWeb3Provider(be,we),xe))}return ne&&(Se.injected=Ie()),fe&&be&&we&&(Se.coinbase=fr()),Y&&(Se.EIP6963=!0),ye&&(Se.email=!0),Se}let modal;function createWeb3Modal(se){return modal||(modal=new Web3Modal({...se,_sdkVersion:`vue-ethers-${ConstantsUtil.VERSION}`})),modal}const version="6.12.1";function checkType(se,Y,ne){const fe=Y.split("|").map(me=>me.trim());for(let me=0;me<fe.length;me++)switch(Y){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof se===Y)return}const ye=new Error(`invalid value for type ${Y}`);throw ye.code="INVALID_ARGUMENT",ye.argument=`value.${ne}`,ye.value=se,ye}async function resolveProperties(se){const Y=Object.keys(se);return(await Promise.all(Y.map(fe=>Promise.resolve(se[fe])))).reduce((fe,ye,me)=>(fe[Y[me]]=ye,fe),{})}function defineProperties(se,Y,ne){for(let fe in Y){let ye=Y[fe];const me=ne?ne[fe]:null;me&&checkType(ye,me,fe),Object.defineProperty(se,fe,{enumerable:!0,value:ye,writable:!1})}}function stringify(se){if(se==null)return"null";if(Array.isArray(se))return"[ "+se.map(stringify).join(", ")+" ]";if(se instanceof Uint8Array){const Y="0123456789abcdef";let ne="0x";for(let fe=0;fe<se.length;fe++)ne+=Y[se[fe]>>4],ne+=Y[se[fe]&15];return ne}if(typeof se=="object"&&typeof se.toJSON=="function")return stringify(se.toJSON());switch(typeof se){case"boolean":case"symbol":return se.toString();case"bigint":return BigInt(se).toString();case"number":return se.toString();case"string":return JSON.stringify(se);case"object":{const Y=Object.keys(se);return Y.sort(),"{ "+Y.map(ne=>`${stringify(ne)}: ${stringify(se[ne])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function isError(se,Y){return se&&se.code===Y}function isCallException(se){return isError(se,"CALL_EXCEPTION")}function makeError(se,Y,ne){let fe=se;{const me=[];if(ne){if("message"in ne||"code"in ne||"name"in ne)throw new Error(`value will overwrite populated values: ${stringify(ne)}`);for(const be in ne){if(be==="shortMessage")continue;const we=ne[be];me.push(be+"="+stringify(we))}}me.push(`code=${Y}`),me.push(`version=${version}`),me.length&&(se+=" ("+me.join(", ")+")")}let ye;switch(Y){case"INVALID_ARGUMENT":ye=new TypeError(se);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":ye=new RangeError(se);break;default:ye=new Error(se)}return defineProperties(ye,{code:Y}),ne&&Object.assign(ye,ne),ye.shortMessage==null&&defineProperties(ye,{shortMessage:fe}),ye}function assert(se,Y,ne,fe){if(!se)throw makeError(Y,ne,fe)}function assertArgument(se,Y,ne,fe){assert(se,Y,"INVALID_ARGUMENT",{argument:ne,value:fe})}function assertArgumentCount(se,Y,ne){ne==null&&(ne=""),ne&&(ne=": "+ne),assert(se>=Y,"missing arguemnt"+ne,"MISSING_ARGUMENT",{count:se,expectedCount:Y}),assert(se<=Y,"too many arguments"+ne,"UNEXPECTED_ARGUMENT",{count:se,expectedCount:Y})}["NFD","NFC","NFKD","NFKC"].reduce((se,Y)=>{try{if("test".normalize(Y)!=="test")throw new Error("bad");if(Y==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");se.push(Y)}catch{}return se},[]);function assertPrivate(se,Y,ne){if(ne==null&&(ne=""),se!==Y){let fe=ne,ye="new";ne&&(fe+=".",ye+=" "+ne),assert(!1,`private constructor; use ${fe}from* methods`,"UNSUPPORTED_OPERATION",{operation:ye})}}function _getBytes(se,Y,ne){if(se instanceof Uint8Array)return ne?new Uint8Array(se):se;if(typeof se=="string"&&se.match(/^0x([0-9a-f][0-9a-f])*$/i)){const fe=new Uint8Array((se.length-2)/2);let ye=2;for(let me=0;me<fe.length;me++)fe[me]=parseInt(se.substring(ye,ye+2),16),ye+=2;return fe}assertArgument(!1,"invalid BytesLike value",Y||"value",se)}function getBytes(se,Y){return _getBytes(se,Y,!1)}function getBytesCopy(se,Y){return _getBytes(se,Y,!0)}function isHexString(se,Y){return!(typeof se!="string"||!se.match(/^0x[0-9A-Fa-f]*$/)||typeof Y=="number"&&se.length!==2+2*Y||Y===!0&&se.length%2!==0)}function isBytesLike(se){return isHexString(se,!0)||se instanceof Uint8Array}const HexCharacters="0123456789abcdef";function hexlify(se){const Y=getBytes(se);let ne="0x";for(let fe=0;fe<Y.length;fe++){const ye=Y[fe];ne+=HexCharacters[(ye&240)>>4]+HexCharacters[ye&15]}return ne}function concat(se){return"0x"+se.map(Y=>hexlify(Y).substring(2)).join("")}function dataLength(se){return isHexString(se,!0)?(se.length-2)/2:getBytes(se).length}function dataSlice(se,Y,ne){const fe=getBytes(se);return ne!=null&&ne>fe.length&&assert(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:fe,length:fe.length,offset:ne}),hexlify(fe.slice(Y??0,ne??fe.length))}function zeroPad(se,Y,ne){const fe=getBytes(se);assert(Y>=fe.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(fe),length:Y,offset:Y+1});const ye=new Uint8Array(Y);return ye.fill(0),ne?ye.set(fe,Y-fe.length):ye.set(fe,0),hexlify(ye)}function zeroPadValue(se,Y){return zeroPad(se,Y,!0)}function zeroPadBytes(se,Y){return zeroPad(se,Y,!1)}const BN_0$8=BigInt(0),BN_1$3=BigInt(1),maxValue=9007199254740991;function fromTwos(se,Y){const ne=getUint(se,"value"),fe=BigInt(getNumber(Y,"width"));if(assert(ne>>fe===BN_0$8,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:se}),ne>>fe-BN_1$3){const ye=(BN_1$3<<fe)-BN_1$3;return-((~ne&ye)+BN_1$3)}return ne}function toTwos(se,Y){let ne=getBigInt(se,"value");const fe=BigInt(getNumber(Y,"width")),ye=BN_1$3<<fe-BN_1$3;if(ne<BN_0$8){ne=-ne,assert(ne<=ye,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:se});const me=(BN_1$3<<fe)-BN_1$3;return(~ne&me)+BN_1$3}else assert(ne<ye,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:se});return ne}function mask(se,Y){const ne=getUint(se,"value"),fe=BigInt(getNumber(Y,"bits"));return ne&(BN_1$3<<fe)-BN_1$3}function getBigInt(se,Y){switch(typeof se){case"bigint":return se;case"number":return assertArgument(Number.isInteger(se),"underflow",Y||"value",se),assertArgument(se>=-maxValue&&se<=maxValue,"overflow",Y||"value",se),BigInt(se);case"string":try{if(se==="")throw new Error("empty string");return se[0]==="-"&&se[1]!=="-"?-BigInt(se.substring(1)):BigInt(se)}catch(ne){assertArgument(!1,`invalid BigNumberish string: ${ne.message}`,Y||"value",se)}}assertArgument(!1,"invalid BigNumberish value",Y||"value",se)}function getUint(se,Y){const ne=getBigInt(se,Y);return assert(ne>=BN_0$8,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:se}),ne}const Nibbles="0123456789abcdef";function toBigInt(se){if(se instanceof Uint8Array){let Y="0x0";for(const ne of se)Y+=Nibbles[ne>>4],Y+=Nibbles[ne&15];return BigInt(Y)}return getBigInt(se)}function getNumber(se,Y){switch(typeof se){case"bigint":return assertArgument(se>=-maxValue&&se<=maxValue,"overflow",Y||"value",se),Number(se);case"number":return assertArgument(Number.isInteger(se),"underflow",Y||"value",se),assertArgument(se>=-maxValue&&se<=maxValue,"overflow",Y||"value",se),se;case"string":try{if(se==="")throw new Error("empty string");return getNumber(BigInt(se),Y)}catch(ne){assertArgument(!1,`invalid numeric string: ${ne.message}`,Y||"value",se)}}assertArgument(!1,"invalid numeric value",Y||"value",se)}function toNumber(se){return getNumber(toBigInt(se))}function toBeHex(se,Y){let fe=getUint(se,"value").toString(16);if(Y==null)fe.length%2&&(fe="0"+fe);else{const ye=getNumber(Y,"width");for(assert(ye*2>=fe.length,`value exceeds width (${ye} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:se});fe.length<ye*2;)fe="0"+fe}return"0x"+fe}function toBeArray(se){const Y=getUint(se,"value");if(Y===BN_0$8)return new Uint8Array([]);let ne=Y.toString(16);ne.length%2&&(ne="0"+ne);const fe=new Uint8Array(ne.length/2);for(let ye=0;ye<fe.length;ye++){const me=ye*2;fe[ye]=parseInt(ne.substring(me,me+2),16)}return fe}function toQuantity(se){let Y=hexlify(isBytesLike(se)?se:toBeArray(se)).substring(2);for(;Y.startsWith("0");)Y=Y.substring(1);return Y===""&&(Y="0"),"0x"+Y}const Alphabet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const BN_58=BigInt(58);function encodeBase58(se){const Y=getBytes(se);let ne=toBigInt(Y),fe="";for(;ne;)fe=Alphabet[Number(ne%BN_58)]+fe,ne/=BN_58;for(let ye=0;ye<Y.length&&!Y[ye];ye++)fe=Alphabet[0]+fe;return fe}function decodeBase64(se){se=atob(se);const Y=new Uint8Array(se.length);for(let ne=0;ne<se.length;ne++)Y[ne]=se.charCodeAt(ne);return getBytes(Y)}function encodeBase64(se){const Y=getBytes(se);let ne="";for(let fe=0;fe<Y.length;fe++)ne+=String.fromCharCode(Y[fe]);return btoa(ne)}var y0;class EventPayload{constructor(Y,ne,fe){li(this,"filter");li(this,"emitter");fi(this,y0);Yn(this,y0,ne),defineProperties(this,{emitter:Y,filter:fe})}async removeListener(){In(this,y0)!=null&&await this.emitter.off(this.filter,In(this,y0))}}y0=new WeakMap;function errorFunc(se,Y,ne,fe,ye){assertArgument(!1,`invalid codepoint at offset ${Y}; ${se}`,"bytes",ne)}function ignoreFunc(se,Y,ne,fe,ye){if(se==="BAD_PREFIX"||se==="UNEXPECTED_CONTINUE"){let me=0;for(let be=Y+1;be<ne.length&&ne[be]>>6===2;be++)me++;return me}return se==="OVERRUN"?ne.length-Y-1:0}function replaceFunc(se,Y,ne,fe,ye){return se==="OVERLONG"?(assertArgument(typeof ye=="number","invalid bad code point for replacement","badCodepoint",ye),fe.push(ye),0):(fe.push(65533),ignoreFunc(se,Y,ne))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(se,Y){Y==null&&(Y=Utf8ErrorFuncs.error);const ne=getBytes(se,"bytes"),fe=[];let ye=0;for(;ye<ne.length;){const me=ne[ye++];if(!(me>>7)){fe.push(me);continue}let be=null,we=null;if((me&224)===192)be=1,we=127;else if((me&240)===224)be=2,we=2047;else if((me&248)===240)be=3,we=65535;else{(me&192)===128?ye+=Y("UNEXPECTED_CONTINUE",ye-1,ne,fe):ye+=Y("BAD_PREFIX",ye-1,ne,fe);continue}if(ye-1+be>=ne.length){ye+=Y("OVERRUN",ye-1,ne,fe);continue}let Ee=me&(1<<8-be-1)-1;for(let xe=0;xe<be;xe++){let Se=ne[ye];if((Se&192)!=128){ye+=Y("MISSING_CONTINUE",ye,ne,fe),Ee=null;break}Ee=Ee<<6|Se&63,ye++}if(Ee!==null){if(Ee>1114111){ye+=Y("OUT_OF_RANGE",ye-1-be,ne,fe,Ee);continue}if(Ee>=55296&&Ee<=57343){ye+=Y("UTF16_SURROGATE",ye-1-be,ne,fe,Ee);continue}if(Ee<=we){ye+=Y("OVERLONG",ye-1-be,ne,fe,Ee);continue}fe.push(Ee)}}return fe}function toUtf8Bytes(se,Y){assertArgument(typeof se=="string","invalid string value","str",se);let ne=[];for(let fe=0;fe<se.length;fe++){const ye=se.charCodeAt(fe);if(ye<128)ne.push(ye);else if(ye<2048)ne.push(ye>>6|192),ne.push(ye&63|128);else if((ye&64512)==55296){fe++;const me=se.charCodeAt(fe);assertArgument(fe<se.length&&(me&64512)===56320,"invalid surrogate pair","str",se);const be=65536+((ye&1023)<<10)+(me&1023);ne.push(be>>18|240),ne.push(be>>12&63|128),ne.push(be>>6&63|128),ne.push(be&63|128)}else ne.push(ye>>12|224),ne.push(ye>>6&63|128),ne.push(ye&63|128)}return new Uint8Array(ne)}function _toUtf8String(se){return se.map(Y=>Y<=65535?String.fromCharCode(Y):(Y-=65536,String.fromCharCode((Y>>10&1023)+55296,(Y&1023)+56320))).join("")}function toUtf8String(se,Y){return _toUtf8String(getUtf8CodePoints(se,Y))}function createGetUrl(se){async function Y(ne,fe){const ye=ne.url.split(":")[0].toLowerCase();assert(ye==="http"||ye==="https",`unsupported protocol ${ye}`,"UNSUPPORTED_OPERATION",{info:{protocol:ye},operation:"request"}),assert(ye==="https"||!ne.credentials||ne.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let me;if(fe){const Ie=new AbortController;me=Ie.signal,fe.addListener(()=>{Ie.abort()})}const be={method:ne.method,headers:new Headers(Array.from(ne)),body:ne.body||void 0,signal:me},we=await fetch(ne.url,be),Ee={};we.headers.forEach((Ie,fr)=>{Ee[fr.toLowerCase()]=Ie});const xe=await we.arrayBuffer(),Se=xe==null?null:new Uint8Array(xe);return{statusCode:we.status,statusMessage:we.statusText,headers:Ee,body:Se}}return Y}const MAX_ATTEMPTS=12,SLOT_INTERVAL=250;let defaultGetUrlFunc=createGetUrl();const reData=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),reIpfs=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let locked$1=!1;async function dataGatewayFunc(se,Y){try{const ne=se.match(reData);if(!ne)throw new Error("invalid data");return new FetchResponse(200,"OK",{"content-type":ne[1]||"text/plain"},ne[2]?decodeBase64(ne[3]):unpercent(ne[3]))}catch{return new FetchResponse(599,"BAD REQUEST (invalid data: URI)",{},null,new FetchRequest(se))}}function getIpfsGatewayFunc(se){async function Y(ne,fe){try{const ye=ne.match(reIpfs);if(!ye)throw new Error("invalid link");return new FetchRequest(`${se}${ye[2]}`)}catch{return new FetchResponse(599,"BAD REQUEST (invalid IPFS URI)",{},null,new FetchRequest(ne))}}return Y}const Gateways={data:dataGatewayFunc,ipfs:getIpfsGatewayFunc("https://gateway.ipfs.io/ipfs/")},fetchSignals=new WeakMap;var Th,_f;class FetchCancelSignal{constructor(Y){fi(this,Th);fi(this,_f);Yn(this,Th,[]),Yn(this,_f,!1),fetchSignals.set(Y,()=>{if(!In(this,_f)){Yn(this,_f,!0);for(const ne of In(this,Th))setTimeout(()=>{ne()},0);Yn(this,Th,[])}})}addListener(Y){assert(!In(this,_f),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),In(this,Th).push(Y)}get cancelled(){return In(this,_f)}checkSignal(){assert(!this.cancelled,"cancelled","CANCELLED",{})}}Th=new WeakMap,_f=new WeakMap;function checkSignal(se){if(se==null)throw new Error("missing signal; should not happen");return se.checkSignal(),se}var b0,v0,Cl,Au,w0,_0,Qo,jc,Ru,Nh,kh,Mh,jl,Sl,$f,Oh,Ip;const Pg=class Pg{constructor(Y){fi(this,Oh);fi(this,b0);fi(this,v0);fi(this,Cl);fi(this,Au);fi(this,w0);fi(this,_0);fi(this,Qo);fi(this,jc);fi(this,Ru);fi(this,Nh);fi(this,kh);fi(this,Mh);fi(this,jl);fi(this,Sl);fi(this,$f);Yn(this,_0,String(Y)),Yn(this,b0,!1),Yn(this,v0,!0),Yn(this,Cl,{}),Yn(this,Au,""),Yn(this,w0,3e5),Yn(this,Sl,{slotInterval:SLOT_INTERVAL,maxAttempts:MAX_ATTEMPTS}),Yn(this,$f,null)}get url(){return In(this,_0)}set url(Y){Yn(this,_0,String(Y))}get body(){return In(this,Qo)==null?null:new Uint8Array(In(this,Qo))}set body(Y){if(Y==null)Yn(this,Qo,void 0),Yn(this,jc,void 0);else if(typeof Y=="string")Yn(this,Qo,toUtf8Bytes(Y)),Yn(this,jc,"text/plain");else if(Y instanceof Uint8Array)Yn(this,Qo,Y),Yn(this,jc,"application/octet-stream");else if(typeof Y=="object")Yn(this,Qo,toUtf8Bytes(JSON.stringify(Y))),Yn(this,jc,"application/json");else throw new Error("invalid body")}hasBody(){return In(this,Qo)!=null}get method(){return In(this,Au)?In(this,Au):this.hasBody()?"POST":"GET"}set method(Y){Y==null&&(Y=""),Yn(this,Au,String(Y).toUpperCase())}get headers(){const Y=Object.assign({},In(this,Cl));return In(this,Ru)&&(Y.authorization=`Basic ${encodeBase64(toUtf8Bytes(In(this,Ru)))}`),this.allowGzip&&(Y["accept-encoding"]="gzip"),Y["content-type"]==null&&In(this,jc)&&(Y["content-type"]=In(this,jc)),this.body&&(Y["content-length"]=String(this.body.length)),Y}getHeader(Y){return this.headers[Y.toLowerCase()]}setHeader(Y,ne){In(this,Cl)[String(Y).toLowerCase()]=String(ne)}clearHeaders(){Yn(this,Cl,{})}[Symbol.iterator](){const Y=this.headers,ne=Object.keys(Y);let fe=0;return{next:()=>{if(fe<ne.length){const ye=ne[fe++];return{value:[ye,Y[ye]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return In(this,Ru)||null}setCredentials(Y,ne){assertArgument(!Y.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Yn(this,Ru,`${Y}:${ne}`)}get allowGzip(){return In(this,v0)}set allowGzip(Y){Yn(this,v0,!!Y)}get allowInsecureAuthentication(){return!!In(this,b0)}set allowInsecureAuthentication(Y){Yn(this,b0,!!Y)}get timeout(){return In(this,w0)}set timeout(Y){assertArgument(Y>=0,"timeout must be non-zero","timeout",Y),Yn(this,w0,Y)}get preflightFunc(){return In(this,Nh)||null}set preflightFunc(Y){Yn(this,Nh,Y)}get processFunc(){return In(this,kh)||null}set processFunc(Y){Yn(this,kh,Y)}get retryFunc(){return In(this,Mh)||null}set retryFunc(Y){Yn(this,Mh,Y)}get getUrlFunc(){return In(this,$f)||defaultGetUrlFunc}set getUrlFunc(Y){Yn(this,$f,Y)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${In(this,Qo)?hexlify(In(this,Qo)):"null"}>`}setThrottleParams(Y){Y.slotInterval!=null&&(In(this,Sl).slotInterval=Y.slotInterval),Y.maxAttempts!=null&&(In(this,Sl).maxAttempts=Y.maxAttempts)}send(){return assert(In(this,jl)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Yn(this,jl,new FetchCancelSignal(this)),_i(this,Oh,Ip).call(this,0,getTime$1()+this.timeout,0,this,new FetchResponse(0,"",{},null,this))}cancel(){assert(In(this,jl)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const Y=fetchSignals.get(this);if(!Y)throw new Error("missing signal; should not happen");Y()}redirect(Y){const ne=this.url.split(":")[0].toLowerCase(),fe=Y.split(":")[0].toLowerCase();assert(this.method==="GET"&&(ne!=="https"||fe!=="http")&&Y.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(Y)})`});const ye=new Pg(Y);return ye.method="GET",ye.allowGzip=this.allowGzip,ye.timeout=this.timeout,Yn(ye,Cl,Object.assign({},In(this,Cl))),In(this,Qo)&&Yn(ye,Qo,new Uint8Array(In(this,Qo))),Yn(ye,jc,In(this,jc)),ye}clone(){const Y=new Pg(this.url);return Yn(Y,Au,In(this,Au)),In(this,Qo)&&Yn(Y,Qo,In(this,Qo)),Yn(Y,jc,In(this,jc)),Yn(Y,Cl,Object.assign({},In(this,Cl))),Yn(Y,Ru,In(this,Ru)),this.allowGzip&&(Y.allowGzip=!0),Y.timeout=this.timeout,this.allowInsecureAuthentication&&(Y.allowInsecureAuthentication=!0),Yn(Y,Nh,In(this,Nh)),Yn(Y,kh,In(this,kh)),Yn(Y,Mh,In(this,Mh)),Yn(Y,Sl,Object.assign({},In(this,Sl))),Yn(Y,$f,In(this,$f)),Y}static lockConfig(){locked$1=!0}static getGateway(Y){return Gateways[Y.toLowerCase()]||null}static registerGateway(Y,ne){if(Y=Y.toLowerCase(),Y==="http"||Y==="https")throw new Error(`cannot intercept ${Y}; use registerGetUrl`);if(locked$1)throw new Error("gateways locked");Gateways[Y]=ne}static registerGetUrl(Y){if(locked$1)throw new Error("gateways locked");defaultGetUrlFunc=Y}static createGetUrlFunc(Y){return createGetUrl()}static createDataGateway(){return dataGatewayFunc}static createIpfsGatewayFunc(Y){return getIpfsGatewayFunc(Y)}};b0=new WeakMap,v0=new WeakMap,Cl=new WeakMap,Au=new WeakMap,w0=new WeakMap,_0=new WeakMap,Qo=new WeakMap,jc=new WeakMap,Ru=new WeakMap,Nh=new WeakMap,kh=new WeakMap,Mh=new WeakMap,jl=new WeakMap,Sl=new WeakMap,$f=new WeakMap,Oh=new WeakSet,Ip=async function(Y,ne,fe,ye,me){var Se,Ie,fr;if(Y>=In(this,Sl).maxAttempts)return me.makeServerError("exceeded maximum retry limit");assert(getTime$1()<=ne,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:ye}),fe>0&&await wait(fe);let be=this.clone();const we=(be.url.split(":")[0]||"").toLowerCase();if(we in Gateways){const br=await Gateways[we](be.url,checkSignal(In(ye,jl)));if(br instanceof FetchResponse){let kr=br;if(this.processFunc){checkSignal(In(ye,jl));try{kr=await this.processFunc(be,kr)}catch(Wr){(Wr.throttle==null||typeof Wr.stall!="number")&&kr.makeServerError("error in post-processing function",Wr).assertOk()}}return kr}be=br}this.preflightFunc&&(be=await this.preflightFunc(be));const Ee=await this.getUrlFunc(be,checkSignal(In(ye,jl)));let xe=new FetchResponse(Ee.statusCode,Ee.statusMessage,Ee.headers,Ee.body,ye);if(xe.statusCode===301||xe.statusCode===302){try{const br=xe.headers.location||"";return _i(Se=be.redirect(br),Oh,Ip).call(Se,Y+1,ne,0,ye,xe)}catch{}return xe}else if(xe.statusCode===429&&(this.retryFunc==null||await this.retryFunc(be,xe,Y))){const br=xe.headers["retry-after"];let kr=In(this,Sl).slotInterval*Math.trunc(Math.random()*Math.pow(2,Y));return typeof br=="string"&&br.match(/^[1-9][0-9]*$/)&&(kr=parseInt(br)),_i(Ie=be.clone(),Oh,Ip).call(Ie,Y+1,ne,kr,ye,xe)}if(this.processFunc){checkSignal(In(ye,jl));try{xe=await this.processFunc(be,xe)}catch(br){(br.throttle==null||typeof br.stall!="number")&&xe.makeServerError("error in post-processing function",br).assertOk();let kr=In(this,Sl).slotInterval*Math.trunc(Math.random()*Math.pow(2,Y));return br.stall>=0&&(kr=br.stall),_i(fr=be.clone(),Oh,Ip).call(fr,Y+1,ne,kr,ye,xe)}}return xe};let FetchRequest=Pg;var Zp,Kp,Jp,Hc,$0,Bh;const Ty=class Ty{constructor(Y,ne,fe,ye,me){fi(this,Zp);fi(this,Kp);fi(this,Jp);fi(this,Hc);fi(this,$0);fi(this,Bh);Yn(this,Zp,Y),Yn(this,Kp,ne),Yn(this,Jp,Object.keys(fe).reduce((be,we)=>(be[we.toLowerCase()]=String(fe[we]),be),{})),Yn(this,Hc,ye==null?null:new Uint8Array(ye)),Yn(this,$0,me||null),Yn(this,Bh,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${In(this,Hc)?hexlify(In(this,Hc)):"null"}>`}get statusCode(){return In(this,Zp)}get statusMessage(){return In(this,Kp)}get headers(){return Object.assign({},In(this,Jp))}get body(){return In(this,Hc)==null?null:new Uint8Array(In(this,Hc))}get bodyText(){try{return In(this,Hc)==null?"":toUtf8String(In(this,Hc))}catch{assert(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{assert(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const Y=this.headers,ne=Object.keys(Y);let fe=0;return{next:()=>{if(fe<ne.length){const ye=ne[fe++];return{value:[ye,Y[ye]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(Y,ne){let fe;Y?fe=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${Y})`:(Y=`${this.statusCode} ${this.statusMessage}`,fe=`CLIENT ESCALATED SERVER ERROR (${Y})`);const ye=new Ty(599,fe,this.headers,this.body,In(this,$0)||void 0);return Yn(ye,Bh,{message:Y,error:ne}),ye}throwThrottleError(Y,ne){ne==null?ne=-1:assertArgument(Number.isInteger(ne)&&ne>=0,"invalid stall timeout","stall",ne);const fe=new Error(Y||"throttling requests");throw defineProperties(fe,{stall:ne,throttle:!0}),fe}getHeader(Y){return this.headers[Y.toLowerCase()]}hasBody(){return In(this,Hc)!=null}get request(){return In(this,$0)}ok(){return In(this,Bh).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:Y,error:ne}=In(this,Bh);Y===""&&(Y=`server response ${this.statusCode} ${this.statusMessage}`);let fe=null;this.request&&(fe=this.request.url);let ye=null;try{In(this,Hc)&&(ye=toUtf8String(In(this,Hc)))}catch{}assert(!1,Y,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:ne,info:{requestUrl:fe,responseBody:ye,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Zp=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,Hc=new WeakMap,$0=new WeakMap,Bh=new WeakMap;let FetchResponse=Ty;function getTime$1(){return new Date().getTime()}function unpercent(se){return toUtf8Bytes(se.replace(/%([0-9a-f][0-9a-f])/gi,(Y,ne)=>String.fromCharCode(parseInt(ne,16))))}function wait(se){return new Promise(Y=>setTimeout(Y,se))}function hexlifyByte(se){let Y=se.toString(16);for(;Y.length<2;)Y="0"+Y;return"0x"+Y}function unarrayifyInteger(se,Y,ne){let fe=0;for(let ye=0;ye<ne;ye++)fe=fe*256+se[Y+ye];return fe}function _decodeChildren(se,Y,ne,fe){const ye=[];for(;ne<Y+1+fe;){const me=_decode(se,ne);ye.push(me.result),ne+=me.consumed,assert(ne<=Y+1+fe,"child data too short","BUFFER_OVERRUN",{buffer:se,length:fe,offset:Y})}return{consumed:1+fe,result:ye}}function _decode(se,Y){assert(se.length!==0,"data too short","BUFFER_OVERRUN",{buffer:se,length:0,offset:1});const ne=fe=>{assert(fe<=se.length,"data short segment too short","BUFFER_OVERRUN",{buffer:se,length:se.length,offset:fe})};if(se[Y]>=248){const fe=se[Y]-247;ne(Y+1+fe);const ye=unarrayifyInteger(se,Y+1,fe);return ne(Y+1+fe+ye),_decodeChildren(se,Y,Y+1+fe,fe+ye)}else if(se[Y]>=192){const fe=se[Y]-192;return ne(Y+1+fe),_decodeChildren(se,Y,Y+1,fe)}else if(se[Y]>=184){const fe=se[Y]-183;ne(Y+1+fe);const ye=unarrayifyInteger(se,Y+1,fe);ne(Y+1+fe+ye);const me=hexlify(se.slice(Y+1+fe,Y+1+fe+ye));return{consumed:1+fe+ye,result:me}}else if(se[Y]>=128){const fe=se[Y]-128;ne(Y+1+fe);const ye=hexlify(se.slice(Y+1,Y+1+fe));return{consumed:1+fe,result:ye}}return{consumed:1,result:hexlifyByte(se[Y])}}function decodeRlp(se){const Y=getBytes(se,"data"),ne=_decode(Y,0);return assertArgument(ne.consumed===Y.length,"unexpected junk after rlp payload","data",se),ne.result}function arrayifyInteger(se){const Y=[];for(;se;)Y.unshift(se&255),se>>=8;return Y}function _encode(se){if(Array.isArray(se)){let fe=[];if(se.forEach(function(me){fe=fe.concat(_encode(me))}),fe.length<=55)return fe.unshift(192+fe.length),fe;const ye=arrayifyInteger(fe.length);return ye.unshift(247+ye.length),ye.concat(fe)}const Y=Array.prototype.slice.call(getBytes(se,"object"));if(Y.length===1&&Y[0]<=127)return Y;if(Y.length<=55)return Y.unshift(128+Y.length),Y;const ne=arrayifyInteger(Y.length);return ne.unshift(183+ne.length),ne.concat(Y)}const nibbles="0123456789abcdef";function encodeRlp(se){let Y="0x";for(const ne of _encode(se))Y+=nibbles[ne>>4],Y+=nibbles[ne&15];return Y}const WordSize=32,Padding=new Uint8Array(WordSize),passProperties$1=["then"],_guard$2={};function throwError(se,Y){const ne=new Error(`deferred error during ABI decoding triggered accessing ${se}`);throw ne.error=Y,ne}var Ef;const ih=class ih extends Array{constructor(...ne){const fe=ne[0];let ye=ne[1],me=(ne[2]||[]).slice(),be=!0;fe!==_guard$2&&(ye=ne,me=[],be=!1);super(ye.length);fi(this,Ef);ye.forEach((Ee,xe)=>{this[xe]=Ee});const we=me.reduce((Ee,xe)=>(typeof xe=="string"&&Ee.set(xe,(Ee.get(xe)||0)+1),Ee),new Map);if(Yn(this,Ef,Object.freeze(ye.map((Ee,xe)=>{const Se=me[xe];return Se!=null&&we.get(Se)===1?Se:null}))),!!be)return Object.freeze(this),new Proxy(this,{get:(Ee,xe,Se)=>{if(typeof xe=="string"){if(xe.match(/^[0-9]+$/)){const fr=getNumber(xe,"%index");if(fr<0||fr>=this.length)throw new RangeError("out of result range");const br=Ee[fr];return br instanceof Error&&throwError(`index ${fr}`,br),br}if(passProperties$1.indexOf(xe)>=0)return Reflect.get(Ee,xe,Se);const Ie=Ee[xe];if(Ie instanceof Function)return function(...fr){return Ie.apply(this===Se?Ee:this,fr)};if(!(xe in Ee))return Ee.getValue.apply(this===Se?Ee:this,[xe])}return Reflect.get(Ee,xe,Se)}})}toArray(ne){const fe=[];return this.forEach((ye,me)=>{ye instanceof Error&&throwError(`index ${me}`,ye),ne&&ye instanceof ih&&(ye=ye.toArray(ne)),fe.push(ye)}),fe}toObject(ne){return In(this,Ef).reduce((fe,ye,me)=>{if(assert(ye!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),!(ye in fe)){let be=this.getValue(ye);ne&&be instanceof ih&&(be=be.toObject(ne)),fe[ye]=be}return fe},{})}slice(ne,fe){ne==null&&(ne=0),ne<0&&(ne+=this.length,ne<0&&(ne=0)),fe==null&&(fe=this.length),fe<0&&(fe+=this.length,fe<0&&(fe=0)),fe>this.length&&(fe=this.length);const ye=[],me=[];for(let be=ne;be<fe;be++)ye.push(this[be]),me.push(In(this,Ef)[be]);return new ih(_guard$2,ye,me)}filter(ne,fe){const ye=[],me=[];for(let be=0;be<this.length;be++){const we=this[be];we instanceof Error&&throwError(`index ${be}`,we),ne.call(fe,we,be,this)&&(ye.push(we),me.push(In(this,Ef)[be]))}return new ih(_guard$2,ye,me)}map(ne,fe){const ye=[];for(let me=0;me<this.length;me++){const be=this[me];be instanceof Error&&throwError(`index ${me}`,be),ye.push(ne.call(fe,be,me,this))}return ye}getValue(ne){const fe=In(this,Ef).indexOf(ne);if(fe===-1)return;const ye=this[fe];return ye instanceof Error&&throwError(`property ${JSON.stringify(ne)}`,ye.error),ye}static fromItems(ne,fe){return new ih(_guard$2,ne,fe)}};Ef=new WeakMap;let Result=ih;function getValue$1(se){let Y=toBeArray(se);return assert(Y.length<=WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:Y,length:WordSize,offset:Y.length}),Y.length!==WordSize&&(Y=getBytesCopy(concat([Padding.slice(Y.length%WordSize),Y]))),Y}class Coder{constructor(Y,ne,fe,ye){li(this,"name");li(this,"type");li(this,"localName");li(this,"dynamic");defineProperties(this,{name:Y,type:ne,localName:fe,dynamic:ye},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(Y,ne){assertArgument(!1,Y,this.localName,ne)}}var Iu,Dh,E0,vg;class Writer{constructor(){fi(this,E0);fi(this,Iu);fi(this,Dh);Yn(this,Iu,[]),Yn(this,Dh,0)}get data(){return concat(In(this,Iu))}get length(){return In(this,Dh)}appendWriter(Y){return _i(this,E0,vg).call(this,getBytesCopy(Y.data))}writeBytes(Y){let ne=getBytesCopy(Y);const fe=ne.length%WordSize;return fe&&(ne=getBytesCopy(concat([ne,Padding.slice(fe)]))),_i(this,E0,vg).call(this,ne)}writeValue(Y){return _i(this,E0,vg).call(this,getValue$1(Y))}writeUpdatableValue(){const Y=In(this,Iu).length;return In(this,Iu).push(Padding),Yn(this,Dh,In(this,Dh)+WordSize),ne=>{In(this,Iu)[Y]=getValue$1(ne)}}}Iu=new WeakMap,Dh=new WeakMap,E0=new WeakSet,vg=function(Y){return In(this,Iu).push(Y),Yn(this,Dh,In(this,Dh)+Y.length),Y.length};var Rc,zc,Lh,qh,xf,td,Ey,Mw;const Ny=class Ny{constructor(Y,ne,fe){fi(this,td);li(this,"allowLoose");fi(this,Rc);fi(this,zc);fi(this,Lh);fi(this,qh);fi(this,xf);defineProperties(this,{allowLoose:!!ne}),Yn(this,Rc,getBytesCopy(Y)),Yn(this,Lh,0),Yn(this,qh,null),Yn(this,xf,fe??1024),Yn(this,zc,0)}get data(){return hexlify(In(this,Rc))}get dataLength(){return In(this,Rc).length}get consumed(){return In(this,zc)}get bytes(){return new Uint8Array(In(this,Rc))}subReader(Y){const ne=new Ny(In(this,Rc).slice(In(this,zc)+Y),this.allowLoose,In(this,xf));return Yn(ne,qh,this),ne}readBytes(Y,ne){let fe=_i(this,td,Mw).call(this,0,Y,!!ne);return _i(this,td,Ey).call(this,Y),Yn(this,zc,In(this,zc)+fe.length),fe.slice(0,Y)}readValue(){return toBigInt(this.readBytes(WordSize))}readIndex(){return toNumber(this.readBytes(WordSize))}};Rc=new WeakMap,zc=new WeakMap,Lh=new WeakMap,qh=new WeakMap,xf=new WeakMap,td=new WeakSet,Ey=function(Y){var ne;if(In(this,qh))return _i(ne=In(this,qh),td,Ey).call(ne,Y);Yn(this,Lh,In(this,Lh)+Y),assert(In(this,xf)<1||In(this,Lh)<=In(this,xf)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${In(this,xf)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:getBytesCopy(In(this,Rc)),offset:In(this,zc),length:Y,info:{bytesRead:In(this,Lh),dataLength:this.dataLength}})},Mw=function(Y,ne,fe){let ye=Math.ceil(ne/WordSize)*WordSize;return In(this,zc)+ye>In(this,Rc).length&&(this.allowLoose&&fe&&In(this,zc)+ne<=In(this,Rc).length?ye=ne:assert(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:getBytesCopy(In(this,Rc)),length:In(this,Rc).length,offset:In(this,zc)+ye})),In(this,Rc).slice(In(this,zc),In(this,zc)+ye)};let Reader=Ny;function number(se){if(!Number.isSafeInteger(se)||se<0)throw new Error(`Wrong positive integer: ${se}`)}function bytes(se,...Y){if(!(se instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Y.length>0&&!Y.includes(se.length))throw new Error(`Expected Uint8Array of length ${Y}, not of length=${se.length}`)}function exists(se,Y=!0){if(se.destroyed)throw new Error("Hash instance has been destroyed");if(Y&&se.finished)throw new Error("Hash#digest() has already been called")}function output(se,Y){bytes(se);const ne=Y.outputLen;if(se.length<ne)throw new Error(`digestInto() expects output buffer of length at least ${ne}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=se=>se instanceof Uint8Array,u32=se=>new Uint32Array(se.buffer,se.byteOffset,Math.floor(se.byteLength/4)),createView=se=>new DataView(se.buffer,se.byteOffset,se.byteLength),rotr=(se,Y)=>se<<32-Y|se>>>Y,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes(se){if(typeof se!="string")throw new Error(`utf8ToBytes expected string, got ${typeof se}`);return new Uint8Array(new TextEncoder().encode(se))}function toBytes(se){if(typeof se=="string"&&(se=utf8ToBytes(se)),!u8a(se))throw new Error(`expected Uint8Array, got ${typeof se}`);return se}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(se){const Y=fe=>se().update(toBytes(fe)).digest(),ne=se();return Y.outputLen=ne.outputLen,Y.blockLen=ne.blockLen,Y.create=()=>se(),Y}function setBigUint64(se,Y,ne,fe){if(typeof se.setBigUint64=="function")return se.setBigUint64(Y,ne,fe);const ye=BigInt(32),me=BigInt(4294967295),be=Number(ne>>ye&me),we=Number(ne&me),Ee=fe?4:0,xe=fe?0:4;se.setUint32(Y+Ee,be,fe),se.setUint32(Y+xe,we,fe)}class SHA2 extends Hash{constructor(Y,ne,fe,ye){super(),this.blockLen=Y,this.outputLen=ne,this.padOffset=fe,this.isLE=ye,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Y),this.view=createView(this.buffer)}update(Y){exists(this);const{view:ne,buffer:fe,blockLen:ye}=this;Y=toBytes(Y);const me=Y.length;for(let be=0;be<me;){const we=Math.min(ye-this.pos,me-be);if(we===ye){const Ee=createView(Y);for(;ye<=me-be;be+=ye)this.process(Ee,be);continue}fe.set(Y.subarray(be,be+we),this.pos),this.pos+=we,be+=we,this.pos===ye&&(this.process(ne,0),this.pos=0)}return this.length+=Y.length,this.roundClean(),this}digestInto(Y){exists(this),output(Y,this),this.finished=!0;const{buffer:ne,view:fe,blockLen:ye,isLE:me}=this;let{pos:be}=this;ne[be++]=128,this.buffer.subarray(be).fill(0),this.padOffset>ye-be&&(this.process(fe,0),be=0);for(let Ie=be;Ie<ye;Ie++)ne[Ie]=0;setBigUint64(fe,ye-8,BigInt(this.length*8),me),this.process(fe,0);const we=createView(Y),Ee=this.outputLen;if(Ee%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const xe=Ee/4,Se=this.get();if(xe>Se.length)throw new Error("_sha2: outputLen bigger than state");for(let Ie=0;Ie<xe;Ie++)we.setUint32(4*Ie,Se[Ie],me)}digest(){const{buffer:Y,outputLen:ne}=this;this.digestInto(Y);const fe=Y.slice(0,ne);return this.destroy(),fe}_cloneInto(Y){Y||(Y=new this.constructor),Y.set(...this.get());const{blockLen:ne,buffer:fe,length:ye,finished:me,destroyed:be,pos:we}=this;return Y.length=ye,Y.pos=we,Y.finished=me,Y.destroyed=be,ye%ne&&Y.buffer.set(fe),Y}}const Chi=(se,Y,ne)=>se&Y^~se&ne,Maj=(se,Y,ne)=>se&Y^se&ne^Y&ne,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:Y,B:ne,C:fe,D:ye,E:me,F:be,G:we,H:Ee}=this;return[Y,ne,fe,ye,me,be,we,Ee]}set(Y,ne,fe,ye,me,be,we,Ee){this.A=Y|0,this.B=ne|0,this.C=fe|0,this.D=ye|0,this.E=me|0,this.F=be|0,this.G=we|0,this.H=Ee|0}process(Y,ne){for(let Ie=0;Ie<16;Ie++,ne+=4)SHA256_W[Ie]=Y.getUint32(ne,!1);for(let Ie=16;Ie<64;Ie++){const fr=SHA256_W[Ie-15],br=SHA256_W[Ie-2],kr=rotr(fr,7)^rotr(fr,18)^fr>>>3,Wr=rotr(br,17)^rotr(br,19)^br>>>10;SHA256_W[Ie]=Wr+SHA256_W[Ie-7]+kr+SHA256_W[Ie-16]|0}let{A:fe,B:ye,C:me,D:be,E:we,F:Ee,G:xe,H:Se}=this;for(let Ie=0;Ie<64;Ie++){const fr=rotr(we,6)^rotr(we,11)^rotr(we,25),br=Se+fr+Chi(we,Ee,xe)+SHA256_K[Ie]+SHA256_W[Ie]|0,Wr=(rotr(fe,2)^rotr(fe,13)^rotr(fe,22))+Maj(fe,ye,me)|0;Se=xe,xe=Ee,Ee=we,we=be+br|0,be=me,me=ye,ye=fe,fe=br+Wr|0}fe=fe+this.A|0,ye=ye+this.B|0,me=me+this.C|0,be=be+this.D|0,we=we+this.E|0,Ee=Ee+this.F|0,xe=xe+this.G|0,Se=Se+this.H|0,this.set(fe,ye,me,be,we,Ee,xe,Se)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(se,Y=!1){return Y?{h:Number(se&U32_MASK64),l:Number(se>>_32n&U32_MASK64)}:{h:Number(se>>_32n&U32_MASK64)|0,l:Number(se&U32_MASK64)|0}}function split(se,Y=!1){let ne=new Uint32Array(se.length),fe=new Uint32Array(se.length);for(let ye=0;ye<se.length;ye++){const{h:me,l:be}=fromBig(se[ye],Y);[ne[ye],fe[ye]]=[me,be]}return[ne,fe]}const toBig=(se,Y)=>BigInt(se>>>0)<<_32n|BigInt(Y>>>0),shrSH=(se,Y,ne)=>se>>>ne,shrSL=(se,Y,ne)=>se<<32-ne|Y>>>ne,rotrSH=(se,Y,ne)=>se>>>ne|Y<<32-ne,rotrSL=(se,Y,ne)=>se<<32-ne|Y>>>ne,rotrBH=(se,Y,ne)=>se<<64-ne|Y>>>ne-32,rotrBL=(se,Y,ne)=>se>>>ne-32|Y<<64-ne,rotr32H=(se,Y)=>Y,rotr32L=(se,Y)=>se,rotlSH=(se,Y,ne)=>se<<ne|Y>>>32-ne,rotlSL=(se,Y,ne)=>Y<<ne|se>>>32-ne,rotlBH=(se,Y,ne)=>Y<<ne-32|se>>>64-ne,rotlBL=(se,Y,ne)=>se<<ne-32|Y>>>64-ne;function add(se,Y,ne,fe){const ye=(Y>>>0)+(fe>>>0);return{h:se+ne+(ye/2**32|0)|0,l:ye|0}}const add3L=(se,Y,ne)=>(se>>>0)+(Y>>>0)+(ne>>>0),add3H=(se,Y,ne,fe)=>Y+ne+fe+(se/2**32|0)|0,add4L=(se,Y,ne,fe)=>(se>>>0)+(Y>>>0)+(ne>>>0)+(fe>>>0),add4H=(se,Y,ne,fe,ye)=>Y+ne+fe+ye+(se/2**32|0)|0,add5L=(se,Y,ne,fe,ye)=>(se>>>0)+(Y>>>0)+(ne>>>0)+(fe>>>0)+(ye>>>0),add5H=(se,Y,ne,fe,ye,me)=>Y+ne+fe+ye+me+(se/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(se=>BigInt(se))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:Y,Al:ne,Bh:fe,Bl:ye,Ch:me,Cl:be,Dh:we,Dl:Ee,Eh:xe,El:Se,Fh:Ie,Fl:fr,Gh:br,Gl:kr,Hh:Wr,Hl:Gr}=this;return[Y,ne,fe,ye,me,be,we,Ee,xe,Se,Ie,fr,br,kr,Wr,Gr]}set(Y,ne,fe,ye,me,be,we,Ee,xe,Se,Ie,fr,br,kr,Wr,Gr){this.Ah=Y|0,this.Al=ne|0,this.Bh=fe|0,this.Bl=ye|0,this.Ch=me|0,this.Cl=be|0,this.Dh=we|0,this.Dl=Ee|0,this.Eh=xe|0,this.El=Se|0,this.Fh=Ie|0,this.Fl=fr|0,this.Gh=br|0,this.Gl=kr|0,this.Hh=Wr|0,this.Hl=Gr|0}process(Y,ne){for(let wn=0;wn<16;wn++,ne+=4)SHA512_W_H[wn]=Y.getUint32(ne),SHA512_W_L[wn]=Y.getUint32(ne+=4);for(let wn=16;wn<80;wn++){const En=SHA512_W_H[wn-15]|0,Rn=SHA512_W_L[wn-15]|0,An=u64.rotrSH(En,Rn,1)^u64.rotrSH(En,Rn,8)^u64.shrSH(En,Rn,7),$n=u64.rotrSL(En,Rn,1)^u64.rotrSL(En,Rn,8)^u64.shrSL(En,Rn,7),Tn=SHA512_W_H[wn-2]|0,ti=SHA512_W_L[wn-2]|0,ai=u64.rotrSH(Tn,ti,19)^u64.rotrBH(Tn,ti,61)^u64.shrSH(Tn,ti,6),On=u64.rotrSL(Tn,ti,19)^u64.rotrBL(Tn,ti,61)^u64.shrSL(Tn,ti,6),Sn=u64.add4L($n,On,SHA512_W_L[wn-7],SHA512_W_L[wn-16]),Zr=u64.add4H(Sn,An,ai,SHA512_W_H[wn-7],SHA512_W_H[wn-16]);SHA512_W_H[wn]=Zr|0,SHA512_W_L[wn]=Sn|0}let{Ah:fe,Al:ye,Bh:me,Bl:be,Ch:we,Cl:Ee,Dh:xe,Dl:Se,Eh:Ie,El:fr,Fh:br,Fl:kr,Gh:Wr,Gl:Gr,Hh:jr,Hl:Qr}=this;for(let wn=0;wn<80;wn++){const En=u64.rotrSH(Ie,fr,14)^u64.rotrSH(Ie,fr,18)^u64.rotrBH(Ie,fr,41),Rn=u64.rotrSL(Ie,fr,14)^u64.rotrSL(Ie,fr,18)^u64.rotrBL(Ie,fr,41),An=Ie&br^~Ie&Wr,$n=fr&kr^~fr&Gr,Tn=u64.add5L(Qr,Rn,$n,SHA512_Kl[wn],SHA512_W_L[wn]),ti=u64.add5H(Tn,jr,En,An,SHA512_Kh[wn],SHA512_W_H[wn]),ai=Tn|0,On=u64.rotrSH(fe,ye,28)^u64.rotrBH(fe,ye,34)^u64.rotrBH(fe,ye,39),Sn=u64.rotrSL(fe,ye,28)^u64.rotrBL(fe,ye,34)^u64.rotrBL(fe,ye,39),Zr=fe&me^fe&we^me&we,Oe=ye&be^ye&Ee^be&Ee;jr=Wr|0,Qr=Gr|0,Wr=br|0,Gr=kr|0,br=Ie|0,kr=fr|0,{h:Ie,l:fr}=u64.add(xe|0,Se|0,ti|0,ai|0),xe=we|0,Se=Ee|0,we=me|0,Ee=be|0,me=fe|0,be=ye|0;const wr=u64.add3L(ai,Sn,Oe);fe=u64.add3H(wr,ti,On,Zr),ye=wr|0}({h:fe,l:ye}=u64.add(this.Ah|0,this.Al|0,fe|0,ye|0)),{h:me,l:be}=u64.add(this.Bh|0,this.Bl|0,me|0,be|0),{h:we,l:Ee}=u64.add(this.Ch|0,this.Cl|0,we|0,Ee|0),{h:xe,l:Se}=u64.add(this.Dh|0,this.Dl|0,xe|0,Se|0),{h:Ie,l:fr}=u64.add(this.Eh|0,this.El|0,Ie|0,fr|0),{h:br,l:kr}=u64.add(this.Fh|0,this.Fl|0,br|0,kr|0),{h:Wr,l:Gr}=u64.add(this.Gh|0,this.Gl|0,Wr|0,Gr|0),{h:jr,l:Qr}=u64.add(this.Hh|0,this.Hl|0,jr|0,Qr|0),this.set(fe,ye,me,be,we,Ee,xe,Se,Ie,fr,br,kr,Wr,Gr,jr,Qr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();anyGlobal.crypto||anyGlobal.msCrypto;function createHash(se){switch(se){case"sha256":return sha256$1.create();case"sha512":return sha512.create()}assertArgument(!1,"invalid hashing algorithm name","algorithm",se)}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let se=0,Y=_1n,ne=1,fe=0;se<24;se++){[ne,fe]=[fe,(2*ne+3*fe)%5],SHA3_PI.push(2*(5*fe+ne)),SHA3_ROTL.push((se+1)*(se+2)/2%64);let ye=_0n;for(let me=0;me<7;me++)Y=(Y<<_1n^(Y>>_7n)*_0x71n)%_256n,Y&_2n&&(ye^=_1n<<(_1n<<BigInt(me))-_1n);_SHA3_IOTA.push(ye)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(se,Y,ne)=>ne>32?rotlBH(se,Y,ne):rotlSH(se,Y,ne),rotlL=(se,Y,ne)=>ne>32?rotlBL(se,Y,ne):rotlSL(se,Y,ne);function keccakP(se,Y=24){const ne=new Uint32Array(10);for(let fe=24-Y;fe<24;fe++){for(let be=0;be<10;be++)ne[be]=se[be]^se[be+10]^se[be+20]^se[be+30]^se[be+40];for(let be=0;be<10;be+=2){const we=(be+8)%10,Ee=(be+2)%10,xe=ne[Ee],Se=ne[Ee+1],Ie=rotlH(xe,Se,1)^ne[we],fr=rotlL(xe,Se,1)^ne[we+1];for(let br=0;br<50;br+=10)se[be+br]^=Ie,se[be+br+1]^=fr}let ye=se[2],me=se[3];for(let be=0;be<24;be++){const we=SHA3_ROTL[be],Ee=rotlH(ye,me,we),xe=rotlL(ye,me,we),Se=SHA3_PI[be];ye=se[Se],me=se[Se+1],se[Se]=Ee,se[Se+1]=xe}for(let be=0;be<50;be+=10){for(let we=0;we<10;we++)ne[we]=se[be+we];for(let we=0;we<10;we++)se[be+we]^=~ne[(we+2)%10]&ne[(we+4)%10]}se[0]^=SHA3_IOTA_H[fe],se[1]^=SHA3_IOTA_L[fe]}ne.fill(0)}class Keccak extends Hash{constructor(Y,ne,fe,ye=!1,me=24){if(super(),this.blockLen=Y,this.suffix=ne,this.outputLen=fe,this.enableXOF=ye,this.rounds=me,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(fe),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(Y){exists(this);const{blockLen:ne,state:fe}=this;Y=toBytes(Y);const ye=Y.length;for(let me=0;me<ye;){const be=Math.min(ne-this.pos,ye-me);for(let we=0;we<be;we++)fe[this.pos++]^=Y[me++];this.pos===ne&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:Y,suffix:ne,pos:fe,blockLen:ye}=this;Y[fe]^=ne,ne&128&&fe===ye-1&&this.keccak(),Y[ye-1]^=128,this.keccak()}writeInto(Y){exists(this,!1),bytes(Y),this.finish();const ne=this.state,{blockLen:fe}=this;for(let ye=0,me=Y.length;ye<me;){this.posOut>=fe&&this.keccak();const be=Math.min(fe-this.posOut,me-ye);Y.set(ne.subarray(this.posOut,this.posOut+be),ye),this.posOut+=be,ye+=be}return Y}xofInto(Y){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(Y)}xof(Y){return number(Y),this.xofInto(new Uint8Array(Y))}digestInto(Y){if(output(Y,this),this.finished)throw new Error("digest() was already called");return this.writeInto(Y),this.destroy(),Y}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(Y){const{blockLen:ne,suffix:fe,outputLen:ye,rounds:me,enableXOF:be}=this;return Y||(Y=new Keccak(ne,fe,ye,be,me)),Y.state32.set(this.state32),Y.pos=this.pos,Y.posOut=this.posOut,Y.finished=this.finished,Y.rounds=me,Y.suffix=fe,Y.outputLen=ye,Y.enableXOF=be,Y.destroyed=this.destroyed,Y}}const gen=(se,Y,ne)=>wrapConstructor(()=>new Keccak(Y,se,ne)),keccak_256=gen(1,136,256/8);let locked=!1;const _keccak256=function(se){return keccak_256(se)};let __keccak256=_keccak256;function keccak256(se){const Y=getBytes(se,"data");return hexlify(__keccak256(Y))}keccak256._=_keccak256;keccak256.lock=function(){locked=!0};keccak256.register=function(se){if(locked)throw new TypeError("keccak256 is locked");__keccak256=se};Object.freeze(keccak256);const _sha256=function(se){return createHash("sha256").update(se).digest()};let __sha256=_sha256,locked256=!1;function sha256(se){const Y=getBytes(se,"data");return hexlify(__sha256(Y))}sha256._=_sha256;sha256.lock=function(){locked256=!0};sha256.register=function(se){if(locked256)throw new Error("sha256 is locked");__sha256=se};Object.freeze(sha256);Object.freeze(sha256);const ZeroAddress="0x0000000000000000000000000000000000000000",ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000",BN_0$7=BigInt(0),BN_1$2=BigInt(1),BN_2$2=BigInt(2),BN_27$1=BigInt(27),BN_28$1=BigInt(28),BN_35$1=BigInt(35),_guard$1={};function toUint256(se){return zeroPadValue(toBeArray(se),32)}var x0,C0,A0,Uh;const bl=class bl{constructor(Y,ne,fe,ye){fi(this,x0);fi(this,C0);fi(this,A0);fi(this,Uh);assertPrivate(Y,_guard$1,"Signature"),Yn(this,x0,ne),Yn(this,C0,fe),Yn(this,A0,ye),Yn(this,Uh,null)}get r(){return In(this,x0)}set r(Y){assertArgument(dataLength(Y)===32,"invalid r","value",Y),Yn(this,x0,hexlify(Y))}get s(){return In(this,C0)}set s(Y){assertArgument(dataLength(Y)===32,"invalid s","value",Y);const ne=hexlify(Y);assertArgument(parseInt(ne.substring(0,3))<8,"non-canonical s","value",ne),Yn(this,C0,ne)}get v(){return In(this,A0)}set v(Y){const ne=getNumber(Y,"value");assertArgument(ne===27||ne===28,"invalid v","v",Y),Yn(this,A0,ne)}get networkV(){return In(this,Uh)}get legacyChainId(){const Y=this.networkV;return Y==null?null:bl.getChainId(Y)}get yParity(){return this.v===27?0:1}get yParityAndS(){const Y=getBytes(this.s);return this.yParity&&(Y[0]|=128),hexlify(Y)}get compactSerialized(){return concat([this.r,this.yParityAndS])}get serialized(){return concat([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const Y=new bl(_guard$1,this.r,this.s,this.v);return this.networkV&&Yn(Y,Uh,this.networkV),Y}toJSON(){const Y=this.networkV;return{_type:"signature",networkV:Y!=null?Y.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(Y){const ne=getBigInt(Y,"v");return ne==BN_27$1||ne==BN_28$1?BN_0$7:(assertArgument(ne>=BN_35$1,"invalid EIP-155 v","v",Y),(ne-BN_35$1)/BN_2$2)}static getChainIdV(Y,ne){return getBigInt(Y)*BN_2$2+BigInt(35+ne-27)}static getNormalizedV(Y){const ne=getBigInt(Y);return ne===BN_0$7||ne===BN_27$1?27:ne===BN_1$2||ne===BN_28$1?28:(assertArgument(ne>=BN_35$1,"invalid v","v",Y),ne&BN_1$2?27:28)}static from(Y){function ne(xe,Se){assertArgument(xe,Se,"signature",Y)}if(Y==null)return new bl(_guard$1,ZeroHash,ZeroHash,27);if(typeof Y=="string"){const xe=getBytes(Y,"signature");if(xe.length===64){const Se=hexlify(xe.slice(0,32)),Ie=xe.slice(32,64),fr=Ie[0]&128?28:27;return Ie[0]&=127,new bl(_guard$1,Se,hexlify(Ie),fr)}if(xe.length===65){const Se=hexlify(xe.slice(0,32)),Ie=xe.slice(32,64);ne((Ie[0]&128)===0,"non-canonical s");const fr=bl.getNormalizedV(xe[64]);return new bl(_guard$1,Se,hexlify(Ie),fr)}ne(!1,"invalid raw signature length")}if(Y instanceof bl)return Y.clone();const fe=Y.r;ne(fe!=null,"missing r");const ye=toUint256(fe),me=function(xe,Se){if(xe!=null)return toUint256(xe);if(Se!=null){ne(isHexString(Se,32),"invalid yParityAndS");const Ie=getBytes(Se);return Ie[0]&=127,hexlify(Ie)}ne(!1,"missing s")}(Y.s,Y.yParityAndS);ne((getBytes(me)[0]&128)==0,"non-canonical s");const{networkV:be,v:we}=function(xe,Se,Ie){if(xe!=null){const fr=getBigInt(xe);return{networkV:fr>=BN_35$1?fr:void 0,v:bl.getNormalizedV(fr)}}if(Se!=null)return ne(isHexString(Se,32),"invalid yParityAndS"),{v:getBytes(Se)[0]&128?28:27};if(Ie!=null){switch(getNumber(Ie,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}ne(!1,"invalid yParity")}ne(!1,"missing v")}(Y.v,Y.yParityAndS,Y.yParity),Ee=new bl(_guard$1,ye,me,we);return be&&Yn(Ee,Uh,be),ne(Y.yParity==null||getNumber(Y.yParity,"sig.yParity")===Ee.yParity,"yParity mismatch"),ne(Y.yParityAndS==null||Y.yParityAndS===Ee.yParityAndS,"yParityAndS mismatch"),Ee}};x0=new WeakMap,C0=new WeakMap,A0=new WeakMap,Uh=new WeakMap;let Signature=bl;var Pu;const sh=class sh{constructor(Y){fi(this,Pu);assertArgument(dataLength(Y)===32,"invalid private key","privateKey","[REDACTED]"),Yn(this,Pu,hexlify(Y))}get privateKey(){return In(this,Pu)}get publicKey(){return sh.computePublicKey(In(this,Pu))}get compressedPublicKey(){return sh.computePublicKey(In(this,Pu),!0)}sign(Y){assertArgument(dataLength(Y)===32,"invalid digest length","digest",Y);const ne=secp256k1.sign(getBytesCopy(Y),getBytesCopy(In(this,Pu)),{lowS:!0});return Signature.from({r:toBeHex(ne.r,32),s:toBeHex(ne.s,32),v:ne.recovery?28:27})}computeSharedSecret(Y){const ne=sh.computePublicKey(Y);return hexlify(secp256k1.getSharedSecret(getBytesCopy(In(this,Pu)),getBytes(ne),!1))}static computePublicKey(Y,ne){let fe=getBytes(Y,"key");if(fe.length===32){const me=secp256k1.getPublicKey(fe,!!ne);return hexlify(me)}if(fe.length===64){const me=new Uint8Array(65);me[0]=4,me.set(fe,1),fe=me}const ye=secp256k1.ProjectivePoint.fromHex(fe);return hexlify(ye.toRawBytes(ne))}static recoverPublicKey(Y,ne){assertArgument(dataLength(Y)===32,"invalid digest length","digest",Y);const fe=Signature.from(ne);let ye=secp256k1.Signature.fromCompact(getBytesCopy(concat([fe.r,fe.s])));ye=ye.addRecoveryBit(fe.yParity);const me=ye.recoverPublicKey(getBytesCopy(Y));return assertArgument(me!=null,"invalid signautre for digest","signature",ne),"0x"+me.toHex(!1)}static addPoints(Y,ne,fe){const ye=secp256k1.ProjectivePoint.fromHex(sh.computePublicKey(Y).substring(2)),me=secp256k1.ProjectivePoint.fromHex(sh.computePublicKey(ne).substring(2));return"0x"+ye.add(me).toHex(!!fe)}};Pu=new WeakMap;let SigningKey=sh;const BN_0$6=BigInt(0),BN_36=BigInt(36);function getChecksumAddress(se){se=se.toLowerCase();const Y=se.substring(2).split(""),ne=new Uint8Array(40);for(let ye=0;ye<40;ye++)ne[ye]=Y[ye].charCodeAt(0);const fe=getBytes(keccak256(ne));for(let ye=0;ye<40;ye+=2)fe[ye>>1]>>4>=8&&(Y[ye]=Y[ye].toUpperCase()),(fe[ye>>1]&15)>=8&&(Y[ye+1]=Y[ye+1].toUpperCase());return"0x"+Y.join("")}const ibanLookup={};for(let se=0;se<10;se++)ibanLookup[String(se)]=String(se);for(let se=0;se<26;se++)ibanLookup[String.fromCharCode(65+se)]=String(10+se);const safeDigits=15;function ibanChecksum(se){se=se.toUpperCase(),se=se.substring(4)+se.substring(0,2)+"00";let Y=se.split("").map(fe=>ibanLookup[fe]).join("");for(;Y.length>=safeDigits;){let fe=Y.substring(0,safeDigits);Y=parseInt(fe,10)%97+Y.substring(fe.length)}let ne=String(98-parseInt(Y,10)%97);for(;ne.length<2;)ne="0"+ne;return ne}const Base36=function(){const se={};for(let Y=0;Y<36;Y++){const ne="0123456789abcdefghijklmnopqrstuvwxyz"[Y];se[ne]=BigInt(Y)}return se}();function fromBase36(se){se=se.toLowerCase();let Y=BN_0$6;for(let ne=0;ne<se.length;ne++)Y=Y*BN_36+Base36[se[ne]];return Y}function getAddress(se){if(assertArgument(typeof se=="string","invalid address","address",se),se.match(/^(0x)?[0-9a-fA-F]{40}$/)){se.startsWith("0x")||(se="0x"+se);const Y=getChecksumAddress(se);return assertArgument(!se.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||Y===se,"bad address checksum","address",se),Y}if(se.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument(se.substring(2,4)===ibanChecksum(se),"bad icap checksum","address",se);let Y=fromBase36(se.substring(4)).toString(16);for(;Y.length<40;)Y="0"+Y;return getChecksumAddress("0x"+Y)}assertArgument(!1,"invalid address","address",se)}function getCreateAddress(se){const Y=getAddress(se.from);let fe=getBigInt(se.nonce,"tx.nonce").toString(16);return fe==="0"?fe="0x":fe.length%2?fe="0x0"+fe:fe="0x"+fe,getAddress(dataSlice(keccak256(encodeRlp([Y,fe])),12))}function isAddressable(se){return se&&typeof se.getAddress=="function"}async function checkAddress(se,Y){const ne=await Y;return(ne==null||ne==="0x0000000000000000000000000000000000000000")&&(assert(typeof se!="string","unconfigured name","UNCONFIGURED_NAME",{value:se}),assertArgument(!1,"invalid AddressLike value; did not resolve to a value address","target",se)),getAddress(ne)}function resolveAddress(se,Y){if(typeof se=="string")return se.match(/^0x[0-9a-f]{40}$/i)?getAddress(se):(assert(Y!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),checkAddress(se,Y.resolveName(se)));if(isAddressable(se))return checkAddress(se,se.getAddress());if(se&&typeof se.then=="function")return checkAddress(se,se);assertArgument(!1,"unsupported addressable value","target",se)}const _gaurd={};function n(se,Y){let ne=!1;return Y<0&&(ne=!0,Y*=-1),new Typed(_gaurd,`${ne?"":"u"}int${Y}`,se,{signed:ne,width:Y})}function b(se,Y){return new Typed(_gaurd,`bytes${Y||""}`,se,{size:Y})}const _typedSymbol=Symbol.for("_ethers_typed");var Fh;const du=class du{constructor(Y,ne,fe,ye){li(this,"type");li(this,"value");fi(this,Fh);li(this,"_typedSymbol");ye==null&&(ye=null),assertPrivate(_gaurd,Y,"Typed"),defineProperties(this,{_typedSymbol,type:ne,value:fe}),Yn(this,Fh,ye),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(Y=>Y.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return In(this,Fh)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return In(this,Fh)===!0?-1:In(this,Fh)===!1?this.value.length:null}static from(Y,ne){return new du(_gaurd,Y,ne)}static uint8(Y){return n(Y,8)}static uint16(Y){return n(Y,16)}static uint24(Y){return n(Y,24)}static uint32(Y){return n(Y,32)}static uint40(Y){return n(Y,40)}static uint48(Y){return n(Y,48)}static uint56(Y){return n(Y,56)}static uint64(Y){return n(Y,64)}static uint72(Y){return n(Y,72)}static uint80(Y){return n(Y,80)}static uint88(Y){return n(Y,88)}static uint96(Y){return n(Y,96)}static uint104(Y){return n(Y,104)}static uint112(Y){return n(Y,112)}static uint120(Y){return n(Y,120)}static uint128(Y){return n(Y,128)}static uint136(Y){return n(Y,136)}static uint144(Y){return n(Y,144)}static uint152(Y){return n(Y,152)}static uint160(Y){return n(Y,160)}static uint168(Y){return n(Y,168)}static uint176(Y){return n(Y,176)}static uint184(Y){return n(Y,184)}static uint192(Y){return n(Y,192)}static uint200(Y){return n(Y,200)}static uint208(Y){return n(Y,208)}static uint216(Y){return n(Y,216)}static uint224(Y){return n(Y,224)}static uint232(Y){return n(Y,232)}static uint240(Y){return n(Y,240)}static uint248(Y){return n(Y,248)}static uint256(Y){return n(Y,256)}static uint(Y){return n(Y,256)}static int8(Y){return n(Y,-8)}static int16(Y){return n(Y,-16)}static int24(Y){return n(Y,-24)}static int32(Y){return n(Y,-32)}static int40(Y){return n(Y,-40)}static int48(Y){return n(Y,-48)}static int56(Y){return n(Y,-56)}static int64(Y){return n(Y,-64)}static int72(Y){return n(Y,-72)}static int80(Y){return n(Y,-80)}static int88(Y){return n(Y,-88)}static int96(Y){return n(Y,-96)}static int104(Y){return n(Y,-104)}static int112(Y){return n(Y,-112)}static int120(Y){return n(Y,-120)}static int128(Y){return n(Y,-128)}static int136(Y){return n(Y,-136)}static int144(Y){return n(Y,-144)}static int152(Y){return n(Y,-152)}static int160(Y){return n(Y,-160)}static int168(Y){return n(Y,-168)}static int176(Y){return n(Y,-176)}static int184(Y){return n(Y,-184)}static int192(Y){return n(Y,-192)}static int200(Y){return n(Y,-200)}static int208(Y){return n(Y,-208)}static int216(Y){return n(Y,-216)}static int224(Y){return n(Y,-224)}static int232(Y){return n(Y,-232)}static int240(Y){return n(Y,-240)}static int248(Y){return n(Y,-248)}static int256(Y){return n(Y,-256)}static int(Y){return n(Y,-256)}static bytes1(Y){return b(Y,1)}static bytes2(Y){return b(Y,2)}static bytes3(Y){return b(Y,3)}static bytes4(Y){return b(Y,4)}static bytes5(Y){return b(Y,5)}static bytes6(Y){return b(Y,6)}static bytes7(Y){return b(Y,7)}static bytes8(Y){return b(Y,8)}static bytes9(Y){return b(Y,9)}static bytes10(Y){return b(Y,10)}static bytes11(Y){return b(Y,11)}static bytes12(Y){return b(Y,12)}static bytes13(Y){return b(Y,13)}static bytes14(Y){return b(Y,14)}static bytes15(Y){return b(Y,15)}static bytes16(Y){return b(Y,16)}static bytes17(Y){return b(Y,17)}static bytes18(Y){return b(Y,18)}static bytes19(Y){return b(Y,19)}static bytes20(Y){return b(Y,20)}static bytes21(Y){return b(Y,21)}static bytes22(Y){return b(Y,22)}static bytes23(Y){return b(Y,23)}static bytes24(Y){return b(Y,24)}static bytes25(Y){return b(Y,25)}static bytes26(Y){return b(Y,26)}static bytes27(Y){return b(Y,27)}static bytes28(Y){return b(Y,28)}static bytes29(Y){return b(Y,29)}static bytes30(Y){return b(Y,30)}static bytes31(Y){return b(Y,31)}static bytes32(Y){return b(Y,32)}static address(Y){return new du(_gaurd,"address",Y)}static bool(Y){return new du(_gaurd,"bool",!!Y)}static bytes(Y){return new du(_gaurd,"bytes",Y)}static string(Y){return new du(_gaurd,"string",Y)}static array(Y,ne){throw new Error("not implemented yet")}static tuple(Y,ne){throw new Error("not implemented yet")}static overrides(Y){return new du(_gaurd,"overrides",Object.assign({},Y))}static isTyped(Y){return Y&&typeof Y=="object"&&"_typedSymbol"in Y&&Y._typedSymbol===_typedSymbol}static dereference(Y,ne){if(du.isTyped(Y)){if(Y.type!==ne)throw new Error(`invalid type: expecetd ${ne}, got ${Y.type}`);return Y.value}return Y}};Fh=new WeakMap;let Typed=du;class AddressCoder extends Coder{constructor(Y){super("address","address",Y,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(Y,ne){let fe=Typed.dereference(ne,"string");try{fe=getAddress(fe)}catch(ye){return this._throwError(ye.message,ne)}return Y.writeValue(fe)}decode(Y){return getAddress(toBeHex(Y.readValue(),20))}}class AnonymousCoder extends Coder{constructor(ne){super(ne.name,ne.type,"_",ne.dynamic);li(this,"coder");this.coder=ne}defaultValue(){return this.coder.defaultValue()}encode(ne,fe){return this.coder.encode(ne,fe)}decode(ne){return this.coder.decode(ne)}}function pack(se,Y,ne){let fe=[];if(Array.isArray(ne))fe=ne;else if(ne&&typeof ne=="object"){let Ee={};fe=Y.map(xe=>{const Se=xe.localName;return assert(Se,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:xe},value:ne}),assert(!Ee[Se],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:xe},value:ne}),Ee[Se]=!0,ne[Se]})}else assertArgument(!1,"invalid tuple value","tuple",ne);assertArgument(Y.length===fe.length,"types/value length mismatch","tuple",ne);let ye=new Writer,me=new Writer,be=[];Y.forEach((Ee,xe)=>{let Se=fe[xe];if(Ee.dynamic){let Ie=me.length;Ee.encode(me,Se);let fr=ye.writeUpdatableValue();be.push(br=>{fr(br+Ie)})}else Ee.encode(ye,Se)}),be.forEach(Ee=>{Ee(ye.length)});let we=se.appendWriter(ye);return we+=se.appendWriter(me),we}function unpack(se,Y){let ne=[],fe=[],ye=se.subReader(0);return Y.forEach(me=>{let be=null;if(me.dynamic){let we=se.readIndex(),Ee=ye.subReader(we);try{be=me.decode(Ee)}catch(xe){if(isError(xe,"BUFFER_OVERRUN"))throw xe;be=xe,be.baseType=me.name,be.name=me.localName,be.type=me.type}}else try{be=me.decode(se)}catch(we){if(isError(we,"BUFFER_OVERRUN"))throw we;be=we,be.baseType=me.name,be.name=me.localName,be.type=me.type}if(be==null)throw new Error("investigate");ne.push(be),fe.push(me.localName||null)}),Result.fromItems(ne,fe)}class ArrayCoder extends Coder{constructor(ne,fe,ye){const me=ne.type+"["+(fe>=0?fe:"")+"]",be=fe===-1||ne.dynamic;super("array",me,ye,be);li(this,"coder");li(this,"length");defineProperties(this,{coder:ne,length:fe})}defaultValue(){const ne=this.coder.defaultValue(),fe=[];for(let ye=0;ye<this.length;ye++)fe.push(ne);return fe}encode(ne,fe){const ye=Typed.dereference(fe,"array");Array.isArray(ye)||this._throwError("expected array value",ye);let me=this.length;me===-1&&(me=ye.length,ne.writeValue(ye.length)),assertArgumentCount(ye.length,me,"coder array"+(this.localName?" "+this.localName:""));let be=[];for(let we=0;we<ye.length;we++)be.push(this.coder);return pack(ne,be,ye)}decode(ne){let fe=this.length;fe===-1&&(fe=ne.readIndex(),assert(fe*WordSize<=ne.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:ne.bytes,offset:fe*WordSize,length:ne.dataLength}));let ye=[];for(let me=0;me<fe;me++)ye.push(new AnonymousCoder(this.coder));return unpack(ne,ye)}}class BooleanCoder extends Coder{constructor(Y){super("bool","bool",Y,!1)}defaultValue(){return!1}encode(Y,ne){const fe=Typed.dereference(ne,"bool");return Y.writeValue(fe?1:0)}decode(Y){return!!Y.readValue()}}class DynamicBytesCoder extends Coder{constructor(Y,ne){super(Y,Y,ne,!0)}defaultValue(){return"0x"}encode(Y,ne){ne=getBytesCopy(ne);let fe=Y.writeValue(ne.length);return fe+=Y.writeBytes(ne),fe}decode(Y){return Y.readBytes(Y.readIndex(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(Y){super("bytes",Y)}decode(Y){return hexlify(super.decode(Y))}}class FixedBytesCoder extends Coder{constructor(ne,fe){let ye="bytes"+String(ne);super(ye,ye,fe,!1);li(this,"size");defineProperties(this,{size:ne},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(ne,fe){let ye=getBytesCopy(Typed.dereference(fe,this.type));return ye.length!==this.size&&this._throwError("incorrect data length",fe),ne.writeBytes(ye)}decode(ne){return hexlify(ne.readBytes(this.size))}}const Empty=new Uint8Array([]);class NullCoder extends Coder{constructor(Y){super("null","",Y,!1)}defaultValue(){return null}encode(Y,ne){return ne!=null&&this._throwError("not null",ne),Y.writeBytes(Empty)}decode(Y){return Y.readBytes(0),null}}const BN_0$5=BigInt(0),BN_1$1=BigInt(1),BN_MAX_UINT256$1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(ne,fe,ye){const me=(fe?"int":"uint")+ne*8;super(me,me,ye,!1);li(this,"size");li(this,"signed");defineProperties(this,{size:ne,signed:fe},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(ne,fe){let ye=getBigInt(Typed.dereference(fe,this.type)),me=mask(BN_MAX_UINT256$1,WordSize*8);if(this.signed){let be=mask(me,this.size*8-1);(ye>be||ye<-(be+BN_1$1))&&this._throwError("value out-of-bounds",fe),ye=toTwos(ye,8*WordSize)}else(ye<BN_0$5||ye>mask(me,this.size*8))&&this._throwError("value out-of-bounds",fe);return ne.writeValue(ye)}decode(ne){let fe=mask(ne.readValue(),this.size*8);return this.signed&&(fe=fromTwos(fe,this.size*8)),fe}}class StringCoder extends DynamicBytesCoder{constructor(Y){super("string",Y)}defaultValue(){return""}encode(Y,ne){return super.encode(Y,toUtf8Bytes(Typed.dereference(ne,"string")))}decode(Y){return toUtf8String(super.decode(Y))}}class TupleCoder extends Coder{constructor(ne,fe){let ye=!1;const me=[];ne.forEach(we=>{we.dynamic&&(ye=!0),me.push(we.type)});const be="tuple("+me.join(",")+")";super("tuple",be,fe,ye);li(this,"coders");defineProperties(this,{coders:Object.freeze(ne.slice())})}defaultValue(){const ne=[];this.coders.forEach(ye=>{ne.push(ye.defaultValue())});const fe=this.coders.reduce((ye,me)=>{const be=me.localName;return be&&(ye[be]||(ye[be]=0),ye[be]++),ye},{});return this.coders.forEach((ye,me)=>{let be=ye.localName;!be||fe[be]!==1||(be==="length"&&(be="_length"),ne[be]==null&&(ne[be]=ne[me]))}),Object.freeze(ne)}encode(ne,fe){const ye=Typed.dereference(fe,"tuple");return pack(ne,this.coders,ye)}decode(ne){return unpack(ne,this.coders)}}function id(se){return keccak256(toUtf8Bytes(se))}const Zeros=new Uint8Array(32);Zeros.fill(0);function checkComponent(se){return assertArgument(se.length!==0,"invalid ENS name; empty component","comp",se),se}function ensNameSplit(se){const Y=toUtf8Bytes(ensNormalize(se)),ne=[];if(se.length===0)return ne;let fe=0;for(let ye=0;ye<Y.length;ye++)Y[ye]===46&&(ne.push(checkComponent(Y.slice(fe,ye))),fe=ye+1);return assertArgument(fe<Y.length,"invalid ENS name; empty component","name",se),ne.push(checkComponent(Y.slice(fe))),ne}function ensNormalize(se){try{if(se.length===0)throw new Error("empty label");return ens_normalize(se)}catch(Y){assertArgument(!1,`invalid ENS name (${Y.message})`,"name",se)}}function namehash(se){assertArgument(typeof se=="string","invalid ENS name; not a string","name",se),assertArgument(se.length,"invalid ENS name (empty label)","name",se);let Y=Zeros;const ne=ensNameSplit(se);for(;ne.length;)Y=keccak256(concat([Y,keccak256(ne.pop())]));return hexlify(Y)}function dnsEncode(se,Y){const ne=Y;return assertArgument(ne<=255,"DNS encoded label cannot exceed 255","length",ne),hexlify(concat(ensNameSplit(se).map(fe=>{assertArgument(fe.length<=ne,`label ${JSON.stringify(se)} exceeds ${ne} bytes`,"name",se);const ye=new Uint8Array(fe.length+1);return ye.set(fe,1),ye[0]=ye.length-1,ye})))+"00"}function accessSetify(se,Y){return{address:getAddress(se),storageKeys:Y.map((ne,fe)=>(assertArgument(isHexString(ne,32),"invalid slot",`storageKeys[${fe}]`,ne),ne.toLowerCase()))}}function accessListify(se){if(Array.isArray(se))return se.map((ne,fe)=>Array.isArray(ne)?(assertArgument(ne.length===2,"invalid slot set",`value[${fe}]`,ne),accessSetify(ne[0],ne[1])):(assertArgument(ne!=null&&typeof ne=="object","invalid address-slot set","value",se),accessSetify(ne.address,ne.storageKeys)));assertArgument(se!=null&&typeof se=="object","invalid access list","value",se);const Y=Object.keys(se).map(ne=>{const fe=se[ne].reduce((ye,me)=>(ye[me]=!0,ye),{});return accessSetify(ne,Object.keys(fe).sort())});return Y.sort((ne,fe)=>ne.address.localeCompare(fe.address)),Y}function computeAddress(se){let Y;return typeof se=="string"?Y=SigningKey.computePublicKey(se,!1):Y=se.publicKey,getAddress(keccak256("0x"+Y.substring(4)).substring(26))}function recoverAddress(se,Y){return computeAddress(SigningKey.recoverPublicKey(se,Y))}const BN_0$4=BigInt(0),BN_2$1=BigInt(2),BN_27=BigInt(27),BN_28=BigInt(28),BN_35=BigInt(35),BN_MAX_UINT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BLOB_SIZE=4096*32;function getVersionedHash(se,Y){let ne=se.toString(16);for(;ne.length<2;)ne="0"+ne;return ne+=sha256(Y).substring(4),"0x"+ne}function handleAddress(se){return se==="0x"?null:getAddress(se)}function handleAccessList(se,Y){try{return accessListify(se)}catch(ne){assertArgument(!1,ne.message,Y,se)}}function handleNumber(se,Y){return se==="0x"?0:getNumber(se,Y)}function handleUint(se,Y){if(se==="0x")return BN_0$4;const ne=getBigInt(se,Y);return assertArgument(ne<=BN_MAX_UINT,"value exceeds uint size",Y,ne),ne}function formatNumber(se,Y){const ne=getBigInt(se,"value"),fe=toBeArray(ne);return assertArgument(fe.length<=32,"value too large",`tx.${Y}`,ne),fe}function formatAccessList(se){return accessListify(se).map(Y=>[Y.address,Y.storageKeys])}function formatHashes(se,Y){assertArgument(Array.isArray(se),`invalid ${Y}`,"value",se);for(let ne=0;ne<se.length;ne++)assertArgument(isHexString(se[ne],32),"invalid ${ param } hash",`value[${ne}]`,se[ne]);return se}function _parseLegacy(se){const Y=decodeRlp(se);assertArgument(Array.isArray(Y)&&(Y.length===9||Y.length===6),"invalid field count for legacy transaction","data",se);const ne={type:0,nonce:handleNumber(Y[0],"nonce"),gasPrice:handleUint(Y[1],"gasPrice"),gasLimit:handleUint(Y[2],"gasLimit"),to:handleAddress(Y[3]),value:handleUint(Y[4],"value"),data:hexlify(Y[5]),chainId:BN_0$4};if(Y.length===6)return ne;const fe=handleUint(Y[6],"v"),ye=handleUint(Y[7],"r"),me=handleUint(Y[8],"s");if(ye===BN_0$4&&me===BN_0$4)ne.chainId=fe;else{let be=(fe-BN_35)/BN_2$1;be<BN_0$4&&(be=BN_0$4),ne.chainId=be,assertArgument(be!==BN_0$4||fe===BN_27||fe===BN_28,"non-canonical legacy v","v",Y[6]),ne.signature=Signature.from({r:zeroPadValue(Y[7],32),s:zeroPadValue(Y[8],32),v:fe})}return ne}function _serializeLegacy(se,Y){const ne=[formatNumber(se.nonce,"nonce"),formatNumber(se.gasPrice||0,"gasPrice"),formatNumber(se.gasLimit,"gasLimit"),se.to||"0x",formatNumber(se.value,"value"),se.data];let fe=BN_0$4;if(se.chainId!=BN_0$4)fe=getBigInt(se.chainId,"tx.chainId"),assertArgument(!Y||Y.networkV==null||Y.legacyChainId===fe,"tx.chainId/sig.v mismatch","sig",Y);else if(se.signature){const me=se.signature.legacyChainId;me!=null&&(fe=me)}if(!Y)return fe!==BN_0$4&&(ne.push(toBeArray(fe)),ne.push("0x"),ne.push("0x")),encodeRlp(ne);let ye=BigInt(27+Y.yParity);return fe!==BN_0$4?ye=Signature.getChainIdV(fe,Y.v):BigInt(Y.v)!==ye&&assertArgument(!1,"tx.chainId/sig.v mismatch","sig",Y),ne.push(toBeArray(ye)),ne.push(toBeArray(Y.r)),ne.push(toBeArray(Y.s)),encodeRlp(ne)}function _parseEipSignature(se,Y){let ne;try{if(ne=handleNumber(Y[0],"yParity"),ne!==0&&ne!==1)throw new Error("bad yParity")}catch{assertArgument(!1,"invalid yParity","yParity",Y[0])}const fe=zeroPadValue(Y[1],32),ye=zeroPadValue(Y[2],32),me=Signature.from({r:fe,s:ye,yParity:ne});se.signature=me}function _parseEip1559(se){const Y=decodeRlp(getBytes(se).slice(1));assertArgument(Array.isArray(Y)&&(Y.length===9||Y.length===12),"invalid field count for transaction type: 2","data",hexlify(se));const ne={type:2,chainId:handleUint(Y[0],"chainId"),nonce:handleNumber(Y[1],"nonce"),maxPriorityFeePerGas:handleUint(Y[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(Y[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(Y[4],"gasLimit"),to:handleAddress(Y[5]),value:handleUint(Y[6],"value"),data:hexlify(Y[7]),accessList:handleAccessList(Y[8],"accessList")};return Y.length===9||_parseEipSignature(ne,Y.slice(9)),ne}function _serializeEip1559(se,Y){const ne=[formatNumber(se.chainId,"chainId"),formatNumber(se.nonce,"nonce"),formatNumber(se.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(se.maxFeePerGas||0,"maxFeePerGas"),formatNumber(se.gasLimit,"gasLimit"),se.to||"0x",formatNumber(se.value,"value"),se.data,formatAccessList(se.accessList||[])];return Y&&(ne.push(formatNumber(Y.yParity,"yParity")),ne.push(toBeArray(Y.r)),ne.push(toBeArray(Y.s))),concat(["0x02",encodeRlp(ne)])}function _parseEip2930(se){const Y=decodeRlp(getBytes(se).slice(1));assertArgument(Array.isArray(Y)&&(Y.length===8||Y.length===11),"invalid field count for transaction type: 1","data",hexlify(se));const ne={type:1,chainId:handleUint(Y[0],"chainId"),nonce:handleNumber(Y[1],"nonce"),gasPrice:handleUint(Y[2],"gasPrice"),gasLimit:handleUint(Y[3],"gasLimit"),to:handleAddress(Y[4]),value:handleUint(Y[5],"value"),data:hexlify(Y[6]),accessList:handleAccessList(Y[7],"accessList")};return Y.length===8||_parseEipSignature(ne,Y.slice(8)),ne}function _serializeEip2930(se,Y){const ne=[formatNumber(se.chainId,"chainId"),formatNumber(se.nonce,"nonce"),formatNumber(se.gasPrice||0,"gasPrice"),formatNumber(se.gasLimit,"gasLimit"),se.to||"0x",formatNumber(se.value,"value"),se.data,formatAccessList(se.accessList||[])];return Y&&(ne.push(formatNumber(Y.yParity,"recoveryParam")),ne.push(toBeArray(Y.r)),ne.push(toBeArray(Y.s))),concat(["0x01",encodeRlp(ne)])}function _parseEip4844(se){let Y=decodeRlp(getBytes(se).slice(1)),ne="3",fe=null;if(Y.length===4&&Array.isArray(Y[0])){ne="3 (network format)";const me=Y[1],be=Y[2],we=Y[3];assertArgument(Array.isArray(me),"invalid network format: blobs not an array","fields[1]",me),assertArgument(Array.isArray(be),"invalid network format: commitments not an array","fields[2]",be),assertArgument(Array.isArray(we),"invalid network format: proofs not an array","fields[3]",we),assertArgument(me.length===be.length,"invalid network format: blobs/commitments length mismatch","fields",Y),assertArgument(me.length===we.length,"invalid network format: blobs/proofs length mismatch","fields",Y),fe=[];for(let Ee=0;Ee<Y[1].length;Ee++)fe.push({data:me[Ee],commitment:be[Ee],proof:we[Ee]});Y=Y[0]}assertArgument(Array.isArray(Y)&&(Y.length===11||Y.length===14),`invalid field count for transaction type: ${ne}`,"data",hexlify(se));const ye={type:3,chainId:handleUint(Y[0],"chainId"),nonce:handleNumber(Y[1],"nonce"),maxPriorityFeePerGas:handleUint(Y[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(Y[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(Y[4],"gasLimit"),to:handleAddress(Y[5]),value:handleUint(Y[6],"value"),data:hexlify(Y[7]),accessList:handleAccessList(Y[8],"accessList"),maxFeePerBlobGas:handleUint(Y[9],"maxFeePerBlobGas"),blobVersionedHashes:Y[10]};fe&&(ye.blobs=fe),assertArgument(ye.to!=null,`invalid address for transaction type: ${ne}`,"data",se),assertArgument(Array.isArray(ye.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",se);for(let me=0;me<ye.blobVersionedHashes.length;me++)assertArgument(isHexString(ye.blobVersionedHashes[me],32),`invalid blobVersionedHash at index ${me}: must be length 32`,"data",se);return Y.length===11||_parseEipSignature(ye,Y.slice(11)),ye}function _serializeEip4844(se,Y,ne){const fe=[formatNumber(se.chainId,"chainId"),formatNumber(se.nonce,"nonce"),formatNumber(se.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(se.maxFeePerGas||0,"maxFeePerGas"),formatNumber(se.gasLimit,"gasLimit"),se.to||ZeroAddress,formatNumber(se.value,"value"),se.data,formatAccessList(se.accessList||[]),formatNumber(se.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes(se.blobVersionedHashes||[],"blobVersionedHashes")];return Y&&(fe.push(formatNumber(Y.yParity,"yParity")),fe.push(toBeArray(Y.r)),fe.push(toBeArray(Y.s)),ne)?concat(["0x03",encodeRlp([fe,ne.map(ye=>ye.data),ne.map(ye=>ye.commitment),ne.map(ye=>ye.proof)])]):concat(["0x03",encodeRlp(fe)])}var Hl,R0,I0,P0,N0,k0,M0,O0,B0,D0,q0,U0,Wh,Cf,Tu,Sf,F0,wg;const pu=class pu{constructor(){fi(this,F0);fi(this,Hl);fi(this,R0);fi(this,I0);fi(this,P0);fi(this,N0);fi(this,k0);fi(this,M0);fi(this,O0);fi(this,B0);fi(this,D0);fi(this,q0);fi(this,U0);fi(this,Wh);fi(this,Cf);fi(this,Tu);fi(this,Sf);Yn(this,Hl,null),Yn(this,R0,null),Yn(this,P0,0),Yn(this,N0,BN_0$4),Yn(this,k0,null),Yn(this,M0,null),Yn(this,O0,null),Yn(this,I0,"0x"),Yn(this,B0,BN_0$4),Yn(this,D0,BN_0$4),Yn(this,q0,null),Yn(this,U0,null),Yn(this,Wh,null),Yn(this,Cf,null),Yn(this,Sf,null),Yn(this,Tu,null)}get type(){return In(this,Hl)}set type(Y){switch(Y){case null:Yn(this,Hl,null);break;case 0:case"legacy":Yn(this,Hl,0);break;case 1:case"berlin":case"eip-2930":Yn(this,Hl,1);break;case 2:case"london":case"eip-1559":Yn(this,Hl,2);break;case 3:case"cancun":case"eip-4844":Yn(this,Hl,3);break;default:assertArgument(!1,"unsupported transaction type","type",Y)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const Y=In(this,R0);return Y==null&&this.type===3?ZeroAddress:Y}set to(Y){Yn(this,R0,Y==null?null:getAddress(Y))}get nonce(){return In(this,P0)}set nonce(Y){Yn(this,P0,getNumber(Y,"value"))}get gasLimit(){return In(this,N0)}set gasLimit(Y){Yn(this,N0,getBigInt(Y))}get gasPrice(){const Y=In(this,k0);return Y==null&&(this.type===0||this.type===1)?BN_0$4:Y}set gasPrice(Y){Yn(this,k0,Y==null?null:getBigInt(Y,"gasPrice"))}get maxPriorityFeePerGas(){const Y=In(this,M0);return Y??(this.type===2||this.type===3?BN_0$4:null)}set maxPriorityFeePerGas(Y){Yn(this,M0,Y==null?null:getBigInt(Y,"maxPriorityFeePerGas"))}get maxFeePerGas(){const Y=In(this,O0);return Y??(this.type===2||this.type===3?BN_0$4:null)}set maxFeePerGas(Y){Yn(this,O0,Y==null?null:getBigInt(Y,"maxFeePerGas"))}get data(){return In(this,I0)}set data(Y){Yn(this,I0,hexlify(Y))}get value(){return In(this,B0)}set value(Y){Yn(this,B0,getBigInt(Y,"value"))}get chainId(){return In(this,D0)}set chainId(Y){Yn(this,D0,getBigInt(Y))}get signature(){return In(this,q0)||null}set signature(Y){Yn(this,q0,Y==null?null:Signature.from(Y))}get accessList(){const Y=In(this,U0)||null;return Y??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(Y){Yn(this,U0,Y==null?null:accessListify(Y))}get maxFeePerBlobGas(){const Y=In(this,Wh);return Y==null&&this.type===3?BN_0$4:Y}set maxFeePerBlobGas(Y){Yn(this,Wh,Y==null?null:getBigInt(Y,"maxFeePerBlobGas"))}get blobVersionedHashes(){let Y=In(this,Cf);return Y==null&&this.type===3?[]:Y}set blobVersionedHashes(Y){if(Y!=null){assertArgument(Array.isArray(Y),"blobVersionedHashes must be an Array","value",Y),Y=Y.slice();for(let ne=0;ne<Y.length;ne++)assertArgument(isHexString(Y[ne],32),"invalid blobVersionedHash",`value[${ne}]`,Y[ne])}Yn(this,Cf,Y)}get blobs(){return In(this,Sf)==null?null:In(this,Sf).map(Y=>Object.assign({},Y))}set blobs(Y){if(Y==null){Yn(this,Sf,null);return}const ne=[],fe=[];for(let ye=0;ye<Y.length;ye++){const me=Y[ye];if(isBytesLike(me)){assert(In(this,Tu),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let be=getBytes(me);if(assertArgument(be.length<=BLOB_SIZE,"blob is too large",`blobs[${ye}]`,me),be.length!==BLOB_SIZE){const xe=new Uint8Array(BLOB_SIZE);xe.set(be),be=xe}const we=In(this,Tu).blobToKzgCommitment(be),Ee=hexlify(In(this,Tu).computeBlobKzgProof(be,we));ne.push({data:hexlify(be),commitment:hexlify(we),proof:Ee}),fe.push(getVersionedHash(1,we))}else{const be=hexlify(me.commitment);ne.push({data:hexlify(me.data),commitment:be,proof:hexlify(me.proof)}),fe.push(getVersionedHash(1,be))}}Yn(this,Sf,ne),Yn(this,Cf,fe)}get kzg(){return In(this,Tu)}set kzg(Y){Yn(this,Tu,Y)}get hash(){return this.signature==null?null:keccak256(_i(this,F0,wg).call(this,!0,!1))}get unsignedHash(){return keccak256(this.unsignedSerialized)}get from(){return this.signature==null?null:recoverAddress(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return _i(this,F0,wg).call(this,!0,!0)}get unsignedSerialized(){return _i(this,F0,wg).call(this,!1,!1)}inferType(){const Y=this.inferTypes();return Y.indexOf(2)>=0?2:Y.pop()}inferTypes(){const Y=this.gasPrice!=null,ne=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,fe=this.accessList!=null,ye=In(this,Wh)!=null||In(this,Cf);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&assert(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),assert(!ne||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),assert(this.type!==0||!fe,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const me=[];return this.type!=null?me.push(this.type):ne?me.push(2):Y?(me.push(1),fe||me.push(0)):fe?(me.push(1),me.push(2)):(ye&&this.to||(me.push(0),me.push(1),me.push(2)),me.push(3)),me.sort(),me}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return pu.from(this)}toJSON(){const Y=ne=>ne==null?null:ne.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:Y(this.gasLimit),gasPrice:Y(this.gasPrice),maxPriorityFeePerGas:Y(this.maxPriorityFeePerGas),maxFeePerGas:Y(this.maxFeePerGas),value:Y(this.value),chainId:Y(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(Y){if(Y==null)return new pu;if(typeof Y=="string"){const fe=getBytes(Y);if(fe[0]>=127)return pu.from(_parseLegacy(fe));switch(fe[0]){case 1:return pu.from(_parseEip2930(fe));case 2:return pu.from(_parseEip1559(fe));case 3:return pu.from(_parseEip4844(fe))}assert(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const ne=new pu;return Y.type!=null&&(ne.type=Y.type),Y.to!=null&&(ne.to=Y.to),Y.nonce!=null&&(ne.nonce=Y.nonce),Y.gasLimit!=null&&(ne.gasLimit=Y.gasLimit),Y.gasPrice!=null&&(ne.gasPrice=Y.gasPrice),Y.maxPriorityFeePerGas!=null&&(ne.maxPriorityFeePerGas=Y.maxPriorityFeePerGas),Y.maxFeePerGas!=null&&(ne.maxFeePerGas=Y.maxFeePerGas),Y.maxFeePerBlobGas!=null&&(ne.maxFeePerBlobGas=Y.maxFeePerBlobGas),Y.data!=null&&(ne.data=Y.data),Y.value!=null&&(ne.value=Y.value),Y.chainId!=null&&(ne.chainId=Y.chainId),Y.signature!=null&&(ne.signature=Signature.from(Y.signature)),Y.accessList!=null&&(ne.accessList=Y.accessList),Y.blobVersionedHashes!=null&&(ne.blobVersionedHashes=Y.blobVersionedHashes),Y.kzg!=null&&(ne.kzg=Y.kzg),Y.blobs!=null&&(ne.blobs=Y.blobs),Y.hash!=null&&(assertArgument(ne.isSigned(),"unsigned transaction cannot define '.hash'","tx",Y),assertArgument(ne.hash===Y.hash,"hash mismatch","tx",Y)),Y.from!=null&&(assertArgument(ne.isSigned(),"unsigned transaction cannot define '.from'","tx",Y),assertArgument(ne.from.toLowerCase()===(Y.from||"").toLowerCase(),"from mismatch","tx",Y)),ne}};Hl=new WeakMap,R0=new WeakMap,I0=new WeakMap,P0=new WeakMap,N0=new WeakMap,k0=new WeakMap,M0=new WeakMap,O0=new WeakMap,B0=new WeakMap,D0=new WeakMap,q0=new WeakMap,U0=new WeakMap,Wh=new WeakMap,Cf=new WeakMap,Tu=new WeakMap,Sf=new WeakMap,F0=new WeakSet,wg=function(Y,ne){assert(!Y||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const fe=Y?this.signature:null;switch(this.inferType()){case 0:return _serializeLegacy(this,fe);case 1:return _serializeEip2930(this,fe);case 2:return _serializeEip1559(this,fe);case 3:return _serializeEip4844(this,fe,ne?this.blobs:null)}assert(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Transaction=pu;const padding=new Uint8Array(32);padding.fill(0);const BN__1=BigInt(-1),BN_0$3=BigInt(0),BN_1=BigInt(1),BN_MAX_UINT256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(se){const Y=getBytes(se),ne=Y.length%32;return ne?concat([Y,padding.slice(ne)]):hexlify(Y)}const hexTrue=toBeHex(BN_1,32),hexFalse=toBeHex(BN_0$3,32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(se){return function(Y){return assertArgument(typeof Y=="string",`invalid domain value for ${JSON.stringify(se)}`,`domain.${se}`,Y),Y}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(se){const Y=getBigInt(se,"domain.chainId");return assertArgument(Y>=0,"invalid chain ID","domain.chainId",se),Number.isSafeInteger(Y)?Number(Y):toQuantity(Y)},verifyingContract:function(se){try{return getAddress(se).toLowerCase()}catch{}assertArgument(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",se)},salt:function(se){const Y=getBytes(se,"domain.salt");return assertArgument(Y.length===32,'invalid domain value "salt"',"domain.salt",se),hexlify(Y)}};function getBaseEncoder(se){{const Y=se.match(/^(u?)int(\d+)$/);if(Y){const ne=Y[1]==="",fe=parseInt(Y[2]);assertArgument(fe%8===0&&fe!==0&&fe<=256&&Y[2]===String(fe),"invalid numeric width","type",se);const ye=mask(BN_MAX_UINT256,ne?fe-1:fe),me=ne?(ye+BN_1)*BN__1:BN_0$3;return function(be){const we=getBigInt(be,"value");return assertArgument(we>=me&&we<=ye,`value out-of-bounds for ${se}`,"value",we),toBeHex(ne?toTwos(we,256):we,32)}}}{const Y=se.match(/^bytes(\d+)$/);if(Y){const ne=parseInt(Y[1]);return assertArgument(ne!==0&&ne<=32&&Y[1]===String(ne),"invalid bytes width","type",se),function(fe){const ye=getBytes(fe);return assertArgument(ye.length===ne,`invalid length for ${se}`,"value",fe),hexPadRight(fe)}}}switch(se){case"address":return function(Y){return zeroPadValue(getAddress(Y),32)};case"bool":return function(Y){return Y?hexTrue:hexFalse};case"bytes":return function(Y){return keccak256(Y)};case"string":return function(Y){return id(Y)}}return null}function encodeType(se,Y){return`${se}(${Y.map(({name:ne,type:fe})=>fe+" "+ne).join(",")})`}function splitArray(se){const Y=se.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return Y?{base:Y[1],index:Y[2]+Y[4],array:{base:Y[1],prefix:Y[1]+Y[2],count:Y[5]?parseInt(Y[5]):-1}}:{base:se}}var Qp,Nu,W0,Tg,Ow;const tl=class tl{constructor(Y){fi(this,Tg);li(this,"primaryType");fi(this,Qp);fi(this,Nu);fi(this,W0);Yn(this,Nu,new Map),Yn(this,W0,new Map);const ne=new Map,fe=new Map,ye=new Map,me={};Object.keys(Y).forEach(Ee=>{me[Ee]=Y[Ee].map(({name:xe,type:Se})=>{let{base:Ie,index:fr}=splitArray(Se);return Ie==="int"&&!Y.int&&(Ie="int256"),Ie==="uint"&&!Y.uint&&(Ie="uint256"),{name:xe,type:Ie+(fr||"")}}),ne.set(Ee,new Set),fe.set(Ee,[]),ye.set(Ee,new Set)}),Yn(this,Qp,JSON.stringify(me));for(const Ee in me){const xe=new Set;for(const Se of me[Ee]){assertArgument(!xe.has(Se.name),`duplicate variable name ${JSON.stringify(Se.name)} in ${JSON.stringify(Ee)}`,"types",Y),xe.add(Se.name);const Ie=splitArray(Se.type).base;assertArgument(Ie!==Ee,`circular type reference to ${JSON.stringify(Ie)}`,"types",Y),!getBaseEncoder(Ie)&&(assertArgument(fe.has(Ie),`unknown type ${JSON.stringify(Ie)}`,"types",Y),fe.get(Ie).push(Ee),ne.get(Ee).add(Ie))}}const be=Array.from(fe.keys()).filter(Ee=>fe.get(Ee).length===0);assertArgument(be.length!==0,"missing primary type","types",Y),assertArgument(be.length===1,`ambiguous primary types or unused types: ${be.map(Ee=>JSON.stringify(Ee)).join(", ")}`,"types",Y),defineProperties(this,{primaryType:be[0]});function we(Ee,xe){assertArgument(!xe.has(Ee),`circular type reference to ${JSON.stringify(Ee)}`,"types",Y),xe.add(Ee);for(const Se of ne.get(Ee))if(fe.has(Se)){we(Se,xe);for(const Ie of xe)ye.get(Ie).add(Se)}xe.delete(Ee)}we(this.primaryType,new Set);for(const[Ee,xe]of ye){const Se=Array.from(xe);Se.sort(),In(this,Nu).set(Ee,encodeType(Ee,me[Ee])+Se.map(Ie=>encodeType(Ie,me[Ie])).join(""))}}get types(){return JSON.parse(In(this,Qp))}getEncoder(Y){let ne=In(this,W0).get(Y);return ne||(ne=_i(this,Tg,Ow).call(this,Y),In(this,W0).set(Y,ne)),ne}encodeType(Y){const ne=In(this,Nu).get(Y);return assertArgument(ne,`unknown type: ${JSON.stringify(Y)}`,"name",Y),ne}encodeData(Y,ne){return this.getEncoder(Y)(ne)}hashStruct(Y,ne){return keccak256(this.encodeData(Y,ne))}encode(Y){return this.encodeData(this.primaryType,Y)}hash(Y){return this.hashStruct(this.primaryType,Y)}_visit(Y,ne,fe){if(getBaseEncoder(Y))return fe(Y,ne);const ye=splitArray(Y).array;if(ye)return assertArgument(ye.count===-1||ye.count===ne.length,`array length mismatch; expected length ${ye.count}`,"value",ne),ne.map(be=>this._visit(ye.prefix,be,fe));const me=this.types[Y];if(me)return me.reduce((be,{name:we,type:Ee})=>(be[we]=this._visit(Ee,ne[we],fe),be),{});assertArgument(!1,`unknown type: ${Y}`,"type",Y)}visit(Y,ne){return this._visit(this.primaryType,Y,ne)}static from(Y){return new tl(Y)}static getPrimaryType(Y){return tl.from(Y).primaryType}static hashStruct(Y,ne,fe){return tl.from(ne).hashStruct(Y,fe)}static hashDomain(Y){const ne=[];for(const fe in Y){if(Y[fe]==null)continue;const ye=domainFieldTypes[fe];assertArgument(ye,`invalid typed-data domain key: ${JSON.stringify(fe)}`,"domain",Y),ne.push({name:fe,type:ye})}return ne.sort((fe,ye)=>domainFieldNames.indexOf(fe.name)-domainFieldNames.indexOf(ye.name)),tl.hashStruct("EIP712Domain",{EIP712Domain:ne},Y)}static encode(Y,ne,fe){return concat(["0x1901",tl.hashDomain(Y),tl.from(ne).hash(fe)])}static hash(Y,ne,fe){return keccak256(tl.encode(Y,ne,fe))}static async resolveNames(Y,ne,fe,ye){Y=Object.assign({},Y);for(const we in Y)Y[we]==null&&delete Y[we];const me={};Y.verifyingContract&&!isHexString(Y.verifyingContract,20)&&(me[Y.verifyingContract]="0x");const be=tl.from(ne);be.visit(fe,(we,Ee)=>(we==="address"&&!isHexString(Ee,20)&&(me[Ee]="0x"),Ee));for(const we in me)me[we]=await ye(we);return Y.verifyingContract&&me[Y.verifyingContract]&&(Y.verifyingContract=me[Y.verifyingContract]),fe=be.visit(fe,(we,Ee)=>we==="address"&&me[Ee]?me[Ee]:Ee),{domain:Y,value:fe}}static getPayload(Y,ne,fe){tl.hashDomain(Y);const ye={},me=[];domainFieldNames.forEach(Ee=>{const xe=Y[Ee];xe!=null&&(ye[Ee]=domainChecks[Ee](xe),me.push({name:Ee,type:domainFieldTypes[Ee]}))});const be=tl.from(ne);ne=be.types;const we=Object.assign({},ne);return assertArgument(we.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",ne),we.EIP712Domain=me,be.encode(fe),{types:we,domain:ye,primaryType:be.primaryType,message:be.visit(fe,(Ee,xe)=>{if(Ee.match(/^bytes(\d*)/))return hexlify(getBytes(xe));if(Ee.match(/^u?int/))return getBigInt(xe).toString();switch(Ee){case"address":return xe.toLowerCase();case"bool":return!!xe;case"string":return assertArgument(typeof xe=="string","invalid string","value",xe),xe}assertArgument(!1,"unsupported type","type",Ee)})}}};Qp=new WeakMap,Nu=new WeakMap,W0=new WeakMap,Tg=new WeakSet,Ow=function(Y){{const ye=getBaseEncoder(Y);if(ye)return ye}const ne=splitArray(Y).array;if(ne){const ye=ne.prefix,me=this.getEncoder(ye);return be=>{assertArgument(ne.count===-1||ne.count===be.length,`array length mismatch; expected length ${ne.count}`,"value",be);let we=be.map(me);return In(this,Nu).has(ye)&&(we=we.map(keccak256)),keccak256(concat(we))}}const fe=this.types[Y];if(fe){const ye=id(In(this,Nu).get(Y));return me=>{const be=fe.map(({name:we,type:Ee})=>{const xe=this.getEncoder(Ee)(me[we]);return In(this,Nu).has(Ee)?keccak256(xe):xe});return be.unshift(ye),concat(be)}}assertArgument(!1,`unknown type: ${Y}`,"type",Y)};let TypedDataEncoder=tl;function setify(se){const Y=new Set;return se.forEach(ne=>Y.add(ne)),Object.freeze(Y)}const _kwVisibDeploy="external public payable override",KwVisibDeploy=setify(_kwVisibDeploy.split(" ")),_kwVisib="constant external internal payable private public pure view override",KwVisib=setify(_kwVisib.split(" ")),_kwTypes="constructor error event fallback function receive struct",KwTypes=setify(_kwTypes.split(" ")),_kwModifiers="calldata memory storage payable indexed",KwModifiers=setify(_kwModifiers.split(" ")),_kwOther="tuple returns",_keywords=[_kwTypes,_kwModifiers,_kwOther,_kwVisib].join(" "),Keywords=setify(_keywords.split(" ")),SimpleTokens={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},regexWhitespacePrefix=new RegExp("^(\\s*)"),regexNumberPrefix=new RegExp("^([0-9]+)"),regexIdPrefix=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),regexId=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),regexType=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var tc,Al,Yp,xy;const Ng=class Ng{constructor(Y){fi(this,Yp);fi(this,tc);fi(this,Al);Yn(this,tc,0),Yn(this,Al,Y.slice())}get offset(){return In(this,tc)}get length(){return In(this,Al).length-In(this,tc)}clone(){return new Ng(In(this,Al))}reset(){Yn(this,tc,0)}popKeyword(Y){const ne=this.peek();if(ne.type!=="KEYWORD"||!Y.has(ne.text))throw new Error(`expected keyword ${ne.text}`);return this.pop().text}popType(Y){if(this.peek().type!==Y){const ne=this.peek();throw new Error(`expected ${Y}; got ${ne.type} ${JSON.stringify(ne.text)}`)}return this.pop().text}popParen(){const Y=this.peek();if(Y.type!=="OPEN_PAREN")throw new Error("bad start");const ne=_i(this,Yp,xy).call(this,In(this,tc)+1,Y.match+1);return Yn(this,tc,Y.match+1),ne}popParams(){const Y=this.peek();if(Y.type!=="OPEN_PAREN")throw new Error("bad start");const ne=[];for(;In(this,tc)<Y.match-1;){const fe=this.peek().linkNext;ne.push(_i(this,Yp,xy).call(this,In(this,tc)+1,fe)),Yn(this,tc,fe)}return Yn(this,tc,Y.match+1),ne}peek(){if(In(this,tc)>=In(this,Al).length)throw new Error("out-of-bounds");return In(this,Al)[In(this,tc)]}peekKeyword(Y){const ne=this.peekType("KEYWORD");return ne!=null&&Y.has(ne)?ne:null}peekType(Y){if(this.length===0)return null;const ne=this.peek();return ne.type===Y?ne.text:null}pop(){const Y=this.peek();return fu(this,tc)._++,Y}toString(){const Y=[];for(let ne=In(this,tc);ne<In(this,Al).length;ne++){const fe=In(this,Al)[ne];Y.push(`${fe.type}:${fe.text}`)}return`<TokenString ${Y.join(" ")}>`}};tc=new WeakMap,Al=new WeakMap,Yp=new WeakSet,xy=function(Y=0,ne=0){return new Ng(In(this,Al).slice(Y,ne).map(fe=>Object.freeze(Object.assign({},fe,{match:fe.match-Y,linkBack:fe.linkBack-Y,linkNext:fe.linkNext-Y}))))};let TokenString=Ng;function lex(se){const Y=[],ne=be=>{const we=me<se.length?JSON.stringify(se[me]):"$EOI";throw new Error(`invalid token ${we} at ${me}: ${be}`)};let fe=[],ye=[],me=0;for(;me<se.length;){let be=se.substring(me),we=be.match(regexWhitespacePrefix);we&&(me+=we[1].length,be=se.substring(me));const Ee={depth:fe.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:me,value:-1};Y.push(Ee);let xe=SimpleTokens[be[0]]||"";if(xe){if(Ee.type=xe,Ee.text=be[0],me++,xe==="OPEN_PAREN")fe.push(Y.length-1),ye.push(Y.length-1);else if(xe=="CLOSE_PAREN")fe.length===0&&ne("no matching open bracket"),Ee.match=fe.pop(),Y[Ee.match].match=Y.length-1,Ee.depth--,Ee.linkBack=ye.pop(),Y[Ee.linkBack].linkNext=Y.length-1;else if(xe==="COMMA")Ee.linkBack=ye.pop(),Y[Ee.linkBack].linkNext=Y.length-1,ye.push(Y.length-1);else if(xe==="OPEN_BRACKET")Ee.type="BRACKET";else if(xe==="CLOSE_BRACKET"){let Se=Y.pop().text;if(Y.length>0&&Y[Y.length-1].type==="NUMBER"){const Ie=Y.pop().text;Se=Ie+Se,Y[Y.length-1].value=getNumber(Ie)}if(Y.length===0||Y[Y.length-1].type!=="BRACKET")throw new Error("missing opening bracket");Y[Y.length-1].text+=Se}continue}if(we=be.match(regexIdPrefix),we){if(Ee.text=we[1],me+=Ee.text.length,Keywords.has(Ee.text)){Ee.type="KEYWORD";continue}if(Ee.text.match(regexType)){Ee.type="TYPE";continue}Ee.type="ID";continue}if(we=be.match(regexNumberPrefix),we){Ee.text=we[1],Ee.type="NUMBER",me+=Ee.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(be[0])} at position ${me}`)}return new TokenString(Y.map(be=>Object.freeze(be)))}function allowSingle(se,Y){let ne=[];for(const fe in Y.keys())se.has(fe)&&ne.push(fe);if(ne.length>1)throw new Error(`conflicting types: ${ne.join(", ")}`)}function consumeName(se,Y){if(Y.peekKeyword(KwTypes)){const ne=Y.pop().text;if(ne!==se)throw new Error(`expected ${se}, got ${ne}`)}return Y.popType("ID")}function consumeKeywords(se,Y){const ne=new Set;for(;;){const fe=se.peekType("KEYWORD");if(fe==null||Y&&!Y.has(fe))break;if(se.pop(),ne.has(fe))throw new Error(`duplicate keywords: ${JSON.stringify(fe)}`);ne.add(fe)}return Object.freeze(ne)}function consumeMutability(se){let Y=consumeKeywords(se,KwVisib);return allowSingle(Y,setify("constant payable nonpayable".split(" "))),allowSingle(Y,setify("pure view payable nonpayable".split(" "))),Y.has("view")?"view":Y.has("pure")?"pure":Y.has("payable")?"payable":Y.has("nonpayable")?"nonpayable":Y.has("constant")?"view":"nonpayable"}function consumeParams(se,Y){return se.popParams().map(ne=>ParamType.from(ne,Y))}function consumeGas(se){if(se.peekType("AT")){if(se.pop(),se.peekType("NUMBER"))return getBigInt(se.pop().text);throw new Error("invalid gas")}return null}function consumeEoi(se){if(se.length)throw new Error(`unexpected tokens at offset ${se.offset}: ${se.toString()}`)}const regexArrayType=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(se){const Y=se.match(regexType);if(assertArgument(Y,"invalid type","type",se),se==="uint")return"uint256";if(se==="int")return"int256";if(Y[2]){const ne=parseInt(Y[2]);assertArgument(ne!==0&&ne<=32,"invalid bytes length","type",se)}else if(Y[3]){const ne=parseInt(Y[3]);assertArgument(ne!==0&&ne<=256&&ne%8===0,"invalid numeric width","type",se)}return se}const _guard={},internal$1=Symbol.for("_ethers_internal"),ParamTypeInternal="_ParamTypeInternal",ErrorFragmentInternal="_ErrorInternal",EventFragmentInternal="_EventInternal",ConstructorFragmentInternal="_ConstructorInternal",FallbackFragmentInternal="_FallbackInternal",FunctionFragmentInternal="_FunctionInternal",StructFragmentInternal="_StructInternal";var j0,_g;const rl=class rl{constructor(Y,ne,fe,ye,me,be,we,Ee){fi(this,j0);li(this,"name");li(this,"type");li(this,"baseType");li(this,"indexed");li(this,"components");li(this,"arrayLength");li(this,"arrayChildren");if(assertPrivate(Y,_guard,"ParamType"),Object.defineProperty(this,internal$1,{value:ParamTypeInternal}),be&&(be=Object.freeze(be.slice())),ye==="array"){if(we==null||Ee==null)throw new Error("")}else if(we!=null||Ee!=null)throw new Error("");if(ye==="tuple"){if(be==null)throw new Error("")}else if(be!=null)throw new Error("");defineProperties(this,{name:ne,type:fe,baseType:ye,indexed:me,components:be,arrayLength:we,arrayChildren:Ee})}format(Y){if(Y==null&&(Y="sighash"),Y==="json"){const fe=this.name||"";if(this.isArray()){const me=JSON.parse(this.arrayChildren.format("json"));return me.name=fe,me.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(me)}const ye={type:this.baseType==="tuple"?"tuple":this.type,name:fe};return typeof this.indexed=="boolean"&&(ye.indexed=this.indexed),this.isTuple()&&(ye.components=this.components.map(me=>JSON.parse(me.format(Y)))),JSON.stringify(ye)}let ne="";return this.isArray()?(ne+=this.arrayChildren.format(Y),ne+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?ne+="("+this.components.map(fe=>fe.format(Y)).join(Y==="full"?", ":",")+")":ne+=this.type,Y!=="sighash"&&(this.indexed===!0&&(ne+=" indexed"),Y==="full"&&this.name&&(ne+=" "+this.name)),ne}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(Y,ne){if(this.isArray()){if(!Array.isArray(Y))throw new Error("invalid array value");if(this.arrayLength!==-1&&Y.length!==this.arrayLength)throw new Error("array is wrong length");const fe=this;return Y.map(ye=>fe.arrayChildren.walk(ye,ne))}if(this.isTuple()){if(!Array.isArray(Y))throw new Error("invalid tuple value");if(Y.length!==this.components.length)throw new Error("array is wrong length");const fe=this;return Y.map((ye,me)=>fe.components[me].walk(ye,ne))}return ne(this.type,Y)}async walkAsync(Y,ne){const fe=[],ye=[Y];return _i(this,j0,_g).call(this,fe,Y,ne,me=>{ye[0]=me}),fe.length&&await Promise.all(fe),ye[0]}static from(Y,ne){if(rl.isParamType(Y))return Y;if(typeof Y=="string")try{return rl.from(lex(Y),ne)}catch{assertArgument(!1,"invalid param type","obj",Y)}else if(Y instanceof TokenString){let we="",Ee="",xe=null;consumeKeywords(Y,setify(["tuple"])).has("tuple")||Y.peekType("OPEN_PAREN")?(Ee="tuple",xe=Y.popParams().map(Wr=>rl.from(Wr)),we=`tuple(${xe.map(Wr=>Wr.format()).join(",")})`):(we=verifyBasicType(Y.popType("TYPE")),Ee=we);let Se=null,Ie=null;for(;Y.length&&Y.peekType("BRACKET");){const Wr=Y.pop();Se=new rl(_guard,"",we,Ee,null,xe,Ie,Se),Ie=Wr.value,we+=Wr.text,Ee="array",xe=null}let fr=null;if(consumeKeywords(Y,KwModifiers).has("indexed")){if(!ne)throw new Error("");fr=!0}const kr=Y.peekType("ID")?Y.pop().text:"";if(Y.length)throw new Error("leftover tokens");return new rl(_guard,kr,we,Ee,fr,xe,Ie,Se)}const fe=Y.name;assertArgument(!fe||typeof fe=="string"&&fe.match(regexId),"invalid name","obj.name",fe);let ye=Y.indexed;ye!=null&&(assertArgument(ne,"parameter cannot be indexed","obj.indexed",Y.indexed),ye=!!ye);let me=Y.type,be=me.match(regexArrayType);if(be){const we=parseInt(be[2]||"-1"),Ee=rl.from({type:be[1],components:Y.components});return new rl(_guard,fe||"",me,"array",ye,null,we,Ee)}if(me==="tuple"||me.startsWith("tuple(")||me.startsWith("(")){const we=Y.components!=null?Y.components.map(xe=>rl.from(xe)):null;return new rl(_guard,fe||"",me,"tuple",ye,we,null,null)}return me=verifyBasicType(Y.type),new rl(_guard,fe||"",me,me,ye,null,null,null)}static isParamType(Y){return Y&&Y[internal$1]===ParamTypeInternal}};j0=new WeakSet,_g=function(Y,ne,fe,ye){if(this.isArray()){if(!Array.isArray(ne))throw new Error("invalid array value");if(this.arrayLength!==-1&&ne.length!==this.arrayLength)throw new Error("array is wrong length");const be=this.arrayChildren,we=ne.slice();we.forEach((Ee,xe)=>{var Se;_i(Se=be,j0,_g).call(Se,Y,Ee,fe,Ie=>{we[xe]=Ie})}),ye(we);return}if(this.isTuple()){const be=this.components;let we;if(Array.isArray(ne))we=ne.slice();else{if(ne==null||typeof ne!="object")throw new Error("invalid tuple value");we=be.map(Ee=>{if(!Ee.name)throw new Error("cannot use object value with unnamed components");if(!(Ee.name in ne))throw new Error(`missing value for component ${Ee.name}`);return ne[Ee.name]})}if(we.length!==this.components.length)throw new Error("array is wrong length");we.forEach((Ee,xe)=>{var Se;_i(Se=be[xe],j0,_g).call(Se,Y,Ee,fe,Ie=>{we[xe]=Ie})}),ye(we);return}const me=fe(this.type,ne);me.then?Y.push(async function(){ye(await me)}()):ye(me)};let ParamType=rl;class Fragment{constructor(Y,ne,fe){li(this,"type");li(this,"inputs");assertPrivate(Y,_guard,"Fragment"),fe=Object.freeze(fe.slice()),defineProperties(this,{type:ne,inputs:fe})}static from(Y){if(typeof Y=="string"){try{Fragment.from(JSON.parse(Y))}catch{}return Fragment.from(lex(Y))}if(Y instanceof TokenString)switch(Y.peekKeyword(KwTypes)){case"constructor":return ConstructorFragment.from(Y);case"error":return ErrorFragment.from(Y);case"event":return EventFragment.from(Y);case"fallback":case"receive":return FallbackFragment.from(Y);case"function":return FunctionFragment.from(Y);case"struct":return StructFragment.from(Y)}else if(typeof Y=="object"){switch(Y.type){case"constructor":return ConstructorFragment.from(Y);case"error":return ErrorFragment.from(Y);case"event":return EventFragment.from(Y);case"fallback":case"receive":return FallbackFragment.from(Y);case"function":return FunctionFragment.from(Y);case"struct":return StructFragment.from(Y)}assert(!1,`unsupported type: ${Y.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}assertArgument(!1,"unsupported frgament object","obj",Y)}static isConstructor(Y){return ConstructorFragment.isFragment(Y)}static isError(Y){return ErrorFragment.isFragment(Y)}static isEvent(Y){return EventFragment.isFragment(Y)}static isFunction(Y){return FunctionFragment.isFragment(Y)}static isStruct(Y){return StructFragment.isFragment(Y)}}class NamedFragment extends Fragment{constructor(ne,fe,ye,me){super(ne,fe,me);li(this,"name");assertArgument(typeof ye=="string"&&ye.match(regexId),"invalid identifier","name",ye),me=Object.freeze(me.slice()),defineProperties(this,{name:ye})}}function joinParams(se,Y){return"("+Y.map(ne=>ne.format(se)).join(se==="full"?", ":",")+")"}class ErrorFragment extends NamedFragment{constructor(Y,ne,fe){super(Y,"error",ne,fe),Object.defineProperty(this,internal$1,{value:ErrorFragmentInternal})}get selector(){return id(this.format("sighash")).substring(0,10)}format(Y){if(Y==null&&(Y="sighash"),Y==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(fe=>JSON.parse(fe.format(Y)))});const ne=[];return Y!=="sighash"&&ne.push("error"),ne.push(this.name+joinParams(Y,this.inputs)),ne.join(" ")}static from(Y){if(ErrorFragment.isFragment(Y))return Y;if(typeof Y=="string")return ErrorFragment.from(lex(Y));if(Y instanceof TokenString){const ne=consumeName("error",Y),fe=consumeParams(Y);return consumeEoi(Y),new ErrorFragment(_guard,ne,fe)}return new ErrorFragment(_guard,Y.name,Y.inputs?Y.inputs.map(ParamType.from):[])}static isFragment(Y){return Y&&Y[internal$1]===ErrorFragmentInternal}}class EventFragment extends NamedFragment{constructor(ne,fe,ye,me){super(ne,"event",fe,ye);li(this,"anonymous");Object.defineProperty(this,internal$1,{value:EventFragmentInternal}),defineProperties(this,{anonymous:me})}get topicHash(){return id(this.format("sighash"))}format(ne){if(ne==null&&(ne="sighash"),ne==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(ye=>JSON.parse(ye.format(ne)))});const fe=[];return ne!=="sighash"&&fe.push("event"),fe.push(this.name+joinParams(ne,this.inputs)),ne!=="sighash"&&this.anonymous&&fe.push("anonymous"),fe.join(" ")}static getTopicHash(ne,fe){return fe=(fe||[]).map(me=>ParamType.from(me)),new EventFragment(_guard,ne,fe,!1).topicHash}static from(ne){if(EventFragment.isFragment(ne))return ne;if(typeof ne=="string")try{return EventFragment.from(lex(ne))}catch{assertArgument(!1,"invalid event fragment","obj",ne)}else if(ne instanceof TokenString){const fe=consumeName("event",ne),ye=consumeParams(ne,!0),me=!!consumeKeywords(ne,setify(["anonymous"])).has("anonymous");return consumeEoi(ne),new EventFragment(_guard,fe,ye,me)}return new EventFragment(_guard,ne.name,ne.inputs?ne.inputs.map(fe=>ParamType.from(fe,!0)):[],!!ne.anonymous)}static isFragment(ne){return ne&&ne[internal$1]===EventFragmentInternal}}class ConstructorFragment extends Fragment{constructor(ne,fe,ye,me,be){super(ne,fe,ye);li(this,"payable");li(this,"gas");Object.defineProperty(this,internal$1,{value:ConstructorFragmentInternal}),defineProperties(this,{payable:me,gas:be})}format(ne){if(assert(ne!=null&&ne!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),ne==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(ye=>JSON.parse(ye.format(ne)))});const fe=[`constructor${joinParams(ne,this.inputs)}`];return this.payable&&fe.push("payable"),this.gas!=null&&fe.push(`@${this.gas.toString()}`),fe.join(" ")}static from(ne){if(ConstructorFragment.isFragment(ne))return ne;if(typeof ne=="string")try{return ConstructorFragment.from(lex(ne))}catch{assertArgument(!1,"invalid constuctor fragment","obj",ne)}else if(ne instanceof TokenString){consumeKeywords(ne,setify(["constructor"]));const fe=consumeParams(ne),ye=!!consumeKeywords(ne,KwVisibDeploy).has("payable"),me=consumeGas(ne);return consumeEoi(ne),new ConstructorFragment(_guard,"constructor",fe,ye,me)}return new ConstructorFragment(_guard,"constructor",ne.inputs?ne.inputs.map(ParamType.from):[],!!ne.payable,ne.gas!=null?ne.gas:null)}static isFragment(ne){return ne&&ne[internal$1]===ConstructorFragmentInternal}}class FallbackFragment extends Fragment{constructor(ne,fe,ye){super(ne,"fallback",fe);li(this,"payable");Object.defineProperty(this,internal$1,{value:FallbackFragmentInternal}),defineProperties(this,{payable:ye})}format(ne){const fe=this.inputs.length===0?"receive":"fallback";if(ne==="json"){const ye=this.payable?"payable":"nonpayable";return JSON.stringify({type:fe,stateMutability:ye})}return`${fe}()${this.payable?" payable":""}`}static from(ne){if(FallbackFragment.isFragment(ne))return ne;if(typeof ne=="string")try{return FallbackFragment.from(lex(ne))}catch{assertArgument(!1,"invalid fallback fragment","obj",ne)}else if(ne instanceof TokenString){const fe=ne.toString(),ye=ne.peekKeyword(setify(["fallback","receive"]));if(assertArgument(ye,"type must be fallback or receive","obj",fe),ne.popKeyword(setify(["fallback","receive"]))==="receive"){const Ee=consumeParams(ne);return assertArgument(Ee.length===0,"receive cannot have arguments","obj.inputs",Ee),consumeKeywords(ne,setify(["payable"])),consumeEoi(ne),new FallbackFragment(_guard,[],!0)}let be=consumeParams(ne);be.length?assertArgument(be.length===1&&be[0].type==="bytes","invalid fallback inputs","obj.inputs",be.map(Ee=>Ee.format("minimal")).join(", ")):be=[ParamType.from("bytes")];const we=consumeMutability(ne);if(assertArgument(we==="nonpayable"||we==="payable","fallback cannot be constants","obj.stateMutability",we),consumeKeywords(ne,setify(["returns"])).has("returns")){const Ee=consumeParams(ne);assertArgument(Ee.length===1&&Ee[0].type==="bytes","invalid fallback outputs","obj.outputs",Ee.map(xe=>xe.format("minimal")).join(", "))}return consumeEoi(ne),new FallbackFragment(_guard,be,we==="payable")}if(ne.type==="receive")return new FallbackFragment(_guard,[],!0);if(ne.type==="fallback"){const fe=[ParamType.from("bytes")],ye=ne.stateMutability==="payable";return new FallbackFragment(_guard,fe,ye)}assertArgument(!1,"invalid fallback description","obj",ne)}static isFragment(ne){return ne&&ne[internal$1]===FallbackFragmentInternal}}class FunctionFragment extends NamedFragment{constructor(ne,fe,ye,me,be,we){super(ne,"function",fe,me);li(this,"constant");li(this,"outputs");li(this,"stateMutability");li(this,"payable");li(this,"gas");Object.defineProperty(this,internal$1,{value:FunctionFragmentInternal}),be=Object.freeze(be.slice()),defineProperties(this,{constant:ye==="view"||ye==="pure",gas:we,outputs:be,payable:ye==="payable",stateMutability:ye})}get selector(){return id(this.format("sighash")).substring(0,10)}format(ne){if(ne==null&&(ne="sighash"),ne==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(ye=>JSON.parse(ye.format(ne))),outputs:this.outputs.map(ye=>JSON.parse(ye.format(ne)))});const fe=[];return ne!=="sighash"&&fe.push("function"),fe.push(this.name+joinParams(ne,this.inputs)),ne!=="sighash"&&(this.stateMutability!=="nonpayable"&&fe.push(this.stateMutability),this.outputs&&this.outputs.length&&(fe.push("returns"),fe.push(joinParams(ne,this.outputs))),this.gas!=null&&fe.push(`@${this.gas.toString()}`)),fe.join(" ")}static getSelector(ne,fe){return fe=(fe||[]).map(me=>ParamType.from(me)),new FunctionFragment(_guard,ne,"view",fe,[],null).selector}static from(ne){if(FunctionFragment.isFragment(ne))return ne;if(typeof ne=="string")try{return FunctionFragment.from(lex(ne))}catch{assertArgument(!1,"invalid function fragment","obj",ne)}else if(ne instanceof TokenString){const ye=consumeName("function",ne),me=consumeParams(ne),be=consumeMutability(ne);let we=[];consumeKeywords(ne,setify(["returns"])).has("returns")&&(we=consumeParams(ne));const Ee=consumeGas(ne);return consumeEoi(ne),new FunctionFragment(_guard,ye,be,me,we,Ee)}let fe=ne.stateMutability;return fe==null&&(fe="payable",typeof ne.constant=="boolean"?(fe="view",ne.constant||(fe="payable",typeof ne.payable=="boolean"&&!ne.payable&&(fe="nonpayable"))):typeof ne.payable=="boolean"&&!ne.payable&&(fe="nonpayable")),new FunctionFragment(_guard,ne.name,fe,ne.inputs?ne.inputs.map(ParamType.from):[],ne.outputs?ne.outputs.map(ParamType.from):[],ne.gas!=null?ne.gas:null)}static isFragment(ne){return ne&&ne[internal$1]===FunctionFragmentInternal}}class StructFragment extends NamedFragment{constructor(Y,ne,fe){super(Y,"struct",ne,fe),Object.defineProperty(this,internal$1,{value:StructFragmentInternal})}format(){throw new Error("@TODO")}static from(Y){if(typeof Y=="string")try{return StructFragment.from(lex(Y))}catch{assertArgument(!1,"invalid struct fragment","obj",Y)}else if(Y instanceof TokenString){const ne=consumeName("struct",Y),fe=consumeParams(Y);return consumeEoi(Y),new StructFragment(_guard,ne,fe)}return new StructFragment(_guard,Y.name,Y.inputs?Y.inputs.map(ParamType.from):[])}static isFragment(Y){return Y&&Y[internal$1]===StructFragmentInternal}}const PanicReasons$1=new Map;PanicReasons$1.set(0,"GENERIC_PANIC");PanicReasons$1.set(1,"ASSERT_FALSE");PanicReasons$1.set(17,"OVERFLOW");PanicReasons$1.set(18,"DIVIDE_BY_ZERO");PanicReasons$1.set(33,"ENUM_RANGE_ERROR");PanicReasons$1.set(34,"BAD_STORAGE_DATA");PanicReasons$1.set(49,"STACK_UNDERFLOW");PanicReasons$1.set(50,"ARRAY_RANGE_ERROR");PanicReasons$1.set(65,"OUT_OF_MEMORY");PanicReasons$1.set(81,"UNINITIALIZED_FUNCTION_CALL");const paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);let defaultCoder=null,defaultMaxInflation=1024;function getBuiltinCallException(se,Y,ne,fe){let ye="missing revert data",me=null;const be=null;let we=null;if(ne){ye="execution reverted";const xe=getBytes(ne);if(ne=hexlify(ne),xe.length===0)ye+=" (no data present; likely require(false) occurred",me="require(false)";else if(xe.length%32!==4)ye+=" (could not decode reason; invalid data length)";else if(hexlify(xe.slice(0,4))==="0x08c379a0")try{me=fe.decode(["string"],xe.slice(4))[0],we={signature:"Error(string)",name:"Error",args:[me]},ye+=`: ${JSON.stringify(me)}`}catch{ye+=" (could not decode reason; invalid string data)"}else if(hexlify(xe.slice(0,4))==="0x4e487b71")try{const Se=Number(fe.decode(["uint256"],xe.slice(4))[0]);we={signature:"Panic(uint256)",name:"Panic",args:[Se]},me=`Panic due to ${PanicReasons$1.get(Se)||"UNKNOWN"}(${Se})`,ye+=`: ${me}`}catch{ye+=" (could not decode panic code)"}else ye+=" (unknown custom error)"}const Ee={to:Y.to?getAddress(Y.to):null,data:Y.data||"0x"};return Y.from&&(Ee.from=getAddress(Y.from)),makeError(ye,"CALL_EXCEPTION",{action:se,data:ne,reason:me,transaction:Ee,invocation:be,revert:we})}var Af,xd;const Og=class Og{constructor(){fi(this,Af)}getDefaultValue(Y){const ne=Y.map(ye=>_i(this,Af,xd).call(this,ParamType.from(ye)));return new TupleCoder(ne,"_").defaultValue()}encode(Y,ne){assertArgumentCount(ne.length,Y.length,"types/values length mismatch");const fe=Y.map(be=>_i(this,Af,xd).call(this,ParamType.from(be))),ye=new TupleCoder(fe,"_"),me=new Writer;return ye.encode(me,ne),me.data}decode(Y,ne,fe){const ye=Y.map(be=>_i(this,Af,xd).call(this,ParamType.from(be)));return new TupleCoder(ye,"_").decode(new Reader(ne,fe,defaultMaxInflation))}static _setDefaultMaxInflation(Y){assertArgument(typeof Y=="number"&&Number.isInteger(Y),"invalid defaultMaxInflation factor","value",Y),defaultMaxInflation=Y}static defaultAbiCoder(){return defaultCoder==null&&(defaultCoder=new Og),defaultCoder}static getBuiltinCallException(Y,ne,fe){return getBuiltinCallException(Y,ne,fe,Og.defaultAbiCoder())}};Af=new WeakSet,xd=function(Y){if(Y.isArray())return new ArrayCoder(_i(this,Af,xd).call(this,Y.arrayChildren),Y.arrayLength,Y.name);if(Y.isTuple())return new TupleCoder(Y.components.map(fe=>_i(this,Af,xd).call(this,fe)),Y.name);switch(Y.baseType){case"address":return new AddressCoder(Y.name);case"bool":return new BooleanCoder(Y.name);case"string":return new StringCoder(Y.name);case"bytes":return new BytesCoder(Y.name);case"":return new NullCoder(Y.name)}let ne=Y.type.match(paramTypeNumber);if(ne){let fe=parseInt(ne[2]||"256");return assertArgument(fe!==0&&fe<=256&&fe%8===0,"invalid "+ne[1]+" bit length","param",Y),new NumberCoder(fe/8,ne[1]==="int",Y.name)}if(ne=Y.type.match(paramTypeBytes),ne){let fe=parseInt(ne[1]);return assertArgument(fe!==0&&fe<=32,"invalid bytes length","param",Y),new FixedBytesCoder(fe,Y.name)}assertArgument(!1,"invalid type","type",Y.type)};let AbiCoder=Og;class LogDescription{constructor(Y,ne,fe){li(this,"fragment");li(this,"name");li(this,"signature");li(this,"topic");li(this,"args");const ye=Y.name,me=Y.format();defineProperties(this,{fragment:Y,name:ye,signature:me,topic:ne,args:fe})}}class TransactionDescription{constructor(Y,ne,fe,ye){li(this,"fragment");li(this,"name");li(this,"args");li(this,"signature");li(this,"selector");li(this,"value");const me=Y.name,be=Y.format();defineProperties(this,{fragment:Y,name:me,args:fe,signature:be,selector:ne,value:ye})}}class ErrorDescription{constructor(Y,ne,fe){li(this,"fragment");li(this,"name");li(this,"args");li(this,"signature");li(this,"selector");const ye=Y.name,me=Y.format();defineProperties(this,{fragment:Y,name:ye,args:fe,signature:me,selector:ne})}}class Indexed{constructor(Y){li(this,"hash");li(this,"_isIndexed");defineProperties(this,{hash:Y,_isIndexed:!0})}static isIndexed(Y){return!!(Y&&Y._isIndexed)}}const PanicReasons={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:se=>`reverted with reason string ${JSON.stringify(se)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:se=>{let Y="unknown panic code";return se>=0&&se<=255&&PanicReasons[se.toString()]&&(Y=PanicReasons[se.toString()]),`reverted with panic code 0x${se.toString(16)} (${Y})`}}};var zl,Vl,Gl,cc,eu,$g,Eg;const ah=class ah{constructor(Y){fi(this,eu);li(this,"fragments");li(this,"deploy");li(this,"fallback");li(this,"receive");fi(this,zl);fi(this,Vl);fi(this,Gl);fi(this,cc);let ne=[];typeof Y=="string"?ne=JSON.parse(Y):ne=Y,Yn(this,Gl,new Map),Yn(this,zl,new Map),Yn(this,Vl,new Map);const fe=[];for(const be of ne)try{fe.push(Fragment.from(be))}catch(we){console.log(`[Warning] Invalid Fragment ${JSON.stringify(be)}:`,we.message)}defineProperties(this,{fragments:Object.freeze(fe)});let ye=null,me=!1;Yn(this,cc,this.getAbiCoder()),this.fragments.forEach((be,we)=>{let Ee;switch(be.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}defineProperties(this,{deploy:be});return;case"fallback":be.inputs.length===0?me=!0:(assertArgument(!ye||be.payable!==ye.payable,"conflicting fallback fragments",`fragments[${we}]`,be),ye=be,me=ye.payable);return;case"function":Ee=In(this,Gl);break;case"event":Ee=In(this,Vl);break;case"error":Ee=In(this,zl);break;default:return}const xe=be.format();Ee.has(xe)||Ee.set(xe,be)}),this.deploy||defineProperties(this,{deploy:ConstructorFragment.from("constructor()")}),defineProperties(this,{fallback:ye,receive:me})}format(Y){const ne=Y?"minimal":"full";return this.fragments.map(ye=>ye.format(ne))}formatJson(){const Y=this.fragments.map(ne=>ne.format("json"));return JSON.stringify(Y.map(ne=>JSON.parse(ne)))}getAbiCoder(){return AbiCoder.defaultAbiCoder()}getFunctionName(Y){const ne=_i(this,eu,$g).call(this,Y,null,!1);return assertArgument(ne,"no matching function","key",Y),ne.name}hasFunction(Y){return!!_i(this,eu,$g).call(this,Y,null,!1)}getFunction(Y,ne){return _i(this,eu,$g).call(this,Y,ne||null,!0)}forEachFunction(Y){const ne=Array.from(In(this,Gl).keys());ne.sort((fe,ye)=>fe.localeCompare(ye));for(let fe=0;fe<ne.length;fe++){const ye=ne[fe];Y(In(this,Gl).get(ye),fe)}}getEventName(Y){const ne=_i(this,eu,Eg).call(this,Y,null,!1);return assertArgument(ne,"no matching event","key",Y),ne.name}hasEvent(Y){return!!_i(this,eu,Eg).call(this,Y,null,!1)}getEvent(Y,ne){return _i(this,eu,Eg).call(this,Y,ne||null,!0)}forEachEvent(Y){const ne=Array.from(In(this,Vl).keys());ne.sort((fe,ye)=>fe.localeCompare(ye));for(let fe=0;fe<ne.length;fe++){const ye=ne[fe];Y(In(this,Vl).get(ye),fe)}}getError(Y,ne){if(isHexString(Y)){const ye=Y.toLowerCase();if(BuiltinErrors[ye])return ErrorFragment.from(BuiltinErrors[ye].signature);for(const me of In(this,zl).values())if(ye===me.selector)return me;return null}if(Y.indexOf("(")===-1){const ye=[];for(const[me,be]of In(this,zl))me.split("(")[0]===Y&&ye.push(be);if(ye.length===0)return Y==="Error"?ErrorFragment.from("error Error(string)"):Y==="Panic"?ErrorFragment.from("error Panic(uint256)"):null;if(ye.length>1){const me=ye.map(be=>JSON.stringify(be.format())).join(", ");assertArgument(!1,`ambiguous error description (i.e. ${me})`,"name",Y)}return ye[0]}if(Y=ErrorFragment.from(Y).format(),Y==="Error(string)")return ErrorFragment.from("error Error(string)");if(Y==="Panic(uint256)")return ErrorFragment.from("error Panic(uint256)");const fe=In(this,zl).get(Y);return fe||null}forEachError(Y){const ne=Array.from(In(this,zl).keys());ne.sort((fe,ye)=>fe.localeCompare(ye));for(let fe=0;fe<ne.length;fe++){const ye=ne[fe];Y(In(this,zl).get(ye),fe)}}_decodeParams(Y,ne){return In(this,cc).decode(Y,ne)}_encodeParams(Y,ne){return In(this,cc).encode(Y,ne)}encodeDeploy(Y){return this._encodeParams(this.deploy.inputs,Y||[])}decodeErrorResult(Y,ne){if(typeof Y=="string"){const fe=this.getError(Y);assertArgument(fe,"unknown error","fragment",Y),Y=fe}return assertArgument(dataSlice(ne,0,4)===Y.selector,`data signature does not match error ${Y.name}.`,"data",ne),this._decodeParams(Y.inputs,dataSlice(ne,4))}encodeErrorResult(Y,ne){if(typeof Y=="string"){const fe=this.getError(Y);assertArgument(fe,"unknown error","fragment",Y),Y=fe}return concat([Y.selector,this._encodeParams(Y.inputs,ne||[])])}decodeFunctionData(Y,ne){if(typeof Y=="string"){const fe=this.getFunction(Y);assertArgument(fe,"unknown function","fragment",Y),Y=fe}return assertArgument(dataSlice(ne,0,4)===Y.selector,`data signature does not match function ${Y.name}.`,"data",ne),this._decodeParams(Y.inputs,dataSlice(ne,4))}encodeFunctionData(Y,ne){if(typeof Y=="string"){const fe=this.getFunction(Y);assertArgument(fe,"unknown function","fragment",Y),Y=fe}return concat([Y.selector,this._encodeParams(Y.inputs,ne||[])])}decodeFunctionResult(Y,ne){if(typeof Y=="string"){const me=this.getFunction(Y);assertArgument(me,"unknown function","fragment",Y),Y=me}let fe="invalid length for result data";const ye=getBytesCopy(ne);if(ye.length%32===0)try{return In(this,cc).decode(Y.outputs,ye)}catch{fe="could not decode result data"}assert(!1,fe,"BAD_DATA",{value:hexlify(ye),info:{method:Y.name,signature:Y.format()}})}makeError(Y,ne){const fe=getBytes(Y,"data"),ye=AbiCoder.getBuiltinCallException("call",ne,fe);if(ye.message.startsWith("execution reverted (unknown custom error)")){const we=hexlify(fe.slice(0,4)),Ee=this.getError(we);if(Ee)try{const xe=In(this,cc).decode(Ee.inputs,fe.slice(4));ye.revert={name:Ee.name,signature:Ee.format(),args:xe},ye.reason=ye.revert.signature,ye.message=`execution reverted: ${ye.reason}`}catch{ye.message="execution reverted (coult not decode custom error)"}}const be=this.parseTransaction(ne);return be&&(ye.invocation={method:be.name,signature:be.signature,args:be.args}),ye}encodeFunctionResult(Y,ne){if(typeof Y=="string"){const fe=this.getFunction(Y);assertArgument(fe,"unknown function","fragment",Y),Y=fe}return hexlify(In(this,cc).encode(Y.outputs,ne||[]))}encodeFilterTopics(Y,ne){if(typeof Y=="string"){const me=this.getEvent(Y);assertArgument(me,"unknown event","eventFragment",Y),Y=me}assert(ne.length<=Y.inputs.length,`too many arguments for ${Y.format()}`,"UNEXPECTED_ARGUMENT",{count:ne.length,expectedCount:Y.inputs.length});const fe=[];Y.anonymous||fe.push(Y.topicHash);const ye=(me,be)=>me.type==="string"?id(be):me.type==="bytes"?keccak256(hexlify(be)):(me.type==="bool"&&typeof be=="boolean"?be=be?"0x01":"0x00":me.type.match(/^u?int/)?be=toBeHex(be):me.type.match(/^bytes/)?be=zeroPadBytes(be,32):me.type==="address"&&In(this,cc).encode(["address"],[be]),zeroPadValue(hexlify(be),32));for(ne.forEach((me,be)=>{const we=Y.inputs[be];if(!we.indexed){assertArgument(me==null,"cannot filter non-indexed parameters; must be null","contract."+we.name,me);return}me==null?fe.push(null):we.baseType==="array"||we.baseType==="tuple"?assertArgument(!1,"filtering with tuples or arrays not supported","contract."+we.name,me):Array.isArray(me)?fe.push(me.map(Ee=>ye(we,Ee))):fe.push(ye(we,me))});fe.length&&fe[fe.length-1]===null;)fe.pop();return fe}encodeEventLog(Y,ne){if(typeof Y=="string"){const be=this.getEvent(Y);assertArgument(be,"unknown event","eventFragment",Y),Y=be}const fe=[],ye=[],me=[];return Y.anonymous||fe.push(Y.topicHash),assertArgument(ne.length===Y.inputs.length,"event arguments/values mismatch","values",ne),Y.inputs.forEach((be,we)=>{const Ee=ne[we];if(be.indexed)if(be.type==="string")fe.push(id(Ee));else if(be.type==="bytes")fe.push(keccak256(Ee));else{if(be.baseType==="tuple"||be.baseType==="array")throw new Error("not implemented");fe.push(In(this,cc).encode([be.type],[Ee]))}else ye.push(be),me.push(Ee)}),{data:In(this,cc).encode(ye,me),topics:fe}}decodeEventLog(Y,ne,fe){if(typeof Y=="string"){const br=this.getEvent(Y);assertArgument(br,"unknown event","eventFragment",Y),Y=br}if(fe!=null&&!Y.anonymous){const br=Y.topicHash;assertArgument(isHexString(fe[0],32)&&fe[0].toLowerCase()===br,"fragment/topic mismatch","topics[0]",fe[0]),fe=fe.slice(1)}const ye=[],me=[],be=[];Y.inputs.forEach((br,kr)=>{br.indexed?br.type==="string"||br.type==="bytes"||br.baseType==="tuple"||br.baseType==="array"?(ye.push(ParamType.from({type:"bytes32",name:br.name})),be.push(!0)):(ye.push(br),be.push(!1)):(me.push(br),be.push(!1))});const we=fe!=null?In(this,cc).decode(ye,concat(fe)):null,Ee=In(this,cc).decode(me,ne,!0),xe=[],Se=[];let Ie=0,fr=0;return Y.inputs.forEach((br,kr)=>{let Wr=null;if(br.indexed)if(we==null)Wr=new Indexed(null);else if(be[kr])Wr=new Indexed(we[fr++]);else try{Wr=we[fr++]}catch(Gr){Wr=Gr}else try{Wr=Ee[Ie++]}catch(Gr){Wr=Gr}xe.push(Wr),Se.push(br.name||null)}),Result.fromItems(xe,Se)}parseTransaction(Y){const ne=getBytes(Y.data,"tx.data"),fe=getBigInt(Y.value!=null?Y.value:0,"tx.value"),ye=this.getFunction(hexlify(ne.slice(0,4)));if(!ye)return null;const me=In(this,cc).decode(ye.inputs,ne.slice(4));return new TransactionDescription(ye,ye.selector,me,fe)}parseCallResult(Y){throw new Error("@TODO")}parseLog(Y){const ne=this.getEvent(Y.topics[0]);return!ne||ne.anonymous?null:new LogDescription(ne,ne.topicHash,this.decodeEventLog(ne,Y.data,Y.topics))}parseError(Y){const ne=hexlify(Y),fe=this.getError(dataSlice(ne,0,4));if(!fe)return null;const ye=In(this,cc).decode(fe.inputs,dataSlice(ne,4));return new ErrorDescription(fe,fe.selector,ye)}static from(Y){return Y instanceof ah?Y:typeof Y=="string"?new ah(JSON.parse(Y)):typeof Y.formatJson=="function"?new ah(Y.formatJson()):typeof Y.format=="function"?new ah(Y.format("json")):new ah(Y)}};zl=new WeakMap,Vl=new WeakMap,Gl=new WeakMap,cc=new WeakMap,eu=new WeakSet,$g=function(Y,ne,fe){if(isHexString(Y)){const me=Y.toLowerCase();for(const be of In(this,Gl).values())if(me===be.selector)return be;return null}if(Y.indexOf("(")===-1){const me=[];for(const[be,we]of In(this,Gl))be.split("(")[0]===Y&&me.push(we);if(ne){const be=ne.length>0?ne[ne.length-1]:null;let we=ne.length,Ee=!0;Typed.isTyped(be)&&be.type==="overrides"&&(Ee=!1,we--);for(let xe=me.length-1;xe>=0;xe--){const Se=me[xe].inputs.length;Se!==we&&(!Ee||Se!==we-1)&&me.splice(xe,1)}for(let xe=me.length-1;xe>=0;xe--){const Se=me[xe].inputs;for(let Ie=0;Ie<ne.length;Ie++)if(Typed.isTyped(ne[Ie])){if(Ie>=Se.length){if(ne[Ie].type==="overrides")continue;me.splice(xe,1);break}if(ne[Ie].type!==Se[Ie].baseType){me.splice(xe,1);break}}}}if(me.length===1&&ne&&ne.length!==me[0].inputs.length){const be=ne[ne.length-1];(be==null||Array.isArray(be)||typeof be!="object")&&me.splice(0,1)}if(me.length===0)return null;if(me.length>1&&fe){const be=me.map(we=>JSON.stringify(we.format())).join(", ");assertArgument(!1,`ambiguous function description (i.e. matches ${be})`,"key",Y)}return me[0]}const ye=In(this,Gl).get(FunctionFragment.from(Y).format());return ye||null},Eg=function(Y,ne,fe){if(isHexString(Y)){const me=Y.toLowerCase();for(const be of In(this,Vl).values())if(me===be.topicHash)return be;return null}if(Y.indexOf("(")===-1){const me=[];for(const[be,we]of In(this,Vl))be.split("(")[0]===Y&&me.push(we);if(ne){for(let be=me.length-1;be>=0;be--)me[be].inputs.length<ne.length&&me.splice(be,1);for(let be=me.length-1;be>=0;be--){const we=me[be].inputs;for(let Ee=0;Ee<ne.length;Ee++)if(Typed.isTyped(ne[Ee])&&ne[Ee].type!==we[Ee].baseType){me.splice(be,1);break}}}if(me.length===0)return null;if(me.length>1&&fe){const be=me.map(we=>JSON.stringify(we.format())).join(", ");assertArgument(!1,`ambiguous event description (i.e. matches ${be})`,"key",Y)}return me[0]}const ye=In(this,Vl).get(EventFragment.from(Y).format());return ye||null};let Interface=ah;const BN_0$2=BigInt(0);function getValue(se){return se??null}function toJson(se){return se==null?null:se.toString()}class FeeData{constructor(Y,ne,fe){li(this,"gasPrice");li(this,"maxFeePerGas");li(this,"maxPriorityFeePerGas");defineProperties(this,{gasPrice:getValue(Y),maxFeePerGas:getValue(ne),maxPriorityFeePerGas:getValue(fe)})}toJSON(){const{gasPrice:Y,maxFeePerGas:ne,maxPriorityFeePerGas:fe}=this;return{_type:"FeeData",gasPrice:toJson(Y),maxFeePerGas:toJson(ne),maxPriorityFeePerGas:toJson(fe)}}}function copyRequest(se){const Y={};se.to&&(Y.to=se.to),se.from&&(Y.from=se.from),se.data&&(Y.data=hexlify(se.data));const ne="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const ye of ne)!(ye in se)||se[ye]==null||(Y[ye]=getBigInt(se[ye],`request.${ye}`));const fe="type,nonce".split(/,/);for(const ye of fe)!(ye in se)||se[ye]==null||(Y[ye]=getNumber(se[ye],`request.${ye}`));return se.accessList&&(Y.accessList=accessListify(se.accessList)),"blockTag"in se&&(Y.blockTag=se.blockTag),"enableCcipRead"in se&&(Y.enableCcipRead=!!se.enableCcipRead),"customData"in se&&(Y.customData=se.customData),"blobVersionedHashes"in se&&se.blobVersionedHashes&&(Y.blobVersionedHashes=se.blobVersionedHashes.slice()),"kzg"in se&&(Y.kzg=se.kzg),"blobs"in se&&se.blobs&&(Y.blobs=se.blobs.map(ye=>isBytesLike(ye)?hexlify(ye):Object.assign({},ye))),Y}var ku;class Block{constructor(Y,ne){li(this,"provider");li(this,"number");li(this,"hash");li(this,"timestamp");li(this,"parentHash");li(this,"parentBeaconBlockRoot");li(this,"nonce");li(this,"difficulty");li(this,"gasLimit");li(this,"gasUsed");li(this,"stateRoot");li(this,"receiptsRoot");li(this,"blobGasUsed");li(this,"excessBlobGas");li(this,"miner");li(this,"prevRandao");li(this,"extraData");li(this,"baseFeePerGas");fi(this,ku);Yn(this,ku,Y.transactions.map(fe=>typeof fe!="string"?new TransactionResponse(fe,ne):fe)),defineProperties(this,{provider:ne,hash:getValue(Y.hash),number:Y.number,timestamp:Y.timestamp,parentHash:Y.parentHash,parentBeaconBlockRoot:Y.parentBeaconBlockRoot,nonce:Y.nonce,difficulty:Y.difficulty,gasLimit:Y.gasLimit,gasUsed:Y.gasUsed,blobGasUsed:Y.blobGasUsed,excessBlobGas:Y.excessBlobGas,miner:Y.miner,prevRandao:getValue(Y.prevRandao),extraData:Y.extraData,baseFeePerGas:getValue(Y.baseFeePerGas),stateRoot:Y.stateRoot,receiptsRoot:Y.receiptsRoot})}get transactions(){return In(this,ku).map(Y=>typeof Y=="string"?Y:Y.hash)}get prefetchedTransactions(){const Y=In(this,ku).slice();return Y.length===0?[]:(assert(typeof Y[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),Y)}toJSON(){const{baseFeePerGas:Y,difficulty:ne,extraData:fe,gasLimit:ye,gasUsed:me,hash:be,miner:we,prevRandao:Ee,nonce:xe,number:Se,parentHash:Ie,parentBeaconBlockRoot:fr,stateRoot:br,receiptsRoot:kr,timestamp:Wr,transactions:Gr}=this;return{_type:"Block",baseFeePerGas:toJson(Y),difficulty:toJson(ne),extraData:fe,gasLimit:toJson(ye),gasUsed:toJson(me),blobGasUsed:toJson(this.blobGasUsed),excessBlobGas:toJson(this.excessBlobGas),hash:be,miner:we,prevRandao:Ee,nonce:xe,number:Se,parentHash:Ie,timestamp:Wr,parentBeaconBlockRoot:fr,stateRoot:br,receiptsRoot:kr,transactions:Gr}}[Symbol.iterator](){let Y=0;const ne=this.transactions;return{next:()=>Y<this.length?{value:ne[Y++],done:!1}:{value:void 0,done:!0}}}get length(){return In(this,ku).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(Y){let ne;if(typeof Y=="number")ne=In(this,ku)[Y];else{const fe=Y.toLowerCase();for(const ye of In(this,ku))if(typeof ye=="string"){if(ye!==fe)continue;ne=ye;break}else{if(ye.hash===fe)continue;ne=ye;break}}if(ne==null)throw new Error("no such tx");return typeof ne=="string"?await this.provider.getTransaction(ne):ne}getPrefetchedTransaction(Y){const ne=this.prefetchedTransactions;if(typeof Y=="number")return ne[Y];Y=Y.toLowerCase();for(const fe of ne)if(fe.hash===Y)return fe;assertArgument(!1,"no matching transaction","indexOrHash",Y)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return createOrphanedBlockFilter(this)}}ku=new WeakMap;class Log{constructor(Y,ne){li(this,"provider");li(this,"transactionHash");li(this,"blockHash");li(this,"blockNumber");li(this,"removed");li(this,"address");li(this,"data");li(this,"topics");li(this,"index");li(this,"transactionIndex");this.provider=ne;const fe=Object.freeze(Y.topics.slice());defineProperties(this,{transactionHash:Y.transactionHash,blockHash:Y.blockHash,blockNumber:Y.blockNumber,removed:Y.removed,address:Y.address,data:Y.data,topics:fe,index:Y.index,transactionIndex:Y.transactionIndex})}toJSON(){const{address:Y,blockHash:ne,blockNumber:fe,data:ye,index:me,removed:be,topics:we,transactionHash:Ee,transactionIndex:xe}=this;return{_type:"log",address:Y,blockHash:ne,blockNumber:fe,data:ye,index:me,removed:be,topics:we,transactionHash:Ee,transactionIndex:xe}}async getBlock(){const Y=await this.provider.getBlock(this.blockHash);return assert(!!Y,"failed to find transaction","UNKNOWN_ERROR",{}),Y}async getTransaction(){const Y=await this.provider.getTransaction(this.transactionHash);return assert(!!Y,"failed to find transaction","UNKNOWN_ERROR",{}),Y}async getTransactionReceipt(){const Y=await this.provider.getTransactionReceipt(this.transactionHash);return assert(!!Y,"failed to find transaction receipt","UNKNOWN_ERROR",{}),Y}removedEvent(){return createRemovedLogFilter(this)}}var Xp;class TransactionReceipt{constructor(Y,ne){li(this,"provider");li(this,"to");li(this,"from");li(this,"contractAddress");li(this,"hash");li(this,"index");li(this,"blockHash");li(this,"blockNumber");li(this,"logsBloom");li(this,"gasUsed");li(this,"blobGasUsed");li(this,"cumulativeGasUsed");li(this,"gasPrice");li(this,"blobGasPrice");li(this,"type");li(this,"status");li(this,"root");fi(this,Xp);Yn(this,Xp,Object.freeze(Y.logs.map(ye=>new Log(ye,ne))));let fe=BN_0$2;Y.effectiveGasPrice!=null?fe=Y.effectiveGasPrice:Y.gasPrice!=null&&(fe=Y.gasPrice),defineProperties(this,{provider:ne,to:Y.to,from:Y.from,contractAddress:Y.contractAddress,hash:Y.hash,index:Y.index,blockHash:Y.blockHash,blockNumber:Y.blockNumber,logsBloom:Y.logsBloom,gasUsed:Y.gasUsed,cumulativeGasUsed:Y.cumulativeGasUsed,blobGasUsed:Y.blobGasUsed,gasPrice:fe,blobGasPrice:Y.blobGasPrice,type:Y.type,status:Y.status,root:Y.root})}get logs(){return In(this,Xp)}toJSON(){const{to:Y,from:ne,contractAddress:fe,hash:ye,index:me,blockHash:be,blockNumber:we,logsBloom:Ee,logs:xe,status:Se,root:Ie}=this;return{_type:"TransactionReceipt",blockHash:be,blockNumber:we,contractAddress:fe,cumulativeGasUsed:toJson(this.cumulativeGasUsed),from:ne,gasPrice:toJson(this.gasPrice),blobGasUsed:toJson(this.blobGasUsed),blobGasPrice:toJson(this.blobGasPrice),gasUsed:toJson(this.gasUsed),hash:ye,index:me,logs:xe,logsBloom:Ee,root:Ie,status:Se,to:Y}}get length(){return this.logs.length}[Symbol.iterator](){let Y=0;return{next:()=>Y<this.length?{value:this.logs[Y++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const Y=await this.provider.getBlock(this.blockHash);if(Y==null)throw new Error("TODO");return Y}async getTransaction(){const Y=await this.provider.getTransaction(this.hash);if(Y==null)throw new Error("TODO");return Y}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return createRemovedTransactionFilter(this)}reorderedEvent(Y){return assert(!Y||Y.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),createReorderedTransactionFilter(this,Y)}}Xp=new WeakMap;var Rf;const ky=class ky{constructor(Y,ne){li(this,"provider");li(this,"blockNumber");li(this,"blockHash");li(this,"index");li(this,"hash");li(this,"type");li(this,"to");li(this,"from");li(this,"nonce");li(this,"gasLimit");li(this,"gasPrice");li(this,"maxPriorityFeePerGas");li(this,"maxFeePerGas");li(this,"maxFeePerBlobGas");li(this,"data");li(this,"value");li(this,"chainId");li(this,"signature");li(this,"accessList");li(this,"blobVersionedHashes");fi(this,Rf);this.provider=ne,this.blockNumber=Y.blockNumber!=null?Y.blockNumber:null,this.blockHash=Y.blockHash!=null?Y.blockHash:null,this.hash=Y.hash,this.index=Y.index,this.type=Y.type,this.from=Y.from,this.to=Y.to||null,this.gasLimit=Y.gasLimit,this.nonce=Y.nonce,this.data=Y.data,this.value=Y.value,this.gasPrice=Y.gasPrice,this.maxPriorityFeePerGas=Y.maxPriorityFeePerGas!=null?Y.maxPriorityFeePerGas:null,this.maxFeePerGas=Y.maxFeePerGas!=null?Y.maxFeePerGas:null,this.maxFeePerBlobGas=Y.maxFeePerBlobGas!=null?Y.maxFeePerBlobGas:null,this.chainId=Y.chainId,this.signature=Y.signature,this.accessList=Y.accessList!=null?Y.accessList:null,this.blobVersionedHashes=Y.blobVersionedHashes!=null?Y.blobVersionedHashes:null,Yn(this,Rf,-1)}toJSON(){const{blockNumber:Y,blockHash:ne,index:fe,hash:ye,type:me,to:be,from:we,nonce:Ee,data:xe,signature:Se,accessList:Ie,blobVersionedHashes:fr}=this;return{_type:"TransactionResponse",accessList:Ie,blockNumber:Y,blockHash:ne,blobVersionedHashes:fr,chainId:toJson(this.chainId),data:xe,from:we,gasLimit:toJson(this.gasLimit),gasPrice:toJson(this.gasPrice),hash:ye,maxFeePerGas:toJson(this.maxFeePerGas),maxPriorityFeePerGas:toJson(this.maxPriorityFeePerGas),maxFeePerBlobGas:toJson(this.maxFeePerBlobGas),nonce:Ee,signature:Se,to:be,index:fe,type:me,value:toJson(this.value)}}async getBlock(){let Y=this.blockNumber;if(Y==null){const fe=await this.getTransaction();fe&&(Y=fe.blockNumber)}if(Y==null)return null;const ne=this.provider.getBlock(Y);if(ne==null)throw new Error("TODO");return ne}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:ne,blockNumber:fe}=await resolveProperties({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return ne==null||ne.blockNumber==null?0:fe-ne.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(Y,ne){const fe=Y??1,ye=ne??0;let me=In(this,Rf),be=-1,we=me===-1;const Ee=async()=>{if(we)return null;const{blockNumber:fr,nonce:br}=await resolveProperties({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(br<this.nonce){me=fr;return}if(we)return null;const kr=await this.getTransaction();if(!(kr&&kr.blockNumber!=null))for(be===-1&&(be=me-3,be<In(this,Rf)&&(be=In(this,Rf)));be<=fr;){if(we)return null;const Wr=await this.provider.getBlock(be,!0);if(Wr==null)return;for(const Gr of Wr)if(Gr===this.hash)return;for(let Gr=0;Gr<Wr.length;Gr++){const jr=await Wr.getTransaction(Gr);if(jr.from===this.from&&jr.nonce===this.nonce){if(we)return null;const Qr=await this.provider.getTransactionReceipt(jr.hash);if(Qr==null||fr-Qr.blockNumber+1<fe)return;let wn="replaced";jr.data===this.data&&jr.to===this.to&&jr.value===this.value?wn="repriced":jr.data==="0x"&&jr.from===jr.to&&jr.value===BN_0$2&&(wn="cancelled"),assert(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:wn==="replaced"||wn==="cancelled",reason:wn,replacement:jr.replaceableTransaction(me),hash:jr.hash,receipt:Qr})}}be++}},xe=fr=>{if(fr==null||fr.status!==0)return fr;assert(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:fr.to,from:fr.from,data:""},receipt:fr})},Se=await this.provider.getTransactionReceipt(this.hash);if(fe===0)return xe(Se);if(Se){if(await Se.confirmations()>=fe)return xe(Se)}else if(await Ee(),fe===0)return null;return await new Promise((fr,br)=>{const kr=[],Wr=()=>{kr.forEach(jr=>jr())};if(kr.push(()=>{we=!0}),ye>0){const jr=setTimeout(()=>{Wr(),br(makeError("wait for transaction timeout","TIMEOUT"))},ye);kr.push(()=>{clearTimeout(jr)})}const Gr=async jr=>{if(await jr.confirmations()>=fe){Wr();try{fr(xe(jr))}catch(Qr){br(Qr)}}};if(kr.push(()=>{this.provider.off(this.hash,Gr)}),this.provider.on(this.hash,Gr),me>=0){const jr=async()=>{try{await Ee()}catch(Qr){if(isError(Qr,"TRANSACTION_REPLACED")){Wr(),br(Qr);return}}we||this.provider.once("block",jr)};kr.push(()=>{this.provider.off("block",jr)}),this.provider.once("block",jr)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return assert(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createRemovedTransactionFilter(this)}reorderedEvent(Y){return assert(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),assert(!Y||Y.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createReorderedTransactionFilter(this,Y)}replaceableTransaction(Y){assertArgument(Number.isInteger(Y)&&Y>=0,"invalid startBlock","startBlock",Y);const ne=new ky(this,this.provider);return Yn(ne,Rf,Y),ne}};Rf=new WeakMap;let TransactionResponse=ky;function createOrphanedBlockFilter(se){return{orphan:"drop-block",hash:se.hash,number:se.number}}function createReorderedTransactionFilter(se,Y){return{orphan:"reorder-transaction",tx:se,other:Y}}function createRemovedTransactionFilter(se){return{orphan:"drop-transaction",tx:se}}function createRemovedLogFilter(se){return{orphan:"drop-log",log:{transactionHash:se.transactionHash,blockHash:se.blockHash,blockNumber:se.blockNumber,address:se.address,data:se.data,topics:Object.freeze(se.topics.slice()),index:se.index}}}class EventLog extends Log{constructor(ne,fe,ye){super(ne,ne.provider);li(this,"interface");li(this,"fragment");li(this,"args");const me=fe.decodeEventLog(ye,ne.data,ne.topics);defineProperties(this,{args:me,fragment:ye,interface:fe})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class UndecodedEventLog extends Log{constructor(ne,fe){super(ne,ne.provider);li(this,"error");defineProperties(this,{error:fe})}}var H0;class ContractTransactionReceipt extends TransactionReceipt{constructor(ne,fe,ye){super(ye,fe);fi(this,H0);Yn(this,H0,ne)}get logs(){return super.logs.map(ne=>{const fe=ne.topics.length?In(this,H0).getEvent(ne.topics[0]):null;if(fe)try{return new EventLog(ne,In(this,H0),fe)}catch(ye){return new UndecodedEventLog(ne,ye)}return ne})}}H0=new WeakMap;var e1;class ContractTransactionResponse extends TransactionResponse{constructor(ne,fe,ye){super(ye,fe);fi(this,e1);Yn(this,e1,ne)}async wait(ne,fe){const ye=await super.wait(ne,fe);return ye==null?null:new ContractTransactionReceipt(In(this,e1),this.provider,ye)}}e1=new WeakMap;class ContractUnknownEventPayload extends EventPayload{constructor(ne,fe,ye,me){super(ne,fe,ye);li(this,"log");defineProperties(this,{log:me})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ContractEventPayload extends ContractUnknownEventPayload{constructor(Y,ne,fe,ye,me){super(Y,ne,fe,new EventLog(me,Y.interface,ye));const be=Y.interface.decodeEventLog(ye,this.log.data,this.log.topics);defineProperties(this,{args:be,fragment:ye})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const BN_0$1=BigInt(0);function canCall(se){return se&&typeof se.call=="function"}function canEstimate(se){return se&&typeof se.estimateGas=="function"}function canResolve(se){return se&&typeof se.resolveName=="function"}function canSend(se){return se&&typeof se.sendTransaction=="function"}function getResolver(se){if(se!=null){if(canResolve(se))return se;if(se.provider)return se.provider}}var t1;class PreparedTopicFilter{constructor(Y,ne,fe){fi(this,t1);li(this,"fragment");if(defineProperties(this,{fragment:ne}),ne.inputs.length<fe.length)throw new Error("too many arguments");const ye=getRunner(Y.runner,"resolveName"),me=canResolve(ye)?ye:null;Yn(this,t1,async function(){const be=await Promise.all(ne.inputs.map((we,Ee)=>fe[Ee]==null?null:we.walkAsync(fe[Ee],(Se,Ie)=>Se==="address"?Array.isArray(Ie)?Promise.all(Ie.map(fr=>resolveAddress(fr,me))):resolveAddress(Ie,me):Ie)));return Y.interface.encodeFilterTopics(ne,be)}())}getTopicFilter(){return In(this,t1)}}t1=new WeakMap;function getRunner(se,Y){return se==null?null:typeof se[Y]=="function"?se:se.provider&&typeof se.provider[Y]=="function"?se.provider:null}function getProvider(se){return se==null?null:se.provider||null}async function copyOverrides(se,Y){const ne=Typed.dereference(se,"overrides");assertArgument(typeof ne=="object","invalid overrides parameter","overrides",se);const fe=copyRequest(ne);return assertArgument(fe.to==null||(Y||[]).indexOf("to")>=0,"cannot override to","overrides.to",fe.to),assertArgument(fe.data==null||(Y||[]).indexOf("data")>=0,"cannot override data","overrides.data",fe.data),fe.from&&(fe.from=fe.from),fe}async function resolveArgs(se,Y,ne){const fe=getRunner(se,"resolveName"),ye=canResolve(fe)?fe:null;return await Promise.all(Y.map((me,be)=>me.walkAsync(ne[be],(we,Ee)=>(Ee=Typed.dereference(Ee,we),we==="address"?resolveAddress(Ee,ye):Ee))))}function buildWrappedFallback(se){const Y=async function(be){const we=await copyOverrides(be,["data"]);we.to=await se.getAddress(),we.from&&(we.from=await resolveAddress(we.from,getResolver(se.runner)));const Ee=se.interface,xe=getBigInt(we.value||BN_0$1,"overrides.value")===BN_0$1,Se=(we.data||"0x")==="0x";Ee.fallback&&!Ee.fallback.payable&&Ee.receive&&!Se&&!xe&&assertArgument(!1,"cannot send data to receive or send value to non-payable fallback","overrides",be),assertArgument(Ee.fallback||Se,"cannot send data to receive-only contract","overrides.data",we.data);const Ie=Ee.receive||Ee.fallback&&Ee.fallback.payable;return assertArgument(Ie||xe,"cannot send value to non-payable fallback","overrides.value",we.value),assertArgument(Ee.fallback||Se,"cannot send data to receive-only contract","overrides.data",we.data),we},ne=async function(be){const we=getRunner(se.runner,"call");assert(canCall(we),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const Ee=await Y(be);try{return await we.call(Ee)}catch(xe){throw isCallException(xe)&&xe.data?se.interface.makeError(xe.data,Ee):xe}},fe=async function(be){const we=se.runner;assert(canSend(we),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const Ee=await we.sendTransaction(await Y(be)),xe=getProvider(se.runner);return new ContractTransactionResponse(se.interface,xe,Ee)},ye=async function(be){const we=getRunner(se.runner,"estimateGas");return assert(canEstimate(we),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await we.estimateGas(await Y(be))},me=async be=>await fe(be);return defineProperties(me,{_contract:se,estimateGas:ye,populateTransaction:Y,send:fe,staticCall:ne}),me}function buildWrappedMethod(se,Y){const ne=function(...xe){const Se=se.interface.getFunction(Y,xe);return assert(Se,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y,args:xe}}),Se},fe=async function(...xe){const Se=ne(...xe);let Ie={};if(Se.inputs.length+1===xe.length&&(Ie=await copyOverrides(xe.pop()),Ie.from&&(Ie.from=await resolveAddress(Ie.from,getResolver(se.runner)))),Se.inputs.length!==xe.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const fr=await resolveArgs(se.runner,Se.inputs,xe);return Object.assign({},Ie,await resolveProperties({to:se.getAddress(),data:se.interface.encodeFunctionData(Se,fr)}))},ye=async function(...xe){const Se=await we(...xe);return Se.length===1?Se[0]:Se},me=async function(...xe){const Se=se.runner;assert(canSend(Se),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const Ie=await Se.sendTransaction(await fe(...xe)),fr=getProvider(se.runner);return new ContractTransactionResponse(se.interface,fr,Ie)},be=async function(...xe){const Se=getRunner(se.runner,"estimateGas");return assert(canEstimate(Se),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await Se.estimateGas(await fe(...xe))},we=async function(...xe){const Se=getRunner(se.runner,"call");assert(canCall(Se),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const Ie=await fe(...xe);let fr="0x";try{fr=await Se.call(Ie)}catch(kr){throw isCallException(kr)&&kr.data?se.interface.makeError(kr.data,Ie):kr}const br=ne(...xe);return se.interface.decodeFunctionResult(br,fr)},Ee=async(...xe)=>ne(...xe).constant?await ye(...xe):await me(...xe);return defineProperties(Ee,{name:se.interface.getFunctionName(Y),_contract:se,_key:Y,getFragment:ne,estimateGas:be,populateTransaction:fe,send:me,staticCall:ye,staticCallResult:we}),Object.defineProperty(Ee,"fragment",{configurable:!1,enumerable:!0,get:()=>{const xe=se.interface.getFunction(Y);return assert(xe,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y}}),xe}}),Ee}function buildWrappedEvent(se,Y){const ne=function(...ye){const me=se.interface.getEvent(Y,ye);return assert(me,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y,args:ye}}),me},fe=function(...ye){return new PreparedTopicFilter(se,ne(...ye),ye)};return defineProperties(fe,{name:se.interface.getEventName(Y),_contract:se,_key:Y,getFragment:ne}),Object.defineProperty(fe,"fragment",{configurable:!1,enumerable:!0,get:()=>{const ye=se.interface.getEvent(Y);return assert(ye,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y}}),ye}}),fe}const internal=Symbol.for("_ethersInternal_contract"),internalValues=new WeakMap;function setInternal(se,Y){internalValues.set(se[internal],Y)}function getInternal(se){return internalValues.get(se[internal])}function isDeferred(se){return se&&typeof se=="object"&&"getTopicFilter"in se&&typeof se.getTopicFilter=="function"&&se.fragment}async function getSubInfo(se,Y){let ne,fe=null;if(Array.isArray(Y)){const me=function(be){if(isHexString(be,32))return be;const we=se.interface.getEvent(be);return assertArgument(we,"unknown fragment","name",be),we.topicHash};ne=Y.map(be=>be==null?null:Array.isArray(be)?be.map(me):me(be))}else Y==="*"?ne=[null]:typeof Y=="string"?isHexString(Y,32)?ne=[Y]:(fe=se.interface.getEvent(Y),assertArgument(fe,"unknown fragment","event",Y),ne=[fe.topicHash]):isDeferred(Y)?ne=await Y.getTopicFilter():"fragment"in Y?(fe=Y.fragment,ne=[fe.topicHash]):assertArgument(!1,"unknown event name","event",Y);ne=ne.map(me=>{if(me==null)return null;if(Array.isArray(me)){const be=Array.from(new Set(me.map(we=>we.toLowerCase())).values());return be.length===1?be[0]:(be.sort(),be)}return me.toLowerCase()});const ye=ne.map(me=>me==null?"null":Array.isArray(me)?me.join("|"):me).join("&");return{fragment:fe,tag:ye,topics:ne}}async function hasSub(se,Y){const{subs:ne}=getInternal(se);return ne.get((await getSubInfo(se,Y)).tag)||null}async function getSub(se,Y,ne){const fe=getProvider(se.runner);assert(fe,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:Y});const{fragment:ye,tag:me,topics:be}=await getSubInfo(se,ne),{addr:we,subs:Ee}=getInternal(se);let xe=Ee.get(me);if(!xe){const Ie={address:we||se,topics:be},fr=Gr=>{let jr=ye;if(jr==null)try{jr=se.interface.getEvent(Gr.topics[0])}catch{}if(jr){const Qr=jr,wn=ye?se.interface.decodeEventLog(ye,Gr.data,Gr.topics):[];emit(se,ne,wn,En=>new ContractEventPayload(se,En,ne,Qr,Gr))}else emit(se,ne,[],Qr=>new ContractUnknownEventPayload(se,Qr,ne,Gr))};let br=[];xe={tag:me,listeners:[],start:()=>{br.length||br.push(fe.on(Ie,fr))},stop:async()=>{if(br.length==0)return;let Gr=br;br=[],await Promise.all(Gr),fe.off(Ie,fr)}},Ee.set(me,xe)}return xe}let lastEmit=Promise.resolve();async function _emit(se,Y,ne,fe){await lastEmit;const ye=await hasSub(se,Y);if(!ye)return!1;const me=ye.listeners.length;return ye.listeners=ye.listeners.filter(({listener:be,once:we})=>{const Ee=Array.from(ne);fe&&Ee.push(fe(we?null:be));try{be.call(se,...Ee)}catch{}return!we}),ye.listeners.length===0&&(ye.stop(),getInternal(se).subs.delete(ye.tag)),me>0}async function emit(se,Y,ne,fe){try{await lastEmit}catch{}const ye=_emit(se,Y,ne,fe);return lastEmit=ye,await ye}const passProperties=["then"];var gw;gw=internal;const Np=class Np{constructor(Y,ne,fe,ye){li(this,"target");li(this,"interface");li(this,"runner");li(this,"filters");li(this,gw);li(this,"fallback");assertArgument(typeof Y=="string"||isAddressable(Y),"invalid value for Contract target","target",Y),fe==null&&(fe=null);const me=Interface.from(ne);defineProperties(this,{target:Y,runner:fe,interface:me}),Object.defineProperty(this,internal,{value:{}});let be,we=null,Ee=null;if(ye){const Ie=getProvider(fe);Ee=new ContractTransactionResponse(this.interface,Ie,ye)}let xe=new Map;if(typeof Y=="string")if(isHexString(Y))we=Y,be=Promise.resolve(Y);else{const Ie=getRunner(fe,"resolveName");if(!canResolve(Ie))throw makeError("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});be=Ie.resolveName(Y).then(fr=>{if(fr==null)throw makeError("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:Y});return getInternal(this).addr=fr,fr})}else be=Y.getAddress().then(Ie=>{if(Ie==null)throw new Error("TODO");return getInternal(this).addr=Ie,Ie});setInternal(this,{addrPromise:be,addr:we,deployTx:Ee,subs:xe});const Se=new Proxy({},{get:(Ie,fr,br)=>{if(typeof fr=="symbol"||passProperties.indexOf(fr)>=0)return Reflect.get(Ie,fr,br);try{return this.getEvent(fr)}catch(kr){if(!isError(kr,"INVALID_ARGUMENT")||kr.argument!=="key")throw kr}},has:(Ie,fr)=>passProperties.indexOf(fr)>=0?Reflect.has(Ie,fr):Reflect.has(Ie,fr)||this.interface.hasEvent(String(fr))});return defineProperties(this,{filters:Se}),defineProperties(this,{fallback:me.receive||me.fallback?buildWrappedFallback(this):null}),new Proxy(this,{get:(Ie,fr,br)=>{if(typeof fr=="symbol"||fr in Ie||passProperties.indexOf(fr)>=0)return Reflect.get(Ie,fr,br);try{return Ie.getFunction(fr)}catch(kr){if(!isError(kr,"INVALID_ARGUMENT")||kr.argument!=="key")throw kr}},has:(Ie,fr)=>typeof fr=="symbol"||fr in Ie||passProperties.indexOf(fr)>=0?Reflect.has(Ie,fr):Ie.interface.hasFunction(fr)})}connect(Y){return new Np(this.target,this.interface,Y)}attach(Y){return new Np(Y,this.interface,this.runner)}async getAddress(){return await getInternal(this).addrPromise}async getDeployedCode(){const Y=getProvider(this.runner);assert(Y,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const ne=await Y.getCode(await this.getAddress());return ne==="0x"?null:ne}async waitForDeployment(){const Y=this.deploymentTransaction();if(Y)return await Y.wait(),this;if(await this.getDeployedCode()!=null)return this;const fe=getProvider(this.runner);return assert(fe!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((ye,me)=>{const be=async()=>{try{if(await this.getDeployedCode()!=null)return ye(this);fe.once("block",be)}catch(we){me(we)}};be()})}deploymentTransaction(){return getInternal(this).deployTx}getFunction(Y){return typeof Y!="string"&&(Y=Y.format()),buildWrappedMethod(this,Y)}getEvent(Y){return typeof Y!="string"&&(Y=Y.format()),buildWrappedEvent(this,Y)}async queryTransaction(Y){throw new Error("@TODO")}async queryFilter(Y,ne,fe){ne==null&&(ne=0),fe==null&&(fe="latest");const{addr:ye,addrPromise:me}=getInternal(this),be=ye||await me,{fragment:we,topics:Ee}=await getSubInfo(this,Y),xe={address:be,topics:Ee,fromBlock:ne,toBlock:fe},Se=getProvider(this.runner);return assert(Se,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await Se.getLogs(xe)).map(Ie=>{let fr=we;if(fr==null)try{fr=this.interface.getEvent(Ie.topics[0])}catch{}if(fr)try{return new EventLog(Ie,this.interface,fr)}catch(br){return new UndecodedEventLog(Ie,br)}return new Log(Ie,Se)})}async on(Y,ne){const fe=await getSub(this,"on",Y);return fe.listeners.push({listener:ne,once:!1}),fe.start(),this}async once(Y,ne){const fe=await getSub(this,"once",Y);return fe.listeners.push({listener:ne,once:!0}),fe.start(),this}async emit(Y,...ne){return await emit(this,Y,ne,null)}async listenerCount(Y){if(Y){const ye=await hasSub(this,Y);return ye?ye.listeners.length:0}const{subs:ne}=getInternal(this);let fe=0;for(const{listeners:ye}of ne.values())fe+=ye.length;return fe}async listeners(Y){if(Y){const ye=await hasSub(this,Y);return ye?ye.listeners.map(({listener:me})=>me):[]}const{subs:ne}=getInternal(this);let fe=[];for(const{listeners:ye}of ne.values())fe=fe.concat(ye.map(({listener:me})=>me));return fe}async off(Y,ne){const fe=await hasSub(this,Y);if(!fe)return this;if(ne){const ye=fe.listeners.map(({listener:me})=>me).indexOf(ne);ye>=0&&fe.listeners.splice(ye,1)}return(ne==null||fe.listeners.length===0)&&(fe.stop(),getInternal(this).subs.delete(fe.tag)),this}async removeAllListeners(Y){if(Y){const ne=await hasSub(this,Y);if(!ne)return this;ne.stop(),getInternal(this).subs.delete(ne.tag)}else{const{subs:ne}=getInternal(this);for(const{tag:fe,stop:ye}of ne.values())ye(),ne.delete(fe)}return this}async addListener(Y,ne){return await this.on(Y,ne)}async removeListener(Y,ne){return await this.off(Y,ne)}static buildClass(Y){class ne extends Np{constructor(ye,me=null){super(ye,Y,me)}}return ne}static from(Y,ne,fe){return fe==null&&(fe=null),new this(Y,ne,fe)}};let BaseContract=Np;function _ContractBase(){return BaseContract}class Contract extends _ContractBase(){}function getIpfsLink(se){return se.match(/^ipfs:\/\/ipfs\//i)?se=se.substring(12):se.match(/^ipfs:\/\//i)?se=se.substring(7):assertArgument(!1,"unsupported IPFS format","link",se),`https://gateway.ipfs.io/ipfs/${se}`}class MulticoinProviderPlugin{constructor(Y){li(this,"name");defineProperties(this,{name:Y})}connect(Y){return this}supportsCoinType(Y){return!1}async encodeAddress(Y,ne){throw new Error("unsupported coin")}async decodeAddress(Y,ne){throw new Error("unsupported coin")}}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var If,jh,Pf,Cd,Dg,Bw;const Sd=class Sd{constructor(Y,ne,fe){fi(this,Pf);li(this,"provider");li(this,"address");li(this,"name");fi(this,If);fi(this,jh);defineProperties(this,{provider:Y,address:ne,name:fe}),Yn(this,If,null),Yn(this,jh,new Contract(ne,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],Y))}async supportsWildcard(){return In(this,If)==null&&Yn(this,If,(async()=>{try{return await In(this,jh).supportsInterface("0x9061b923")}catch(Y){if(isError(Y,"CALL_EXCEPTION"))return!1;throw Yn(this,If,null),Y}})()),await In(this,If)}async getAddress(Y){if(Y==null&&(Y=60),Y===60)try{const me=await _i(this,Pf,Cd).call(this,"addr(bytes32)");return me==null||me===ZeroAddress?null:me}catch(me){if(isError(me,"CALL_EXCEPTION"))return null;throw me}if(Y>=0&&Y<2147483648){let me=Y+2147483648;const be=await _i(this,Pf,Cd).call(this,"addr(bytes32,uint)",[me]);if(isHexString(be,20))return getAddress(be)}let ne=null;for(const me of this.provider.plugins)if(me instanceof MulticoinProviderPlugin&&me.supportsCoinType(Y)){ne=me;break}if(ne==null)return null;const fe=await _i(this,Pf,Cd).call(this,"addr(bytes32,uint)",[Y]);if(fe==null||fe==="0x")return null;const ye=await ne.decodeAddress(Y,fe);if(ye!=null)return ye;assert(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${Y})`,info:{coinType:Y,data:fe}})}async getText(Y){const ne=await _i(this,Pf,Cd).call(this,"text(bytes32,string)",[Y]);return ne==null||ne==="0x"?null:ne}async getContentHash(){const Y=await _i(this,Pf,Cd).call(this,"contenthash(bytes32)");if(Y==null||Y==="0x")return null;const ne=Y.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(ne){const ye=ne[1]==="e3010170"?"ipfs":"ipns",me=parseInt(ne[4],16);if(ne[5].length===me*2)return`${ye}://${encodeBase58("0x"+ne[2])}`}const fe=Y.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(fe&&fe[1].length===64)return`bzz://${fe[1]}`;assert(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:Y}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const Y=[{type:"name",value:this.name}];try{const ne=await this.getText("avatar");if(ne==null)return Y.push({type:"!avatar",value:""}),{url:null,linkage:Y};Y.push({type:"avatar",value:ne});for(let fe=0;fe<matchers.length;fe++){const ye=ne.match(matchers[fe]);if(ye==null)continue;const me=ye[1].toLowerCase();switch(me){case"https":case"data":return Y.push({type:"url",value:ne}),{linkage:Y,url:ne};case"ipfs":{const be=getIpfsLink(ne);return Y.push({type:"ipfs",value:ne}),Y.push({type:"url",value:be}),{linkage:Y,url:be}}case"erc721":case"erc1155":{const be=me==="erc721"?"tokenURI(uint256)":"uri(uint256)";Y.push({type:me,value:ne});const we=await this.getAddress();if(we==null)return Y.push({type:"!owner",value:""}),{url:null,linkage:Y};const Ee=(ye[2]||"").split("/");if(Ee.length!==2)return Y.push({type:`!${me}caip`,value:ye[2]||""}),{url:null,linkage:Y};const xe=Ee[1],Se=new Contract(Ee[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(me==="erc721"){const Wr=await Se.ownerOf(xe);if(we!==Wr)return Y.push({type:"!owner",value:Wr}),{url:null,linkage:Y};Y.push({type:"owner",value:Wr})}else if(me==="erc1155"){const Wr=await Se.balanceOf(we,xe);if(!Wr)return Y.push({type:"!balance",value:"0"}),{url:null,linkage:Y};Y.push({type:"balance",value:Wr.toString()})}let Ie=await Se[be](xe);if(Ie==null||Ie==="0x")return Y.push({type:"!metadata-url",value:""}),{url:null,linkage:Y};Y.push({type:"metadata-url-base",value:Ie}),me==="erc1155"&&(Ie=Ie.replace("{id}",toBeHex(xe,32).substring(2)),Y.push({type:"metadata-url-expanded",value:Ie})),Ie.match(/^ipfs:/i)&&(Ie=getIpfsLink(Ie)),Y.push({type:"metadata-url",value:Ie});let fr={};const br=await new FetchRequest(Ie).send();br.assertOk();try{fr=br.bodyJson}catch{try{Y.push({type:"!metadata",value:br.bodyText})}catch{const jr=br.body;return jr&&Y.push({type:"!metadata",value:hexlify(jr)}),{url:null,linkage:Y}}return{url:null,linkage:Y}}if(!fr)return Y.push({type:"!metadata",value:""}),{url:null,linkage:Y};Y.push({type:"metadata",value:JSON.stringify(fr)});let kr=fr.image;if(typeof kr!="string")return Y.push({type:"!imageUrl",value:""}),{url:null,linkage:Y};if(!kr.match(/^(https:\/\/|data:)/i)){if(kr.match(matcherIpfs)==null)return Y.push({type:"!imageUrl-ipfs",value:kr}),{url:null,linkage:Y};Y.push({type:"imageUrl-ipfs",value:kr}),kr=getIpfsLink(kr)}return Y.push({type:"url",value:kr}),{linkage:Y,url:kr}}}}}catch{}return{linkage:Y,url:null}}static async getEnsAddress(Y){const ne=await Y.getNetwork(),fe=ne.getPlugin("org.ethers.plugins.network.Ens");return assert(fe,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:ne}}),fe.address}static async fromName(Y,ne){var ye;let fe=ne;for(;;){if(fe===""||fe==="."||ne!=="eth"&&fe==="eth")return null;const me=await _i(ye=Sd,Dg,Bw).call(ye,Y,fe);if(me!=null){const be=new Sd(Y,me,ne);return fe!==ne&&!await be.supportsWildcard()?null:be}fe=fe.split(".").slice(1).join(".")}}};If=new WeakMap,jh=new WeakMap,Pf=new WeakSet,Cd=async function(Y,ne){ne=(ne||[]).slice();const fe=In(this,jh).interface;ne.unshift(namehash(this.name));let ye=null;await this.supportsWildcard()&&(ye=fe.getFunction(Y),assert(ye,"missing fragment","UNKNOWN_ERROR",{info:{funcName:Y}}),ne=[dnsEncode(this.name,255),fe.encodeFunctionData(ye,ne)],Y="resolve(bytes,bytes)"),ne.push({enableCcipRead:!0});try{const me=await In(this,jh)[Y](...ne);return ye?fe.decodeFunctionResult(ye,me)[0]:me}catch(me){if(!isError(me,"CALL_EXCEPTION"))throw me}return null},Dg=new WeakSet,Bw=async function(Y,ne){const fe=await Sd.getEnsAddress(Y);try{const me=await new Contract(fe,["function resolver(bytes32) view returns (address)"],Y).resolver(namehash(ne),{enableCcipRead:!0});return me===ZeroAddress?null:me}catch(ye){throw ye}return null},fi(Sd,Dg);let EnsResolver=Sd;const BN_0=BigInt(0);function allowNull(se,Y){return function(ne){return ne==null?Y:se(ne)}}function arrayOf(se,Y){return ne=>{if(Y&&ne==null)return null;if(!Array.isArray(ne))throw new Error("not an array");return ne.map(fe=>se(fe))}}function object(se,Y){return ne=>{const fe={};for(const ye in se){let me=ye;if(Y&&ye in Y&&!(me in ne)){for(const be of Y[ye])if(be in ne){me=be;break}}try{const be=se[ye](ne[me]);be!==void 0&&(fe[ye]=be)}catch(be){const we=be instanceof Error?be.message:"not-an-error";assert(!1,`invalid value for value.${ye} (${we})`,"BAD_DATA",{value:ne})}}return fe}}function formatBoolean(se){switch(se){case!0:case"true":return!0;case!1:case"false":return!1}assertArgument(!1,`invalid boolean; ${JSON.stringify(se)}`,"value",se)}function formatData(se){return assertArgument(isHexString(se,!0),"invalid data","value",se),se}function formatHash(se){return assertArgument(isHexString(se,32),"invalid hash","value",se),se}const _formatLog=object({address:getAddress,blockHash:formatHash,blockNumber:getNumber,data:formatData,index:getNumber,removed:allowNull(formatBoolean,!1),topics:arrayOf(formatHash),transactionHash:formatHash,transactionIndex:getNumber},{index:["logIndex"]});function formatLog(se){return _formatLog(se)}const _formatBlock=object({hash:allowNull(formatHash),parentHash:formatHash,parentBeaconBlockRoot:allowNull(formatHash,null),number:getNumber,timestamp:getNumber,nonce:allowNull(formatData),difficulty:getBigInt,gasLimit:getBigInt,gasUsed:getBigInt,stateRoot:allowNull(formatHash,null),receiptsRoot:allowNull(formatHash,null),blobGasUsed:allowNull(getBigInt,null),excessBlobGas:allowNull(getBigInt,null),miner:allowNull(getAddress),prevRandao:allowNull(formatHash,null),extraData:formatData,baseFeePerGas:allowNull(getBigInt)},{prevRandao:["mixHash"]});function formatBlock(se){const Y=_formatBlock(se);return Y.transactions=se.transactions.map(ne=>typeof ne=="string"?ne:formatTransactionResponse(ne)),Y}const _formatReceiptLog=object({transactionIndex:getNumber,blockNumber:getNumber,transactionHash:formatHash,address:getAddress,topics:arrayOf(formatHash),data:formatData,index:getNumber,blockHash:formatHash},{index:["logIndex"]});function formatReceiptLog(se){return _formatReceiptLog(se)}const _formatTransactionReceipt=object({to:allowNull(getAddress,null),from:allowNull(getAddress,null),contractAddress:allowNull(getAddress,null),index:getNumber,root:allowNull(hexlify),gasUsed:getBigInt,blobGasUsed:allowNull(getBigInt,null),logsBloom:allowNull(formatData),blockHash:formatHash,hash:formatHash,logs:arrayOf(formatReceiptLog),blockNumber:getNumber,cumulativeGasUsed:getBigInt,effectiveGasPrice:allowNull(getBigInt),blobGasPrice:allowNull(getBigInt,null),status:allowNull(getNumber),type:allowNull(getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function formatTransactionReceipt(se){return _formatTransactionReceipt(se)}function formatTransactionResponse(se){se.to&&getBigInt(se.to)===BN_0&&(se.to="0x0000000000000000000000000000000000000000");const Y=object({hash:formatHash,index:allowNull(getNumber,void 0),type:ne=>ne==="0x"||ne==null?0:getNumber(ne),accessList:allowNull(accessListify,null),blobVersionedHashes:allowNull(arrayOf(formatHash,!0),null),blockHash:allowNull(formatHash,null),blockNumber:allowNull(getNumber,null),transactionIndex:allowNull(getNumber,null),from:getAddress,gasPrice:allowNull(getBigInt),maxPriorityFeePerGas:allowNull(getBigInt),maxFeePerGas:allowNull(getBigInt),maxFeePerBlobGas:allowNull(getBigInt,null),gasLimit:getBigInt,to:allowNull(getAddress,null),value:getBigInt,nonce:getNumber,data:formatData,creates:allowNull(getAddress,null),chainId:allowNull(getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(se);if(Y.to==null&&Y.creates==null&&(Y.creates=getCreateAddress(Y)),(se.type===1||se.type===2)&&se.accessList==null&&(Y.accessList=[]),se.signature?Y.signature=Signature.from(se.signature):Y.signature=Signature.from(se),Y.chainId==null){const ne=Y.signature.legacyChainId;ne!=null&&(Y.chainId=ne)}return Y.blockHash&&getBigInt(Y.blockHash)===BN_0&&(Y.blockHash=null),Y}const EnsAddress="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class NetworkPlugin{constructor(Y){li(this,"name");defineProperties(this,{name:Y})}clone(){return new NetworkPlugin(this.name)}}class GasCostPlugin extends NetworkPlugin{constructor(ne,fe){ne==null&&(ne=0);super(`org.ethers.network.plugins.GasCost#${ne||0}`);li(this,"effectiveBlock");li(this,"txBase");li(this,"txCreate");li(this,"txDataZero");li(this,"txDataNonzero");li(this,"txAccessListStorageKey");li(this,"txAccessListAddress");const ye={effectiveBlock:ne};function me(be,we){let Ee=(fe||{})[be];Ee==null&&(Ee=we),assertArgument(typeof Ee=="number",`invalud value for ${be}`,"costs",fe),ye[be]=Ee}me("txBase",21e3),me("txCreate",32e3),me("txDataZero",4),me("txDataNonzero",16),me("txAccessListStorageKey",1900),me("txAccessListAddress",2400),defineProperties(this,ye)}clone(){return new GasCostPlugin(this.effectiveBlock,this)}}class EnsPlugin extends NetworkPlugin{constructor(ne,fe){super("org.ethers.plugins.network.Ens");li(this,"address");li(this,"targetNetwork");defineProperties(this,{address:ne||EnsAddress,targetNetwork:fe??1})}clone(){return new EnsPlugin(this.address,this.targetNetwork)}}var r1,n1;class FetchUrlFeeDataNetworkPlugin extends NetworkPlugin{constructor(ne,fe){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");fi(this,r1);fi(this,n1);Yn(this,r1,ne),Yn(this,n1,fe)}get url(){return In(this,r1)}get processFunc(){return In(this,n1)}clone(){return this}}r1=new WeakMap,n1=new WeakMap;const Networks=new Map;var z0,G0,Tf;const Ad=class Ad{constructor(Y,ne){fi(this,z0);fi(this,G0);fi(this,Tf);Yn(this,z0,Y),Yn(this,G0,getBigInt(ne)),Yn(this,Tf,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return In(this,z0)}set name(Y){Yn(this,z0,Y)}get chainId(){return In(this,G0)}set chainId(Y){Yn(this,G0,getBigInt(Y,"chainId"))}matches(Y){if(Y==null)return!1;if(typeof Y=="string"){try{return this.chainId===getBigInt(Y)}catch{}return this.name===Y}if(typeof Y=="number"||typeof Y=="bigint"){try{return this.chainId===getBigInt(Y)}catch{}return!1}if(typeof Y=="object"){if(Y.chainId!=null){try{return this.chainId===getBigInt(Y.chainId)}catch{}return!1}return Y.name!=null?this.name===Y.name:!1}return!1}get plugins(){return Array.from(In(this,Tf).values())}attachPlugin(Y){if(In(this,Tf).get(Y.name))throw new Error(`cannot replace existing plugin: ${Y.name} `);return In(this,Tf).set(Y.name,Y.clone()),this}getPlugin(Y){return In(this,Tf).get(Y)||null}getPlugins(Y){return this.plugins.filter(ne=>ne.name.split("#")[0]===Y)}clone(){const Y=new Ad(this.name,this.chainId);return this.plugins.forEach(ne=>{Y.attachPlugin(ne.clone())}),Y}computeIntrinsicGas(Y){const ne=this.getPlugin("org.ethers.plugins.network.GasCost")||new GasCostPlugin;let fe=ne.txBase;if(Y.to==null&&(fe+=ne.txCreate),Y.data)for(let ye=2;ye<Y.data.length;ye+=2)Y.data.substring(ye,ye+2)==="00"?fe+=ne.txDataZero:fe+=ne.txDataNonzero;if(Y.accessList){const ye=accessListify(Y.accessList);for(const me in ye)fe+=ne.txAccessListAddress+ne.txAccessListStorageKey*ye[me].storageKeys.length}return fe}static from(Y){if(injectCommonNetworks(),Y==null)return Ad.from("mainnet");if(typeof Y=="number"&&(Y=BigInt(Y)),typeof Y=="string"||typeof Y=="bigint"){const ne=Networks.get(Y);if(ne)return ne();if(typeof Y=="bigint")return new Ad("unknown",Y);assertArgument(!1,"unknown network","network",Y)}if(typeof Y.clone=="function")return Y.clone();if(typeof Y=="object"){assertArgument(typeof Y.name=="string"&&typeof Y.chainId=="number","invalid network object name or chainId","network",Y);const ne=new Ad(Y.name,Y.chainId);return(Y.ensAddress||Y.ensNetwork!=null)&&ne.attachPlugin(new EnsPlugin(Y.ensAddress,Y.ensNetwork)),ne}assertArgument(!1,"invalid network","network",Y)}static register(Y,ne){typeof Y=="number"&&(Y=BigInt(Y));const fe=Networks.get(Y);fe&&assertArgument(!1,`conflicting network for ${JSON.stringify(fe.name)}`,"nameOrChainId",Y),Networks.set(Y,ne)}};z0=new WeakMap,G0=new WeakMap,Tf=new WeakMap;let Network=Ad;function parseUnits(se,Y){const ne=String(se);if(!ne.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${se}`);const fe=ne.split(".");if(fe.length===1&&fe.push(""),fe.length!==2)throw new Error(`invalid gwei value: ${se}`);for(;fe[1].length<Y;)fe[1]+="0";if(fe[1].length>9){let ye=BigInt(fe[1].substring(0,9));fe[1].substring(9).match(/^0+$/)||ye++,fe[1]=ye.toString()}return BigInt(fe[0]+fe[1])}function getGasStationPlugin(se){return new FetchUrlFeeDataNetworkPlugin(se,async(Y,ne,fe)=>{fe.setHeader("User-Agent","ethers");let ye;try{const[me,be]=await Promise.all([fe.send(),Y()]);ye=me;const we=ye.bodyJson.standard;return{gasPrice:be.gasPrice,maxFeePerGas:parseUnits(we.maxFee,9),maxPriorityFeePerGas:parseUnits(we.maxPriorityFee,9)}}catch(me){assert(!1,`error encountered with polygon gas station (${JSON.stringify(fe.url)})`,"SERVER_ERROR",{request:fe,response:ye,error:me})}})}let injected=!1;function injectCommonNetworks(){if(injected)return;injected=!0;function se(Y,ne,fe){const ye=function(){const me=new Network(Y,ne);return fe.ensNetwork!=null&&me.attachPlugin(new EnsPlugin(null,fe.ensNetwork)),me.attachPlugin(new GasCostPlugin),(fe.plugins||[]).forEach(be=>{me.attachPlugin(be)}),me};Network.register(Y,ye),Network.register(ne,ye),fe.altNames&&fe.altNames.forEach(me=>{Network.register(me,ye)})}se("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),se("ropsten",3,{ensNetwork:3}),se("rinkeby",4,{ensNetwork:4}),se("goerli",5,{ensNetwork:5}),se("kovan",42,{ensNetwork:42}),se("sepolia",11155111,{ensNetwork:11155111}),se("holesky",17e3,{ensNetwork:17e3}),se("classic",61,{}),se("classicKotti",6,{}),se("arbitrum",42161,{ensNetwork:1}),se("arbitrum-goerli",421613,{}),se("arbitrum-sepolia",421614,{}),se("base",8453,{ensNetwork:1}),se("base-goerli",84531,{}),se("base-sepolia",84532,{}),se("bnb",56,{ensNetwork:1}),se("bnbt",97,{}),se("linea",59144,{ensNetwork:1}),se("linea-goerli",59140,{}),se("linea-sepolia",59141,{}),se("matic",137,{ensNetwork:1,plugins:[getGasStationPlugin("https://gasstation.polygon.technology/v2")]}),se("matic-amoy",80002,{}),se("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[getGasStationPlugin("https://gasstation-testnet.polygon.technology/v2")]}),se("optimism",10,{ensNetwork:1,plugins:[]}),se("optimism-goerli",420,{}),se("optimism-sepolia",11155420,{}),se("xdai",100,{ensNetwork:1})}function copy$2(se){return JSON.parse(JSON.stringify(se))}var Mu,ol,Nf,Zl,Z0,xg;class PollingBlockSubscriber{constructor(Y){fi(this,Z0);fi(this,Mu);fi(this,ol);fi(this,Nf);fi(this,Zl);Yn(this,Mu,Y),Yn(this,ol,null),Yn(this,Nf,4e3),Yn(this,Zl,-2)}get pollingInterval(){return In(this,Nf)}set pollingInterval(Y){Yn(this,Nf,Y)}start(){In(this,ol)||(Yn(this,ol,In(this,Mu)._setTimeout(_i(this,Z0,xg).bind(this),In(this,Nf))),_i(this,Z0,xg).call(this))}stop(){In(this,ol)&&(In(this,Mu)._clearTimeout(In(this,ol)),Yn(this,ol,null))}pause(Y){this.stop(),Y&&Yn(this,Zl,-2)}resume(){this.start()}}Mu=new WeakMap,ol=new WeakMap,Nf=new WeakMap,Zl=new WeakMap,Z0=new WeakSet,xg=async function(){try{const Y=await In(this,Mu).getBlockNumber();if(In(this,Zl)===-2){Yn(this,Zl,Y);return}if(Y!==In(this,Zl)){for(let ne=In(this,Zl)+1;ne<=Y;ne++){if(In(this,ol)==null)return;await In(this,Mu).emit("block",ne)}Yn(this,Zl,Y)}}catch{}In(this,ol)!=null&&Yn(this,ol,In(this,Mu)._setTimeout(_i(this,Z0,xg).bind(this),In(this,Nf)))};var Hh,zh,kf;class OnBlockSubscriber{constructor(Y){fi(this,Hh);fi(this,zh);fi(this,kf);Yn(this,Hh,Y),Yn(this,kf,!1),Yn(this,zh,ne=>{this._poll(ne,In(this,Hh))})}async _poll(Y,ne){throw new Error("sub-classes must override this")}start(){In(this,kf)||(Yn(this,kf,!0),In(this,zh).call(this,-2),In(this,Hh).on("block",In(this,zh)))}stop(){In(this,kf)&&(Yn(this,kf,!1),In(this,Hh).off("block",In(this,zh)))}pause(Y){this.stop()}resume(){this.start()}}Hh=new WeakMap,zh=new WeakMap,kf=new WeakMap;var K0,Ou;class PollingBlockTagSubscriber extends OnBlockSubscriber{constructor(ne,fe){super(ne);fi(this,K0);fi(this,Ou);Yn(this,K0,fe),Yn(this,Ou,-2)}pause(ne){ne&&Yn(this,Ou,-2),super.pause(ne)}async _poll(ne,fe){const ye=await fe.getBlock(In(this,K0));ye!=null&&(In(this,Ou)===-2?Yn(this,Ou,ye.number):ye.number>In(this,Ou)&&(fe.emit(In(this,K0),ye.number),Yn(this,Ou,ye.number)))}}K0=new WeakMap,Ou=new WeakMap;var Lg;class PollingOrphanSubscriber extends OnBlockSubscriber{constructor(ne,fe){super(ne);fi(this,Lg);Yn(this,Lg,copy$2(fe))}async _poll(ne,fe){throw new Error("@TODO")}}Lg=new WeakMap;var J0;class PollingTransactionSubscriber extends OnBlockSubscriber{constructor(ne,fe){super(ne);fi(this,J0);Yn(this,J0,fe)}async _poll(ne,fe){const ye=await fe.getTransactionReceipt(In(this,J0));ye&&fe.emit(In(this,J0),ye)}}J0=new WeakMap;var Bu,Q0,Y0,Mf,cl,Wg,Dw;class PollingEventSubscriber{constructor(Y,ne){fi(this,Wg);fi(this,Bu);fi(this,Q0);fi(this,Y0);fi(this,Mf);fi(this,cl);Yn(this,Bu,Y),Yn(this,Q0,copy$2(ne)),Yn(this,Y0,_i(this,Wg,Dw).bind(this)),Yn(this,Mf,!1),Yn(this,cl,-2)}start(){In(this,Mf)||(Yn(this,Mf,!0),In(this,cl)===-2&&In(this,Bu).getBlockNumber().then(Y=>{Yn(this,cl,Y)}),In(this,Bu).on("block",In(this,Y0)))}stop(){In(this,Mf)&&(Yn(this,Mf,!1),In(this,Bu).off("block",In(this,Y0)))}pause(Y){this.stop(),Y&&Yn(this,cl,-2)}resume(){this.start()}}Bu=new WeakMap,Q0=new WeakMap,Y0=new WeakMap,Mf=new WeakMap,cl=new WeakMap,Wg=new WeakSet,Dw=async function(Y){if(In(this,cl)===-2)return;const ne=copy$2(In(this,Q0));ne.fromBlock=In(this,cl)+1,ne.toBlock=Y;const fe=await In(this,Bu).getLogs(ne);if(fe.length===0){In(this,cl)<Y-60&&Yn(this,cl,Y-60);return}for(const ye of fe)In(this,Bu).emit(In(this,Q0),ye),Yn(this,cl,ye.blockNumber)};const BN_2=BigInt(2),MAX_CCIP_REDIRECTS=10;function isPromise(se){return se&&typeof se.then=="function"}function getTag(se,Y){return se+":"+JSON.stringify(Y,(ne,fe)=>{if(fe==null)return"null";if(typeof fe=="bigint")return`bigint:${fe.toString()}`;if(typeof fe=="string")return fe.toLowerCase();if(typeof fe=="object"&&!Array.isArray(fe)){const ye=Object.keys(fe);return ye.sort(),ye.reduce((me,be)=>(me[be]=fe[be],me),{})}return fe})}class UnmanagedSubscriber{constructor(Y){li(this,"name");defineProperties(this,{name:Y})}start(){}stop(){}pause(Y){}resume(){}}function copy$1(se){return JSON.parse(JSON.stringify(se))}function concisify(se){return se=Array.from(new Set(se).values()),se.sort(),se}async function getSubscription(se,Y){if(se==null)throw new Error("invalid event");if(Array.isArray(se)&&(se={topics:se}),typeof se=="string")switch(se){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:se,tag:se}}if(isHexString(se,32)){const ne=se.toLowerCase();return{type:"transaction",tag:getTag("tx",{hash:ne}),hash:ne}}if(se.orphan){const ne=se;return{type:"orphan",tag:getTag("orphan",ne),filter:copy$1(ne)}}if(se.address||se.topics){const ne=se,fe={topics:(ne.topics||[]).map(ye=>ye==null?null:Array.isArray(ye)?concisify(ye.map(me=>me.toLowerCase())):ye.toLowerCase())};if(ne.address){const ye=[],me=[],be=we=>{isHexString(we)?ye.push(we):me.push((async()=>{ye.push(await resolveAddress(we,Y))})())};Array.isArray(ne.address)?ne.address.forEach(be):be(ne.address),me.length&&await Promise.all(me),fe.address=concisify(ye.map(we=>we.toLowerCase()))}return{filter:fe,tag:getTag("event",fe),type:"event"}}assertArgument(!1,"unknown ProviderEvent","event",se)}function getTime(){return new Date().getTime()}const defaultOptions$1={cacheTimeout:250,pollingInterval:4e3};var lc,Of,uc,X0,Vc,Vh,Bf,Du,i1,ll,ep,tp,ro,Lc,Cy,Sy,Pp,Ay,Tp,Cg;class AbstractProvider{constructor(Y,ne){fi(this,ro);fi(this,lc);fi(this,Of);fi(this,uc);fi(this,X0);fi(this,Vc);fi(this,Vh);fi(this,Bf);fi(this,Du);fi(this,i1);fi(this,ll);fi(this,ep);fi(this,tp);if(Yn(this,tp,Object.assign({},defaultOptions$1,ne||{})),Y==="any")Yn(this,Vh,!0),Yn(this,Vc,null);else if(Y){const fe=Network.from(Y);Yn(this,Vh,!1),Yn(this,Vc,Promise.resolve(fe)),setTimeout(()=>{this.emit("network",fe,null)},0)}else Yn(this,Vh,!1),Yn(this,Vc,null);Yn(this,Du,-1),Yn(this,Bf,new Map),Yn(this,lc,new Map),Yn(this,Of,new Map),Yn(this,uc,null),Yn(this,X0,!1),Yn(this,i1,1),Yn(this,ll,new Map),Yn(this,ep,!1)}get pollingInterval(){return In(this,tp).pollingInterval}get provider(){return this}get plugins(){return Array.from(In(this,Of).values())}attachPlugin(Y){if(In(this,Of).get(Y.name))throw new Error(`cannot replace existing plugin: ${Y.name} `);return In(this,Of).set(Y.name,Y.connect(this)),this}getPlugin(Y){return In(this,Of).get(Y)||null}get disableCcipRead(){return In(this,ep)}set disableCcipRead(Y){Yn(this,ep,!!Y)}async ccipReadFetch(Y,ne,fe){if(this.disableCcipRead||fe.length===0||Y.to==null)return null;const ye=Y.to.toLowerCase(),me=ne.toLowerCase(),be=[];for(let we=0;we<fe.length;we++){const Ee=fe[we],xe=Ee.replace("{sender}",ye).replace("{data}",me),Se=new FetchRequest(xe);Ee.indexOf("{data}")===-1&&(Se.body={data:me,sender:ye}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:Se,index:we,urls:fe});let Ie="unknown error";const fr=await Se.send();try{const br=fr.bodyJson;if(br.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:Se,result:br}),br.data;br.message&&(Ie=br.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:Se,result:br})}catch{}assert(fr.statusCode<400||fr.statusCode>=500,`response not found during CCIP fetch: ${Ie}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:Y,info:{url:Ee,errorMessage:Ie}}),be.push(Ie)}assert(!1,`error encountered during CCIP fetch: ${be.map(we=>JSON.stringify(we)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:Y,info:{urls:fe,errorMessages:be}})}_wrapBlock(Y,ne){return new Block(formatBlock(Y),this)}_wrapLog(Y,ne){return new Log(formatLog(Y),this)}_wrapTransactionReceipt(Y,ne){return new TransactionReceipt(formatTransactionReceipt(Y),this)}_wrapTransactionResponse(Y,ne){return new TransactionResponse(formatTransactionResponse(Y),this)}_detectNetwork(){assert(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(Y){assert(!1,`unsupported method: ${Y.method}`,"UNSUPPORTED_OPERATION",{operation:Y.method,info:Y})}async getBlockNumber(){const Y=getNumber(await _i(this,ro,Lc).call(this,{method:"getBlockNumber"}),"%response");return In(this,Du)>=0&&Yn(this,Du,Y),Y}_getAddress(Y){return resolveAddress(Y,this)}_getBlockTag(Y){if(Y==null)return"latest";switch(Y){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return Y}if(isHexString(Y))return isHexString(Y,32)?Y:toQuantity(Y);if(typeof Y=="bigint"&&(Y=getNumber(Y,"blockTag")),typeof Y=="number")return Y>=0?toQuantity(Y):In(this,Du)>=0?toQuantity(In(this,Du)+Y):this.getBlockNumber().then(ne=>toQuantity(ne+Y));assertArgument(!1,"invalid blockTag","blockTag",Y)}_getFilter(Y){const ne=(Y.topics||[]).map(Ee=>Ee==null?null:Array.isArray(Ee)?concisify(Ee.map(xe=>xe.toLowerCase())):Ee.toLowerCase()),fe="blockHash"in Y?Y.blockHash:void 0,ye=(Ee,xe,Se)=>{let Ie;switch(Ee.length){case 0:break;case 1:Ie=Ee[0];break;default:Ee.sort(),Ie=Ee}if(fe&&(xe!=null||Se!=null))throw new Error("invalid filter");const fr={};return Ie&&(fr.address=Ie),ne.length&&(fr.topics=ne),xe&&(fr.fromBlock=xe),Se&&(fr.toBlock=Se),fe&&(fr.blockHash=fe),fr};let me=[];if(Y.address)if(Array.isArray(Y.address))for(const Ee of Y.address)me.push(this._getAddress(Ee));else me.push(this._getAddress(Y.address));let be;"fromBlock"in Y&&(be=this._getBlockTag(Y.fromBlock));let we;return"toBlock"in Y&&(we=this._getBlockTag(Y.toBlock)),me.filter(Ee=>typeof Ee!="string").length||be!=null&&typeof be!="string"||we!=null&&typeof we!="string"?Promise.all([Promise.all(me),be,we]).then(Ee=>ye(Ee[0],Ee[1],Ee[2])):ye(me,be,we)}_getTransactionRequest(Y){const ne=copyRequest(Y),fe=[];if(["to","from"].forEach(ye=>{if(ne[ye]==null)return;const me=resolveAddress(ne[ye],this);isPromise(me)?fe.push(async function(){ne[ye]=await me}()):ne[ye]=me}),ne.blockTag!=null){const ye=this._getBlockTag(ne.blockTag);isPromise(ye)?fe.push(async function(){ne.blockTag=await ye}()):ne.blockTag=ye}return fe.length?async function(){return await Promise.all(fe),ne}():ne}async getNetwork(){if(In(this,Vc)==null){const ye=(async()=>{try{const me=await this._detectNetwork();return this.emit("network",me,null),me}catch(me){throw In(this,Vc)===ye&&Yn(this,Vc,null),me}})();return Yn(this,Vc,ye),(await ye).clone()}const Y=In(this,Vc),[ne,fe]=await Promise.all([Y,this._detectNetwork()]);return ne.chainId!==fe.chainId&&(In(this,Vh)?(this.emit("network",fe,ne),In(this,Vc)===Y&&Yn(this,Vc,Promise.resolve(fe))):assert(!1,`network changed: ${ne.chainId} => ${fe.chainId} `,"NETWORK_ERROR",{event:"changed"})),ne.clone()}async getFeeData(){const Y=await this.getNetwork(),ne=async()=>{const{_block:ye,gasPrice:me,priorityFee:be}=await resolveProperties({_block:_i(this,ro,Ay).call(this,"latest",!1),gasPrice:(async()=>{try{const Se=await _i(this,ro,Lc).call(this,{method:"getGasPrice"});return getBigInt(Se,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const Se=await _i(this,ro,Lc).call(this,{method:"getPriorityFee"});return getBigInt(Se,"%response")}catch{}return null})()});let we=null,Ee=null;const xe=this._wrapBlock(ye,Y);return xe&&xe.baseFeePerGas&&(Ee=be??BigInt("1000000000"),we=xe.baseFeePerGas*BN_2+Ee),new FeeData(me,we,Ee)},fe=Y.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(fe){const ye=new FetchRequest(fe.url),me=await fe.processFunc(ne,this,ye);return new FeeData(me.gasPrice,me.maxFeePerGas,me.maxPriorityFeePerGas)}return await ne()}async estimateGas(Y){let ne=this._getTransactionRequest(Y);return isPromise(ne)&&(ne=await ne),getBigInt(await _i(this,ro,Lc).call(this,{method:"estimateGas",transaction:ne}),"%response")}async call(Y){const{tx:ne,blockTag:fe}=await resolveProperties({tx:this._getTransactionRequest(Y),blockTag:this._getBlockTag(Y.blockTag)});return await _i(this,ro,Sy).call(this,_i(this,ro,Cy).call(this,ne,fe,Y.enableCcipRead?0:-1))}async getBalance(Y,ne){return getBigInt(await _i(this,ro,Pp).call(this,{method:"getBalance"},Y,ne),"%response")}async getTransactionCount(Y,ne){return getNumber(await _i(this,ro,Pp).call(this,{method:"getTransactionCount"},Y,ne),"%response")}async getCode(Y,ne){return hexlify(await _i(this,ro,Pp).call(this,{method:"getCode"},Y,ne))}async getStorage(Y,ne,fe){const ye=getBigInt(ne,"position");return hexlify(await _i(this,ro,Pp).call(this,{method:"getStorage",position:ye},Y,fe))}async broadcastTransaction(Y){const{blockNumber:ne,hash:fe,network:ye}=await resolveProperties({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:Y}),network:this.getNetwork()}),me=Transaction.from(Y);if(me.hash!==fe)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(me,ye).replaceableTransaction(ne)}async getBlock(Y,ne){const{network:fe,params:ye}=await resolveProperties({network:this.getNetwork(),params:_i(this,ro,Ay).call(this,Y,!!ne)});return ye==null?null:this._wrapBlock(ye,fe)}async getTransaction(Y){const{network:ne,params:fe}=await resolveProperties({network:this.getNetwork(),params:_i(this,ro,Lc).call(this,{method:"getTransaction",hash:Y})});return fe==null?null:this._wrapTransactionResponse(fe,ne)}async getTransactionReceipt(Y){const{network:ne,params:fe}=await resolveProperties({network:this.getNetwork(),params:_i(this,ro,Lc).call(this,{method:"getTransactionReceipt",hash:Y})});if(fe==null)return null;if(fe.gasPrice==null&&fe.effectiveGasPrice==null){const ye=await _i(this,ro,Lc).call(this,{method:"getTransaction",hash:Y});if(ye==null)throw new Error("report this; could not find tx or effectiveGasPrice");fe.effectiveGasPrice=ye.gasPrice}return this._wrapTransactionReceipt(fe,ne)}async getTransactionResult(Y){const{result:ne}=await resolveProperties({network:this.getNetwork(),result:_i(this,ro,Lc).call(this,{method:"getTransactionResult",hash:Y})});return ne==null?null:hexlify(ne)}async getLogs(Y){let ne=this._getFilter(Y);isPromise(ne)&&(ne=await ne);const{network:fe,params:ye}=await resolveProperties({network:this.getNetwork(),params:_i(this,ro,Lc).call(this,{method:"getLogs",filter:ne})});return ye.map(me=>this._wrapLog(me,fe))}_getProvider(Y){assert(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(Y){return await EnsResolver.fromName(this,Y)}async getAvatar(Y){const ne=await this.getResolver(Y);return ne?await ne.getAvatar():null}async resolveName(Y){const ne=await this.getResolver(Y);return ne?await ne.getAddress():null}async lookupAddress(Y){Y=getAddress(Y);const ne=namehash(Y.substring(2).toLowerCase()+".addr.reverse");try{const fe=await EnsResolver.getEnsAddress(this),me=await new Contract(fe,["function resolver(bytes32) view returns (address)"],this).resolver(ne);if(me==null||me===ZeroAddress)return null;const we=await new Contract(me,["function name(bytes32) view returns (string)"],this).name(ne);return await this.resolveName(we)!==Y?null:we}catch(fe){if(isError(fe,"BAD_DATA")&&fe.value==="0x"||isError(fe,"CALL_EXCEPTION"))return null;throw fe}return null}async waitForTransaction(Y,ne,fe){const ye=ne??1;return ye===0?this.getTransactionReceipt(Y):new Promise(async(me,be)=>{let we=null;const Ee=async xe=>{try{const Se=await this.getTransactionReceipt(Y);if(Se!=null&&xe-Se.blockNumber+1>=ye){me(Se),we&&(clearTimeout(we),we=null);return}}catch(Se){console.log("EEE",Se)}this.once("block",Ee)};fe!=null&&(we=setTimeout(()=>{we!=null&&(we=null,this.off("block",Ee),be(makeError("timeout","TIMEOUT",{reason:"timeout"})))},fe)),Ee(await this.getBlockNumber())})}async waitForBlock(Y){assert(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(Y){const ne=In(this,ll).get(Y);ne&&(ne.timer&&clearTimeout(ne.timer),In(this,ll).delete(Y))}_setTimeout(Y,ne){ne==null&&(ne=0);const fe=fu(this,i1)._++,ye=()=>{In(this,ll).delete(fe),Y()};if(this.paused)In(this,ll).set(fe,{timer:null,func:ye,time:ne});else{const me=setTimeout(ye,ne);In(this,ll).set(fe,{timer:me,func:ye,time:getTime()})}return fe}_forEachSubscriber(Y){for(const ne of In(this,lc).values())Y(ne.subscriber)}_getSubscriber(Y){switch(Y.type){case"debug":case"error":case"network":return new UnmanagedSubscriber(Y.type);case"block":{const ne=new PollingBlockSubscriber(this);return ne.pollingInterval=this.pollingInterval,ne}case"safe":case"finalized":return new PollingBlockTagSubscriber(this,Y.type);case"event":return new PollingEventSubscriber(this,Y.filter);case"transaction":return new PollingTransactionSubscriber(this,Y.hash);case"orphan":return new PollingOrphanSubscriber(this,Y.filter)}throw new Error(`unsupported event: ${Y.type}`)}_recoverSubscriber(Y,ne){for(const fe of In(this,lc).values())if(fe.subscriber===Y){fe.started&&fe.subscriber.stop(),fe.subscriber=ne,fe.started&&ne.start(),In(this,uc)!=null&&ne.pause(In(this,uc));break}}async on(Y,ne){const fe=await _i(this,ro,Cg).call(this,Y);return fe.listeners.push({listener:ne,once:!1}),fe.started||(fe.subscriber.start(),fe.started=!0,In(this,uc)!=null&&fe.subscriber.pause(In(this,uc))),this}async once(Y,ne){const fe=await _i(this,ro,Cg).call(this,Y);return fe.listeners.push({listener:ne,once:!0}),fe.started||(fe.subscriber.start(),fe.started=!0,In(this,uc)!=null&&fe.subscriber.pause(In(this,uc))),this}async emit(Y,...ne){const fe=await _i(this,ro,Tp).call(this,Y,ne);if(!fe||fe.listeners.length===0)return!1;const ye=fe.listeners.length;return fe.listeners=fe.listeners.filter(({listener:me,once:be})=>{const we=new EventPayload(this,be?null:me,Y);try{me.call(this,...ne,we)}catch{}return!be}),fe.listeners.length===0&&(fe.started&&fe.subscriber.stop(),In(this,lc).delete(fe.tag)),ye>0}async listenerCount(Y){if(Y){const fe=await _i(this,ro,Tp).call(this,Y);return fe?fe.listeners.length:0}let ne=0;for(const{listeners:fe}of In(this,lc).values())ne+=fe.length;return ne}async listeners(Y){if(Y){const fe=await _i(this,ro,Tp).call(this,Y);return fe?fe.listeners.map(({listener:ye})=>ye):[]}let ne=[];for(const{listeners:fe}of In(this,lc).values())ne=ne.concat(fe.map(({listener:ye})=>ye));return ne}async off(Y,ne){const fe=await _i(this,ro,Tp).call(this,Y);if(!fe)return this;if(ne){const ye=fe.listeners.map(({listener:me})=>me).indexOf(ne);ye>=0&&fe.listeners.splice(ye,1)}return(!ne||fe.listeners.length===0)&&(fe.started&&fe.subscriber.stop(),In(this,lc).delete(fe.tag)),this}async removeAllListeners(Y){if(Y){const{tag:ne,started:fe,subscriber:ye}=await _i(this,ro,Cg).call(this,Y);fe&&ye.stop(),In(this,lc).delete(ne)}else for(const[ne,{started:fe,subscriber:ye}]of In(this,lc))fe&&ye.stop(),In(this,lc).delete(ne);return this}async addListener(Y,ne){return await this.on(Y,ne)}async removeListener(Y,ne){return this.off(Y,ne)}get destroyed(){return In(this,X0)}destroy(){this.removeAllListeners();for(const Y of In(this,ll).keys())this._clearTimeout(Y);Yn(this,X0,!0)}get paused(){return In(this,uc)!=null}set paused(Y){!!Y!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(Y){if(Yn(this,Du,-1),In(this,uc)!=null){if(In(this,uc)==!!Y)return;assert(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(ne=>ne.pause(Y)),Yn(this,uc,!!Y);for(const ne of In(this,ll).values())ne.timer&&clearTimeout(ne.timer),ne.time=getTime()-ne.time}resume(){if(In(this,uc)!=null){this._forEachSubscriber(Y=>Y.resume()),Yn(this,uc,null);for(const Y of In(this,ll).values()){let ne=Y.time;ne<0&&(ne=0),Y.time=getTime(),setTimeout(Y.func,ne)}}}}lc=new WeakMap,Of=new WeakMap,uc=new WeakMap,X0=new WeakMap,Vc=new WeakMap,Vh=new WeakMap,Bf=new WeakMap,Du=new WeakMap,i1=new WeakMap,ll=new WeakMap,ep=new WeakMap,tp=new WeakMap,ro=new WeakSet,Lc=async function(Y){const ne=In(this,tp).cacheTimeout;if(ne<0)return await this._perform(Y);const fe=getTag(Y.method,Y);let ye=In(this,Bf).get(fe);return ye||(ye=this._perform(Y),In(this,Bf).set(fe,ye),setTimeout(()=>{In(this,Bf).get(fe)===ye&&In(this,Bf).delete(fe)},ne)),await ye},Cy=async function(Y,ne,fe){assert(fe<MAX_CCIP_REDIRECTS,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},Y,{blockTag:ne,enableCcipRead:!0})});const ye=copyRequest(Y);try{return hexlify(await this._perform({method:"call",transaction:ye,blockTag:ne}))}catch(me){if(!this.disableCcipRead&&isCallException(me)&&me.data&&fe>=0&&ne==="latest"&&ye.to!=null&&dataSlice(me.data,0,4)==="0x556f1830"){const be=me.data,we=await resolveAddress(ye.to,this);let Ee;try{Ee=parseOffchainLookup(dataSlice(me.data,4))}catch(Ie){assert(!1,Ie.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:ye,info:{data:be}})}assert(Ee.sender.toLowerCase()===we.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:be,reason:"OffchainLookup",transaction:ye,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:Ee.errorArgs}});const xe=await this.ccipReadFetch(ye,Ee.calldata,Ee.urls);assert(xe!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:ye,info:{data:me.data,errorArgs:Ee.errorArgs}});const Se={to:we,data:concat([Ee.selector,encodeBytes([xe,Ee.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:Se});try{const Ie=await _i(this,ro,Cy).call(this,Se,ne,fe+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},Se),result:Ie}),Ie}catch(Ie){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},Se),error:Ie}),Ie}}throw me}},Sy=async function(Y){const{value:ne}=await resolveProperties({network:this.getNetwork(),value:Y});return ne},Pp=async function(Y,ne,fe){let ye=this._getAddress(ne),me=this._getBlockTag(fe);return(typeof ye!="string"||typeof me!="string")&&([ye,me]=await Promise.all([ye,me])),await _i(this,ro,Sy).call(this,_i(this,ro,Lc).call(this,Object.assign(Y,{address:ye,blockTag:me})))},Ay=async function(Y,ne){if(isHexString(Y,32))return await _i(this,ro,Lc).call(this,{method:"getBlock",blockHash:Y,includeTransactions:ne});let fe=this._getBlockTag(Y);return typeof fe!="string"&&(fe=await fe),await _i(this,ro,Lc).call(this,{method:"getBlock",blockTag:fe,includeTransactions:ne})},Tp=async function(Y,ne){let fe=await getSubscription(Y,this);return fe.type==="event"&&ne&&ne.length>0&&ne[0].removed===!0&&(fe=await getSubscription({orphan:"drop-log",log:ne[0]},this)),In(this,lc).get(fe.tag)||null},Cg=async function(Y){const ne=await getSubscription(Y,this),fe=ne.tag;let ye=In(this,lc).get(fe);return ye||(ye={subscriber:this._getSubscriber(ne),tag:fe,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},In(this,lc).set(fe,ye)),ye};function _parseString(se,Y){try{const ne=_parseBytes(se,Y);if(ne)return toUtf8String(ne)}catch{}return null}function _parseBytes(se,Y){if(se==="0x")return null;try{const ne=getNumber(dataSlice(se,Y,Y+32)),fe=getNumber(dataSlice(se,ne,ne+32));return dataSlice(se,ne+32,ne+32+fe)}catch{}return null}function numPad(se){const Y=toBeArray(se);if(Y.length>32)throw new Error("internal; should not happen");const ne=new Uint8Array(32);return ne.set(Y,32-Y.length),ne}function bytesPad(se){if(se.length%32===0)return se;const Y=new Uint8Array(Math.ceil(se.length/32)*32);return Y.set(se),Y}const empty=new Uint8Array([]);function encodeBytes(se){const Y=[];let ne=0;for(let fe=0;fe<se.length;fe++)Y.push(empty),ne+=32;for(let fe=0;fe<se.length;fe++){const ye=getBytes(se[fe]);Y[fe]=numPad(ne),Y.push(numPad(ye.length)),Y.push(bytesPad(ye)),ne+=32+Math.ceil(ye.length/32)*32}return concat(Y)}const zeros="0x0000000000000000000000000000000000000000000000000000000000000000";function parseOffchainLookup(se){const Y={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};assert(dataLength(se)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const ne=dataSlice(se,0,32);assert(dataSlice(ne,0,12)===dataSlice(zeros,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),Y.sender=dataSlice(ne,12);try{const fe=[],ye=getNumber(dataSlice(se,32,64)),me=getNumber(dataSlice(se,ye,ye+32)),be=dataSlice(se,ye+32);for(let we=0;we<me;we++){const Ee=_parseString(be,we*32);if(Ee==null)throw new Error("abort");fe.push(Ee)}Y.urls=fe}catch{assert(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const fe=_parseBytes(se,64);if(fe==null)throw new Error("abort");Y.calldata=fe}catch{assert(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}assert(dataSlice(se,100,128)===dataSlice(zeros,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),Y.selector=dataSlice(se,96,100);try{const fe=_parseBytes(se,128);if(fe==null)throw new Error("abort");Y.extraData=fe}catch{assert(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return Y.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(fe=>Y[fe]),Y}function checkProvider(se,Y){if(se.provider)return se.provider;assert(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:Y})}async function populate(se,Y){let ne=copyRequest(Y);if(ne.to!=null&&(ne.to=resolveAddress(ne.to,se)),ne.from!=null){const fe=ne.from;ne.from=Promise.all([se.getAddress(),resolveAddress(fe,se)]).then(([ye,me])=>(assertArgument(ye.toLowerCase()===me.toLowerCase(),"transaction from mismatch","tx.from",me),ye))}else ne.from=se.getAddress();return await resolveProperties(ne)}class AbstractSigner{constructor(Y){li(this,"provider");defineProperties(this,{provider:Y||null})}async getNonce(Y){return checkProvider(this,"getTransactionCount").getTransactionCount(await this.getAddress(),Y)}async populateCall(Y){return await populate(this,Y)}async populateTransaction(Y){const ne=checkProvider(this,"populateTransaction"),fe=await populate(this,Y);fe.nonce==null&&(fe.nonce=await this.getNonce("pending")),fe.gasLimit==null&&(fe.gasLimit=await this.estimateGas(fe));const ye=await this.provider.getNetwork();if(fe.chainId!=null){const be=getBigInt(fe.chainId);assertArgument(be===ye.chainId,"transaction chainId mismatch","tx.chainId",Y.chainId)}else fe.chainId=ye.chainId;const me=fe.maxFeePerGas!=null||fe.maxPriorityFeePerGas!=null;if(fe.gasPrice!=null&&(fe.type===2||me)?assertArgument(!1,"eip-1559 transaction do not support gasPrice","tx",Y):(fe.type===0||fe.type===1)&&me&&assertArgument(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",Y),(fe.type===2||fe.type==null)&&fe.maxFeePerGas!=null&&fe.maxPriorityFeePerGas!=null)fe.type=2;else if(fe.type===0||fe.type===1){const be=await ne.getFeeData();assert(be.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),fe.gasPrice==null&&(fe.gasPrice=be.gasPrice)}else{const be=await ne.getFeeData();if(fe.type==null)if(be.maxFeePerGas!=null&&be.maxPriorityFeePerGas!=null)if(fe.type=2,fe.gasPrice!=null){const we=fe.gasPrice;delete fe.gasPrice,fe.maxFeePerGas=we,fe.maxPriorityFeePerGas=we}else fe.maxFeePerGas==null&&(fe.maxFeePerGas=be.maxFeePerGas),fe.maxPriorityFeePerGas==null&&(fe.maxPriorityFeePerGas=be.maxPriorityFeePerGas);else be.gasPrice!=null?(assert(!me,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),fe.gasPrice==null&&(fe.gasPrice=be.gasPrice),fe.type=0):assert(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(fe.type===2||fe.type===3)&&(fe.maxFeePerGas==null&&(fe.maxFeePerGas=be.maxFeePerGas),fe.maxPriorityFeePerGas==null&&(fe.maxPriorityFeePerGas=be.maxPriorityFeePerGas))}return await resolveProperties(fe)}async estimateGas(Y){return checkProvider(this,"estimateGas").estimateGas(await this.populateCall(Y))}async call(Y){return checkProvider(this,"call").call(await this.populateCall(Y))}async resolveName(Y){return await checkProvider(this,"resolveName").resolveName(Y)}async sendTransaction(Y){const ne=checkProvider(this,"sendTransaction"),fe=await this.populateTransaction(Y);delete fe.from;const ye=Transaction.from(fe);return await ne.broadcastTransaction(await this.signTransaction(ye))}}function copy(se){return JSON.parse(JSON.stringify(se))}var bc,Kl,Gh,Df,Zh,rp,Ff,Ry,Iy;class FilterIdSubscriber{constructor(Y){fi(this,Ff);fi(this,bc);fi(this,Kl);fi(this,Gh);fi(this,Df);fi(this,Zh);fi(this,rp);Yn(this,bc,Y),Yn(this,Kl,null),Yn(this,Gh,_i(this,Ff,Ry).bind(this)),Yn(this,Df,!1),Yn(this,Zh,null),Yn(this,rp,!1)}_subscribe(Y){throw new Error("subclasses must override this")}_emitResults(Y,ne){throw new Error("subclasses must override this")}_recover(Y){throw new Error("subclasses must override this")}start(){In(this,Df)||(Yn(this,Df,!0),_i(this,Ff,Ry).call(this,-2))}stop(){In(this,Df)&&(Yn(this,Df,!1),Yn(this,rp,!0),_i(this,Ff,Iy).call(this),In(this,bc).off("block",In(this,Gh)))}pause(Y){Y&&_i(this,Ff,Iy).call(this),In(this,bc).off("block",In(this,Gh))}resume(){this.start()}}bc=new WeakMap,Kl=new WeakMap,Gh=new WeakMap,Df=new WeakMap,Zh=new WeakMap,rp=new WeakMap,Ff=new WeakSet,Ry=async function(Y){try{In(this,Kl)==null&&Yn(this,Kl,this._subscribe(In(this,bc)));let ne=null;try{ne=await In(this,Kl)}catch(me){if(!isError(me,"UNSUPPORTED_OPERATION")||me.operation!=="eth_newFilter")throw me}if(ne==null){Yn(this,Kl,null),In(this,bc)._recoverSubscriber(this,this._recover(In(this,bc)));return}const fe=await In(this,bc).getNetwork();if(In(this,Zh)||Yn(this,Zh,fe),In(this,Zh).chainId!==fe.chainId)throw new Error("chaid changed");if(In(this,rp))return;const ye=await In(this,bc).send("eth_getFilterChanges",[ne]);await this._emitResults(In(this,bc),ye)}catch(ne){console.log("@TODO",ne)}In(this,bc).once("block",In(this,Gh))},Iy=function(){const Y=In(this,Kl);Y&&(Yn(this,Kl,null),Y.then(ne=>{In(this,bc).destroyed||In(this,bc).send("eth_uninstallFilter",[ne])}))};var Kh;class FilterIdEventSubscriber extends FilterIdSubscriber{constructor(ne,fe){super(ne);fi(this,Kh);Yn(this,Kh,copy(fe))}_recover(ne){return new PollingEventSubscriber(ne,In(this,Kh))}async _subscribe(ne){return await ne.send("eth_newFilter",[In(this,Kh)])}async _emitResults(ne,fe){for(const ye of fe)ne.emit(In(this,Kh),ne._wrapLog(ye,ne._network))}}Kh=new WeakMap;class FilterIdPendingSubscriber extends FilterIdSubscriber{async _subscribe(Y){return await Y.send("eth_newPendingTransactionFilter",[])}async _emitResults(Y,ne){for(const fe of ne)Y.emit("pending",fe)}}const Primitive="bigint,boolean,function,number,string,symbol".split(/,/g);function deepCopy(se){if(se==null||Primitive.indexOf(typeof se)>=0||typeof se.getAddress=="function")return se;if(Array.isArray(se))return se.map(deepCopy);if(typeof se=="object")return Object.keys(se).reduce((Y,ne)=>(Y[ne]=se[ne],Y),{});throw new Error(`should not happen: ${se} (${typeof se})`)}function stall(se){return new Promise(Y=>{setTimeout(Y,se)})}function getLowerCase(se){return se&&se.toLowerCase()}function isPollable(se){return se&&typeof se.pollingInterval=="number"}const defaultOptions={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class JsonRpcSigner extends AbstractSigner{constructor(ne,fe){super(ne);li(this,"address");fe=getAddress(fe),defineProperties(this,{address:fe})}connect(ne){assert(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(ne){return await this.populateCall(ne)}async sendUncheckedTransaction(ne){const fe=deepCopy(ne),ye=[];if(fe.from){const be=fe.from;ye.push((async()=>{const we=await resolveAddress(be,this.provider);assertArgument(we!=null&&we.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",ne),fe.from=we})())}else fe.from=this.address;if(fe.gasLimit==null&&ye.push((async()=>{fe.gasLimit=await this.provider.estimateGas({...fe,from:this.address})})()),fe.to!=null){const be=fe.to;ye.push((async()=>{fe.to=await resolveAddress(be,this.provider)})())}ye.length&&await Promise.all(ye);const me=this.provider.getRpcTransaction(fe);return this.provider.send("eth_sendTransaction",[me])}async sendTransaction(ne){const fe=await this.provider.getBlockNumber(),ye=await this.sendUncheckedTransaction(ne);return await new Promise((me,be)=>{const we=[1e3,100];let Ee=0;const xe=async()=>{try{const Se=await this.provider.getTransaction(ye);if(Se!=null){me(Se.replaceableTransaction(fe));return}}catch(Se){if(isError(Se,"CANCELLED")||isError(Se,"BAD_DATA")||isError(Se,"NETWORK_ERROR")){Se.info==null&&(Se.info={}),Se.info.sendTransactionHash=ye,be(Se);return}if(isError(Se,"INVALID_ARGUMENT")&&(Ee++,Se.info==null&&(Se.info={}),Se.info.sendTransactionHash=ye,Ee>10)){be(Se);return}this.provider.emit("error",makeError("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:Se}))}this.provider._setTimeout(()=>{xe()},we.pop()||4e3)};xe()})}async signTransaction(ne){const fe=deepCopy(ne);if(fe.from){const me=await resolveAddress(fe.from,this.provider);assertArgument(me!=null&&me.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",ne),fe.from=me}else fe.from=this.address;const ye=this.provider.getRpcTransaction(fe);return await this.provider.send("eth_signTransaction",[ye])}async signMessage(ne){const fe=typeof ne=="string"?toUtf8Bytes(ne):ne;return await this.provider.send("personal_sign",[hexlify(fe),this.address.toLowerCase()])}async signTypedData(ne,fe,ye){const me=deepCopy(ye),be=await TypedDataEncoder.resolveNames(ne,fe,me,async we=>{const Ee=await resolveAddress(we);return assertArgument(Ee!=null,"TypedData does not support null address","value",we),Ee});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(be.domain,fe,be.value))])}async unlock(ne){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),ne,null])}async _legacySignMessage(ne){const fe=typeof ne=="string"?toUtf8Bytes(ne):ne;return await this.provider.send("eth_sign",[this.address.toLowerCase(),hexlify(fe)])}}var Jh,np,Lu,Jl,Rl,ul,Ic,s1,Py;class JsonRpcApiProvider extends AbstractProvider{constructor(ne,fe){super(ne,fe);fi(this,s1);fi(this,Jh);fi(this,np);fi(this,Lu);fi(this,Jl);fi(this,Rl);fi(this,ul);fi(this,Ic);Yn(this,np,1),Yn(this,Jh,Object.assign({},defaultOptions,fe||{})),Yn(this,Lu,[]),Yn(this,Jl,null),Yn(this,ul,null),Yn(this,Ic,null);{let me=null;const be=new Promise(we=>{me=we});Yn(this,Rl,{promise:be,resolve:me})}const ye=this._getOption("staticNetwork");typeof ye=="boolean"?(assertArgument(!ye||ne!=="any","staticNetwork cannot be used on special network 'any'","options",fe),ye&&ne!=null&&Yn(this,ul,Network.from(ne))):ye&&(assertArgument(ne==null||ye.matches(ne),"staticNetwork MUST match network object","options",fe),Yn(this,ul,ye))}_getOption(ne){return In(this,Jh)[ne]}get _network(){return assert(In(this,ul),"network is not available yet","NETWORK_ERROR"),In(this,ul)}async _perform(ne){if(ne.method==="call"||ne.method==="estimateGas"){let ye=ne.transaction;if(ye&&ye.type!=null&&getBigInt(ye.type)&&ye.maxFeePerGas==null&&ye.maxPriorityFeePerGas==null){const me=await this.getFeeData();me.maxFeePerGas==null&&me.maxPriorityFeePerGas==null&&(ne=Object.assign({},ne,{transaction:Object.assign({},ye,{type:void 0})}))}}const fe=this.getRpcRequest(ne);return fe!=null?await this.send(fe.method,fe.args):super._perform(ne)}async _detectNetwork(){const ne=this._getOption("staticNetwork");if(ne)if(ne===!0){if(In(this,ul))return In(this,ul)}else return ne;return In(this,Ic)?await In(this,Ic):this.ready?(Yn(this,Ic,(async()=>{try{const fe=Network.from(getBigInt(await this.send("eth_chainId",[])));return Yn(this,Ic,null),fe}catch(fe){throw Yn(this,Ic,null),fe}})()),await In(this,Ic)):(Yn(this,Ic,(async()=>{const fe={id:fu(this,np)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:fe});let ye;try{ye=(await this._send(fe))[0],Yn(this,Ic,null)}catch(me){throw Yn(this,Ic,null),this.emit("debug",{action:"receiveRpcError",error:me}),me}if(this.emit("debug",{action:"receiveRpcResult",result:ye}),"result"in ye)return Network.from(getBigInt(ye.result));throw this.getRpcError(fe,ye)})()),await In(this,Ic))}_start(){In(this,Rl)==null||In(this,Rl).resolve==null||(In(this,Rl).resolve(),Yn(this,Rl,null),(async()=>{for(;In(this,ul)==null&&!this.destroyed;)try{Yn(this,ul,await this._detectNetwork())}catch(ne){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",makeError("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:ne}})),await stall(1e3)}_i(this,s1,Py).call(this)})())}async _waitUntilReady(){if(In(this,Rl)!=null)return await In(this,Rl).promise}_getSubscriber(ne){return ne.type==="pending"?new FilterIdPendingSubscriber(this):ne.type==="event"?this._getOption("polling")?new PollingEventSubscriber(this,ne.filter):new FilterIdEventSubscriber(this,ne.filter):ne.type==="orphan"&&ne.filter.orphan==="drop-log"?new UnmanagedSubscriber("orphan"):super._getSubscriber(ne)}get ready(){return In(this,Rl)==null}getRpcTransaction(ne){const fe={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(ye=>{if(ne[ye]==null)return;let me=ye;ye==="gasLimit"&&(me="gas"),fe[me]=toQuantity(getBigInt(ne[ye],`tx.${ye}`))}),["from","to","data"].forEach(ye=>{ne[ye]!=null&&(fe[ye]=hexlify(ne[ye]))}),ne.accessList&&(fe.accessList=accessListify(ne.accessList)),fe}getRpcRequest(ne){switch(ne.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[getLowerCase(ne.address),ne.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[getLowerCase(ne.address),ne.blockTag]};case"getCode":return{method:"eth_getCode",args:[getLowerCase(ne.address),ne.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[getLowerCase(ne.address),"0x"+ne.position.toString(16),ne.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[ne.signedTransaction]};case"getBlock":if("blockTag"in ne)return{method:"eth_getBlockByNumber",args:[ne.blockTag,!!ne.includeTransactions]};if("blockHash"in ne)return{method:"eth_getBlockByHash",args:[ne.blockHash,!!ne.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[ne.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[ne.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(ne.transaction),ne.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(ne.transaction)]};case"getLogs":return ne.filter&&ne.filter.address!=null&&(Array.isArray(ne.filter.address)?ne.filter.address=ne.filter.address.map(getLowerCase):ne.filter.address=getLowerCase(ne.filter.address)),{method:"eth_getLogs",args:[ne.filter]}}return null}getRpcError(ne,fe){const{method:ye}=ne,{error:me}=fe;if(ye==="eth_estimateGas"&&me.message){const Ee=me.message;if(!Ee.match(/revert/i)&&Ee.match(/insufficient funds/i))return makeError("insufficient funds","INSUFFICIENT_FUNDS",{transaction:ne.params[0],info:{payload:ne,error:me}})}if(ye==="eth_call"||ye==="eth_estimateGas"){const Ee=spelunkData(me),xe=AbiCoder.getBuiltinCallException(ye==="eth_call"?"call":"estimateGas",ne.params[0],Ee?Ee.data:null);return xe.info={error:me,payload:ne},xe}const be=JSON.stringify(spelunkMessage(me));if(typeof me.message=="string"&&me.message.match(/user denied|ethers-user-denied/i))return makeError("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[ye]||"unknown",reason:"rejected",info:{payload:ne,error:me}});if(ye==="eth_sendRawTransaction"||ye==="eth_sendTransaction"){const Ee=ne.params[0];if(be.match(/insufficient funds|base fee exceeds gas limit/i))return makeError("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:Ee,info:{error:me}});if(be.match(/nonce/i)&&be.match(/too low/i))return makeError("nonce has already been used","NONCE_EXPIRED",{transaction:Ee,info:{error:me}});if(be.match(/replacement transaction/i)&&be.match(/underpriced/i))return makeError("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:Ee,info:{error:me}});if(be.match(/only replay-protected/i))return makeError("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:ye,info:{transaction:Ee,info:{error:me}}})}let we=!!be.match(/the method .* does not exist/i);return we||me&&me.details&&me.details.startsWith("Unauthorized method:")&&(we=!0),we?makeError("unsupported operation","UNSUPPORTED_OPERATION",{operation:ne.method,info:{error:me,payload:ne}}):makeError("could not coalesce error","UNKNOWN_ERROR",{error:me,payload:ne})}send(ne,fe){if(this.destroyed)return Promise.reject(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:ne}));const ye=fu(this,np)._++,me=new Promise((be,we)=>{In(this,Lu).push({resolve:be,reject:we,payload:{method:ne,params:fe,id:ye,jsonrpc:"2.0"}})});return _i(this,s1,Py).call(this),me}async getSigner(ne){ne==null&&(ne=0);const fe=this.send("eth_accounts",[]);if(typeof ne=="number"){const me=await fe;if(ne>=me.length)throw new Error("no such account");return new JsonRpcSigner(this,me[ne])}const{accounts:ye}=await resolveProperties({network:this.getNetwork(),accounts:fe});ne=getAddress(ne);for(const me of ye)if(getAddress(me)===ne)return new JsonRpcSigner(this,ne);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(fe=>new JsonRpcSigner(this,fe))}destroy(){In(this,Jl)&&(clearTimeout(In(this,Jl)),Yn(this,Jl,null));for(const{payload:ne,reject:fe}of In(this,Lu))fe(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:ne.method}));Yn(this,Lu,[]),super.destroy()}}Jh=new WeakMap,np=new WeakMap,Lu=new WeakMap,Jl=new WeakMap,Rl=new WeakMap,ul=new WeakMap,Ic=new WeakMap,s1=new WeakSet,Py=function(){if(In(this,Jl))return;const ne=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");Yn(this,Jl,setTimeout(()=>{Yn(this,Jl,null);const fe=In(this,Lu);for(Yn(this,Lu,[]);fe.length;){const ye=[fe.shift()];for(;fe.length&&ye.length!==In(this,Jh).batchMaxCount;)if(ye.push(fe.shift()),JSON.stringify(ye.map(be=>be.payload)).length>In(this,Jh).batchMaxSize){fe.unshift(ye.pop());break}(async()=>{const me=ye.length===1?ye[0].payload:ye.map(be=>be.payload);this.emit("debug",{action:"sendRpcPayload",payload:me});try{const be=await this._send(me);this.emit("debug",{action:"receiveRpcResult",result:be});for(const{resolve:we,reject:Ee,payload:xe}of ye){if(this.destroyed){Ee(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:xe.method}));continue}const Se=be.filter(Ie=>Ie.id===xe.id)[0];if(Se==null){const Ie=makeError("missing response for request","BAD_DATA",{value:be,info:{payload:xe}});this.emit("error",Ie),Ee(Ie);continue}if("error"in Se){Ee(this.getRpcError(xe,Se));continue}we(Se.result)}}catch(be){this.emit("debug",{action:"receiveRpcError",error:be});for(const{reject:we}of ye)we(be)}})()}},ne))};var Lf;class JsonRpcApiPollingProvider extends JsonRpcApiProvider{constructor(ne,fe){super(ne,fe);fi(this,Lf);let ye=this._getOption("pollingInterval");ye==null&&(ye=defaultOptions.pollingInterval),Yn(this,Lf,ye)}_getSubscriber(ne){const fe=super._getSubscriber(ne);return isPollable(fe)&&(fe.pollingInterval=In(this,Lf)),fe}get pollingInterval(){return In(this,Lf)}set pollingInterval(ne){if(!Number.isInteger(ne)||ne<0)throw new Error("invalid interval");Yn(this,Lf,ne),this._forEachSubscriber(fe=>{isPollable(fe)&&(fe.pollingInterval=In(this,Lf))})}}Lf=new WeakMap;function spelunkData(se){if(se==null)return null;if(typeof se.message=="string"&&se.message.match(/revert/i)&&isHexString(se.data))return{message:se.message,data:se.data};if(typeof se=="object"){for(const Y in se){const ne=spelunkData(se[Y]);if(ne)return ne}return null}if(typeof se=="string")try{return spelunkData(JSON.parse(se))}catch{}return null}function _spelunkMessage(se,Y){if(se!=null){if(typeof se.message=="string"&&Y.push(se.message),typeof se=="object")for(const ne in se)_spelunkMessage(se[ne],Y);if(typeof se=="string")try{return _spelunkMessage(JSON.parse(se),Y)}catch{}}}function spelunkMessage(se){const Y=[];return _spelunkMessage(se,Y),Y}var ip;class BrowserProvider extends JsonRpcApiPollingProvider{constructor(ne,fe){assertArgument(ne&&ne.request,"invalid EIP-1193 provider","ethereum",ne);super(fe,{batchMaxCount:1});fi(this,ip);Yn(this,ip,async(ye,me)=>{const be={method:ye,params:me};this.emit("debug",{action:"sendEip1193Request",payload:be});try{const we=await ne.request(be);return this.emit("debug",{action:"receiveEip1193Result",result:we}),we}catch(we){const Ee=new Error(we.message);throw Ee.code=we.code,Ee.data=we.data,Ee.payload=be,this.emit("debug",{action:"receiveEip1193Error",error:Ee}),Ee}})}async send(ne,fe){return await this._start(),await super.send(ne,fe)}async _send(ne){assertArgument(!Array.isArray(ne),"EIP-1193 does not support batch request","payload",ne);try{const fe=await In(this,ip).call(this,ne.method,ne.params||[]);return[{id:ne.id,result:fe}]}catch(fe){return[{id:ne.id,error:{code:fe.code,data:fe.data,message:fe.message}}]}}getRpcError(ne,fe){switch(fe=JSON.parse(JSON.stringify(fe)),fe.error.code||-1){case 4001:fe.error.message=`ethers-user-denied: ${fe.error.message}`;break;case 4200:fe.error.message=`ethers-unsupported: ${fe.error.message}`;break}return super.getRpcError(ne,fe)}async hasSigner(ne){ne==null&&(ne=0);const fe=await this.send("eth_accounts",[]);return typeof ne=="number"?fe.length>ne:(ne=ne.toLowerCase(),fe.filter(ye=>ye.toLowerCase()===ne).length!==0)}async getSigner(ne){if(ne==null&&(ne=0),!await this.hasSigner(ne))try{await In(this,ip).call(this,"eth_requestAccounts",[])}catch(fe){const ye=fe.payload;throw this.getRpcError(ye,{id:ye.id,error:fe})}return await super.getSigner(ne)}}ip=new WeakMap;class WalletConnectProvider extends libExports.AbstractBaseWallet{downloadLink(){return""}id(){return libExports.ConnectorNames.WalletConnect}async getWalletConnect(){const Y=await this.provider();let ne,fe=!1;const ye=this.callBack.firstConnect||!1;let me=3;for(;;){const Se=Y.getIsConnected(),Ie=Y.getState();if(libExports.Trace.debug("isConnected",Se,Ie,ye),Se)ne=Y.getWalletProvider();else{if(Ie.open)fe=!0;else{if(fe)throw new libExports.BasicException("User rejected the request");if(ye&&me>0){await libExports.sleep(1e3),me--;continue}else await Y.open({view:"Connect"})}await libExports.sleep(1e3);continue}if(libExports.Trace.debug("walletProvider",ne,libExports.SdkProvider.currentChainType),ne){const fr=libExports.getCurrentAddressInfo().getChainInfo(libExports.SdkProvider.currentChainType);if(Y.getState().selectedNetworkId!==fr.chainId){await Y.switchNetwork(fr.chainId);continue}}if(ne){libExports.Trace.debug("walletProvider","close"),setTimeout(()=>{Y.close().catch()},1e3);break}}libExports.Trace.debug("connect walletProvider",ne);const be=new BrowserProvider(ne,"any"),we=new libExports.WalletConnect(be);we.provider=be,we.switchNetwork=async Se=>{if(libExports.Trace.debug("switchNetwork",Se),!libExports.useVisibilityChange.current)throw new libExports.BasicException("Please switch wallet network");await Y.switchNetwork(Se)},we.disconnectCallBack=()=>{libExports.eventBus.emit("disconnect","User disconnected the wallet"),setTimeout(()=>{Y.close().catch()},1e3),Y.disconnect().catch()},we.connectCallBack=()=>{setTimeout(()=>{Y.close().catch()},1e3)};let Ee=(await be.getSigner()).getAddress(),xe=(await be.getNetwork()).chainId;return Y.subscribeProvider(Se=>{if(Se&&Se.provider){if(Se.chainId!==xe){libExports.eventBus.emit("chainChanged",Se.chainId),xe=Se.chainId;return}if(Ee!==Se.address){libExports.eventBus.emit("accountsChanged",[Se.address]),Ee=Se.address;return}}Se&&Se.isConnected===!1&&libExports.eventBus.emit("disconnect","User disconnected the wallet"),libExports.Trace.debug("newState",Se)}),we}installed(){return!0}async provider(){const Y={name:"Agni",description:"Agni",url:"https://agni.finance/",icons:["https://agni.finance/favicon.ico"]},ne="64da8ef901e863b3d0b537c95bf2a938",fe=[libExports.ChainType.arbitrum].map(me=>{const be=libExports.getCurrentAddressInfo().getChainInfo(me);return{chainId:be.chainId,name:be.chainName,currency:be.chainToken,explorerUrl:be.scan,rpcUrl:be.rpc}});return createWeb3Modal({ethersConfig:defaultConfig({metadata:Y}),chains:fe,defaultChain:fe.find(me=>me.chainId===libExports.getCurrentAddressInfo().getChainInfo(libExports.SdkProvider.currentChainType).chainId),projectId:ne,themeVariables:{"--w3m-z-index":9999},enableAnalytics:!1,enableOnramp:!1,featuredWalletIds:["c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96","15c8b91ade1a4e58f3ce4e7a0dd7f42b47db0c8df7e0d84f63eb39bcb96c4e0f","971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709","4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0","1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369","ef333840daf915aafdc4a004525502d6d49d77bd9c65e0642dbaefb3c2893bef","38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662","20459438007b75f4f4acb98bf29aa3b800550309646d375da5fd4aac6c2a2c66","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01"]})}}const walletConnectProvider=new WalletConnectProvider;class WalletProvider{static connect(Y,ne,fe,ye=!1){return WalletProvider._connect(Y,{firstConnect:ye,statusUpdate:me=>{ne(me)},chainUpdate:me=>{libExports.SdkProvider.fastSetChainType(me)},loading:me=>{fe(me)}})}static _connect(Y,ne){if(Y===libExports.ConnectorNames.MetaMask)return libExports.metamaskProvider.connect(ne);if(Y===libExports.ConnectorNames.Injected)return libExports.injectedWallet.connect(ne);if(Y===libExports.ConnectorNames.WalletConnect)return walletConnectProvider.connect(ne);throw new Error("connectorNames not found")}static wallets(){return[libExports.metamaskProvider,libExports.injectedWallet,walletConnectProvider].map(Y=>({id:Y.id(),downloadLink:Y.downloadLink(),installed:Y.installed()}))}}const _hoisted_1={key:0,class:"flex justify-center align-center"},_hoisted_2={key:1,class:"flex justify-center align-center",style:{"margin-top":"10px"}},_hoisted_3=["href"],_sfc_main$1=defineComponent({__name:"WalletButton",props:{className:{}},setup(se){const Y=useStore(),ne=[libExports.metamaskProvider,libExports.injectedWallet,walletConnectProvider];function fe(){libExports.SdkProvider.disconnect(),Y.actions.logout()}function ye(xe,Se=!1){const Ie=ne.find(fr=>fr.id()===xe);if(!Ie||!Ie.installed()){showToast("Wallet not installed");return}WalletProvider.connect(xe,fr=>{Y.actions.login(fr)},fr=>{Y.actions.networkLoadingUpdate(fr)},Se)}libExports.eventBus.resetOn(EVENT_CONNECT,()=>{ye(walletConnectProvider.id())}),libExports.eventBus.resetOn(EVENT_DISCONNECT,()=>{fe()}),libExports.eventBus.resetOn(EVENT_SEND_TX,([xe,Se])=>{Ee(xe,Se)});const me=Y.state.walletInfo;Y.state.walletConnect==="unlink"&&me.walletName&&ye(me.walletName,!0);function be(){libExports.eventBus.emit(EVENT_CONNECT,{})}const we=reactive({show:!1,scan:""});async function Ee(xe,Se){try{const Ie=libExports.SdkProvider.connect(),fr=await xe(Ie);return we.scan=fr.scan(),we.show=!0,await fr.confirm(),await Se(),showToast("Transaction submitted successfully"),fr}catch(Ie){throw console.error(Ie),showToast("ERROR："+(Ie.message||Ie)),Ie}finally{we.show=!1}}return(xe,Se)=>{const Ie=resolveComponent("el-button");return openBlock(),createElementBlock(Fragment$2,null,[unref(Y).state.walletConnect==="unlink"?(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(Ie,{onClick:Se[0]||(Se[0]=fr=>be())},{default:withCtx(()=>Se[2]||(Se[2]=[createTextVNode("链接钱包")])),_:1})])):(openBlock(),createElementBlock("div",_hoisted_2,[createBaseVNode("div",null,toDisplayString(unref(Y).state.walletInfo.walletAddress),1),createVNode(Ie,{onClick:fe,style:{"margin-left":"10px"}},{default:withCtx(()=>Se[3]||(Se[3]=[createTextVNode("断开")])),_:1})])),createVNode(unref(Notify),{show:we.show,"onUpdate:show":Se[1]||(Se[1]=fr=>we.show=fr),type:"success"},{default:withCtx(()=>[createVNode(unref(Loading),{style:{"margin-right":"4px"}}),createBaseVNode("span",null,[createBaseVNode("a",{target:"_blank",href:we.scan},"The transaction is being submitted, and the transaction is being confirmed",8,_hoisted_3)])]),_:1},8,["show"])],64)}}}),_sfc_main=defineComponent({__name:"FeeView",setup(se){const Y=useStore(),ne=ref$2(!1),fe=ref$2([]);async function ye(){try{ne.value=!0;const be=libExports.SdkProvider.currentChainType,we=libExports.BASE_API.getCurrentConnectInfo(be),{pools:Ee}=await libExports.BASE_API.graphBase("https://agni.finance/graph/subgraphs/name/agni/exchange-v3",`query b {
  pools(first: 1000) {
    id
    token0 {
      symbol
      decimals
      derivedUSD
    }
    token1 {
      symbol
      decimals
      derivedUSD
    }
    feeTier
  }
}`,{}),[...xe]=await we.multiCall().callObj(...Ee.map(Ie=>({fee:we.create(AgniPoolContract,Ie.id).multicall.protocolFees()}))),Se=xe.map((Ie,fr)=>{const br=new libExports.BigNumber(Ee[fr].feeTier).div(1e4).toFixed();return{id:Ee[fr].id,token0:Ee[fr].token0,token1:Ee[fr].token1,fee:br,feeProtocol0:new libExports.BigNumber(Ie.fee.token0).div(10**parseInt(Ee[fr].token0.decimals,10)).toFixed(),feeProtocol1:new libExports.BigNumber(Ie.fee.token1).div(10**parseInt(Ee[fr].token1.decimals,10)).toFixed(),feeUsd:new libExports.BigNumber(Ie.fee.token0).div(10**parseInt(Ee[fr].token0.decimals,10)).multipliedBy(Ee[fr].token0.derivedUSD).plus(new libExports.BigNumber(Ie.fee.token1).div(10**parseInt(Ee[fr].token1.decimals,10)).multipliedBy(Ee[fr].token1.derivedUSD)).dp(2,libExports.BigNumber.ROUND_DOWN).toNumber(),name:Ee[fr].token0.symbol+"-"+Ee[fr].token1.symbol+"-"+br+"%"}}).sort((Ie,fr)=>new libExports.BigNumber(fr.feeUsd).comparedTo(Ie.feeUsd));fe.value=Se,console.log(Se)}catch(be){console.log(be)}finally{ne.value=!1}}onMounted(()=>{ye()});async function me(be){libExports.eventBus.emit(EVENT_SEND_TX,[async we=>{if(be.feeProtocol0==="0"&&be.feeProtocol1==="0")throw"手续费不能为0";return we.create(AgniFactoryContract).collectProtocol(be.id,Y.state.walletInfo.walletAddress,new libExports.BigNumber(be.feeProtocol0).multipliedBy(10**parseInt(be.token0.decimals,10)).toFixed(0,libExports.BigNumber.ROUND_DOWN),new libExports.BigNumber(be.feeProtocol1).multipliedBy(10**parseInt(be.token1.decimals,10)).toFixed(0,libExports.BigNumber.ROUND_DOWN))},async()=>{be.feeProtocol0="0",be.feeProtocol1="0"}])}return(be,we)=>{const Ee=resolveComponent("el-button"),xe=resolveComponent("el-table-column"),Se=resolveComponent("el-table"),Ie=resolveDirective("loading");return openBlock(),createElementBlock(Fragment$2,null,[createVNode(_sfc_main$1),createVNode(Ee,{onClick:ye},{default:withCtx(()=>we[0]||(we[0]=[createTextVNode("刷新数据")])),_:1}),withDirectives((openBlock(),createBlock(Se,{border:"",data:fe.value,stripe:"",style:{width:"100%"}},{default:withCtx(()=>[createVNode(xe,{label:"id",prop:"id",fixed:""}),createVNode(xe,{label:"name",prop:"name",fixed:""}),createVNode(xe,{label:"feeProtocol0",prop:"feeProtocol0",sortable:""}),createVNode(xe,{label:"token0",prop:"token0.symbol"}),createVNode(xe,{label:"feeProtocol1",prop:"feeProtocol1",sortable:""}),createVNode(xe,{label:"token1",prop:"token1.symbol"}),createVNode(xe,{label:"价值USD",prop:"feeUsd",sortable:""}),createVNode(xe,{label:"操作",width:"200",fixed:"right"},{default:withCtx(fr=>[createVNode(Ee,{size:"small",onClick:br=>me(fr.row),plain:""},{default:withCtx(()=>we[1]||(we[1]=[createTextVNode("领取")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Ie,ne.value]])],64)}}}),FeeView=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main},Symbol.toStringTag,{value:"Module"}));export{FeeView as F,QRCodeUtil as Q,snapshot as a,proxy as p,subscribe as s};
